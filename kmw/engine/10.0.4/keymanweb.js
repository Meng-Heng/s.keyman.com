String.kmwFromCharCode=function(a){var b=[],c;for(c=0;c<arguments.length;c++){var d=Number(arguments[c]);if(!isFinite(d)||0>d||1114111<d||Math.floor(d)!==d)throw new RangeError("Invalid code point "+d);65536>d?b.push(d):(d-=65536,b.push((d>>10)+55296),b.push(d%1024+56320))}return String.fromCharCode.apply(void 0,b)};
String.prototype.kmwCharCodeAt=function(a){var b=String(this),c=0;if(0>a||a>=b.length)return NaN;for(var d=0;d<a;d++)if(c=b.kmwNextChar(c),null===c)return NaN;a=b.charCodeAt(c);return 55296<=a&&56319>=a&&b.length>c+1&&(b=b.charCodeAt(c+1),56320<=b&&57343>=b)?(a-55296<<10)+(b-56320)+65536:a};String.prototype.kmwIndexOf=function(a,b){var c=String(this);a=c.indexOf(a,b);if(0>a)return a;for(var d=b=0;null!==d&&d<a;d=c.kmwNextChar(d))b++;return b};
String.prototype.kmwLastIndexOf=function(a,b){var c=String(this);a=c.lastIndexOf(a,b);if(0>a)return a;for(var d=b=0;null!==d&&d<a;d=c.kmwNextChar(d))b++;return b};String.prototype.kmwLength=function(){var a=String(this);if(0==a.length)return 0;for(var b=0,c=0;null!==c;b++)c=a.kmwNextChar(c);return b};String.prototype.kmwSlice=function(a,b){var c=String(this);a=c.kmwCodePointToCodeUnit(a);b=c.kmwCodePointToCodeUnit(b);return null===a||null===b?"":c.slice(a,b)};
String.prototype.kmwSubstr=function(a,b){var c=String(this);0>a&&(a=c.kmwLength()+a);0>a&&(a=0);var d=c.kmwCodePointToCodeUnit(a),e=d;if(null===d)return"";if(2>arguments.length)e=c.length;else for(var f=0;f<b;f++)e=c.kmwNextChar(e);return null===e?c.substring(d):c.substring(d,e)};
String.prototype.kmwSubstring=function(a,b){var c=String(this);if("undefined"==typeof b)a=c.kmwCodePointToCodeUnit(a),b=c.length;else{if(a>b){var d=a;a=b;b=d}a=c.kmwCodePointToCodeUnit(a);b=c.kmwCodePointToCodeUnit(b)}if(isNaN(a)||null===a)a=0;if(isNaN(b)||null===b)b=c.length;return c.substring(a,b)};
String.prototype.kmwNextChar=function(a){var b=String(this);if(null===a||0>a||a>=b.length-1)return null;var c=b.charCodeAt(a);return 55296<=c&&56319>=c&&b.length>a+1&&(c=b.charCodeAt(a+1),56320<=c&&57343>=c)?a==b.length-2?null:a+2:a+1};String.prototype.kmwPrevChar=function(a){var b=String(this);if(null==a||0>=a||a>b.length)return null;var c=b.charCodeAt(a-1);return 56320<=c&&57343>=c&&1<a&&(b=b.charCodeAt(a-2),55296<=b&&56319>=b)?a-2:a-1};
String.prototype.kmwCodePointToCodeUnit=function(a){if(null===a)return null;var b=String(this),c=0;if(0>a){for(var c=b.length,d=0;d>a;d--)c=b.kmwPrevChar(c);return c}if(a==b.kmwLength())return b.length;for(d=0;d<a;d++)c=b.kmwNextChar(c);return c};String.prototype.kmwCodeUnitToCodePoint=function(a){var b=String(this);return null===a?null:0==a?0:0>a?b.substr(a).kmwLength():b.substr(0,a).kmwLength()};String.prototype.kmwCharAt=function(a){var b=String(this);return 0<=a?b.kmwSubstr(a,1):""};
String.prototype.kmwBMPNextChar=function(a){var b=String(this);return 0>a||a>=b.length-1?null:a+1};String.prototype.kmwBMPPrevChar=function(a){var b=String(this);return 0>=a||a>b.length?null:a-1};String.prototype.kmwBMPCodePointToCodeUnit=function(a){return a};String.prototype.kmwBMPCodeUnitToCodePoint=function(a){return a};String.prototype.kmwBMPLength=function(){return String(this).length};
String.prototype.kmwBMPSubstr=function(a,b){var c=String(this);return-1<a?c.substr(a,b):c.substr(c.length+a,-a)};
String.kmwEnableSupplementaryPlane=function(a){var b=String.prototype;String._kmwFromCharCode=a?String.kmwFromCharCode:String.fromCharCode;b._kmwCharAt=a?b.kmwCharAt:b.charAt;b._kmwCharCodeAt=a?b.kmwCharCodeAt:b.charCodeAt;b._kmwIndexOf=a?b.kmwIndexOf:b.indexOf;b._kmwLastIndexOf=a?b.kmwLastIndexOf:b.lastIndexOf;b._kmwSlice=a?b.kmwSlice:b.slice;b._kmwSubstring=a?b.kmwSubstring:b.substring;b._kmwSubstr=a?b.kmwSubstr:b.kmwBMPSubstr;b._kmwLength=a?b.kmwLength:b.kmwBMPLength;b._kmwNextChar=a?b.kmwNextChar:
b.kmwBMPNextChar;b._kmwPrevChar=a?b.kmwPrevChar:b.kmwBMPPrevChar;b._kmwCodePointToCodeUnit=a?b.kmwCodePointToCodeUnit:b.kmwBMPCodePointToCodeUnit;b._kmwCodeUnitToCodePoint=a?b.kmwCodeUnitToCodePoint:b.kmwBMPCodeUnitToCodePoint};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,f){b!=Array.prototype&&b!=Object.prototype&&(b[a]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,f,k){if(a){f=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var g=b[k];g in f||(f[g]={});f=f[g]}b=b[b.length-1];k=f[b];a=a(k);a!=k&&null!=a&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,f,k){var a=this.length||0;0>f&&(f=Math.max(0,a+f));if(null==k||k>a)k=a;k=Number(k);0>k&&(k=Math.max(0,a+k));for(f=Number(f||0);f<k;f++)this[f]=b;return this}},"es6-impl","es3");
var tavultesoft=window.tavultesoft=window.tavultesoft||{};tavultesoft.__BUILD__=4;
tavultesoft.keymanweb||function(){var b=window.tavultesoft={},a=b.keymanweb={_TitleElement:null,_Enabled:1,_IE:0,legacy:0,_IsActivatingKeymanWebUI:0,_JustActivatedKeymanWebUI:0,_IgnoreNextSelChange:0,_Selection:null,_SelectionControl:null,_KeyboardStubs:[],dfltStub:null,_Keyboards:[],_ActiveKeyboard:null,_ActiveStub:null,_AnyIndices:[],_DeadKeys:[],_ActiveControl:null,_Controls:[],_AttachedElements:[],_ActiveElement:null,_LastActiveElement:null,_DfltStyle:"",_MasterDocument:null,_HotKeys:[],focusTimer:null,
focusing:!1,resizing:!1,sortedInputs:[],inputList:[],languageList:null,languagesPending:[],deferredStubs:[],deferredKRS:[],deferredKR:[],waiting:null,warned:!1,baseFont:"sans-serif",appliedFont:"",embeddedFonts:[],fontCheckTimer:null,srcPath:"",rootPath:"",mustReloadKeyboard:!1,fullInitialization:!0};a.initialized=0;a.build=b.__BUILD__;a.version="10.0";a.helpURL="http://help.keyman.com/go";window.KeymanWeb=a;var f=a.util={},b=a.osk={ready:!1};a.ui={};a.setDefaultDeviceOptions=function(b){};a.getStyleSheetPath=
function(b){return b};a.getKeyboardPath=function(b){return b};a.KC_=function(b,a,c){return""};a.handleRotationEvents=function(){};a.alignInputs=function(b){};a.refreshElementContent=null;b.highlightSubKeys=function(b,a,c){};b.createKeyTip=function(){};b.optionKey=function(b,a,c){};b.showKeyTip=function(b,a){};b.waitForFonts=function(b,a){return!0};a.options={root:"",resources:"",keyboards:"",fonts:"",attachType:"",ui:null};f.events={};f.currentEvents=[];b=document.getElementsByTagName("script");b=
b[b.length-1].src;b=b.substr(0,b.lastIndexOf("/")+1);a.srcPath=b;a.rootPath=b.replace(/(https?:\/\/)([^\/]*)(.*)/,"$1$2/");a.protocol=b.replace(/(.{3,5}:)(.*)/,"$1");f.arrayFromNodeList=function(b){for(var a=[],c=0;c<b.length;c++)a.push(b[c]);return a};f.addEventListener=function(b,a){f.removeEventListener(b,a);f.events[b].push(a);return!0};f.removeEventListener=function(b,a){"undefined"==typeof f.events[b]&&(f.events[b]=[]);for(var c=0;c<f.events[b].length;c++)if(f.events[b][c]==a)return f.events[b].splice(c,
1),!0;return!1};f.callEvent=function(b,a){if("undefined"==typeof f.events[b])return!0;if(-1!=f.currentEvents.indexOf(b))return!1;f.currentEvents.push(b);for(var c=0;c<f.events[b].length;c++){var e=f.events[b][c],d=!1;try{d=e(a)}catch(h){d=!1}if(!1===d)return f.currentEvents.pop(),!1}f.currentEvents.pop();return!0};f.attachDOMEvent=f.attachDOMEvent=function(b,a,c,e){f.detachDOMEvent(b,a,c,e);b.attachEvent?b.attachEvent("on"+a,c):b.addEventListener&&b.addEventListener(a,c,e?!0:!1)};f.detachDOMEvent=
f.detachDOMEvent=function(b,a,c,e){b.detachEvent?b.detachEvent("on"+a,c):b.removeEventListener&&b.removeEventListener(a,c,e)};f.getOption=f.getOption=function(b,d){return b in a.options?a.options[b]:1<arguments.length?d:""};f.setOption=f.setOption=function(b,d){a.options[b]=d};f.getAbsoluteX=f._GetAbsoluteX=function(b){if(!b)return 0;var d=b.offsetLeft?b.offsetLeft:0,c=b;if(c.offsetParent)for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetLeft;c&&c.ownerDocument&&b.ownerDocument!=a._MasterDocument&&
(c=c.ownerDocument);return c&&c.parentWindow&&c.parentWindow.frameElement?d+f._GetAbsoluteX(c.parentWindow.frameElement)-c.documentElement.scrollLeft:c&&c.defaultView&&c.defaultView.frameElement?d+f._GetAbsoluteX(c.defaultView.frameElement)-c.documentElement.scrollLeft:d};f.getAbsoluteY=f._GetAbsoluteY=function(b){if(!b)return 0;var d=b.offsetTop?b.offsetTop:0,c=b;if(c.offsetParent)for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop;c&&c.ownerDocument&&b.ownerDocument!=a._MasterDocument&&(c=c.ownerDocument);
return c&&c.parentWindow&&c.parentWindow.frameElement?d+f._GetAbsoluteY(c.parentWindow.frameElement)-c.documentElement.scrollTop:c&&c.defaultView&&c.defaultView.frameElement?d+f._GetAbsoluteY(c.defaultView.frameElement)-c.documentElement.scrollTop:d};f.getAbsolute=f._GetAbsolute=function(b){var a={};a.x=f._GetAbsoluteX(b);a.y=f._GetAbsoluteY(b);return a};f.selectStartHandler=function(){return!1};f.mouseDownPreventDefaultHandler=function(b){b&&b.preventDefault()};f.mouseDownPreventDefaultHandler=function(b){b&&
b.preventDefault()};f.createElement=f._CreateElement=function(b){b=document.createElement(b);"undefined"!=typeof b.onselectstart?(b.unSelectable="on",b.onselectstart=f.selectStartHandler):(b.style.MozUserSelect="none",b.style.KhtmlUserSelect="none",b.style.UserSelect="none",b.style.WebkitUserSelect="none");return b};f.getIEVersion=f._GetIEVersion=function(){var b="";"userAgent"in navigator&&(b=navigator.userAgent);if("selection"in document){var a=navigator.appVersion;var c=a.indexOf("MSIE ");if(0<=
c){if("BackCompat"==document.compatMode)return 6;a=a.substr(c+5);c=a.indexOf(".");if(0<c)return parseInt(a.substr(0,c),10)}}c=b.indexOf("Trident/");if(0>c)return 999;b=b.substr(c+8);c=b.indexOf(".");return 0<c?parseInt(b.substr(0,c),10)+4:999};f.getDPI=function(){var b=document.createElement("DIV"),a=b.style,c=96;if("complete"!==document.readyState)return c;b.id="calculateDPI";a.position="absolute";a.display="block";a.visibility="hidden";a.left="10px";a.top="10px";a.width="1in";a.height="10px";document.body.appendChild(b);
c="undefined"==typeof window.devicePixelRatio?b.offsetWidth:b.offsetWidth*window.devicePixelRatio;document.body.removeChild(b);return c};f.getStyleValue=function(b,a){try{if(b&&"undefined"!=typeof window.getComputedStyle)return window.getComputedStyle(b,"").getPropertyValue(a);if(b&&"undefined"!=typeof b.currentStyle)return b.currentStyle[a]}catch(c){}return""};f.getStyleInt=function(b,a,c){b=parseInt(f.getStyleValue(b,a),10);return isNaN(b)?"number"==typeof c?c:0:b};var k=f.device={touchable:!!("ontouchstart"in
window),OS:"",formFactor:"desktop",dyPortrait:0,dyLandscape:0,version:"0",orientation:window.orientation};if(navigator&&navigator.userAgent){b=navigator.userAgent;0<=b.indexOf("iPad")&&(k.OS="iOS",k.formFactor="tablet",k.dyPortrait=k.dyLandscape=0);0<=b.indexOf("iPhone")&&(k.OS="iOS",k.formFactor="phone",k.dyPortrait=k.dyLandscape=25);if(0<=b.indexOf("Android")){k.OS="Android";k.formFactor="phone";k.dyPortrait=75;k.dyLandscape=25;try{k.version=b.match(/(?:Android\s+)(\d+\.\d+\.\d+)/)[1]}catch(g){}}0<=
b.indexOf("Windows NT")&&(k.OS="Windows",0<=b.indexOf("Touch")&&(k.formFactor="phone"),"number"==typeof navigator.msMaxTouchPoints&&0<navigator.msMaxTouchPoints&&(k.touchable=!0))}"tablet"==k.formFactor&&400>Math.min(screen.width,screen.height)&&(k.formFactor="phone");"phone"==k.formFactor&&720<Math.max(screen.width,screen.height)&&(k.formFactor="tablet");"iOS"!=k.OS||"ongesturestart"in window||"Win32"==navigator.platform||(k.OS="Android");k.browser="web";if(999>f._GetIEVersion())k.browser="ie";else{if("iOS"==
k.OS||"macosx"==k.OS.toLowerCase())k.browser="safari";/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(0<=navigator.userAgent.indexOf("Firefox")&&"onmozorientationchange"in screen?k.browser="firefox":0<=navigator.userAgent.indexOf("OPR")?k.browser="opera":0<=navigator.userAgent.indexOf("Chrome")&&(k.browser="chrome"))}"desktop"==k.formFactor&&(k.touchable=!1);f.isTouchDevice=function(){return k.touchable};f.portraitView=function(){return!f.landscapeView()};f.landscapeView=function(){return"undefined"==
typeof window.orientation?!1:1==Math.abs(window.orientation/90)};f.getViewportScale=function(){try{if(screen.width>document.documentElement.clientWidth)return 1;var b=screen.width;f.landscapeView()?screen.width<screen.height&&(b=screen.height):screen.width>screen.height&&(b=screen.height);return Math.round(100*b/window.innerWidth)/100}catch(d){return 1}};f.barHeight=function(){var b=0;"phone"==k.formFactor&&(b=screen.height/2-window.innerHeight-(f.landscapeView()?k.dyLandscape:k.dyPortrait));return b};
f._EncodeEntities=function(b){return b.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")};f.createShim=f.createShim=function(){var b=f._CreateElement("IFRAME");b.src="";b.style.display="none";b.style.position="absolute";b.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";b.frameBorder="0";b.scrolling="no";return b};f.showShim=f.showShim=function(b,a,c){if(a)try{a.style.left=f._GetAbsoluteX(b)+"px",a.style.top=f._GetAbsoluteY(b)+"px",c?(a.style.width=f._GetAbsoluteX(c)-
f._GetAbsoluteX(b)+c.offsetWidth+"px",a.style.height=f._GetAbsoluteY(c)-f._GetAbsoluteY(b)+c.offsetHeight+"px"):(a.style.width=b.offsetWidth+"px",a.style.height=b.offsetHeight+"px"),a.style.zindex="9999",a.style.display="block"}catch(e){}};f.hideShim=function(b){try{b&&(b.style.display="none")}catch(d){}};f.rgba=f.rgba=function(b,a,c,e,n){var d="transparent";if(9>f._GetIEVersion())n=Math.floor(100*n),a=a.toString(16),c=c.toString(16),e=e.toString(16),a=("00"+a).substr(-2),c=("00"+c).substr(-2),e=
("00"+e).substr(-2),e=n+a+c+e,b.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+e+",endColorstr=#"+e+")",b.zoom="1";else try{d="rgba("+a+","+c+","+e+","+n+")"}catch(m){d="rgb("+a+","+c+","+e+")"}return d};f.addStyleSheet=f.addStyleSheet=function(b){var a=document.createElement("STYLE");a.type="text/css";a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b));b=document.getElementsByTagName("HEAD");0<b.length?b[0].appendChild(a):document.body.appendChild(a);
return a};f.removeStyleSheet=f.removeStyleSheet=function(b){if(null==b||"object"!=typeof b||"STYLE"!=b.nodeName||"undefined"==typeof b.parentNode||null==b.parentNode)return!1;b.parentNode.removeChild(b);return!0};f.linkStyleSheet=f.linkStyleSheet=function(b){var a=document.getElementsByTagName("head");if(0<a.length){var c=document.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=b;a[0].appendChild(c)}};f.addFontFaceStyleSheet=function(b){if("undefined"!=typeof b&&("undefined"==typeof b.files&&
(b.files=b.source),"undefined"!=typeof b.files)){var d,c="",e="",n="",h="",m=[];for(d=0;d<a.embeddedFonts.length;d++)if(a.embeddedFonts[d]==b.family)return;"string"==typeof b.files?m[0]=b.files:m=b.files;for(d=0;d<m.length;d++)0<m[d].indexOf(".ttf")&&(c=m[d]),0<m[d].indexOf(".woff")&&(e=m[d]),0<m[d].indexOf(".eot")&&(n=m[d]),0<m[d].indexOf(".svg")&&(h=m[d]);""!=c&&0>c.indexOf("/")&&(c=a.options.fonts+c);""!=e&&0>e.indexOf("/")&&(e=a.options.fonts+e);""!=n&&0>n.indexOf("/")&&(n=a.options.fonts+n);
""!=h&&0>h.indexOf("/")&&(h=a.options.fonts+h);d="@font-face {\nfont-family:"+b.family+";\nfont-style:normal;\nfont-weight:normal;\n";if(9<=f._GetIEVersion())if("iOS"==k.OS)if(""!=c)c=f.unCached(c),d=d+"src:url('"+c+"') format('truetype');";else return;else{n=[];"Android"==k.OS?(""!=h&&n.push("url('"+h+"') format('svg')"),""!=e&&n.push("url('"+e+"') format('woff')"),""!=c&&n.push("url('"+c+"') format('truetype')")):(""!=e&&n.push("url('"+e+"') format('woff')"),""!=c&&n.push("url('"+c+"') format('truetype')"),
""!=h&&n.push("url('"+h+"') format('svg')"));if(0==n.length)return;d+="src:"+n.join(",")+";"}else if(""!=n)d=d+"src:url('"+n+"');";else return;f.addStyleSheet(d+"\n}\n");a.embeddedFonts.push(b.family)}};f.unCached=function(b){return b};f.loadCookie=f.loadCookie=function(b){var a={};if(0<arguments.length){var c=f.loadCookie(),e;for(e in c)if(e==b){var n=unescape(c[e]).split(";");for(var h=0;h<n.length;h++){var m=n[h].split("=");a[m[0]]=1<m.length?m[1]:""}}}else if("undefined"!=typeof document.cookie&&
""!=document.cookie)for(c=document.cookie.split(/;\s*/),h=0;h<c.length;h++)n=c[h].split("="),2==n.length&&(a[n[0]]=n[1]);return a};f.saveCookie=f.saveCookie=function(b,a){var c="",e;for(e in a)c=c+e+"="+a[e]+";";a=(new Date((new Date).valueOf()+2592E6)).toGMTString();document.cookie=b+"="+escape(c)+"; path=/; expires="+a};f.toNumber=f.toNumber=function(b,a){b=parseInt(b,10);return isNaN(b)?a:b};f.toFloat=f.toFloat=function(b,a){b=parseFloat(b);return isNaN(b)?a:b};f.toNzString=f.nzString=function(b,
a){var c="";1<arguments.length&&(c=a);return"undefined"==typeof b||null==b||0==b||""==b?c:""+b};f.deepCopy=function(b,a){a=a||{};for(var c in b)"object"===typeof b[c]?(a[c]=b[c].constructor===Array?[]:{},f.deepCopy(b[c],a[c])):a[c]=b[c];return a};"indexOf"in Array||(Array.prototype.indexOf=function(b,a){for(a=a||0;a<this.length;a++)if(this[a]==b)return a;return-1});f.eventTarget=function(b){return b&&b.target?b.target:window.event?window.event.srcElement:null};f.eventType=function(b){return b&&b.type?
b.type:window.event?window.event.type:""};f.alert=f.alert=function(b,d){var c=a.waiting,e=c.firstChild.childNodes;e[0].style.display="block";e[1].className="kmw-alert-text";e[1].innerHTML=b;e[2].style.display="none";c.style.display="block";c.dismiss=1<arguments.length?d:null};f.prepareWait=function(){var b=document.createElement("DIV"),d=document.createElement("DIV"),c=document.createElement("DIV"),e=document.createElement("DIV"),n=document.createElement("DIV");b.className="kmw-wait-background";d.className=
"kmw-wait-box";b.dismiss=null;c.className="kmw-wait-text";e.className="kmw-wait-graphic";n.className="kmw-alert-close";d.onmousedown=d.onclick=function(c){"block"==n.style.display&&(b.style.display="none",b.dismiss&&b.dismiss())};d.addEventListener("touchstart",d.onclick,!1);b.onmousedown=b.onclick=function(c){c.preventDefault();c.stopPropagation()};b.addEventListener("touchstart",b.onclick,!1);d.appendChild(n);d.appendChild(c);d.appendChild(e);b.appendChild(d);document.body.appendChild(b);a.waiting=
b};f.myPath=function(b){var a,c=document.getElementsByTagName("script");for(a=0;a<c.length;a++){var e=c[a];if(0<=e.src.indexOf(b))return e.src.substr(0,e.src.lastIndexOf("/")+1)}return""};f.prependProtocol=function(b){return/^https?:/.test(b)?b:"//"==b.substr(0,2)?a.protocol+b:"/"==b.substr(0,1)?a.protocol+"/"+b:a.protocol+"//"+b};f.testString=function(b){var a=b.family;if("sample"in b&&"string"==typeof b.sample)return"BESbswy"+b.sample;var c="TamilWeb TibetanWeb LatinWeb CherokeeWeb EgyptianWeb SinhalaWeb KhmerWeb ArabicWeb BurmeseWeb LaoWeb OriyaWeb GeezWeb".split(" "),
e="\u0bbe\u0bf5 \u0f7f\u0fd0 \u02b0\u02a4 \u13d0\u13c9 \ua723\uf7d3 \u0dd8\u0da3 \u17d6\u178e \u0639\u06b3 \u1038\u1024 \u0ec0\u0edd \u0b03\u0b06 \u1361\u132c".split(" ");for(b=0;b<c.length;b++)if(a==c[b])return"BESbswy"+e[b];return"BESbswy"};f.checkFont=function(b){var a=b.family,c=document.createElement("DIV"),e=c.style,n=document.createElement("P"),h=document.createElement("P"),m=document.createElement("SPAN"),l=m.style,g=document.createElement("SPAN"),k=g.style;e.position="absolute";e.top="10px";
e.left="10px";e.visibility="hidden";document.body.appendChild(c);c.appendChild(n);c.appendChild(h);n.appendChild(m);h.appendChild(g);m.setAttribute("style","font-family:monospace !important");k.fontFamily=a+",monospace";l.fontSize=k.fontSize="24px";m.innerHTML=g.innerHTML=f.testString(b);m.offsetWidth!=g.offsetWidth&&(m.setAttribute("style","font-family:sans-serif !important"),k.fontFamily=a+",sans-serif",m.offsetWidth!=g.offsetWidth&&(m.setAttribute("style","font-family:serif !important"),k.fontFamily=
a+",serif"));b=m.offsetWidth!=g.offsetWidth;n.removeChild(m);h.removeChild(g);c.removeChild(n);c.removeChild(h);document.body.removeChild(c);return b};a.isFontAvailable=function(b){return f.checkFont({family:b})};f.checkFontDescriptor=function(b){return"undefined"==typeof b||"string"!=typeof b.family?!0:f.checkFont(b)}}();window.tavultesoft.keymanweb.initialized||function(){var b=window.tavultesoft.keymanweb,a=b.osk,f=b.util,k=f.device;b.debug=b.debug=function(a){if(null==b.debugElement){var c=document.createElement("DIV");var e=c.style;e.position="absolute";e.width="30%";e.maxHeight="50%";e.top="0";e.right="0";e.minHeight="50px";e.border="1px solid blue";e.whiteSpace="pre-line";e.overflowY="scroll";e=document.createElement("P");e.id="debug_output";e.style.margin="2px";c.appendChild(e);document.body.appendChild(c);
b.debugElement=e}if(null!=(e=document.getElementById("debug_output")))if(0==arguments.length)"undefined"!=typeof e.textContent?e.textContent="":e.innerHTML="";else{var c=(new Date).toTimeString().substr(3,5)+" ",d,h;for(d=0;d<arguments.length;d++){0<d&&(c+="; ");var f=arguments[d];if("object"==typeof f)if(null==f)c+="null";else{var l="";for(h in f){0<l.length&&(l+=", ");l=l+h+":";switch(typeof f[h]){case "string":case "number":case "boolean":l+=f[h];break;default:l+=typeof f[h]}if(1024<l.length){l=
l.substr(0,1E3)+"...";break}}0<l.length&&(c=c+"{"+l+"}")}else c+=f}1500<c.length&&(c=c.substr(0,1500)+" (more)");"undefined"!=typeof e.textContent?e.textContent=c+"\n"+e.textContent:e.innerHTML=c+"<br />"+e.innerHTML}};b.debugElement=null;b.addEventListener=b.addEventListener=function(b,c){return f.addEventListener("kmw."+b,c)};b.setupTouchDevice=function(){b.cancelInput=function(){b._ActiveElement=null;b.hideCaret();a.hideNow()};b.setBlur=function(c){"relatedTarget"in c&&c.relatedTarget&&("DIV"!=
c.relatedTarget.nodeName||-1==c.relatedTarget.className.indexOf("keymanweb-input"))?b.cancelInput():b.focusing||b.cancelInput()};b.setFocus=function(c){b.focusing=!0;b.focusTimer=window.setTimeout(function(){b.focusing=!1},1E3);var e=c;c?"object"==typeof c.touches&&(e=c.touches[0]):(e={clientX:0,clientY:0},e.target=b._LastActiveElement?b._LastActiveElement.kmw_ip:b.sortedInputs[0].kmw_ip);c=e.clientX;var d=e.clientY;var h=e.target;var m="SPAN"==h.nodeName?h.parentNode:null!=h.className&&0<=h.className.indexOf("keymanweb-input")?
h.firstChild:h;e=m.parentNode;b._ActiveElement!=e&&(b.hideCaret(),b._ActiveElement=e,e.focus());b._SetTargDir(e);b.useInternalKeyboard=!1;a.ready&&!a._Visible&&a._Show();if("DIV"==h.nodeName)d=f._GetAbsoluteX(m.firstChild),"rtl"==e.dir?(d+=m.firstChild.offsetWidth,m=c>d?0:1E5):m=c<d?0:1E5,b.setTextCaret(e,m),b.scrollInput(e);else{var l,h=m.childNodes[1];var g=0;var k=b.getText(e)._kmwLength();m=b.getTextCaret(e);var t=document.body.scrollTop;if("TEXTAREA"==e.base.nodeName){var q=Math.round(e.base.offsetHeight/
e.base.rows);for(l=0;16>l;l++){var r=f._GetAbsoluteY(h)-t;if(r>d&&m>g&&m!=k)k=m,m=Math.round((m+g)/2);else if(r<d-q&&m<k&&m!=g)g=m,m=Math.round((m+k)/2);else break;b.setTextCaret(e,m)}for(;f._GetAbsoluteY(h)-t>d&&m>g;)b.setTextCaret(e,--m);for(;f._GetAbsoluteY(h)-t<d-q&&m<k;)b.setTextCaret(e,++m)}if("rtl"==e.dir){for(l=0;16>l;l++){d=f._GetAbsoluteX(h);if(d<c&&m>g&&m!=k)k=m,m=Math.round((m+g)/2);else if(d>c&&m<k&&m!=g)g=m,m=Math.round((m+k)/2);else break;b.setTextCaret(e,m)}for(;f._GetAbsoluteX(h)<
c&&m>g;)b.setTextCaret(e,--m);for(;f._GetAbsoluteX(h)>c&&m<k;)b.setTextCaret(e,++m)}else{for(l=0;16>l;l++){d=f._GetAbsoluteX(h);if(d>c&&m>g&&m!=k)k=m,m=Math.round((m+g)/2);else if(d<c&&m<k&&m!=g)g=m,m=Math.round((m+k)/2);else break;b.setTextCaret(e,m)}for(;f._GetAbsoluteX(h)>c&&m>g;)b.setTextCaret(e,--m);for(;f._GetAbsoluteX(h)<c&&m<k;)b.setTextCaret(e,++m)}}b._ActiveControl=null;b._LastActiveElement=e;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==e){b._ActiveControl=b._Controls[c];
break}null!=b._ActiveControl&&null!=b._ActiveControl.LDefaultInternalName&&(b._JustActivatedKeymanWebUI?b._ActiveControl.LDefaultInternalName=null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI:b._SetActiveKeyboard(b._ActiveControl.LDefaultInternalName,"",!0));b._IsIEEditableIframe(e,1)&&b._IsMozillaEditableIframe(e,1)?(b._DisableInput=0,b._JustActivatedKeymanWebUI||(b._DeadKeys=[],b._NotifyKeyboard(0,e,1)),b._JustActivatedKeymanWebUI||b._SelectionControl==e||(b._IsActivatingKeymanWebUI=0),b._JustActivatedKeymanWebUI=
0,b._SelectionControl=e):b._DisableInput=1};b.caret=document.createElement("DIV");var d=b.caret.style;d.position="absolute";d.height="16px";d.width="2px";d.backgroundColor="blue";d.border="none";d.left=d.top="0px";d.display="block";d.visibility="hidden";d.zIndex="9998";b.showCaret=function(c){if(c&&c.firstChild&&!(3>c.firstChild.childNodes.length)){var a=c.firstChild,d=b.caret.style,h=a.childNodes[1];b.caret.parentNode!=a&&a.appendChild(b.caret);d.left=h.offsetLeft+"px";d.top=h.offsetTop+"px";d.height=
h.offsetHeight-1+"px";d.visibility="hidden";b.scrollBody(c);b.setScrollBar(c)}};b.setScrollBar=function(c){var b=c.childNodes[0],a=c.childNodes[1].style;(b.offsetWidth>c.offsetWidth||0>b.offsetLeft)&&"TEXTAREA"!=c.base.nodeName?(a.height="4px",a.width=c.offsetWidth/b.offsetWidth*100+"%",a.left=-b.offsetLeft/b.offsetWidth*100+"%",a.top="0",a.visibility="visible"):b.offsetHeight>c.offsetHeight||0>b.offsetTop?(a.width="4px",a.height=c.offsetHeight/b.offsetHeight*100+"%",a.top=-b.offsetTop/b.offsetHeight*
100+"%",a.left="0",a.visibility="visible"):a.visibility="hidden"};b.flashCaret=function(){if(k.touchable&&null!=b._ActiveElement){var c=b.caret.style;c.visibility="visible"!=c.visibility?"visible":"hidden"}};b.hideCaret=function(){var c=b._LastActiveElement;if(c&&null!=c.className&&0<=c.className.indexOf("keymanweb-input")){c.base.value=b.getText(c);b.setText(c,null,1E5);var a=c.firstChild.style;"TEXTAREA"==c.base.nodeName?a.top="0":a.left="rtl"==c.base.dir?c.offsetWidth-c.firstChild.offsetWidth-
8+"px":"0";b.caret.parentNode&&b.caret.parentNode.removeChild(b.caret);b.caret.style.visibility="hidden";1<c.childNodes.length&&(c.childNodes[1].style.visibility="hidden")}};b.timerId=window.setInterval(b.flashCaret,500);b.setText=function(c,a,d){if(c&&0<c.childNodes.length){var e=c.firstChild;var n=0;if(3<=e.childNodes.length){var f=e.childNodes[0],e=e.childNodes[2];if(null===a){var g="string"==typeof f.textContent?f.textContent:f.innerText;a="string"==typeof e.textContent?e.textContent:e.innerText;
a=g+a}0>d&&(d=0);n=a._kmwLength();if(null===d||d>n)d=n;g=a._kmwSubstr(0,d);a=a._kmwSubstr(d);"string"==typeof f.textContent?f.textContent=g:f.innerText=g;"string"==typeof e.textContent?e.textContent=a:e.innerText=a}}b.updateBaseElement(c,n)};b.updateBaseElement=function(c,a){c.base.value=b.getText(c);c.style.backgroundColor=0==a?"transparent":window.getComputedStyle(c.base,null).backgroundColor;"iOS"==k.OS&&(c.base.style.visibility=0==a?"visible":"hidden")};b.getText=function(c){return null==c?"":
"string"==typeof c.textContent?c.textContent:c.innerText};b.getTextBeforeCaret=function(c){if(c&&1<c.childNodes.length&&(c=c.firstChild,0<c.childNodes.length)){c=c.childNodes[0];if("textContent"in c)return c.textContent;if("innerText"in c)return c.innerText}return""};b.setTextBeforeCaret=function(c,a){if(c&&0<c.childNodes.length){var e=c.firstChild;var d=0;1<e.childNodes.length&&(d=e.childNodes[0],e=e.childNodes[2],"TEXTAREA"!=c.base.nodeName&&(a=a.replace(/\s+$/," ")),"textContent"in d?d.textContent=
a:"innerText"in d&&(d.innerText=a),d=a.length,"textContent"in e?d+=e.textContent.length:"innerText"in e&&(d+=e.innerText.length))}b.updateBaseElement(c,d);b.scrollInput(c)};b.getTextCaret=function(c){return b.getTextBeforeCaret(c)._kmwLength()};b.setTextCaret=function(c,a){b.setText(c,null,a);b.showCaret(c)};b.dragInput=function(c){c.preventDefault();c.stopPropagation();var a="object"==typeof c.targetTouches?c.targetTouches[0].target:c.target;if(null!=a){if(null==a.className||0>a.className.indexOf("keymanweb-input"))a=
a.parentNode;if(null==a.className||0>a.className.indexOf("keymanweb-input"))a=a.parentNode;if(!(null==a.className||0>a.className.indexOf("keymanweb-input"))){var d="object"==typeof c.touches?c.touches[0].screenX:c.screenX,h="object"==typeof c.touches?c.touches[0].screenY:c.screenY;if("undefined"==typeof b.firstTouch||null==b.firstTouch)b.firstTouch={x:d,y:h};else{var m=b.firstTouch.x,l=b.firstTouch.y;c=a.firstChild;if("TEXTAREA"==a.base.nodeName){if(d=parseInt(c.style.top,10),isNaN(d)&&(d=0),m=l-
h,-4>m||4<m)c.style.top=(d<m?d-m:0)+"px",b.firstTouch.y=h}else{h=parseInt(c.style.left,10);isNaN(h)&&(h=0);var g=m-d;if(-4>g||4<g)m=0,l=f._GetAbsoluteX(a)+a.offsetWidth-c.offsetWidth-32,"rtl"==a.base.dir?m=16:l-=24,h-=g,h>m&&(h=m),h<l&&(h=l),c.style.left=h+"px",b.firstTouch.x=d}}b.setScrollBar(a)}}};b.scrollInput=function(c){if(c&&c.firstChild&&null!=c.className&&!(0>c.className.indexOf("keymanweb-input"))){var a=c.firstChild;if(!(3>a.childNodes.length)){var d=a.childNodes[1],h=f._GetAbsoluteX(d),
d=f._GetAbsoluteY(d),m=f._GetAbsoluteX(c),l=f._GetAbsoluteY(c),g=parseInt(a.style.left,10),k=parseInt(a.style.top,10),t=0,q=0;isNaN(g)&&(g=0);isNaN(k)&&(k=0);"TEXTAREA"==c.base.nodeName?(h=Math.round(c.offsetHeight/c.base.rows),d<l&&(q=d-l),d>l+c.offsetHeight-h&&(q=d-l-c.offsetHeight+h),0!=q&&(a.style.top=(k<q?k-q:0)+"px")):(h<m+8&&(t=h-m-12),h>m+c.offsetWidth-12&&(t=h-m-c.offsetWidth+12),0!=t&&(a.style.left=(g<t?g-t:0)+"px"));b.showCaret(c)}}};b.scrollBody=function(c){if(c&&null!=c.className&&!(0>
c.className.indexOf("keymanweb-input"))&&a.ready){c=c.firstChild.childNodes[1];var b=f._GetAbsoluteY(c),d=window.pageYOffset;b<d?c=b-d:(c=b-d-(window.innerHeight-a._Box.offsetHeight-c.offsetHeight-2),0>c&&(c=0));0!=c&&window.scrollTo(0,c+window.pageYOffset)}};b.updateInput=function(c){var b=c.style,a=c.base,d=window.getComputedStyle(a,null),m=parseInt(d.marginLeft,10),l=parseInt(d.marginTop,10),g=f._GetAbsoluteX(a),p=f._GetAbsoluteY(a),t=c.offsetParent;t&&(g-=f._GetAbsoluteX(t),p-=f._GetAbsoluteY(t));
isNaN(m)&&(m=0);isNaN(l)&&(l=0);b.left=g-m+"px";b.top=p-l+"px";"undefined"!=typeof d.MozBoxSizing&&(b.left=g+"px",b.top=p+"px");var m=a.offsetWidth,a=a.offsetHeight,l=parseInt(d.paddingLeft,10),g=parseInt(d.paddingRight,10),p=parseInt(d.paddingTop,10),t=parseInt(d.paddingBottom,10),q=parseInt(d.borderLeft,10),r=parseInt(d.borderRight,10),w=parseInt(d.borderTop,10),z=parseInt(d.borderBottom,10),x="undefined";"undefined"!=typeof d.boxSizing?x=d.boxSizing:"undefined"!=typeof d.MozBoxSizing&&(x=d.MozBoxSizing);
"content-box"==x&&(isNaN(l)||(m-=l),isNaN(g)||(m-=g),isNaN(q)||(m-=q),isNaN(r)||(m-=r),isNaN(p)||(a-=p),isNaN(t)||(a-=t),isNaN(w)||(a-=w),isNaN(z)||(a-=z));"Android"==k.OS&&("undefined"!=typeof d.MozBoxSizing?(b.paddingTop=p+1+"px",b.paddingLeft=l+"px","TEXTAREA"==c.base.nodeName?b.marginTop="1px":b.marginLeft="1px",m--,a--):(m++,a++));b.width=m+"px";b.height=a+"px"};b.isKMWInput=function(c){var b=c.tagName.toLowerCase();if(c.kmwInput)return c.kmwInput;"textarea"==b?(b=c.className,c.kmwInput=!1,b&&
!(0>b.indexOf("kmw-disabled"))||c.readOnly||(c.disabled=!0,c.kmwInput=!0)):"input"==b&&(b=c.className,c.kmwInput=!1,b&&!(0>b.indexOf("kmw-disabled"))||c.readOnly||"text"!=c.type&&"search"!=c.type||(c.disabled=!0,c.kmwInput=!0));return c.kmwInput};b.setupTouchPage=function(){for(var c=[].concat(f.arrayFromNodeList(document.getElementsByTagName("input")),f.arrayFromNodeList(document.getElementsByTagName("textarea"))),a=0;a<c.length;a++)b.setupTouchElement(c[a])};b.setupTouchElement=function(c){if("iframe"==
c.tagName.toLowerCase())return!1;if(!b.isKMWInput(c))return b.setupNonKMWTouchElement(c),!1;if(c.kmw_ip){if(-1!=b.inputList.indexOf(c.kmw_ip))return!1;b.inputList.push(c.kmw_ip);console.log("Unexpected state - this element's simulated input DIV should have been removed from the page!");return!0}var a=document.createElement("DIV");a.base=a.base=c;a.base.className=a.base.className?a.base.className+" keymanweb-font":"keymanweb-font";c.kmw_ip=a;b.inputList.push(a);a.className="keymanweb-input";a.dir=
a.base.dir;var d=document.createElement("DIV");var h=window.getComputedStyle(a.base,null);c=a.style;c.overflow="hidden";c.position="absolute";c.border="hidden";c.border="none";c.borderRadius="5px";var f=document.createElement("DIV");var l=f.style;l.position="absolute";l.height=l.width="4px";l.left=l.top="0";l.display="block";l.visibility="hidden";l.backgroundColor="#808080";l.borderRadius="2px";l=document.createElement("SPAN");var g=document.createElement("SPAN");var p=document.createElement("SPAN");
l.innerHTML=g.innerHTML=p.innerHTML="";l.className=g.className=p.className="keymanweb-font";d.appendChild(l);d.appendChild(p);d.appendChild(g);a.appendChild(d);a.appendChild(f);d=d.style;d.position="absolute";f=l.style;var t=g.style;p=p.style;f.border=t.border="none";f.height=t.height="100%";f.fontFamily=t.fontFamily=d.fontFamily=h.fontFamily;"input"!=a.base.nodeName.toLowerCase()||isNaN(parseInt(h.height,10))||(f.lineHeight=t.lineHeight=h.height);p.border="1px solid red";p.visibility="hidden";p.marginLeft=
p.marginRight="-1px";c.padding="8px";d.padding="0px 2px";d.backgroundColor="Android"==k.OS&&"transparent"==h.backgroundColor?"#fff":h.backgroundColor;a.tabIndex="0";a.style.msTouchAction="none";a.addEventListener("touchstart",b.setFocus);a.onmspointerdown=function(c){c.preventDefault();c.stopPropagation();return b.setFocus(c)};a.addEventListener("touchend",function(c){c.stopPropagation()});a.onmspointerup=function(c){c.stopPropagation()};a.addEventListener("touchmove",b.dragInput,!1);a.onmspointermove=
b.dragInput;a.onblur=b.setBlur;"textarea"==a.base.nodeName.toLowerCase()?l.style.whiteSpace=g.style.whiteSpace="pre-wrap":l.style.whiteSpace=g.style.whiteSpace="pre";a.base.parentNode.appendChild(a);b.updateInput(a);c=a.style;c.color=h.color;c.fontFamily=h.fontFamily;c.fontSize=h.fontSize;c.fontWeight=h.fontWeight;c.textDecoration=h.textDecoration;c.padding=h.padding;c.margin=h.margin;c.border=h.border;c.borderRadius=h.borderRadius;"webkitTapHighlightColor"in c&&(c.webkitTapHighlightColor="rgba(0,0,0,0)");
"textarea"==a.base.nodeName.toLowerCase()?(2==a.base.rows&&(l=parseInt(h.height,10)-parseInt(h.paddingTop,10)-parseInt(h.paddingBottom,10),h=parseInt(h.fontSize,10),h=Math.round(l/h),h>a.base.rows+1&&(a.base.rows=h)),d.width=c.width,d.minHeight=c.height):(d.minWidth=c.width,d.height=c.height);a.base.style.visibility="hidden";(function(c){c.base.addEventListener("resize",function(a){window.setTimeout(function(){b.updateInput(c)},1)},!1)})(a);b.setText(a,a.base.value,null);return!0};b.setupNonKMWTouchElement=
function(c){c.addEventListener("touchstart",function(){b.focusing=!1;clearTimeout(b.focusTimer);a.hideNow()},!1)};b.setupTouchPage()};b.setupDesktopPage=function(){[].concat(f.arrayFromNodeList(document.getElementsByTagName("input")),f.arrayFromNodeList(document.getElementsByTagName("textarea"))).forEach(b.setupDesktopElement)};b.setupDesktopElement=function(a){var c=a.tagName.toLowerCase();if("input"!=c&&"textarea"!=c)return!1;if(0>a.className.indexOf("kmw-disabled")&&!a.readOnly){if(-1!=b.inputList.indexOf(a))return!1;
a.className+=(a.className?" ":"")+"keymanweb-font";b.inputList.push(a);return!0}return!1};b.getBaseFont=function(){var b=document.getElementsByTagName("INPUT"),c=document.getElementsByTagName("TEXTAREA"),a=0;0==b.length&&0==c.length?a=0:0<b.length&&0==c.length?a=1:0==b.length&&0<c.length?a=2:b[0].offsetTop<c[0].offsetTop?a=1:b[0].offsetTop>c[0].offsetTop?a=2:b[0].offsetLeft<c[0].offsetLeft?a=1:b[0].offsetLeft>c[0].offsetLeft&&(a=2);switch(a){case 0:case 1:f.getStyleValue(b[0],"font-family");case 2:var n=
f.getStyleValue(c[0],"font-family")}if("undefined"==typeof n||"monospace"==n)n="Arial,sans-serif";return n};b.setFocus=function(b){};b.timerID=null;b.getText=function(b){return""};b.setText=function(b,c,a){};b.getTextBeforeCaret=function(){return""};b.setTextBeforeCaret=function(b){};b.getTextCaret=function(b){return 0};b.setTextCaret=function(b,c){};b.hideCaret=function(){};b.flashCaret=function(){};b.updateInput=function(b){};b.addKeyboards=function(a){0==arguments.length?b.keymanCloudRequest("",
!1):b.addKeyboardArray(arguments)};b.addKeyboardArray=function(a){if(!b.initialized)for(var c=0;c<a.length;c++)b.deferredStubs.push(a[c]);else if(0!=a.length){var e,d="";b.cloudList=[];for(c=0;c<a.length;c++){if("string"==typeof a[c]&&0<a[c].length){var h=a[c].split("@");var f=[""];"english"==h[0].toLowerCase()&&(h[0]="us");1<h.length&&(f=h[1].split(","));for(e=0;e<f.length;e++){var l={id:h[0]};""!=f[e]&&(l.language=f[e]);2<h.length&&(l.version=h[2]);b.cloudList.push(l)}}if("object"==typeof a[c]&&
null!=a[c])if("string"==typeof a[c].filename)b.addStub(a[c])||alert("To use a custom keyboard, you must specify file name, keyboard name, language, language code and region code.");else if(f=a[c].language,"number"==typeof f.length)for(e=0;e<f.length;e++)b.cloudList.push({id:a[c].id,language:a[c].language[e].id});else b.cloudList.push({id:a[c].id,language:a[c].language.id})}if(0!=b.cloudList.length){l="&keyboardid=";for(c=0;c<b.cloudList.length;c++)a=b.cloudList[c],f=a.id,h=e="","string"==typeof a.language&&
""!=a.language&&(e=a.language),"string"==typeof a.version&&""!=a.version&&(h=a.version),""!=e?(f=f+"@"+e,""!=h&&(f=f+"@"+h)):""!=h&&(f=f+"@@"+h),l=l+d+f,d=",";b.keymanCloudRequest(l,!1)}}};b.keymanCloudRequest=function(a,c){var e="https://r.keymanweb.com/api/4.0/",d=f._CreateElement("SCRIPT"),e=e+(1<arguments.length&&c?"languages":"keyboards")+"?jsonp=tavultesoft.keymanweb.register";var h="&timerid="+window.setTimeout(function(){b.serverUnavailable(a)},1E4);d.charset="UTF-8";d.src=e+a+h;d.type="text/javascript";
try{document.body.appendChild(d)}catch(m){document.getElementsByTagName("head")[0].appendChild(d)}};b.addKeyboardsForLanguage=function(a){b.addLanguageKeyboards(arguments)};b.addLanguageKeyboards=function(a){var c,e=b.languageList,d;if(null==e){var h=0==b.languagesPending.length;for(c=0;c<a.length;c++)b.languagesPending.push(a[c]);h&&b.keymanCloudRequest("",!0)}else{var m="";for(c=0;c<a.length;c++){var l=a[c].toLowerCase();(d="$"==l.substr(-1,1))&&(l=l.substr(0,l.length-1));for(h=0;h<e.length;h++)if(l==
e[h].name.toLowerCase()){""!=m&&(m+=",");m=m+"@"+e[h].id;d&&(m+="$");break}}""==m?f.alert("No keyboards are available for "+a[0]+". Does it have another language name?"):b.keymanCloudRequest("&keyboardid="+m,!1)}};b.addStub=function(a){if("string"!=typeof a.id||"undefined"==typeof a.language)return!1;"string"!=typeof a.name&&(a.name=a.id.replace("_"," "),a.name=a.name.substr(0,1).toUpperCase()+a.name.substr(1));var c=a.language,e=[];"undefined"==typeof c.length?e[0]=c:e=c;for(var d={keyboardBaseUri:b.options.keyboards,
fontBaseUri:b.options.fonts},c=0;c<e.length;c++)b.mergeStub(a,e[c],d);return!0};b.findStub=function(a,c){var e,d=b._KeyboardStubs;for(e=0;e<d.length;e++)if(d[e].KI=="Keyboard_"+a&&d[e].KLC==c)return d[e];return null};b.regions="World;Africa;Asia;Europe;South America;North America;Oceania;Central America;Middle East".split(";");b.regionCodes="un af as eu sa na oc ca me".split(" ");b.mergeStub=function(a,c,e){var d=b.findStub(a.id,c.id);null==d&&(d={KI:"Keyboard_"+a.id,KLC:c.id},b._KeyboardStubs.push(d));
var h=c.region,f=0;if("number"==typeof h)f=1>h||9<h?0:h-1;else if("string"==typeof h)for(var l=2==h.length?b.regionCodes:b.regions,g=0;g<l.length;g++)if(h.toLowerCase()==l[g].toLowerCase()){f=g;break}"undefined"==typeof d.KL&&(d.KL=c.name);"undefined"==typeof d.KR&&(d.KR=b.regions[f]);"undefined"==typeof d.KRC&&(d.KRC=b.regionCodes[f]);"undefined"==typeof d.KN&&(d.KN=a.name);"undefined"==typeof d.KF&&(h=/^(([.]\/)|([.][.]\/)|(\/))|(:)/,d.KF=a.filename,h.test(d.KF)||(d.KF=e.keyboardBaseUri+d.KF));
a=e.fontBaseUri;""!=b.options.fonts?(a=b.options.fonts,h=/^https?:/,h.test(a)||(a="//"==a.substr(0,2)?b.protocol+a:"/"==a.substr(0,1)?b.rootPath+a.substr(1):b.rootPath+a)):b.options.fonts=a;"undefined"==typeof d.KFont&&"undefined"!=typeof c.font&&(e=d.KFont=c.font,e.files=e.source,e.path=a);"undefined"==typeof d.KOskFont&&"undefined"!=typeof c.oskFont&&(e=d.KOskFont=c.oskFont,e.files=e.source,e.path=a);b.doKeyboardRegistered(d.KI,d.KL,d.KN,d.KLC);1==b._KeyboardStubs.length&&"complete"==document.readyState&&
b._SetActiveKeyboard(d.KI,d.KLC)};b.registerLanguagesForKeyboard=function(a,c,e){var d,h=0;var f="";if("undefined"!=typeof a)if("string"==typeof c.keyboardid&&(f=c.keyboardid.split(",")[e]),"number"==typeof a.length)if(1==a.length||"$"==f.substr(-1,1)||""==f)for(f=0;f<a.length;f++)b.registerLanguagesForKeyboard(a[f],c,e);else{for(f=0;f<a.length;f++){var l=a[f].id.toLowerCase();"us"==l&&(l="english");for(d=0;d<a[f].languages.length;d++)if(l==a[f].languages[d].name.toLowerCase()){h=f;break}}b.registerLanguagesForKeyboard(a[h],
c,e)}else if(e=f.split("@")[1],"string"==typeof e&&(e=e.replace(/\$$/,"")),h=a.languages,"undefined"!=typeof h)if("number"==typeof h.length)for(f=0;f<h.length;f++)"undefined"!=typeof e&&h[f].id!=e||b.mergeStub(a,h[f],c);else b.mergeStub(a,h,c)};b.register=function(a){var c=a.options;a.timerid&&window.clearTimeout(a.timerid);if("string"==typeof a.error)c="","string"==typeof a.keyboardid&&(c=a.keyboardid.substr(0,1).toUpperCase()+a.keyboardid.substr(1)),b.serverUnavailable(c+" keyboard not found.");
else if("undefined"!=typeof c&&"undefined"!=typeof c.context)if("keyboard"==c.context){var e=a.keyboard;if("number"==typeof e.length)for(a=0;a<e.length;a++)b.registerLanguagesForKeyboard(e[a],c,a);else b.registerLanguagesForKeyboard(e,c,0)}else"language"==c.context&&(b.languageList=a.languages,b.languagesPending&&b.addLanguageKeyboards(b.languagesPending),b.languagesPending=[])};b.serverUnavailable=function(a){f.alert(""==a?"Unable to connect to Keyman Cloud server!":a);b.warned=!0};b.removeKeyboards=
function(a){if(0!=arguments.length){var c,e,d=b._KeyboardStubs;for(c=0;c<arguments.length;c++)for(e=d.length-1;0<=e;e--)if("Keyboard_"+arguments[c]==d[e].KI&&1<d.length){d.splice(e,1);break}b._SetActiveKeyboard(d[0].KI,d[0].KLC,!0);b.doKeyboardUnregistered()}};if(document.selection){var g=navigator.appVersion;"undefined"==typeof document.createEventObject&&(0<=g.indexOf("MSIE 5.0")||0<=g.indexOf("MSIE 4.0")||0<=g.indexOf("MSIE 3.0"))?b.legacy=1:0<=g.indexOf("MSIE 6.0")?b._IE=6:0<=g.indexOf("MSIE 7.0")?
b._IE=7:0<=g.indexOf("MSIE 8.0")&&(b._IE=8);b._IE&&"BackCompat"==document.compatMode&&(b._IE=6)}a._BaseLayout="undefined"!==typeof window.KeymanWeb_BaseLayout?window.KeymanWeb_BaseLayout:"us";b._BrowserIsSafari=0<=navigator.userAgent.indexOf("AppleWebKit");b._GetEventObject=function(a){if(!a&&(a=window.event,!a)){var c=b._GetLastActiveElement();if(c){if(c=c.ownerDocument)c=c.parentWindow;if(!c)return null;a=c.event}}return a};b._push=function(b,c){b.push?b.push(c):b=b.concat(c);return b};b.attachToControl=
b.attachToControl=function(a){var c=a.attributes.readonly,e=a.className;"object"==typeof c&&"false"!=c.value||"string"==typeof e&&0<=e.indexOf("kmw-disabled")||("iframe"==a.tagName.toLowerCase()?b._AttachToIframe(a):(f.attachDOMEvent(a,"focus",b._ControlFocus),f.attachDOMEvent(a,"blur",b._ControlBlur),a.onkeypress=b._KeyPress,a.onkeydown=b._KeyDown,a.onkeyup=b._KeyUp))};b._AttachToIframe=function(a){try{var c=a.contentWindow.document;c&&(c.parentWindow?"on"==c.designMode.toLowerCase()||c.body.isContentEditable?
(f.attachDOMEvent(a,"focus",b._ControlFocus),f.attachDOMEvent(a,"blur",b._ControlBlur),f.attachDOMEvent(c,"keydown",b._KeyDown),f.attachDOMEvent(c,"keypress",b._KeyPress),f.attachDOMEvent(c,"keyup",b._KeyUp),b.legacy||(f.attachDOMEvent(c,"selectionchange",b._SelectionChange),b._SelectionChange())):b._AttachToControls(c):"on"==c.designMode.toLowerCase()?(f.attachDOMEvent(c,"focus",b._ControlFocus),f.attachDOMEvent(c,"blur",b._ControlBlur),f.attachDOMEvent(c,"keydown",b._KeyDown),f.attachDOMEvent(c,
"keypress",b._KeyPress),f.attachDOMEvent(c,"keyup",b._KeyUp)):b._AttachToControls(c))}catch(e){}};b.GetEnabled=function(){return b._Enabled};b.SetEnabled=function(a){a=a?1:0;b._Enabled!=a&&(b._Enabled=a,!a&&b.HideInterface&&b.HideInterface())};b.DisableControl=function(a){var c;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==a){b._Controls[c].LEnabled=0;return}b._Controls=b._push(b._Controls,{LControl:a,LEnabled:0,LDefaultInternalName:"-"})};b.EnableControl=function(a){var c;for(c=0;c<
b._Controls.length;c++)if(b._Controls[c].LControl==a){b._Controls[c].LEnabled=1;return}b._Controls=b._push(b._Controls,{LControl:a,LEnabled:1,LDefaultInternalName:"-"})};b.SetDefaultKeyboardForControl=function(a,c){var e;for(e=0;e<b._Controls.length;e++)if(b._Controls[e].LControl==a){b._Controls[e].LDefaultInternalName=c;return}b._Controls=b._push(b._Controls,{LControl:a,LEnabled:1,LDefaultInternalName:c})};b.focusLastActiveElement=b._FocusLastActiveElement=function(){b._LastActiveElement&&(b._JustActivatedKeymanWebUI=
1,b._IsMozillaEditableIframe(b._LastActiveElement,0)?b._LastActiveElement.defaultView.focus():b._LastActiveElement.focus&&b._LastActiveElement.focus())};b.getLastActiveElement=b._GetLastActiveElement=function(){return b._LastActiveElement};b.setActiveElement=b.setActiveElement=function(a,c){"string"==typeof a&&(a=document.getElementById(a));b._ActiveElement=b._LastActiveElement=a;1<arguments.length&&c&&(k.touchable?b.setFocus():b.focusLastActiveElement())};b.getUIState=b.getUIState=function(){var a=
{};a.activationPending=a.activationPending=b._IsActivatingKeymanWebUI;a.activated=a.activated=b._JustActivatedKeymanWebUI;return a};b.activatingUI=function(a){b._IsActivatingKeymanWebUI=a?1:0};b._ControlFocus=function(d){if(!b._Enabled)return!0;d=b._GetEventObject(d);if(!d)return!0;if(d.target)d=d.target;else if(d.srcElement)d=d.srcElement;else return!0;if(k.touchable&&(null==d.className||0>d.className.indexOf("keymanweb-input")))return!0;var c=d.nodeName.toLowerCase();if("input"==c){if(c=d.type.toLowerCase(),
"text"!=c&&"search"!=c)return!0}else if("textarea"!=c)return!0;b._ActiveElement=d;3==d.nodeType&&(d=d.parentNode);var e=d;k.touchable&&(null==d.className||0>d.className.indexOf("keymanweb-input"))&&b.scrollBody(d);"IFRAME"==d.tagName&&(b._AttachToIframe(d),d=d.contentWindow.document);b._ActiveControl=null;b._LastActiveElement=d;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==d){b._ActiveControl=b._Controls[c];break}null!=b._ActiveControl&&null!=b._ActiveControl.LDefaultInternalName&&
(b._JustActivatedKeymanWebUI?b._ActiveControl.LDefaultInternalName=null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI:b._SetActiveKeyboard(b._ActiveControl.LDefaultInternalName,"",!0));if(!b._IsIEEditableIframe(d,1)||!b._IsMozillaEditableIframe(d,1))return b._DisableInput=1,!0;b._DisableInput=0;b._JustActivatedKeymanWebUI||(b._DeadKeys=[],b._NotifyKeyboard(0,d,1));b._JustActivatedKeymanWebUI||b._SelectionControl==d||(b._IsActivatingKeymanWebUI=0);b._JustActivatedKeymanWebUI=0;b._SelectionControl=d;d._KeymanWebSelectionStart=
d._KeymanWebSelectionEnd=null;b._SetTargDir(d);b.doControlFocused(e,b._ActiveControl);k.touchable?a._Enabled=1:a.ready&&(b.isCJK()&&(a._Enabled=1),a._Enabled?a._Show():a._Hide(!1));return!0};b._IsIEEditableIframe=function(b,c){var a,d=b&&(a=b.tagName)&&"body"==a.toLowerCase()&&(a=b.ownerDocument)&&a.parentWindow;return!c&&d||c&&(!d||b.isContentEditable)};b._IsMozillaEditableIframe=function(b,c){var a;b=b&&(a=b.defaultView)&&a.frameElement;return!c&&b||c&&(!b||"on"==a.document.designMode.toLowerCase())};
b._ControlBlur=function(d){if(!b._Enabled)return!0;d=b._GetEventObject(d);if(!d)return!0;if(d.target)var c=d.target;else if(d.srcElement)c=d.srcElement;else return!0;b._ActiveElement=null;k.touchable&&b.hideCaret();3==c.nodeType&&(c=c.parentNode);"IFRAME"==c.tagName&&(c=c.contentWindow.document);c.setSelectionRange&&(c._KeymanWebSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),c._KeymanWebSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd));b._LastActiveElement=c;null!=b._ActiveControl&&
null!=b._ActiveControl.LDefaultInternalName&&(b._ActiveControl.LDefaultInternalName=null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI);b._JustActivatedKeymanWebUI=0;b._ActiveControl=null;b._IsActivatingKeymanWebUI||b._NotifyKeyboard(0,c,0);d=b._GetEventObject(d);b.doControlBlurred(c,d,b._IsActivatingKeymanWebUI);a.ready&&!b._IsActivatingKeymanWebUI&&a._Hide(!1);return!0};b.doControlBlurred=function(b,c,a){var e={};e.target=b;e.event=c;e.isActivating=a;return f.callEvent("kmw.controlblurred",e)};b.doControlFocused=
function(b,c){var a={};a.target=b;a.activeControl=c;return f.callEvent("kmw.controlfocused",a)};b.doKeyboardRegistered=function(b,c,a,n){return f.callEvent("kmw.keyboardregistered",{internalName:b,language:c,keyboardName:a,languageCode:n})};b.doKeyboardUnregistered=function(){return f.callEvent("kmw.keyboardregistered",{})};b.doKeyboardLoaded=function(b){var c={};c.keyboardName=b;return f.callEvent("kmw.keyboardloaded",c)};b.doBeforeKeyboardChange=function(b,c){var a={};a.internalName=b;a.languageCode=
c;return f.callEvent("kmw.beforekeyboardchange",a)};b.doKeyboardChange=function(b,c,a){var e={};e.internalName=b;e.languageCode=c;e.indirect=2<arguments.length?a:!1;return f.callEvent("kmw.keyboardchange",e)};b.doUnloadOSK=function(){return f.callEvent("kmw.unloadosk",{})};b.doLoadUI=function(){return f.callEvent("kmw.loaduserinterface",{})};b.doUnloadUI=function(){return f.callEvent("kmw.unloaduserinterface",{})};b._BubbledFocus=function(b){};window.addEventListener&&window.addEventListener("focus",
b._BubbledFocus,!0);b._GetKeyEventProperties=function(a){var c={};a=b._GetEventObject(a);if(!a||!0===a.cancelBubble)return null;if(a.target)c.Ltarg=a.target;else if(a.srcElement)c.Ltarg=a.srcElement;else return null;3==c.Ltarg.nodeType&&(c.Ltarg=c.Ltarg.parentNode);if(a.keyCode)c.Lcode=a.keyCode;else if(a.which)c.Lcode=a.which;else return null;c.Lmodifiers=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0);c.LisVirtualKeyCode="undefined"!=typeof a.charCode&&null!=a.charCode&&(0==a.charCode||0!=(c.Lmodifiers&
96));c.LisVirtualKey=c.LisVirtualKeyCode||"keypress"!=a.type;return c};b._SelectionChange=function(){if(b._IgnoreNextSelChange)b._IgnoreNextSelChange--;else{var a=document.selection;"control"!=a.type.toLowerCase()&&(a=a.createRange(),b._Selection&&b._Selection.isEqual(a)||(b._Selection=a,b._DeadKeys=[]))}return!0};b._FindCaret=function(a){if(!a.createTextRange&&a.selectionStart){var c=document.createEvent("KeyboardEvent");if(c.initKeyEvent){c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,0,32);var e=
b._KeyPress;b._KeyPress=function(c){};a.dispatchEvent(c);c=document.createEvent("KeyboardEvent");c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,8,0);a.dispatchEvent(c);b._KeyPress=e}}};b._NotifyKeyboard=function(a,c,e){null!=b._ActiveKeyboard&&"function"==typeof b._ActiveKeyboard.KNS&&b._ActiveKeyboard.KNS(a,c,e)};b._KeyDown=function(d){var c;b._KeyPressToSwallow=0;if(!b._Enabled||b._DisableInput||null==b._ActiveKeyboard||null!=b._ActiveControl&&!b._ActiveControl.LEnabled)return!0;var e=f.eventTarget(d);
if(k.touchable){if(e&&"undefined"!=typeof e.kmwInput&&0==e.kmwInput)return!0}else if(e&&0<=e.className.indexOf("kmw-disabled"))return!0;if(!a.ready)return!0;e=b._GetKeyEventProperties(d);if(null==e)return!0;switch(e.Lcode){case 8:b._DeadKeys=[];break;case 16:case 17:case 18:return b._NotifyKeyboard(e.Lcode,e.Ltarg,1),a._UpdateVKShift(e,e.Lcode-15,1)}(c=e.Ltarg.ownerDocument)&&(c=c.selection)&&(33>e.Lcode||40<e.Lcode)&&c.createRange().select();!window.event&&b._VKMap_FF_IE["k"+e.Lcode]&&(e.Lcode=b._VKMap_FF_IE["k"+
e.Lcode]);if(b._ActiveKeyboard.KM){if(8==e.Lcode)return b._KeyPressToSwallow=1,b.callKeyboardStartGroup(e.Ltarg,e)||b.KO(1,b._LastActiveElement,""),!1;b._KeyPressToSwallow=0}else{var n=0;(c=b._VKMap[a._BaseLayout])&&c["k"+e.Lcode]&&(e.Lcode=c["k"+e.Lcode]);"undefined"!=typeof b._ActiveKeyboard.KM||e.Lmodifiers&96||(c={Lcode:b._USKeyCodeToCharCode(e),Ltarg:e.Ltarg,Lmodifiers:0,LisVirtualKey:0},b.callKeyboardStartGroup(c.Ltarg,c)&&(n=1));n=n||b.callKeyboardStartGroup(e.Ltarg,e);8==e.Lcode&&!n&&null!=
e.Ltarg.className&&0<=e.Ltarg.className.indexOf("keymanweb-input")&&b.KO(1,b._LastActiveElement,"")}!n&&96<=e.Lcode&&111>=e.Lcode&&(n=106>e.Lcode?e.Lcode-48:e.Lcode-64,b.KO(0,e.Ltarg,String._kmwFromCharCode(n)),n=1);if(n)return b._FindCaret(e.Ltarg),d&&d.preventDefault&&d.preventDefault(),b._KeyPressToSwallow=d?d.keyCode:0,!1;b._KeyPressToSwallow=0;return 8==e.Lcode&&null!=e.Ltarg.className&&0<=e.Ltarg.className.indexOf("keymanweb-input")?!1:!0};b.callKeyboardStartGroup=function(a,c){b._CachedSelectionStart=
null;b._DeadkeyResetMatched();b.cachedContext.reset();return b._ActiveKeyboard.gs(a,c)};b._KeyPress=function(a){if(!b._Enabled||b._DisableInput||null==b._ActiveKeyboard||null!=b._ActiveControl&&!b._ActiveControl.LEnabled)return!0;var c=b._GetKeyEventProperties(a);if(null==c||c.LisVirtualKey)return!0;if(!b._ActiveKeyboard.KM){if(!b._KeyPressToSwallow||32>c.Lcode||b._BrowserIsSafari&&63232<c.Lcode&&63744>c.Lcode)return!0;if(a=b._GetEventObject(a))a.returnValue=!1;return!1}if(b._KeyPressToSwallow||b.callKeyboardStartGroup(c.Ltarg,
c))return b._KeyPressToSwallow=0,a&&a.preventDefault&&a.preventDefault(),b._FindCaret(c.Ltarg),!1;b._KeyPressToSwallow=0;return!0};b._KeyUp=function(d){d=b._GetKeyEventProperties(d);if(null==d||!a.ready)return!0;switch(d.Lcode){case 13:if("TEXTAREA"==d.Ltarg.nodeName)break;"search"==d.Ltarg.type||"submit"==d.Ltarg.type?d.Ltarg.form.submit():b.moveToNext(!1);return!0;case 16:case 17:case 18:return b._NotifyKeyboard(d.Lcode,d.Ltarg,0),a._UpdateVKShift(d,d.Lcode-15,1)}var c;(c=d.Ltarg.ownerDocument)&&
(c=c.selection)&&"control"!=c.type&&(c=c.createRange(),b._Selection=c);return!1};b.moveToNext=function(a){var c,e=b.sortedInputs,d=b._ActiveElement;if(0!=e.length){k.touchable&&(d=d.base);for(c=0;c<e.length&&e[c]!=d;c++);c=a?c-1:c+1;c>=e.length&&(c-=e.length);0>c&&(c+=e.length);k.touchable?(b.focusing=!0,a=e[c].kmw_ip,"undefined"==typeof a?e[c].focus():(b._ActiveElement=b._LastActiveElement=a,b.setTextCaret(a,1E4),b.scrollInput(a))):e[c].focus()}};b.moveToElement=function(a){"string"==typeof a&&(a=
document.getElementById(a));k.touchable&&a.kmw_ip?a.kmw_ip.focus():a.focus()};b._SetActiveKeyboard=function(d,c,e){var n,h;if(2>arguments.length||!c)c="---";for(n=0;n<b._KeyboardStubs.length&&(d!=b._KeyboardStubs[n].KI||c!=b._KeyboardStubs[n].KLC&&"---"!=c);n++);k.touchable&&(""==d||null==d||n>=b._KeyboardStubs.length)&&(d=b._KeyboardStubs[0].KI,c=b._KeyboardStubs[0].KLC);2<arguments.length&&e&&b.saveCurrentKeyboard(d,c);if(!b._ActiveStub||!b._ActiveKeyboard||b._ActiveKeyboard.KI!=d||b._ActiveStub.KI!=
d||b._ActiveStub.KLC!=c||b.mustReloadKeyboard){if(b._ActiveKeyboard&&b._ActiveKeyboard.KI==d)for(h=0;h<b._KeyboardStubs.length;h++)if(b._KeyboardStubs[h].KI==d&&b._KeyboardStubs[h].KLC==c){b._ActiveStub=b._KeyboardStubs[h];a.appendStyleSheet();b.mustReloadKeyboard&&a._Load();return}b._ActiveKeyboard=null;b._ActiveStub=null;if(""==d)a._Hide(!1),"function"==typeof f.wait&&f.wait(!1);else{for(h=0;h<b._Keyboards.length;h++)if(b._Keyboards[h].KI==d){b._ActiveKeyboard=b._Keyboards[h];b._SetTargDir(b._LastActiveElement);
for(n=0;n<b._KeyboardStubs.length;n++)if(b._KeyboardStubs[n].KI==d&&b._KeyboardStubs[n].KLC==c){b._ActiveStub=b._KeyboardStubs[n];break}break}if(null==b._ActiveKeyboard){for(h=0;h<b._KeyboardStubs.length;h++)if(b._KeyboardStubs[h].KI==d&&(b._KeyboardStubs[h].KLC==c||"---"==c)){if(b.isCJK(b._KeyboardStubs[h])||k.touchable)a._Enabled=1;if(!b._KeyboardStubs[h].asyncLoader){a.ready&&a._Hide(!1);var m=b._KeyboardStubs[h];m.asyncLoader={};var l=m.KN,g=m.KL,l=l.replace(/\s*keyboard\s*/i,"");"function"==
typeof f.wait&&(m.asyncLoader.callback=function(c){"function"==typeof f.wait&&f.wait(!1);f.alert(c||"Sorry, the "+l+" keyboard for "+g+" is not currently available.",function(){b.setActiveKeyboard("")});0<h&&(c=b._KeyboardStubs[0],b._SetActiveKeyboard(c.KI,c.KLC,!0))},m.asyncLoader.timer=window.setTimeout(m.asyncLoader.callback,1E4));"function"==typeof f.wait&&f.wait("Installing keyboard<br/>"+l);window.setTimeout(function(){b.installKeyboard(m)},0)}b._ActiveStub=b._KeyboardStubs[h];return}b._SetTargDir(b._LastActiveElement)}n=
b._ActiveKeyboard;null!==n&&String.kmwEnableSupplementaryPlane(n&&(n.KS&&1==n.KS||"Hieroglyphic"==n.KN));a._Load()}}};b.installKeyboard=function(d){var c=f._CreateElement("SCRIPT");c.charset="UTF-8";c.type="text/javascript";var e=d.KF,n=d.KL,h=d.KN;c.addEventListener("error",function(){null!==d.asyncLoader.timer&&(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);b.embedded||(d.asyncLoader.callback("Cannot find the "+h+" keyboard for "+n+"."),console.log("Error:  cannot find the",
h,"keyboard for",n,"at",e+"."));d.asyncLoader=null},!1);c.addEventListener("load",function(){null!==d.asyncLoader.timer&&(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);var c=b._getKeyboardByID(d.KI);c?d==b._ActiveStub&&(b.doBeforeKeyboardChange(c.KI,d.KLC),b._ActiveKeyboard=c,null!=b._LastActiveElement&&(b._JustActivatedKeymanWebUI=1,b._SetTargDir(b._LastActiveElement)),String.kmwEnableSupplementaryPlane(d&&(d.KS&&1==d.KS||"Hieroglyphic"==c.KN)),b.saveCurrentKeyboard(c.KI,d.KLC),
a._Load(),"function"==typeof f.wait&&f.wait(!1)):b.embedded||(d.asyncLoader.callback("Error registering the "+h+" keyboard for "+n+"."),console.log("Error registering the",h,"keyboard for",n+"."));d.asyncLoader=null},!1);c.src=b.getKeyboardPath(e);try{document.body.appendChild(c)}catch(m){document.getElementsByTagName("head")[0].appendChild(c)}};b._getKeyboardByID=function(a){var c;for(c=0;c<b._Keyboards.length;c++)if(a==b._Keyboards[c].KI)return b._Keyboards[c];return null};b.isCJK=function(a){var c=
b._ActiveKeyboard,e="";0<arguments.length&&(c=a);c&&("undefined"!=typeof c.KLC?e=c.KLC:"undefined"!=typeof c.LanguageCode&&(e=c.LanguageCode));return"cmn"==e||"jpn"==e||"kor"==e};b.isCJK=b.isCJK;b.setActiveKeyboard=function(a,c){b.doBeforeKeyboardChange(a,c);b._SetActiveKeyboard(a,c,!0);null!=b._LastActiveElement&&b._FocusLastActiveElement();b.doKeyboardChange(a,c)};b.getActiveKeyboard=function(){return null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI};b.getActiveLanguage=function(){return null==b._ActiveStub?
"":b._ActiveStub.KLC};b.getKeyboard=function(a,c){var e;for(e=0;e<b._KeyboardStubs.length;e++){var d=b._GetKeyboardDetail(b._KeyboardStubs[e]);if(d.InternalName==a&&(2>arguments.length||d.LanguageCode==c))return d}return null};b.GetKeyboardDetail=function(a){for(var c=b.getKeyboards(),e=0;e<c.length;e++)if(c[e].InternalName==a)return c[e];return null};b._GetKeyboardDetail=function(a){var c={};c.Name=a.KN;c.InternalName=a.KI;c.LanguageName=a.KL;c.LanguageCode=a.KLC;c.RegionName=a.KR;c.RegionCode=a.KRC;
c.CountryName=a.KC;c.CountryCode=a.KCC;c.KeyboardID=a.KD;c.Font=a.KFont;c.OskFont=a.KOskFont;return c};b.getKeyboards=function(){var a=[],c;for(c=0;c<b._KeyboardStubs.length;c++){var e=b._KeyboardStubs[c];e=b._GetKeyboardDetail(e);a=b._push(a,e)}return a};b._WindowUnload=function(){b.doUnloadUI();a.ready&&a._Unload();b._LastActiveElement=0};f.attachDOMEvent(window,"load",function(a){document.body.scrollTop=0;"undefined"!=typeof document.documentElement&&(document.documentElement.scrollTop=0)},!1);
f.attachDOMEvent(window,"unload",b._WindowUnload,!1);b._AttachToControls=function(a){var c=a.getElementsByTagName("INPUT"),e=a.getElementsByTagName("TEXTAREA"),d=a.getElementsByTagName("IFRAME");a=document.evaluate?document.evaluate('//*[@contenteditable and @contenteditable != "false"]',document,null,XPathResult.ANY_TYPE,null):null;for(var h=0;h<c.length;h++)"text"==c[h].type.toLowerCase()&&b.attachToControl(c[h]);for(h=0;h<e.length;h++)b.attachToControl(e[h]);for(h=0;h<d.length;h++)try{d[h].contentWindow.document&&
b._AttachToIframe(d[h])}catch(m){}if(a)for(c=a.iterateNext();c;c=a.iterateNext())b.attachToControl(c);for(h=0;h<b.inputList.length;h++)b.attachToControl(b.inputList[h])};b.fixPath=function(a){if(0==a.length)return a;var c=a.substr(a.length-1,1);return"/"==c||"\\"==c?a:a+"/"};b.init=b.init=function(d){var c;var e=function(c){if(0==c.length)return c;"/"!=c.substr(c.length-1,1)&&(c+="/");return"http"==c.replace(/^(http)s?:.*/,"$1")||"file"==c.replace(/^(file):.*/,"$1")?c:"//"==c.substr(0,2)?b.protocol+
c:"/"==c.substr(0,1)?b.rootPath+c.substr(1):b.srcPath+c};var n=b.options;if("object"==typeof d&&null!==d)for(c in n)d.hasOwnProperty(c)&&(n[c]=d[c]);""!=n.root&&(b.rootPath=e(n.root));""==n.resources&&(n.resources=b.srcPath);n.resources=e(n.resources);n.keyboards=e(n.keyboards);n.fonts=e(n.fonts);""==n.attachType&&(n.attachType=k.touchable?"manual":"auto");b.setDefaultDeviceOptions(n);if(!b.initialized)if("complete"!==document.readyState)window.setTimeout(function(){b.init(d)},50);else{b._MasterDocument=
window.document;"Android"==k.OS&&(k.dpi=f.getDPI(),k.formFactor=screen.height<4*k.dpi||screen.width<4*k.dpi?"phone":"tablet");window.removeEventListener&&window.removeEventListener("focus",b._BubbledFocus,!0);"manual"!=b.options.attachType&&b._AttachToControls(document);b.initialized=1;a.prepare();f.prepareWait();b.addKeyboardArray(b.deferredStubs);for(n=0;n<b.deferredKRS.length;n++)b.KRS(b.deferredKRS[n]);b.initializeUI();for(n=0;n<b.deferredKR.length;n++)b.KR(b.deferredKR[n]);b.fullInitialization&&
(b.appliedFont=b.baseFont=b.getBaseFont(),b.listInputs(),k.touchable?(b.handleRotationEvents(),b.setupTouchDevice()):b.setupDesktopPage(),6==f._GetIEVersion()&&(a.shim=f.createShim()),k.touchable&&(a._Box.addEventListener("touchend",function(c){c.stopPropagation()},!1),n=document.createElement("DIV"),e=n.style,e.width="100%",e.height=screen.width/2+"px",document.body.appendChild(n),"Android"==k.OS&&0<navigator.userAgent.indexOf("Chrome")?(b.hideOskWhileScrolling=function(b){if("undefined"!=typeof a._Box&&
"undefined"!=typeof a._Box.style){c=b.target.parentNode;if("undefined"!=typeof c&&null!=c&&(0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-")||"undefined"!=typeof c.parentNode&&(c=c.parentNode,0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-"))))return;a.hideNow()}},document.body.addEventListener("touchstart",b.hideOskWhileScrolling,!1)):(b.conditionallyHideOsk=function(){b.hideOnRelease&&!a.lgList&&a.hideNow();b.hideOnRelease=!1},b.hideOskIfOnBody=
function(c){b.touchY=c.touches[0].screenY;b.hideOnRelease=!0},b.cancelHideIfScrolling=function(c){c=c.touches[0].screenY;var a=b.touchY;if(5<c-a||5>a-c)b.hideOnRelease=!1},document.body.addEventListener("touchstart",b.hideOskIfOnBody,!1),document.body.addEventListener("touchmove",b.cancelHideIfScrolling,!1),document.body.addEventListener("touchend",b.conditionallyHideOsk,!1))),a.shim&&document.body.appendChild(a.shim),document.selection&&!b.legacy&&f.attachDOMEvent(document,"selectionchange",b._SelectionChange),
b.restoreCurrentKeyboard(),"manual"!=b.options.attachType&&(n=document.querySelector("body"),b.mutationObserver=new MutationObserver(function(c){for(var a,e=[],d=[],n=0;n<c.length;n++){for(var h=c[n],g=0;g<h.addedNodes.length;g++){var r=h.addedNodes[g];a=r.tagName?r.tagName.toLowerCase():"";r.getElementsByTagName&&(e=e.concat(f.arrayFromNodeList(r.getElementsByTagName("input")),f.arrayFromNodeList(r.getElementsByTagName("textarea")),f.arrayFromNodeList(r.getElementsByTagName("iframe"))));"input"!=
a&&"textarea"!=a&&"iframe"!=a||e.push(r)}for(g=0;g<h.removedNodes.length;g++)r=h.removedNodes[g],a=r.tagName?r.tagName.toLowerCase():"",r.getElementsByTagName&&(d=d.concat(f.arrayFromNodeList(r.getElementsByTagName("input")),f.arrayFromNodeList(r.getElementsByTagName("textarea")),f.arrayFromNodeList(r.getElementsByTagName("iframe"))))}for(c=0;c<e.length;c++)b._MutationAdditionObserved(e[c]);for(c=0;c<d.length;c++)b._MutationRemovalObserved(d[c]);if(e.length||d.length)k.touchable?k.touchable&&window.setTimeout(function(){b.listInputs();
for(var c=0;c<b.sortedInputs.length;c++)b.sortedInputs[c].kmw_ip&&b.updateInput(b.sortedInputs[c].kmw_ip)},1):b.listInputs()}),b.mutationObserver.observe(n,{childList:!0,subtree:!0})),b.initialized=2)}};b._MutationAdditionObserved=function(a){if(k.touchable)b.setupTouchElement(a);else if(b.setupDesktopElement(a))b.attachToControl(a);else if("iframe"==a.tagName.toLowerCase()){var c=function(){b.attachToControl(a)};a.addEventListener("load",c);"complete"==a.contentDocument.readyState&&c()}};b._MutationRemovalObserved=
function(a){if(k.touchable){var c=a.kmw_ip;a.parentNode.removeChild(c);delete a.kmw_ip}a=b.inputList.indexOf(a);-1!=a&&b.inputList.splice(a,1)};b.listInputs=function(){var a,c=[],e=document.getElementsByTagName("INPUT"),n=document.getElementsByTagName("TEXTAREA");for(a=0;a<e.length;a++)switch(e[a].type){case "text":case "search":case "email":case "url":0>e[a].className.indexOf("kmw-disabled")&&c.push({ip:e[a],x:f._GetAbsoluteX(e[a]),y:f._GetAbsoluteY(e[a])})}for(a=0;a<n.length;a++)0>n[a].className.indexOf("kmw-disabled")&&
c.push({ip:n[a],x:f._GetAbsoluteX(n[a]),y:f._GetAbsoluteY(n[a])});c.sort(function(c,a){return c.y!=a.y?c.y-a.y:c.x-a.x});e=[];for(a=0;a<c.length;a++)e.push(c[a].ip);b.sortedInputs=e};b.initializeUI=function(){"function"==typeof b.ui.initialize?(b.ui.initialize(),a._Show()):window.setTimeout(b.initializeUI,1E3)};b.isPositionSynthesized=function(){return k.touchable};b._SelPos=function(a){var c,e=999>f._GetIEVersion();if(b.isPositionSynthesized())return b.getTextCaret(a);if(a._KeymanWebSelectionStart)return a._KeymanWebSelectionStart;
if(a.setSelectionRange)return a.value.substr(0,a.selectionStart)._kmwLength();if((c=a.ownerDocument)&&(c=c.defaultView)&&c.getSelection&&"on"==a.ownerDocument.designMode.toLowerCase()){if(a=c.getSelection(),3==a.focusNode.nodeType)return a.focusNode.substringData(0,a.focusOffset)._kmwLength()}else if(e){if("string"==typeof a.value)return c=b.getInputSelection(a),a.value.substr(0,c.start)._kmwLength();if(a=a.body?a:a.ownerDocument)c=a.selection;else return 0;a=c.createRange();a.moveStart("textedit",
-1);return a.text._kmwLength()}return 0};b.getInputSelection=function(a){var c=0,b=0,d;if("number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd)c=a.selectionStart,b=a.selectionEnd;else if((d=document.selection.createRange())&&d.parentElement()==a){var f=a.value.length;var m=a.value.replace(/\r\n/g,"\n");b=a.createTextRange();b.moveToBookmark(d.getBookmark());a=a.createTextRange();a.collapse(!1);-1<b.compareEndPoints("StartToEnd",a)?c=b=f:(c=-b.moveStart("character",-f),c+=m.slice(0,c).split("\n").length-
1,-1<b.compareEndPoints("EndToEnd",a)?b=f:(b=-b.moveEnd("character",-f),b+=m.slice(0,b).split("\n").length-1))}return{start:c,end:b}};b._DeadkeyResetMatched=function(){var a,c=b._DeadKeys;for(a=0;a<c.length;a++)c[a].matched=0};b._DeadkeyDeleteMatched=function(){var a,c=b._DeadKeys;for(a=0;a<c.length;a++)c[a].matched&&c.splice(a,1)};b._DeadkeyAdjustPos=function(a,c){var e,d=b._DeadKeys;for(e=0;e<d.length;e++)d[e].p>a&&(d[e].p+=c)};b._SetTargDir=function(a){var c=null!=b._ActiveKeyboard&&b._ActiveKeyboard.KRTL?
"rtl":"ltr";a&&(k.touchable?0==a.textContent.length&&(a.base.dir=a.dir=c,b.setTextCaret(a,1E4)):0==a.value.length&&(a.dir=c))};b._ResetVKShift=function(){b._IsActivatingKeymanWebUI||a._UpdateVKShift&&a._UpdateVKShift(null,15,0)};b.addHotKey=b.addHotKey=function(a,c,e){for(var d=0;d<b._HotKeys.length;d++)if(b._HotKeys[d].Code==a&&b._HotKeys[d].Shift==c){b._HotKeys[d].Handler=e;return}b._HotKeys.push({Code:a,Shift:c,Handler:e})};b.removeHotKey=b.removeHotKey=function(a,c){for(var e=0;e<b._HotKeys.length;e++)if(b._HotKeys[e].Code==
a&&b._HotKeys[e].Shift==c){b._HotKeys.splice(e,1);break}};b._ProcessHotKeys=function(a){a||(a=window.event);if(a.keyCode)var c=a.keyCode;else if(a.which)c=a.which;else return 0;for(var e=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0),d=0;d<b._HotKeys.length;d++)if(c==b._HotKeys[d].Code&&e==b._HotKeys[d].Shift)return b._HotKeys[d].Handler(),a.returnValue=0,a&&a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1;return!0};f.attachDOMEvent(document,"keyup",b._ProcessHotKeys,!1);b.saveCurrentKeyboard=
function(a,c){f.saveCookie("KeymanWeb_Keyboard",{current:a+":"+c})};b.restoreCurrentKeyboard=function(){var a=b._KeyboardStubs,c=a.length;if(!(1>a.length)){var e=b.getSavedKeyboard();e.split(":");var n=e.split(":");2>n.length&&(n[1]="");for(e=0;e<c&&(a[e].KI!=n[0]||a[e].KLC!=n[1]&&""!=n[1]);e++);if(e<c||null==b._ActiveKeyboard)b._SetActiveKeyboard(n[0],n[1],!1),b.doKeyboardChange(n[0],n[1])}};b.getSavedKeyboard=b.getSavedKeyboard=function(){var a=f.loadCookie("KeymanWeb_Keyboard");if("string"!=typeof a.current)return"Keyboard_us:eng";
var c,e=b._KeyboardStubs;for(c=0;c<e.length;c++){var n=e[c].KI+":"+e[c].KLC;if(n==a.current)return n}for(c=0;c<e.length;c++)if(n=e[c].KI+":"+e[c].KLC,"Keyboard_us:eng"==n)return n;return 0<e.length?e[0].KI+":"+e[0].KLC:"Keyboard_us:eng"};f.attachDOMEvent(window,"focus",b._ResetVKShift,!1);f.attachDOMEvent(window,"blur",b._ResetVKShift,!1);String.kmwEnableSupplementaryPlane(!1)}();window.tavultesoft.keymanweb.initialized||function(){var b=window.tavultesoft.keymanweb,a=b.osk,f=b.util,k=f.device;a.keyCodes={K_BKSP:8,K_TAB:9,K_ENTER:13,K_SHIFT:16,K_CONTROL:17,K_ALT:18,K_PAUSE:19,K_CAPS:20,K_ESC:27,K_SPACE:32,K_PGUP:33,K_PGDN:34,K_END:35,K_HOME:36,K_LEFT:37,K_UP:38,K_RIGHT:39,K_DOWN:40,K_SEL:41,K_PRINT:42,K_EXEC:43,K_INS:45,K_DEL:46,K_HELP:47,K_0:48,K_1:49,K_2:50,K_3:51,K_4:52,K_5:53,K_6:54,K_7:55,K_8:56,K_9:57,K_A:65,K_B:66,K_C:67,K_D:68,K_E:69,K_F:70,K_G:71,K_H:72,K_I:73,K_J:74,
K_K:75,K_L:76,K_M:77,K_N:78,K_O:79,K_P:80,K_Q:81,K_R:82,K_S:83,K_T:84,K_U:85,K_V:86,K_W:87,K_X:88,K_Y:89,K_Z:90,K_NP0:96,K_NP1:97,K_NP2:98,K_NP3:99,K_NP4:100,K_NP5:101,K_NP6:102,K_NP7:103,K_NP8:104,K_NP9:105,K_NPSTAR:106,K_NPPLUS:107,K_SEPARATOR:108,K_NPMINUS:109,K_NPDOT:110,K_NPSLASH:111,K_F1:112,K_F2:113,K_F3:114,K_F4:115,K_F5:116,K_F6:117,K_F7:118,K_F8:119,K_F9:120,K_F10:121,K_F11:122,K_F12:123,K_NUMLOCK:144,K_SCROLL:145,K_LSHIFT:160,K_RSHIFT:161,K_LCONTROL:162,K_RCONTROL:163,K_LALT:164,K_RALT:165,
K_COLON:186,K_EQUAL:187,K_COMMA:188,K_HYPHEN:189,K_PERIOD:190,K_SLASH:191,K_BKQUOTE:192,K_LBRKT:219,K_BKSLASH:220,K_RBRKT:221,K_QUOTE:222,K_oE2:226,K_LOPT:50001,K_ROPT:50002,K_NUMERALS:50003,K_SYMBOLS:50004,K_CURRENCIES:50005,K_UPPER:50006,K_LOWER:50007,K_ALPHA:50008,K_SHIFTED:50009,K_ALTGR:50010,K_TABBACK:50011,K_TABFWD:50012};var g=[["0123456789",";=,-./`","[\\]'"],[")!@#$%^&*(",":+<_>?~",'{|}"']],d="K_BKQUOTE K_1 K_2 K_3 K_4 K_5 K_6 K_7 K_8 K_9 K_0 K_HYPHEN K_EQUAL K_* K_* K_* K_Q K_W K_E K_R K_T K_Y K_U K_I K_O K_P K_LBRKT K_RBRKT K_BKSLASH K_* K_* K_* K_A K_S K_D K_F K_G K_H K_J K_K K_L K_COLON K_QUOTE K_* K_* K_* K_* K_* K_oE2 K_Z K_X K_C K_V K_B K_N K_M K_COMMA K_PERIOD K_SLASH K_* K_* K_* K_* K_* K_SPACE".split(" ");
a._Box=null;a._DivVKbd=null;a._DivVKbdHelp=null;a._Visible=0;a._Enabled=1;a._VShift=[];a._VKeySpans=[];a._VKeyDown=null;a._VKbdContainer=null;a._VOriginalWidth=1;a._BaseLayout="us";a._BaseLayoutEuro={};a._BaseLayoutEuro.se="\u00a71234567890+\u00b4~~~QWERTYUIOP\u00c5\u00a8'~~~ASDFGHJKL\u00d6\u00c4~~~~~<ZXCVBNM,.-~~~~~ ";a._BaseLayoutEuro.uk="`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;'~~~~~\\ZXCVBNM,./~~~~~ ";a.lgTimer=null;a.lgKey=null;a.hkKey=null;a.spaceBar=null;a.lgList=null;a.frameColor="#ad4a28";
a.keyPending=null;a.fontFamily="";a.fontSize="1em";a.layout=null;a.layers=null;a.layerId="default";a.nextLayer="default";a.layerIndex=0;a.currentKey="";a.subkeyDelayTimer=null;a.popupPending=!1;a.popupVisible=!1;a.popupCallout=null;a.styleSheet=null;a.loadRetry=0;a.popupDelay=500;a.currentTarget=null;a.touchCount=0;a.touchX=0;a.deleting=0;a.x=99;a.y=0;a.width=1;a.height=1;a.rowHeight=1;a.nRows=1;a.vpScale=1;a.closeButton=null;a.resizeIcon=null;a.resizing=0;a.pinImg=null;a.userPositioned=0;a.dfltX=
"";a.dfltY="";a.noDrag=!1;a.shim=null;a.keytip=null;a.touchY=0;a.addCallout=function(a){};a.addEventListener=function(a,b){return f.addEventListener("osk."+a,b)};a._TitleBarInterior=function(){var c=f._CreateElement("DIV"),e=c.style;e.paddingLeft="2px";e.cursor="move";e.background="#ad4a28";e.font="8pt Tahoma,Arial,sans-serif";e=f._CreateElement("DIV");e.className="kmw-title-bar-actions";e.onmousedown=a._CancelMouse;var d=f._CreateElement("DIV");d.className="kmw-close-button";d.onmousedown=a._CancelMouse;
d.onclick=function(){a._Hide(!0)};a.closeButton=d;e.appendChild(d);a.restorePosition=function(){a._Visible&&(b._FocusLastActiveElement(),a.loadCookie(),a.userPositioned=!1,a.saveCookie(),a._Show(),a.doResizeMove());a.pinImg&&(a.pinImg.style.display="none");window.event&&(window.event.returnValue=!1)};d=a.pinImg=f._CreateElement("DIV");d.className="kmw-pin-image";d.title="Pin the On Screen Keyboard to its default location on the active text box";d.onclick=a.restorePosition;d.onmousedown=a._CancelMouse;
d.style.display="none";k.touchable||e.appendChild(d);c.appendChild(e);d=b._TitleElement=f._CreateElement("SPAN");d.className="kmw-title-bar-caption";d.innerHTML="KeymanWeb";c.appendChild(d);return c};a.isEnabled=a.isEnabled=function(){return a._Enabled};a.isVisible=a.isVisible=function(){return a._Visible};a.getRect=a.getRect=function(){var c={};a._DivVKbd?(c.left=c.left=f._GetAbsoluteX(a._DivVKbd),c.top=c.top=f._GetAbsoluteY(a._DivVKbd),c.width=c.width=f._GetAbsoluteX(a._DivVKbdHelp)-f._GetAbsoluteX(a._DivVKbd)+
a._DivVKbdHelp.offsetWidth,c.height=c.height=f._GetAbsoluteY(a._DivVKbdHelp)-f._GetAbsoluteY(a._DivVKbd)+a._DivVKbdHelp.offsetHeight):(c.left=c.left=f._GetAbsoluteX(a._Box),c.top=c.top=f._GetAbsoluteY(a._Box),c.width=c.width=f._GetAbsoluteX(a._Box)+a._Box.offsetWidth,c.height=c.height=f._GetAbsoluteY(a._Box)+a._Box.offsetHeight);return c};a.setRect=a.setRect=function(c){if(null!=a._Box&&"desktop"==k.formFactor){var b=a._Box,d=b.style;"left"in c&&(d.left=c.left-f._GetAbsoluteX(b)+b.offsetLeft+"px",
a.dfltX=d.left);"top"in c&&(d.top=c.top-f._GetAbsoluteY(b)+b.offsetTop+"px",a.dfltY=d.top);if(null!=a._DivVKbd){var h=a._DivVKbd,d=h.style;if("width"in c){var m=c.width-(b.offsetWidth-h.offsetWidth);m<.2*screen.width&&(m=.2*screen.width);m>.9*screen.width&&(m=.9*screen.width);d.width=m+"px";a.width=m}"height"in c&&(b=c.height-(b.offsetHeight-h.offsetHeight),b<.1*screen.height&&(b=.1*screen.height),b>.5*screen.height&&(b=.5*screen.height),d.height=b+"px",d.fontSize=b/8+"px",a.height=b);"nosize"in c&&
a.resizeIcon&&(a.resizeIcon.style.display=c.nosize?"none":"block")}"nomove"in c&&(a.noDrag=c.nomove,a.pinImg&&(a.pinImg.style.display=c.nomove||!a.userPositioned?"none":"block"));a.saveCookie()}};a.getPos=function(){var c=a._Box,b={};b.left=a._Visible?c.offsetLeft:a.x;b.top=a._Visible?c.offsetTop:a.y;return b};a.setPos=a.setPos=function(c){if("undefined"!=typeof a._Box&&!k.touchable){if(a.userPositioned){var b=c.left;c=c.top;"undefined"!=typeof b&&(b<-.8*a._Box.offsetWidth&&(b=-.8*a._Box.offsetWidth),
a.userPositioned&&(a._Box.style.left=b+"px",a.x=b));"undefined"!=typeof c&&(0>c&&(c=0),a.userPositioned&&(a._Box.style.top=c+"px",a.y=c))}a.pinImg&&(a.pinImg.style.display=a.userPositioned?"block":"none")}};a._VKeyGetTarget=function(a){a=b._GetEventObject(a);if(!a)return null;if(a.target)a=a.target;else if(a.srcElement)a=a.srcElement;else return null;3==a.nodeType&&(a=a.parentNode);"SPAN"==a.tagName&&(a=a.parentNode);return a};a.highlightKey=function(c,b){if(c&&""!=c.className&&!(0<=c.className.indexOf("kmw-key-row"))){var e=
c.className;null!=a.keytip&&0>e.indexOf("kmw-key-shift")&&0>e.indexOf("kmw-spacebar")&&0>c.id.indexOf("popup")?a.showKeyTip(c,b):b&&0>e.indexOf(" kmw-key-touched")?(c.className=e+" kmw-key-touched",a.showKeyTip(null,!1)):c.className=e.replace(" kmw-key-touched","")}};a.showSubKeys=function(c){if(null!=a.keyPending){var b=document.createElement("DIV"),d=a.getDefaultKeyObject();b.id="kmw-popup-keys";a.popupBaseKey=c;"phone"==k.formFactor&&a.prependBaseKey(c);var h=c.id.split("-");var m=h[h.length-1];
if("phone"==k.formFactor&&c.subKeys[0].id!=m){m={id:m,layer:""};1<h.length&&(m.layer=h[0]);for(h=0;h<c.childNodes.length&&!a.hasClass(c.childNodes[h],"kmw-key-text");h++);h<c.childNodes.length&&(m.text=c.childNodes[h].textContent);c.subKeys.splice(0,0,m)}h=b.style;h.bottom=parseInt(c.style.bottom,10)+parseInt(c.style.height,10)+4+"px";h.fontFamily=a.fontFamily;h.fontSize=f.getStyleValue(c,"font-size");h.visibility="hidden";var m=c.subKeys.length;var l=Math.min(Math.ceil(m/9),2);var g=Math.ceil(m/
l);1<l&&(h.width=g*c.offsetWidth+5*g+"px");for(h=0;h<m;h++){var p=c.subKeys[h];var t=document.createElement("DIV");for(var q in d)"string"!=typeof p[q]&&(p[q]=d[q]);t.className="kmw-key-square-ex";t.keyId=p.id;var r=t.style;var w=Math.floor(h/g);1<l&&0<w&&(r.marginTop="5px");t.width="undefined"!=typeof p.width?r.width=parseInt(p.width,10)*c.offsetWidth/100+"px":r.width=c.offsetWidth+"px";r.height=c.offsetHeight+"px";w=document.createElement("DIV");a.setButtonClass(p,w);w.id="string"==typeof p.layer&&
""!=p.layer?"popup-"+p.layer+"-"+p.id:"popup-default-"+p.id;w.key=p;var z=w.style;z.height=r.height;z.width=r.width;z.position="absolute";r=f._CreateElement("SPAN");r.className="kmw-key-text";null==p.text||""==p.text?(r.innerHTML="\u00a0","string"==typeof p.id&&/^U_[0-9A-F]{4}$/i.test(p.id)&&(r.innerHTML=String.fromCharCode(parseInt(p.id.substr(2),16)))):r.innerHTML=p.text;z=r.style;z.fontSize=a.fontSize;"string"==typeof p.font&&""!=p.font&&(z.fontFamily=p.font);"string"==typeof p.fontsize&&0!=p.fontsize&&
(z.fontSize=p.fontsize);w.appendChild(r);t.appendChild(w);b.appendChild(t)}a.showKeyTip(null,!1);a._Box.appendChild(b);h=b.style;d=f._GetAbsoluteX(c)+.5*(c.offsetWidth-b.offsetWidth);q=(f.landscapeView()?screen.height:screen.width)-b.offsetWidth;d>q&&(d=q);0>d&&(d=0);h.left=d+"px";a.popupCallout=a.addCallout(c);h.visibility="visible";b.shim=document.createElement("DIV");b.shim.id="kmw-popup-shim";a._Box.appendChild(b.shim);"phone"==k.formFactor&&(c=b.childNodes[0].firstChild,a.keyPending=c,a.highlightKey(c,
!0))}};a.prependBaseKey=function(c){if(c&&"undefined"!=typeof c.id){var b=c.id.split("-");var d=b[b.length-1],f=1<b.length?b[0]:"";if("undefined"!=typeof c.subKeys&&0<c.subKeys.length&&(c.subKeys[0].id!=d||c.subKeys[0].layer!=f)){d={id:d,layer:""};1<b.length&&(d.layer=b[0]);for(b=0;b<c.childNodes.length&&!a.hasClass(c.childNodes[b],"kmw-key-text");b++);b<c.childNodes.length&&(d.text=c.childNodes[b].textContent);c.subKeys.splice(0,0,d)}}};a.getVKDictionaryCode=function(a){if(!b._ActiveKeyboard.VKDictionary){var c=
[];if("string"==typeof b._ActiveKeyboard.KVKD)for(var d=b._ActiveKeyboard.KVKD.split(" "),f=0;f<d.length;f++)c[d[f]]=f+256;b._ActiveKeyboard.VKDictionary=c}return(a=b._ActiveKeyboard.VKDictionary[a])?a:0};a.selectLayer=function(c,b){var e=2>arguments.length?null:b;"number"==typeof e&&(e=a.getLayerId(e));if(!e)switch(c){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":e="shift";break;case "K_LCONTROL":case "K_RCONTROL":case "K_LCTRL":case "K_RCTRL":case "K_CTRL":e="ctrl";break;case "K_LMENU":case "K_RMENU":case "K_LALT":case "K_RALT":case "K_ALT":e=
"alt";break;case "K_ALTGR":e="ctrlalt";break;case "K_CURRENCIES":case "K_NUMERALS":case "K_SHIFTED":case "K_UPPER":case "K_LOWER":case "K_SYMBOLS":e="default"}if(!e||e==a.layerId&&"desktop"!=k.formFactor)return!1;a.updateLayer(e);a._Show();return!0};a.defaultKeyOutput=function(c,b,d){var e=0;"U_"==c.substr(0,2)&&b>a.keyCodes.K_SPACE&&!(127<b&&160>b)?e=String.fromCharCode(b):b>=a.keyCodes.K_0&&b<=a.keyCodes.K_9?e=g[d][0][b-a.keyCodes.K_0]:b>=a.keyCodes.K_A&&b<=a.keyCodes.K_Z?e=String.fromCharCode(b+
(d?0:32)):b>=a.keyCodes.K_COLON&&b<=a.keyCodes.K_BKQUOTE?e=g[d][1][b-a.keyCodes.K_COLON]:b>=a.keyCodes.K_LBRKT&&b<=a.keyCodes.K_QUOTE&&(e=g[d][2][b-a.keyCodes.K_LBRKT]);return e};a.clickKey=function(c){var e=b._LastActiveElement,d,f=c.id.split("-");if(2>f.length)return!0;"popup"==f[0]&&f.splice(0,1);if(null!=e){var m=f[0];f=f[1];var g=d=a.getModifierState(a.layerId);"undefined"!=typeof c.key&&(g=c.key.nextlayer);null==b._ActiveElement&&(b._ActiveElement=e);if("K_LOPT"==f||"K_ROPT"==f)return a.optionKey(c,
f,!0),!0;a.highlightKey(c,!1);if(a.selectLayer(f,g))return!0;g=e._KeymanWebSelectionStart;d=e._KeymanWebSelectionEnd;var k=b._Selection;b._IsActivatingKeymanWebUI=1;b._IgnoreNextSelChange=100;b._FocusLastActiveElement();b._IsMozillaEditableIframe(e,0)&&(e=e.documentElement);document.selection&&null!=k&&k.select();e._KeymanWebSelectionStart=g;e._KeymanWebSelectionEnd=d;b._IgnoreNextSelChange=0;b._CachedSelectionStart=null;b._DeadkeyDeleteMatched();g={Ltarg:e,Lmodifiers:0,Lcode:a.keyCodes[f],LisVirtualKey:!0};
"U_"==f.substr(0,2)&&(g.LisVirtualKey=!1);"undefined"==typeof g.Lcode&&(g.Lcode=a.getVKDictionaryCode(f),g.Lcode||"U_"!=f.substr(0,2)||(d=parseInt(f.substr(2),16),isNaN(d)||(g.Lcode=d)));d="undefined"==typeof c.key?null:c.key.layer;d=null==d?a.getModifierState(m):a.getModifierState(d);g.Lmodifiers=16*d;b._ActiveKeyboard&&b._ActiveKeyboard.KM?(m=c.firstChild.firstChild.wholeText,g.LisVirtualKey=!1,g.LisVirtualKeyCode=!1,g.vkCode=g.Lcode,g.Lcode!=a.keyCodes.K_SPACE&&(g.Lcode="string"==typeof m&&""!=
m?m.charCodeAt(0):0,160==g.Lcode&&(g.Lcode=0)),g.Lmodifiers=0):g.vkCode=g.Lcode;"undefined"==typeof b._ActiveKeyboard.KM&&(g.Lcode=b._USKeyCodeToCharCode(g),g.LisVirtualKey=!1);if(!b._ActiveKeyboard||0!=g.Lcode&&!b._ActiveKeyboard.gs(e,g))switch(g.Lcode=g.vkCode,f){case "K_BKSP":b.KO(1,b._LastActiveElement,"");break;case "K_TAB":b.moveToNext("shift"==a.layerId);break;case "K_TABBACK":b.moveToNext(!0);break;case "K_TABFWD":b.moveToNext(!1);break;case "K_ENTER":"TEXTAREA"==e.nodeName||"undefined"!=
typeof e.base&&"TEXTAREA"==e.base.nodeName?b.KO(0,e,"\n"):"INPUT"!=e.nodeName||"search"!=e.type&&"submit"!=e.type?"undefined"==typeof e.base||"search"!=e.base.type&&"submit"!=e.base.type?b.moveToNext(!1):(e.base.disabled=!1,e.base.form.submit()):e.form.submit();break;case "K_SPACE":b.KO(0,e," ");break;default:(m=a.defaultKeyOutput(f,g.Lcode,d))&&b.KO(0,e,m)}"undefined"!=typeof c.key&&null!==c.key.nextlayer&&(a.nextLayer=c.key.nextlayer);a.nextLayer!=a.layerId&&(a.layerId=a.nextLayer,a._Show());e._KeymanWebSelectionStart=
null;e._KeymanWebSelectionEnd=null}b._IsActivatingKeymanWebUI=0;return!0};a.getLayerId=function(a){var c="";if(0==a)return"default";a&1&&(c="shift");a&4&&(c="alt"+c);a&2&&(c="ctrl"+c);return c};a.getModifierState=function(a){var c=0;0<=a.indexOf("shift")&&(c+=1);0<=a.indexOf("ctrl")&&(c+=2);0<=a.indexOf("alt")&&(c+=4);return c};a.updateLayer=function(c){var b=a.layerId;var d=c.replace("shift","");d=d.replace("ctrl","");d=d.replace("alt","");if("default"==a.layerId||"numeric"==a.layerId||"symbol"==
a.layerId||"currency"==a.layerId||""!=d)b=c;else{d=a.getModifierState(b);b=b.replace("shift","");b=b.replace("ctrl","");b=b.replace("alt","");switch(c){case "shift":d^=1;break;case "ctrl":d^=2;break;case "alt":d^=4;break;default:b=c}"default"!=b&&(d&1&&(b="shift"+b),d&2&&(b="ctrl"+b),d&4&&(b="alt"+b))}""==b&&(b="default");a.layerId=b.replace("altctrl","ctrlalt");for(c=0;c<a.layers.length;c++)if(a.layerId==a.layers[c].id)return;a.layerId="default"};a.showLanguage=function(){var c="";if(b._ActiveStub){var e=
b._ActiveStub.KL;c=b._ActiveStub.KN}else e=b._ActiveLanguage?b._ActiveLanguage.KN:"English";try{var d=a.spaceBar.firstChild.firstChild;d.parentNode.className="undefined"==typeof d.parentNode.className||""==d.parentNode.className?"kmw-spacebar":d.parentNode.className+" kmw-spacebar";d.className="kmw-spacebar-caption";var c=c.replace(/\s*keyboard\s*/i,""),f="",f=c==e?e:e+" ("+c+")";d.innerHTML!=f&&(d.innerHTML=f)}catch(m){}};a.showLanguageMenu=function(){var c=b._KeyboardStubs;if(!(1>c.length)){var e=
a.lgList=f._CreateElement("DIV");a.lgList.id="kmw-language-menu";e.shim=f._CreateElement("DIV");e.shim.id="kmw-language-menu-background";e.shim.addEventListener("touchstart",function(c){c.preventDefault();a.hideLanguageList();if(2<c.touches.length){var b=c.touches[1].pageX;c=c.touches[1].pageY;b>a.spaceBar.offsetLeft&&b<a.spaceBar.offsetLeft+a.spaceBar.offsetWidth&&c>a.spaceBar.offsetTop&&c<a.spaceBar.offsetTop+a.spaceBar.offsetHeight&&a.showBuild()}},!1);document.body.appendChild(e.shim);var d=f._CreateElement("DIV"),
h=d.style,g=f._CreateElement("DIV");d.id="kmw-menu-scroll-container";g.id="kmw-menu-scroller";"WebkitOverflowScrolling"in h&&(h.WebkitOverflowScrolling="touch");d.appendChild(g);e.appendChild(d);var l,h=f._CreateElement("DIV");h.id="kmw-menu-index";for(l=1;26>=l;l++){var u=f._CreateElement("P");u.innerHTML=String.fromCharCode(l+64);h.appendChild(u)}h.addEventListener("touchstart",function(c){a.scrollToLanguage(c,d,g)},!1);h.addEventListener("touchend",function(a){a.stopPropagation();a.preventDefault()},
!1);e.appendChild(h);e.addEventListener("scroll",function(c){a.lgList.scrolling=!0},!1);d.addEventListener("scroll",function(a){1>d.scrollTop&&(d.scrollTop=1);d.scrollTop>d.scrollHeight-d.offsetHeight-1&&(d.scrollTop=d.scrollHeight-d.offsetHeight-1)},!1);a.lgList.activeLgNo=a.addLanguagesToMenu(g,c);a.lgList.visibility="hidden";document.body.appendChild(a.lgList);"Android"==k.OS&&"devicePixelRatio"in window&&(a.lgList.style.fontSize=2/window.devicePixelRatio+"em");"Android"==k.OS&&"tablet"==k.formFactor&&
"devicePixelRatio"in window&&(l=parseInt(f.getStyleValue(e,"width"),10),c=e.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"),l=parseInt(f.getStyleValue(d,"width"),10),c=d.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"),l=parseInt(f.getStyleValue(g,"width"),10),c=g.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"));a.adjustLanguageMenu(0);c=Math.floor(e.offsetHeight/26);u=Math.round(100*c/(h.childNodes[1].offsetTop-h.childNodes[0].offsetTop))/
100;var p=.6<u?1:2;1.25<u&&(u=1.25);for(l=0;26>l;l++){var t=h.childNodes[l].style;2==p&&1==l%2?t.display="none":(t.fontSize=u*p+"em",t.lineHeight=c*p+"px")}l=d.offsetWidth;d.scrollHeight>d.offsetHeight+3?l+=h.offsetWidth:h.style.display="none";e.style.width=l+"px";a.lgList.visibility="";e=g.firstChild.offsetHeight*a.lgList.activeLgNo+1;d.scrollTop=e;d.scrollTop<e&&(d.scrollTop=d.scrollHeight-d.offsetHeight);d.scrollTop>d.scrollHeight-d.offsetHeight-1&&(d.scrollTop=d.scrollHeight-d.offsetHeight-1)}};
a.adjustLanguageMenu=function(c){var b=a.lgList,d=b.firstChild,h=d.firstChild,g=b.style,b=b.childNodes[1],l=window.innerHeight-a.lgKey.offsetHeight-16,h=(h.childNodes.length+c-1)*h.firstChild.firstChild.offsetHeight;"iOS"==k.OS&&("phone"==k.formFactor?(c=f.landscapeView()?36:0,l=(window.innerHeight-c-16)*f.getViewportScale()):"tablet"==k.formFactor&&(c=f.landscapeView()?16:0,l-=c));g.left=f._GetAbsoluteX(a.lgKey)+"px";h>l&&(h=l);g.height=h+"px";g.top=f._GetAbsoluteY(a._Box)+a._Box.offsetHeight-h+
window.pageYOffset-6+"px";g.bottom="auto";b.style.height=d.style.height=g.height};a.scrollToLanguage=function(a,b,d){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();if("P"==a.touches[0].target.nodeName){var c,e=0;a=a.touches[0].target.innerHTML.charCodeAt(0);var f=d.childNodes;try{for(c=0;c<f.length-1;c++){var n=f[c].firstChild.innerHTML.toUpperCase().charCodeAt(0);if(n>=a)break}}catch(p){}try{e=d.firstChild.offsetHeight*c+1,b.scrollTop=e}catch(p){e=0}try{b.scrollTop<e&&(b.scrollTop=
b.scrollHeight-b.offsetHeight),b.scrollTop>b.scrollHeight-b.offsetHeight-1&&(b.scrollTop=b.scrollHeight-b.offsetHeight-1)}catch(p){}}};a.addLanguagesToMenu=function(c,e){var d=e.length,h,g,l=[];for(g=0;g<d;g++){var u=e[g].KL;-1==l.indexOf(u)&&l.push(u)}l.sort();var p=Math.round(100/f.getViewportScale())/100;u=-1;for(h=0;h<l.length;h++){var t=f._CreateElement("DIV");t.className="kbd-list-closed";var q=f._CreateElement("P");q.kList=[];for(g=0;g<d;g++)e[g].KL==l[h]&&q.kList.push(e[g]);"iOS"==k.OS&&(q.style.fontSize=
p+"em");t.appendChild(q);c.appendChild(t);l[h]==b._ActiveStub.KL&&(u=h);if(1<q.kList.length)for(q.className="kbd-list",q.innerHTML=l[h]+"...",q.scrolled=!1,q.ontouchend=function(c){c.preventDefault();c.stopPropagation();c.target.scrolled?c.target.scrolled=!1:this.parentNode.className="kbd-list-closed"==this.parentNode.className?"kbd-list-open":"kbd-list-closed";a.adjustLanguageMenu("kbd-list-closed"==this.parentNode.className?0:this.kList.length)},q.addEventListener("touchstart",function(a){a.stopPropagation()},
!1),q.addEventListener("touchmove",function(a){a.target.scrolled=!0;a.stopPropagation()},!1),g=0;g<q.kList.length;g++){var r=f._CreateElement("P");r.className="kbd-list-entry";"iOS"==k.OS&&(r.style.fontSize=p+"em");a.addKeyboardToMenu(q.kList[g],r,!1);t.appendChild(r)}else q.innerHTML=l[h],q.className="kbd-single-entry",a.addKeyboardToMenu(q.kList[0],q,!0);h==u&&(q.className+=" current")}e=f._CreateElement("DIV");e.id="kmw-menu-footer";d=function(a){a.preventDefault();a.stopPropagation()};e.addEventListener("touchstart",
d,!1);e.addEventListener("touchmove",d,!1);e.addEventListener("touchend",d,!1);c.appendChild(e);return u};a.addKeyboardToMenu=function(c,e,d){e.kn=c.KI;e.kc=c.KLC;e.innerHTML=d?c.KL:c.KN.replace(" Keyboard","");c=function(c){c.stopPropagation();0>=this.className.indexOf("selected")&&(this.className+=" selected");a.lgList.scrolling=!1;a.lgList.y0=c.touches[0].pageY;return!0};d=function(c){c.stopImmediatePropagation();var b=a.lgList.childNodes[0],e=b.scrollHeight-b.offsetHeight;if("undefined"!=typeof c.pageY)var d=
c.pageY;else if("undefined"!=typeof c.touches)d=c.touches[0].pageY;else return;var f=d-a.lgList.y0;if(0>f)b.scrollTop>=e-1&&(c.preventDefault(),a.lgList.y0=d);else if(0<f)2>b.scrollTop&&(c.preventDefault(),a.lgList.y0=d);else return;if(-5>f||5<f)a.lgList.scrolling=!0,this.className=this.className.replace(/\s*selected/,""),a.lgList.y0=d;return!0};var f=function(c){c.preventDefault();"undefined"!=typeof c.stopImmediatePropagation?c.stopImmediatePropagation():c.stopPropagation();a.lgList.scrolling?this.className=
this.className.replace(/\s*selected/,""):(b.focusing=!0,b.focusTimer=window.setTimeout(function(){b.focusing=!1},1E3),a.lgList.style.display="none",b._SetActiveKeyboard(this.kn,this.kc,!0),b.doKeyboardChange(this.kn,this.kc),b._FocusLastActiveElement(),a.hideLanguageList(),a._Show());return!0};e.onmspointerdown=c;e.addEventListener("touchstart",c,!1);e.onmspointermove=d;e.addEventListener("touchmove",d,!1);e.onmspointerout=f;e.addEventListener("touchend",f,!1)};a.hideLanguageList=function(){a.lgList&&
(a.highlightKey(a.lgKey.firstChild,!1),a.lgList.style.visibility="hidden",window.setTimeout(function(){null!=a.lgList&&"undefined"!=typeof a.lgList&&(document.body.removeChild(a.lgList.shim),document.body.removeChild(a.lgList));a.lgList=null},500))};a._UpdateVKShift=function(c,b,d){var e=0,e=c?c.Lmodifiers/16:d?e|b:e&~b;a.layerId=a.getLayerId(e);a._Visible&&a._Show();return!0};a._CancelMouse=function(a){(a=b._GetEventObject(a))&&a.preventDefault&&a.preventDefault();a&&(a.cancelBubble=!0,a.returnValue=
!1);return!1};a.showLayer=function(c){if(b._ActiveKeyboard)for(var e=0;e<a.layers.length;e++)if(a.layers[e].id==c)return a.layerId=c,a._Show(),!0;return!1};a.getHeight=function(){if("function"==typeof b.getOskHeight)return b.getOskHeight();var a=Math.floor(Math.min(screen.availHeight,screen.availWidth)/2);if("phone"==k.formFactor)var e=Math.min(screen.height,screen.width),d=Math.max(screen.height,screen.width),a=f.portraitView()?Math.floor(Math.max(screen.availHeight,screen.availWidth)/3):d/e*a/1.6;
"iOS"==k.OS&&(a/=f.getViewportScale());"Android"==k.OS&&"phone"==k.formFactor&&"devicePixelRatio"in window&&/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(a*=window.devicePixelRatio);return a};a.getWidth=function(){if("function"==typeof b.getOskWidth)return b.getOskWidth();var a=screen.width;if("Android"==k.OS)try{a=document.documentElement.clientWidth}catch(e){a=screen.availWidth}return a};a.mouseOverMouseDownHandler=function(c){var b=f.eventTarget(c);null!==b&&"desktop"==k.formFactor&&("SPAN"==
b.nodeName&&(b=b.parentNode),"mousedown"==f.eventType(c)?(a.currentKey=b.id,a._CancelMouse(c),a.highlightKey(b,!0)):b.id==a.currentKey&&a.highlightKey(b,!0))};a.mouseUpMouseOutHandler=function(c){var b=f.eventTarget(c);null!==b&&"desktop"==k.formFactor&&("SPAN"==b.nodeName&&(b=b.parentNode),a.highlightKey(b,!1),"mouseup"==f.eventType(c)&&(b.id==a.currentKey&&a.clickKey(b),a.currentKey=""))};a.getDefaultKeyObject=function(){return{text:"",width:"100",pad:"15",sp:"0",layer:null,nextlayer:null}};a.deviceDependentLayout=
function(c,b){var e=f._CreateElement("DIV"),d=e.style,g=0;e.className="kmw-key-layer-group";switch(b){case "phone":case "tablet":g=a.getHeight(),d.height=g+"px"}if(null==c)return e;d.fontSize="undefined"==typeof c.fontsize||null==c.fontsize?"1em":c.fontsize;a.fontSize=d.fontSize;var l;var u=c.layer;var p=a.getDefaultKeyObject();p.fontsize=d.fontSize;for(var t=/\*\w+\*/,g=0;g<u.length;g++){var q=u[g];var r=q.row;for(l=r.length;0<l&&!(0<r[l-1].key.length);l--);l<r.length&&r.splice(l-r.length,r.length-
l)}var w=100/r.length;"desktop"==b&&(w=100/r.length);if("desktop"==b){var z=function(a){return a+"%"};var x=100}else z=function(a){return Math.round(a)+"px"},x=a.getWidth();k.touchable&&"ontouchstart"in window&&(e.addEventListener("touchstart",a.touch,!0),e.addEventListener("touchend",a.release,!1),e.addEventListener("touchmove",a.moveOver,!1));for(g=0;g<u.length;g++){q=u[g];q.aligned=!1;var G=f._CreateElement("DIV");r=G.style;G.className="kmw-key-layer";r.display=0==g?"block":"none";r.height=d.height;
r.fontFamily="font"in c?c.font:"";G.layer=G.nextLayer=q.id;"string"==typeof q.nextlayer&&(G.nextLayer=q.nextlayer);r=q.row;var D=0;for(l=0;l<r.length;l++){var J=0;var y=r[l];var A=y.key;for(y=0;y<A.length;y++){var v=A[y];if(null==v)--A.length;else{var I="string"==typeof v.width&&""!=v.width?parseInt(v.width,10):100;if(isNaN(I)||0==I)I=100;v.width=I.toString();var E="string"==typeof v.pad&&""!=v.pad?parseInt(v.pad,10):15;if(isNaN(E)||0==E)E=15;v.pad=E.toString();J+=I+E}}J>D&&(D=J)}D="desktop"==b?D+
5:D+15;for(l=0;l<r.length;l++){J=f._CreateElement("DIV");J.className="kmw-key-row";J.onmousedown=f.mouseDownPreventDefaultHandler;y=r[l];I=J.style;I.maxHeight=I.height=w+"%";A=y.key;for(y=0;y<A.length;y++){v=A[y];for(var K in p)"string"!=typeof v[K]&&(v[K]=p[K]);switch(v.sp){case "1":t.test(v.text)||""==v.text||(v.sp="3");break;case "2":t.test(v.text)||""==v.text||(v.sp="4")}}for(y=E=0;y<A.length-1;y++){v=Math.round(parseInt(A[y].width,10)*x/D);A[y].widthpc=v;var H=Math.round(parseInt(A[y].pad,10)*
x/D);A[y].padpc=H;E+=H+v}E+=Math.round(15*x/D);1==A.length&&0>parseInt(A[0].pad,10)?(v=Math.round(parseInt(A[0].width,10)*x/D),A[0].widthpc=v,E+=v,A[0].padpc=x-E):0<A.length&&(y=A.length-1,H=Math.round(parseInt(A[y].pad,10)*x/D),A[y].padpc=H,E+=H,A[y].widthpc=x-E);for(y=E=0;y<A.length;y++){v=A[y];H=f._CreateElement("DIV");H.keyId=v.id;H.className="kmw-key-square";var B=H.style;H.width=B.width=z(v.widthpc);"desktop"!=b?(B.left=z(E+A[y].padpc),B.bottom=I.bottom,B.height=I.height):B.marginLeft=z(v.padpc);
E=E+A[y].padpc+A[y].widthpc;var F=f._CreateElement("DIV");a.setButtonClass(v,F,c);"desktop"!=b&&(F.style.left=B.left,F.style.width=B.width);B=null;if(c.keyLabels||"desktop"==b){var C=a.keyCodes[v.id];switch(C){case 186:C=59;break;case 187:C=61;break;case 188:C=44;break;case 189:C=45;break;case 190:C=46;break;case 191:C=47;break;case 192:C=96;break;case 219:C=91;break;case 220:C=92;break;case 221:C=93;break;case 222:C=39;break;default:if(48>C||90<C)C=0}0<C&&(B=f._CreateElement("DIV"),B.className="kmw-key-label",
B.innerHTML=String.fromCharCode(C),F.appendChild(B))}F.id=q.id+"-"+v.id;F.key=v;if("undefined"!=typeof v.sk&&null!=v.sk)for(C=F.subKeys=v.sk,B=0;B<C.length;B++){if("1"==C[B].sp||"2"==C[B].sp)C[B].text=a.renameSpecialKey(C[B].text)}else F.subKeys=null;k.touchable||(F.onmouseover=F.onmousedown=a.mouseOverMouseDownHandler,F.onmouseup=F.onmouseout=a.mouseUpMouseOutHandler);B=f._CreateElement("SPAN");C=B.style;null==v.text||""==v.text?(B.innerHTML="\u00a0","string"==typeof v.id&&/^U_[0-9A-F]{4}$/i.test(v.id)&&
(B.innerHTML=String.fromCharCode(parseInt(v.id.substr(2),16)))):B.innerHTML=v.text;B.className="kmw-key-text";if("1"==v.sp||"2"==v.sp)B.innerHTML=a.renameSpecialKey("*Tab*"==v.text&&1==g?"*TabLeft*":v.text);"font"in v&&(C.fontFamily=v.font);"fontsize"in v&&(C.fontSize=v.fontsize);F.appendChild(B);H.appendChild(F);"undefined"!=typeof v.sk&&null!=v.sk&&(v=f._CreateElement("DIV"),v.className="kmw-key-popup-icon",F.appendChild(v));J.appendChild(H)}G.appendChild(J)}e.appendChild(G)}return e};a.renameSpecialKey=
function(a){for(var c="*Shift* *Enter* *Tab* *BkSp* *Menu* *Hide* *Alt* *Ctrl* *Caps* *ABC* *abc* *123* *Symbol* *Currency* *Shifted* *AltGr* *TabLeft*".split(" "),b=[8,5,6,4,11,10,25,1,3,16,17,19,21,20,8,2,7],d=0;d<c.length;d++)if(a==c[d])return String.fromCharCode(57344+b[d]);return a};a.clearPopup=function(){var c=document.getElementById("kmw-popup-keys");null!=c&&(c.shim&&a._Box.removeChild(c.shim),c.parentNode.removeChild(c));a.popupCallout&&a._Box.removeChild(a.popupCallout);a.popupCallout=
null;a.subkeyDelayTimer&&(window.clearTimeout(a.subkeyDelayTimer),a.subkeyDelayTimer=null);a.popupBaseKey=null};a.touch=function(c){var e=c.changedTouches[0].target,d=a.keyTarget(e);a.touchX=c.changedTouches[0].pageX;a.currentTarget=d;var f=document.getElementById("kmw-popup-keys");if(!(f&&"visible"==f.style.visibility||a.popupVisible)){a.touchCount=c.touches.length;if(d&&0<=d.className.indexOf("key-hidden")||0<=e.className.indexOf("kmw-key-row"))d=a.findNearestKey(c,e);null!=d&&(c=d.id.split("-")[1],
a.highlightKey(d,!0),"K_LOPT"==c||"K_ROPT"==c?(window.setTimeout(function(){a.clickKey(d)},0),a.keyPending=null):"K_BKSP"==c?(b.KO(1,b._LastActiveElement,""),a.deleting=window.setTimeout(a.repeatDelete,500),a.keyPending=null):(a.keyPending?(a.highlightKey(a.keyPending,!1),a.clickKey(a.keyPending),a.clearPopup(),a.touchCount--):a.touchHold(d),a.keyPending=d))}};a.release=function(c){var b=document.getElementById("kmw-popup-keys"),d=a.currentTarget;if(b&&"visible"==b.style.visibility||a.popupVisible){if(0<
c.touches.length)return;if(null==d||0>d.id.indexOf("popup")&&d.id!=a.popupBaseKey.id)a.highlightKey(a.keyPending,!1),a.clearPopup(),a.keyPending=null}d&&d.id&&a.optionKey(c,d.id,!1);d=c.changedTouches[0].pageX;d=2>d&&5<a.touchX||d>window.innerWidth-2&&a.touchX<window.innerWidth-5;b=a.touchCount;0<a.touchCount&&a.touchCount--;a.keyPending?(a.highlightKey(a.keyPending,!1),0>a.keyPending.className.indexOf("hidden")&&0<b&&!d&&a.clickKey(a.keyPending),a.clearPopup(),a.keyPending=null):(b=c.changedTouches[0],
d=a.keyTarget(b.target),d||(d=document.elementFromPoint(b.clientX,b.clientY),d=a.findNearestKey(c,d)),a.highlightKey(d,!1));a.deleting&&window.clearTimeout(a.deleting);a.deleting=0};a.moveOver=function(c){c.preventDefault();c.cancelBubble=!0;"function"==typeof c.stopImmediatePropagation?c.stopImmediatePropagation():"function"==typeof c.stopPropagation&&c.stopPropagation();if(!(1<c.touches.length||0==a.touchCount)){var b="object"==typeof c.touches?c.touches[0].clientX:c.clientX,d="object"==typeof c.touches?
c.touches[0].clientY:c.clientY,f=document.elementFromPoint(b,d),g=a.keyPending,l=a.keyTarget(f);if(l&&0<=l.className.indexOf("key-hidden")||f&&!l&&0<=f.className.indexOf("key-row"))l=a.findNearestKey(c,f);l&&"string"==typeof l.id&&0>l.id.indexOf("BKSP")&&(a.deleting&&window.clearTimeout(a.deleting),a.deleting=0);if(a.popupVisible)null==l?(g&&a.highlightKey(g,!1),a.keyPending=null):l==a.popupBaseKey?(a.hasClass(l,"kmw-key-touched")||a.highlightKey(l,!0),a.keyPending=l):(g&&a.highlightKey(g,!1),a.keyPending=
null);else{(f=document.getElementById("kmw-popup-keys"))&&"visible"==f.style.visibility&&"phone"==k.formFactor&&l==a.popupBaseKey&&(l=f.childNodes[0].firstChild);a.currentTarget=l;g&&l&&l.id!=g.id&&a.highlightKey(g,!1);a.highlightSubKeys(l,b,d);if(f&&"visible"==f.style.visibility){if(l&&0>l.id.indexOf("popup")&&l!=a.popupBaseKey)return;l&&l==a.popupBaseKey&&0>l.className.indexOf("kmw-key-touched")&&a.highlightKey(l,!0)}else g&&c.touches[0].pageY<Math.max(5,a._Box.offsetTop-.25*a._Box.offsetHeight)&&
(a.highlightKey(g,!1),a.showKeyTip(null,!1),a.keyPending=null);l&&a.keyPending&&(a.keyPending=l);a.keyPending&&(g!=l||0>l.className.indexOf("kmw-key-touched"))&&a.highlightKey(l,!0);g&&l&&l!=g&&""!=l.id&&a.touchHold(l)}}};a.hasClass=function(a,b){b=" "+b+" ";return 0<=(" "+a.className+" ").replace(/[\n\t\r\f]/g," ").indexOf(b)};a.keyTarget=function(c){try{if(c){if(a.hasClass(c,"kmw-key"))return c;if(c.parentNode&&a.hasClass(c.parentNode,"kmw-key"))return c.parentNode;if(c.firstChild&&a.hasClass(c.firstChild,
"kmw-key"))return c.firstChild}}catch(e){}return null};a.findNearestKey=function(a,b){if(!a||"undefined"==typeof a.changedTouches||0==a.changedTouches.length)return null;for(a=a.changedTouches[0].pageX;b&&0>b.className.indexOf("key-row");)b=b.parentNode;if(!b)return null;var c,e=0,d=24,f=1E5;for(c=0;c<b.childNodes.length;c++)if(!(0<=b.childNodes[c].firstChild.className.indexOf("key-hidden"))){var g=b.childNodes[c].firstChild.offsetLeft;var k=g+b.childNodes[c].firstChild.offsetWidth;g-=a;0<=g&&g<f&&
(e=c,f=g);g=a-k;0<=g&&g<f&&(e=c,f=g)}return 1E5>f&&(b=b.childNodes[e].firstChild,g=b.offsetLeft,k=g+b.offsetWidth,40<b.offsetWidth&&(d=.6*b.offsetWidth),0<=g-a&&g-a<d||0<=a-k&&a-k<d)?b:null};a.repeatDelete=function(){a.deleting&&(b.KO(1,b._LastActiveElement,""),a.deleting=window.setTimeout(a.repeatDelete,100))};a.setButtonClass=function(c,b,d){var e=0,g="default shift shift-on special special-on    deadkey blank hidden".split(" ");"string"==typeof c.dk&&"1"==c.dk&&(e=8);"string"==typeof c.sp&&(e=
parseInt(c.sp,10));if(0>e||10<e)e=0;d=d||a.layout;b.className=4<d.layer[0].row.length&&"phone"==f.device.formFactor?"kmw-key kmw-5rows kmw-key-"+g[e]:"kmw-key kmw-key-"+g[e]};a.buildDefaultLayout=function(a,e){var c=e;var g=b.dfltLayout;"object"!=typeof g[c]&&(c="desktop");c=f.deepCopy(g[c]);var g=c.layer,m=a.BK,l=a.K102,k,p=/\*\w+\*/,t="default shift ctrl ctrlshift alt altshift ctrlalt ctrlaltshift".split(" ");for(a=0;8>a;a++){0<a&&(g[a]=f.deepCopy(g[0]));g[a].id=t[a];g[a].nextlayer=t[a];for(k=0;k<
g[a].row.length;k++){var q=g[a].row[k];var r=q.key;for(q=0;q<r.length;q++){var w=r[q];switch(w.id){case "K_SHIFT":case "K_LSHIFT":case "K_RSHIFT":1==(a&1)&&(w.sp="2");"desktop"!=e&&0<a&&(w.nextlayer="default");break;case "K_CONTROL":case "K_LCTRL":case "K_LCONTROL":case "K_RCTRL":case "K_RCONTROL":2==(a&2)&&(w.sp="2");break;case "K_ALT":case "K_LALT":case "K_RALT":4==(a&4)&&(w.sp="2")}}}if("undefined"==typeof l||!l)for(k=0;k<g[a].row.length;k++)for(q=0;q<g[a].row[k].key.length;q++)"K_oE2"==g[a].row[k].key[q].id&&
("desktop"==e?(g[a].row[k].key.splice(q,1),g[a].row[k].key[0].width="200"):g[a].row[k].key[q].sp="10")}for(a=0;a<g.length;a++){var z=g[a],x=null,G="",l=z.row;for(k=0;k<l.length;k++)for(r=l[k].key,q=0;q<r.length;q++){w=r[q];var D=d.indexOf(w.id);"undefined"!=typeof m&&0<=D&&D+65*a<m.length&&(w.text=m[D+65*a]);""==w.text&&"K_SPACE"!=w.id&&130>D+65*a&&(w.text="`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "[D+
65*a]);"undefined"==typeof w.text&&(w.text="");"K_SHIFT"==w.id&&(x=w);p.test(w.text)||(G+=w.text)}z.valid=0<G.trim().length;z.shiftKey=x;if("desktop"!=e&&0<a&&null!=x)switch(x.sp="2",x.sk=null,g[a].id){case "ctrl":x.text="*Ctrl*";break;case "alt":x.text="*Alt*";break;case "ctrlalt":x.text="*AltGr*"}}for(a=0;8>a;a++)for(l=g[a].row,k=0;k<l.length;k++)for(r=l[k].key,q=0;q<r.length;q++)if(w=r[q],null!=w.sk){for(m=0;8>m;m++)for(e=0;e<w.sk.length;e++)if(w.sk[e].nextlayer==t[m]){g[m].valid||w.sk.splice(e,
1);break}0==w.sk.length&&(w.sk=null)}return c};a._GenerateVisualKeyboard=function(c,e,d){e=f._CreateElement("DIV");if("object"!=typeof d||null==d)d=a.buildDefaultLayout(c,k.formFactor);a.layout=d;a.layers=d.layer;a.fontFamily="font"in d?d.font:"";d.keyLabels=b._ActiveKeyboard&&"undefined"!=typeof b._ActiveKeyboard.KDU&&b._ActiveKeyboard.KDU;c=a.deviceDependentLayout(d,k.formFactor);a.ddOSK=!0;a.keyMap=c;e.appendChild(c);a._DivVKbdHelp=a._DivVKbd=e;a._Box.className=k.formFactor+" "+k.OS.toLowerCase()+
" kmw-osk-frame";e.className=k.formFactor+" kmw-osk-inner-frame";"desktop"==k.formFactor&&a._Box.appendChild(a.controlBar());a._Box.appendChild(e);"desktop"==k.formFactor?a._Box.appendChild(a.resizeBar()):a.adjustHeights()};b.BuildVisualKeyboard=b.buildOSK=function(c,e,d,f){e=b._ActiveKeyboard;var g="undefined"==typeof d?"desktop":d;f="undefined"==typeof f?"default":f;if(null!=c)for(c=c.toLowerCase().replace("keyboard_",""),d=0;d<b._Keyboards.length;d++)if(c==b._Keyboards[d].KI.toLowerCase().replace("keyboard_",
"")){e=b._Keyboards[d];break}if(!e)return null;d=e.KVKL;c=null;var h=e.KV;"object"==typeof d&&("object"==typeof d[g]&&null!=d[g]?c=d[g]:"phone"==g&&"object"==typeof d.tablet&&null!=d.tablet?c=d.tablet:"tablet"==g&&"object"==typeof d.phone&&null!=d.phone?c=d.phone:"object"==typeof d.desktop&&null!=d.desktop&&(c=d.desktop));null==c&&null!=h&&(c=a.buildDefaultLayout(h,g));null!=c&&(c.keyLabels="undefined"!=typeof e.KDU&&e.KDU);h=a.deviceDependentLayout(c,g);h.className=g+"-static kmw-osk-inner-frame";
if(null!=c){var n,k;for(d=0;d<c.layer.length;d++){e=h.childNodes[d];for(n=0;n<e.childNodes.length;n++)for(g=e.childNodes[n],k=0;k<g.childNodes.length;k++){var t=g.childNodes[k];t.style.height="100%"}e.style.display="number"==typeof f?d==f&&0<=f?"block":"none":"string"==typeof f?c.layer[d].id==f?"block":"none":0==d?"block":"none"}}else h.innerHTML="<p style='color:#c40; font-size:0.5em;margin:10px;'>No "+g+" layout is defined for "+e.KN+".</p>";h.style.border="1px solid #ccc";return h};a.adjustHeights=
function(){if(a._Box&&a._Box.firstChild&&a._Box.firstChild.firstChild&&a._Box.firstChild.firstChild.childNodes){var b=a._Box.firstChild.firstChild.childNodes,d=b[0].childNodes.length,g=a.getHeight(),h=Math.floor(g/(0==d?1:d)),m,l,u;var p=1;"Android"==k.OS&&"devicePixelRatio"in window&&(h/=window.devicePixelRatio);g=d*h;d=a._Box;h=d.style;h.height=h.maxHeight=g+3+"px";d=d.firstChild.firstChild;h=d.style;h.height=h.maxHeight=g+3+"px";"phone"==k.formFactor&&(p=.6);"iOS"==k.OS&&(p/=f.getViewportScale());
h.fontSize=p+"em";var t="iOS"==k.OS&&"phone"==k.formFactor&&f.landscapeView();for(p=0;p<b.length;p++){d=b[p].childNodes.length;h=Math.floor(g/(0==d?1:d));var q=Math.round(.15*h);b[p].style.height=g+3+"px";for(m=0;m<d;m++){var r=b[p].childNodes[m].style;r.bottom=(d-m-1)*h+1+"px";r.maxHeight=r.height=h+"px";var w=b[p].childNodes[m].childNodes;var z=w.length;for(l=0;l<z;l++){var x=w[l];for(u=0;u<x.childNodes.length&&!a.hasClass(x.childNodes[u],"kmw-key");u++);var G=x.childNodes[u].style;G.bottom=r.bottom;
G.height=G.minHeight=h-q+"px";t&&0<u&&(x.childNodes[0].style.fontSize="6px")}}}}};a.controlBar=function(){var c=f._CreateElement("DIV"),d="";c.id="keymanweb_title_bar";c.className="kmw-title-bar";c.onmousedown=a._VMoveMouseDown;b._ActiveKeyboard&&(d=b._ActiveKeyboard.KN);var g=f._CreateElement("SPAN");g.className="kmw-title-bar-caption";g.innerHTML=d;c.appendChild(g);d=a.closeButton=f._CreateElement("DIV");d.id="kmw-close-button";d.className="kmw-title-bar-image";d.onmousedown=a._CancelMouse;d.onclick=
function(){a._Hide(!0)};c.appendChild(d);d=a.helpImg=f._CreateElement("DIV");d.id="kmw-help-image";d.className="kmw-title-bar-image";d.title="KeymanWeb Help";d.onclick=function(){f.callEvent("osk.helpclick",{});window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=a._CancelMouse;c.appendChild(d);d=a.configImg=f._CreateElement("DIV");d.id="kmw-config-image";d.className="kmw-title-bar-image";d.title="KeymanWeb Configuration Options";d.onclick=function(){f.callEvent("osk.configclick",{});
window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=a._CancelMouse;c.appendChild(d);d=a.pinImg=f._CreateElement("DIV");d.id="kmw-pin-image";d.className="kmw-title-bar-image";d.title="Pin the On Screen Keyboard to its default location on the active text box";d.onclick=function(){a.loadCookie();a.userPositioned=!1;a.saveCookie();a._Show();a.doResizeMove();a.pinImg&&(a.pinImg.style.display="none");window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=a._CancelMouse;c.appendChild(d);
return c};a.showBuild=function(){f.alert("KeymanWeb Version "+b.version+"."+b.build+'<br /><br /><span style="font-size:0.8em">Copyright &copy; 2017 SIL International</span>')};a.resizeBar=function(){var b=f._CreateElement("DIV");b.className="kmw-footer";b.onmousedown=a._CancelMouse;var d=f._CreateElement("DIV");d.className="kmw-footer-caption";d.innerHTML='<a href="https://keyman.com/developer/keymanweb/">KeymanWeb</a>';d.id="keymanweb-osk-footer-caption";f.attachDOMEvent(d,"dblclick",function(b){b&&
b.shiftKey&&a.showBuild()},!1);"onselectstart"in d&&(d.onselectstart=f.selectStartHandler);b.appendChild(d);d=f._CreateElement("DIV");d.className="kmw-footer-resize";d.onmousedown=a._VResizeMouseDown;d.onmouseover=d.onmouseout=a._VResizeMouseOut;b.appendChild(d);a.resizeIcon=d;return b};a._VKbdMouseOver=function(a){b._IsActivatingKeymanWebUI=1};a._VKbdMouseOut=function(a){b._IsActivatingKeymanWebUI=0};a._VResizeMouseOver=a._VResizeMouseOut=function(c){c=b._GetEventObject(c);if(!c)return!1;c&&c.preventDefault&&
c.preventDefault();var d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMouseDown=function(c){b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;if(c.pageX){var d=c.pageX;var f=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);a._ResizeMouseX=d;a._ResizeMouseY=f;document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,
a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VOriginalWidth=a._DivVKbd.offsetWidth;a._VOriginalHeight=a._DivVKbd.offsetHeight;document.onmousemove=a._VResizeMouseMove;document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="se-resize");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VResizeMouseMove=function(c){c=b._GetEventObject(c);
if(!c)return!0;a.resizing=1;if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);if(c.pageX){var d=c.pageX;var g=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,g=c.clientY+document.body.scrollTop);d=a._VOriginalWidth+d-a._ResizeMouseX;g=a._VOriginalHeight+g-a._ResizeMouseY;d<.2*screen.width&&(d=.2*screen.width);g<.1*screen.height&&(g=.1*screen.height);d>.9*screen.width&&(d=.9*screen.width);g>.5*screen.height&&(d=.5*screen.height);
a._DivVKbd.style.width=d+"px";a._DivVKbd.style.height=g+"px";a._DivVKbd.style.fontSize=g/8+"px";f.showShim(a._DivVKbd,a.shim,a._DivVKbdHelp);c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VMoveMouseDown=function(c){b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;if(c.pageX){var d=c.pageX;var f=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=
a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VMoveX=d-a._Box.offsetLeft;a._VMoveY=f-a._Box.offsetTop;b.isCJK()&&(a.pinImg.style.left="15px");document.onmousemove=a._VMoveMouseMove;document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="move");c&&c.preventDefault&&c.preventDefault();
c.cancelBubble=!0;return!1};a._VMoveMouseMove=function(c){c=b._GetEventObject(c);if(!c||a.noDrag)return!0;a.resizing=1;a.userPositioned=!0;a.pinImg.style.display="block";if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);if(c.pageX){var d=c.pageX;var g=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,g=c.clientY+document.body.scrollTop);a._Box.style.left=d-a._VMoveX+"px";a._Box.style.top=g-a._VMoveY+"px";a._DivVKbd?f.showShim(a._DivVKbd,
a.shim,a._DivVKbdHelp):f.showShim(a._Box,a.shim);c&&c.preventDefault&&c.preventDefault();d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMoveMouseUp=function(c){c=b._GetEventObject(c);if(!c)return!0;a.resizing=0;a.currentKey=null;document.onmousemove=a._VPreviousMouseMove;document.onmouseup=a._VPreviousMouseUp;document.body.style.cursor&&(document.body.style.cursor=a._VPreviousCursor);b._FocusLastActiveElement();c&&c.preventDefault&&c.preventDefault();b._JustActivatedKeymanWebUI=
0;b._IsActivatingKeymanWebUI=0;a._DivVKbd&&(a._VOriginalWidth=a._DivVKbd.offsetWidth,a._VOriginalHeight=a._DivVKbd.offsetHeight);a.doResizeMove();c.cancelBubble=!0;a.saveCookie();return!1};a.userLocated=function(){return a.userPositioned};a.show=function(b){0<arguments.length?(a._Enabled=b)?a._Show():a._Hide(!0):a._Visible?a._Hide(!0):a._Show()};a.doShow=function(a){return f.callEvent("osk.show",a)};a.doHide=function(a){return f.callEvent("osk.hide",a)};a.doResizeMove=function(a){return f.callEvent("osk.resizemove",
a)};a._Show=function(c,d){if(null!=a._Box&&null!=b._ActiveElement&&(k.touchable||null!=b._ActiveKeyboard&&a._Enabled)){var e=a._Box.style;k.touchable&&""==e.bottom&&(e.visibility="hidden");if(a.ddOSK){var g,m=-1,l=a._DivVKbd.childNodes[0].childNodes;for(g=0;g<l.length;g++)l[g].layer==a.layerId?(l[g].style.display="block",a.nextLayer=a.layerId,a.layerIndex=m=g,"string"==typeof a.layers[g].nextlayer&&(a.nextLayer=a.layers[g].nextlayer)):l[g].style.display="none";k.touchable&&(e.position="fixed",e.left=
e.bottom="0px",e.height=e.maxHeight=a._Box.firstChild.firstChild.style.height,e.border="none",e.borderTop="1px solid gray",a._Enabled=1,a._Visible=1,"phone"==k.formFactor?a._DivVKbd.style.fontSize="120%":"Android"==k.OS&&"tablet"==k.formFactor&&300>parseInt(e.height,10)?a._DivVKbd.style.fontSize="120%":a._DivVKbd.style.fontSize="200%",a.lgKey=a.getSpecialKey(m,"K_LOPT"),a.hkKey=a.getSpecialKey(m,"K_ROPT"),"iOS"==k.OS&&"phone"==k.formFactor&&a.adjustHeights());a.spaceBar=a.getSpecialKey(m,"K_SPACE")}e.display=
"block";a.showLanguage();"desktop"==k.formFactor&&(e.position="absolute",e.display="block",e.left="0px",a.loadCookie(),0<=c?(e.left=c+"px",e.top=d+"px"):a.userPositioned?(e.left=a.x+"px",e.top=a.y+"px"):(c=b._ActiveElement,""!=a.dfltX?e.left=a.dfltX:"undefined"!=typeof c&&null!=c&&(e.left=f._GetAbsoluteX(c)+"px"),""!=a.dfltY?e.top=a.dfltY:"undefined"!=typeof c&&null!=c&&(e.top=f._GetAbsoluteY(c)+c.offsetHeight+"px")),a._Enabled=1,a._Visible=1,a._DivVKbd&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight),
a.saveCookie(),c=a.pinImg,"undefined"!=typeof c&&null!=c&&(c.style.display=a.userPositioned?"block":"none"));"hidden"==e.visibility&&window.setTimeout(function(){a._Box.style.visibility="visible"},0);k.touchable||(e={},e.x=a._Box.offsetLeft,e.y=a._Box.offsetTop,e.userLocated=a.userPositioned,a.doShow(e))}};a.adjustRowLengths=function(b){if(!(0<=b)){var c=a._DivVKbd.childNodes[0].childNodes;if(!(0>b||b>=c.length||c[b].aligned)&&"block"==c[b].style.display){var d=a._DivVKbd.childNodes[0].offsetWidth-
6;"Windows"==k.OS&&(d-=f.landscapeView()?4:40);var g,m=c[b].childNodes;for(g=0;g<m.length;g++){var l=m[g].childNodes;var u=l.length;var p=l[u-2].offsetLeft+l[u-2].offsetWidth;l=l[u-1];l.style.width=d-p+"px"}c[b].aligned=!0}}};a.resetRowLengths=function(){var b,d=a._DivVKbd.childNodes[0].childNodes,f=-1;for(b=0;b<d.length;b++)"block"==d[b].style.display&&(f=b),d[b].aligned=!1;return f};a.getSpecialKey=function(b,d){var c=a._DivVKbd.childNodes[0].childNodes;if(0<=b&&b<c.length)for(b=c[b].childNodes,
c=b[b.length-1].childNodes,b=0;b<c.length;b++)if(c[b].keyId==d)return c[b];return null};a.hide=function(){a._Enabled=0;a._Hide(!0)};a._Hide=function(c){a._Box&&"block"==a._Box.style.display&&a._DivVKbd&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight);if(c)a._Enabled=b.isCJK()||k.touchable?1:0,a.saveCookie();else if("desktop"==k.formFactor&&0<=document.body.className.indexOf("osk-always-visible"))return;a._Visible=0;if(a._Box&&k.touchable&&0<a._Box.offsetHeight){var d=a._Box.style;
d.transition="string"==typeof d.MozBoxSizing?"opacity 0.8s linear":d.msTransition=d.WebkitTransition="opacity 0.5s linear 0";window.setTimeout(function(){var b=a._Box.style;a._Visible?b.transition=b.msTransition=b.MozTransition=b.WebkitTransition="":(b.opacity="0",a._Box.addEventListener("transitionend",a.hideNow,!1),a._Box.addEventListener("webkitTransitionEnd",a.hideNow,!1))},200)}else a._Box&&(a._Box.style.display="none"),f.hideShim(a.shim);d={};d.HiddenByUser=c;a.doHide(d);c&&b._FocusLastActiveElement()};
a.hideNow=function(){a._Box.removeEventListener("transitionend",a.hideNow,!1);a._Box.removeEventListener("webkitTransitionEnd",a.hideNow,!1);var b=a._Box.style;b.display="none";b.opacity="1";a._Visible=0;b.transition=b.msTransition=b.mozTransition=b.WebkitTransition="";a.hkKey&&"undefined"!=typeof a.hkKey&&a.highlightKey(a.hkKey.firstChild,!1)};a.prepare=function(){b.initialized?(a.ready||(a._Box=f._CreateElement("DIV"),document.body.appendChild(a._Box),f.linkStyleSheet(b.getStyleSheetPath("kmwosk.css")),
f.attachDOMEvent(a._Box,"mousedown",function(){b._IsActivatingKeymanWebUI=1}),k.touchable&&(f.attachDOMEvent(a._Box,"touchstart",function(a){b._IsActivatingKeymanWebUI=1;a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchend",function(a){a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchmove",function(a){a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchcancel",function(a){a.preventDefault();a.stopPropagation()}),a.vpScale=f.getViewportScale())),
a.loadCookie(),a.ready=!0):window.setTimeout(a.prepare,200)};a._Load=function(){if(null==a._Box)99<=a.loadRetry||(window.setTimeout(a._Load,100),a.loadRetry++);else{a.loadRetry=0;b._TitleElement&&(b._TitleElement.innerHTML="KeymanWeb");a._Visible=0;a.layerId="default";var c=a._Box.style;c.zIndex="9999";c.display="none";c.width="auto";c.position="desktop"==k.formFactor?"absolute":"fixed";"phone"==k.formFactor&&(c.fontSize="1.6em");a._DivVKbd=a._DivVKbdHelp=null;a._Box.innerHTML="";a._Box.onmouseover=
a._VKbdMouseOver;a._Box.onmouseout=a._VKbdMouseOut;if(null!=b._ActiveKeyboard||k.touchable){var d=null;var g=null,c="";a._Box.className="";if(null!=b._ActiveKeyboard){d=b._ActiveKeyboard.KV;c=b._ActiveKeyboard.KH;var h=b._ActiveKeyboard.KVKL;"undefined"!=typeof h&&null!=h&&(g=h[k.formFactor],"undefined"==typeof g||null==g)&&("phone"==k.formFactor?g=h.tablet:"tablet"==k.formFactor&&(g=h.phone),"undefined"==typeof g||null==g)&&(g=h.desktop)}if(null!=d&&null!=d.BK){h=d.BK;for(var m=!0,l=0;l<h.length;l++)if(0<
h[l].length){m=!1;break}m&&(d=null)}null!=d||""==c||k.touchable?(null==d&&(d={F:"Tahoma",BK:"`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "}),a._GenerateVisualKeyboard(d,c,g)):(a.ddOSK=!1,d=f._CreateElement("DIV"),d.className="kmw-title-bar",d.appendChild(a._TitleBarInterior()),d.onmousedown=a._VMoveMouseDown,a._Box.appendChild(d),d=f._CreateElement("DIV"),d.className="kmw-osk-static",d.innerHTML=c,a._Box.appendChild(d),
b._ActiveKeyboard.KHF&&b._ActiveKeyboard.KHF(a._Box));b._TitleElement&&(b._TitleElement.innerHTML="<span style='font-weight:bold'>"+b._ActiveKeyboard.KN+"</span> - "+b._TitleElement.innerHTML,b._TitleElement.className="",b._TitleElement.style.color="#fff")}else d=f._CreateElement("DIV"),d.className="kmw-title-bar",d.appendChild(a._TitleBarInterior()),d.onmousedown=a._VMoveMouseDown,a._Box.appendChild(d),d=f._CreateElement("DIV"),d.className="kmw-osk-none",a._Box.appendChild(d);a.createKeyTip();c=
a._Box.firstChild;d=" kmw-keyboard-"+(b._ActiveKeyboard?b._ActiveKeyboard.KI.replace("Keyboard_",""):"");"keymanweb_title_bar"==c.id&&(c=c.nextSibling);c.className="kmw-osk-inner-frame"+d;a.appendStyleSheet();a._Enabled&&a._Show()}};a.appendStyleSheet=function(){if(null!=b._ActiveStub){a.styleSheet&&f.removeStyleSheet(a.styleSheet);var c=b._ActiveStub,d=c.KFont,c=c.KOskFont;f.addFontFaceStyleSheet(d);f.addFontFaceStyleSheet(c);b.alignInputs(!1);var g=a.addFontStyle(d,c);null!=b._ActiveKeyboard&&"string"==
typeof b._ActiveKeyboard.KCSS&&(g+=b._ActiveKeyboard.KCSS);a.styleSheet=f.addStyleSheet(g);a.waitForFonts(d,c)&&b.alignInputs(!0)}};a.addFontStyle=function(a,d){var c=b.baseFont;"undefined"!=typeof a&&"undefined"!=typeof a.family&&(c=a.family);var c=c.replace(/\u0022/g,""),e=new RegExp("s?"+c+",?"),f=b.appliedFont.replace(/\u0022/g,""),f=f.replace(e,""),f=f.replace(/,$/,""),f='"'+(""==f?c:c+","+f).replace(/\,\s?/g,'","')+'"',c=".keymanweb-font{\nfont-family:"+f+" !important;\n}\n";"undefined"!=typeof d?
c=c+'.kmw-key-text{\nfont-family:"'+d.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n':"undefined"!=typeof a&&(c=c+'.kmw-key-text{\nfont-family:"'+a.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n');b.appliedFont=f;return c};a._Unload=function(){a._VShift=a._DivVKbd=a._VKeySpans=a._Box=0};a.saveCookie=function(){var b=f.loadCookie("KeymanWeb_OnScreenKeyboard"),d=a.getPos();b.visible=a._Enabled?1:0;b.userSet=a.userPositioned?1:0;b.left=d.left;b.top=d.top;a._DivVKbd&&(b.width=a.width,
b.height=a.height);f.saveCookie("KeymanWeb_OnScreenKeyboard",b)};a.loadCookie=function(){var b=f.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof b||null==b)return a.userPositioned=!1;a._Enabled=f.toNumber(b.visible,!0);a.userPositioned=f.toNumber(b.userSet,!1);a.x=f.toNumber(b.left,-1);a.y=f.toNumber(b.top,-1);var d=f.toNumber(b.width,.3*screen.width),b=f.toNumber(b.height,.15*screen.height);d<.2*screen.width&&(d=.2*screen.width);b<.1*screen.height&&(b=.1*screen.height);d>.9*screen.width&&
(d=.9*screen.width);b>.5*screen.height&&(d=.5*screen.height);a._DivVKbd&&(a._DivVKbd.style.width=d+"px",a._DivVKbd.style.height=b+"px",a._DivVKbd.style.fontSize=b/8+"px");-1!=a.x&&-1!=a.y&&a._Box||(a.userPositioned=!1);a.x<window.pageXOffset-.8*d&&(a.x=window.pageXOffset-.8*d);0>a.y&&(a.x=-1,a.y=-1,a.userPositioned=!1);a.userPositioned&&a._Box&&a.setPos({left:a.x,top:a.y});return!0}}();window.tavultesoft.keymanweb.initialized||function(){var b=window.tavultesoft.keymanweb,a=b.osk,f=b.util,k=f.device;b.fullInitialization=!0;b.embedded=!1;b.setDefaultDeviceOptions=function(a){""==a.attachType&&(a.attachType=k.touchable?"manual":"auto")};f.wait=function(a){var d=b.waiting;if("undefined"!=typeof d&&null!=d&&!b.warned){var c=d.firstChild.childNodes;a?(d.pending=!0,window.setTimeout(function(){d.pending&&(window.scrollTo(0,0),c[0].style.display="none",c[1].className="kmw-wait-text",c[1].innerHTML=
a,c[2].style.display="block",d.style.display="block")},1E3)):d.pending&&(c[1].innerHTML="",d.pending=!1,d.style.display="none")}};b.getStyleSheetPath=function(a){return f.getOption("resources")+"osk/"+a};b.getKeyboardPath=function(a){return(/^(([.]\/)|([.][.]\/)|(\/))|(:)/.test(a)?"":b.options.keyboards)+a};b.KC_=function(a,d,c){var e,f="";var g=c.body?c:c.ownerDocument;if(k.touchable)f=b.getTextBeforeCaret(c);else if(b.legacy)f=c.value;else if(g&&(e=g.defaultView)&&e.getSelection&&("on"==g.designMode.toLowerCase()||
"true"==c.contentEditable||"plaintext-only"==c.contentEditable||""===c.contentEditable))c=e.getSelection(),3==c.focusNode.nodeType&&(f=c.focusNode.substringData(0,c.focusOffset));else if(c.setSelectionRange){if(c._KeymanWebSelectionStart)f=c._KeymanWebSelectionStart;else{if(null===b._CachedSelectionStart||c.selectionStart!==b._LastCachedSelection)b._LastCachedSelection=c.selectionStart,b._CachedSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),b._CachedSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd);
f=b._CachedSelectionStart}f=c.value._kmwSubstr(0,f)}else g&&(e=g.selection)&&(c=e.createRange(),c.moveStart("character",-2*a),f=c.text);f._kmwLength()<a&&(f=Array(a-f._kmwLength()+1).join("\ufffe")+f);return f._kmwSubstr(-a)._kmwSubstr(0,d)};b.alignInputs=function(a){if(k.touchable)for(var d=0;d<b.inputList.length;d++)a?(b.updateInput(b.inputList[d]),b.inputList[d].style.visibility="visible",0<b.inputList[d].base.textContent.length&&(b.inputList[d].base.style.visibility="hidden")):(b.inputList[d].style.visibility=
"hidden",b.inputList[d].base.style.visibility="visible")};a.highlightSubKeys=function(b,d,c){if(null!=b&&null!=b.subKeys){var e,g=document.getElementById("kmw-popup-keys");5<a.touchY-c&&null==g&&(a.subkeyDelayTimer&&window.clearTimeout(a.subkeyDelayTimer),a.showSubKeys(b),g=document.getElementById("kmw-popup-keys"));for(e=0;e<b.subKeys.length;e++)try{var h=g.childNodes[e].firstChild;var k=f._GetAbsoluteX(h);var l=f._GetAbsoluteY(h);var u=k+h.offsetWidth;var p=l+h.offsetHeight;var t=d>k&&d<u&&c>l&&
c<p;a.highlightKey(h,t);t&&a.highlightKey(b,!1)}catch(q){}}};a.optionKey=function(f,d,c){c&&(0<=d.indexOf("K_LOPT")?a.showLanguageMenu():0<=d.indexOf("K_ROPT")&&(b._IsActivatingKeymanWebUI=0,a._Hide(!0),b.hideCaret(),b._LastActiveElement=0))};a.createKeyTip=function(){"phone"==k.formFactor&&(null==a.keytip&&(a.keytip=f._CreateElement("DIV"),a.keytip.className="kmw-keytip",a.keytip.id="kmw-keytip",a.keytip.style.pointerEvents="none",a.keytip.appendChild(f._CreateElement("CANVAS")),a.keytip.appendChild(f._CreateElement("SPAN")),
a.keytip.key=null,a.keytip.state=!1),a._Box.appendChild(a.keytip))};a.showKeyTip=function(b,d){var c=a.keytip;if(null!=c&&(b!=c.key||d!=c.state)){var e=document.getElementById("kmw-popup-keys"),e=e&&"visible"==e.style.visibility;if(d&&!e){for(var g=f._GetAbsoluteY(a._Box),h=a._Box.offsetHeight,e=f._GetAbsoluteX(b),k=f._GetAbsoluteY(b),l=b.offsetWidth,u=b.offsetHeight,p=b.firstChild,t=c.style,q=c.childNodes[1],r=q.style,w=0,z=c.firstChild,x=0;x<b.childNodes.length&&(p=b.childNodes[x],!a.hasClass(p,
"kmw-key-text"));x++);z.width=1.6*l;z.height=2.3*u;t.top="auto";t.bottom=g+h-k-u+"px";t.textAlign="center";t.overflow="visible";t.fontFamily=f.getStyleValue(p,"font-family");t.width=z.width+"px";t.height=z.height+"px";g=f.getStyleInt(p,"font-size");0!=g&&(t.fontSize=1.8*g+"px");q.textContent=p.textContent;r.display="block";r.position="absolute";r.textAlign="center";r.width="100%";r.top="2%";r.bottom="auto";p=(z.width-l)/2;e<p?(w=-1,e+=p):e>window.innerWidth-l-p&&(w=1,e-=p);a.drawPreview(z,l,u,w);
t.left=e-p+"px";t.display="block"}else c.style.display="none";c.key=b;c.state=d}};a.drawPreview=function(a,b,c,e){c=a.getContext("2d");var d=(a.width-b)/2,f=a.height,g=0,l=d,u=b+d;b+=2*d;var p=.5*f,t=.6*f,q=8;"Android"==k.OS&&(q=3);switch(e){case -1:l-=d;u-=d;b-=d;break;case 1:g+=d,l+=d,u+=d}c.clearRect(0,0,a.width,a.height);"Android"==k.OS?(l=u=(l+u)/2,c.fillStyle="#999"):c.fillStyle="#ffffff";c.lineWidth="1";c.strokeStyle="#cccccc";c.save();c.beginPath();c.moveTo(g+q,0);c.arcTo(b,0,b,q,q);"Android"==
k.OS?(c.arcTo(b,p,u,t,q),c.arcTo(u,t,l,t,q)):(c.arcTo(b,p,u,t,q),c.arcTo(u,t,u-q,f,q),c.arcTo(u,f,l,f,q),c.arcTo(l,f,l,t-q,q));c.arcTo(l,t,g,p-q,q);c.arcTo(g,p,g,q,q);c.arcTo(g,0,g+q,0,q);c.fill();c.stroke();c.restore()};a.addCallout=function(b){if("phone"!=k.formFactor||"iOS"!=k.OS)return null;var d=f._CreateElement("DIV"),c=d.style;d.id="kmw-popup-callout";a._Box.appendChild(d);var e=b.offsetLeft,g=b.offsetWidth,h=b.offsetHeight;c.top=b.offsetTop-6+"px";c.left=e+"px";c.width=g+"px";c.height=h+6+
"px";return d};a.touchHold=function(b){a.subkeyDelayTimer&&(window.clearTimeout(a.subkeyDelayTimer),a.subkeyDelayTimer=null);"undefined"!=typeof b.subKeys&&null!=b.subKeys&&(a.subkeyDelayTimer=window.setTimeout(function(){a.clearPopup();a.showSubKeys(b)},a.popupDelay))};b.handleRotationEvents=function(){"iOS"==k.OS&&f.attachDOMEvent(window,"orientationchange",b.rotateDevice);"Android"==k.OS&&(a.wasVisible=a.isVisible,"onmozorientationchange"in screen?f.attachDOMEvent(screen,"mozorientationchange",
a.hideNow):f.attachDOMEvent(window,"orientationchange",a.hideNow),f.attachDOMEvent(window,"resize",function(){b.alignInputs(!0);a.hideLanguageList();a._Load();a.wasVisible&&a._Show()}))};b.rotateDevice=function(b){a.hideLanguageList();a._Visible&&(a.adjustHeights(),"phone"==k.formFactor&&"Android"==k.OS&&window.setTimeout(function(){window.scrollTo(0,1)},1E3))};a.waitForFonts=function(a,d){if("undefined"==typeof a&&"undefined"==typeof d||"undefined"==typeof a.files&&"undefined"==typeof d.files)return!0;
var c=f.checkFontDescriptor(a),e=f.checkFontDescriptor(d);if(c&&e)return!0;b.fontCheckTimer=window.setInterval(function(){f.checkFontDescriptor(a)&&f.checkFontDescriptor(d)&&(window.clearInterval(b.fontCheckTimer),b.fontCheckTimer=null,b.alignInputs(!0))},100);window.setTimeout(function(){b.fontCheckTimer&&(window.clearInterval(b.fontCheckTimer),b.fontCheckTimer=null,b.alignInputs(!0))},5E3);return!1}}();window.tavultesoft.keymanweb.initialized||function(){var b=window.tavultesoft.keymanweb,a=b.util,f=b.osk,k=a.device;b.TSS_LAYER=33;b.TSS_PLATFORM=31;b._BeepObjects=[];b._BeepTimeout=0;b.KSF=b.KSF=function(){b._IgnoreNextSelChange=1};b.KT=b.KT=function(a,d){b.cachedContext.reset();var c=b._LastActiveElement;var e=!1;if(null!=c){e=c._KeymanWebSelectionStart;var f=c._KeymanWebSelectionEnd;var g=b._Selection;b._IsActivatingKeymanWebUI=1;b._IgnoreNextSelChange=100;b._FocusLastActiveElement();b._IsMozillaEditableIframe(c,
0)&&(c=c.documentElement);document.selection&&null!=g&&g.select();c._KeymanWebSelectionStart=e;c._KeymanWebSelectionEnd=f;b._IgnoreNextSelChange=0;null!=a&&b.KO(0,c,a);"undefined"!==typeof d&&null!==d&&b.KDO(0,c,d);c._KeymanWebSelectionStart=null;c._KeymanWebSelectionEnd=null;e=!0}return e};b.KR=b.KR=function(a){if(b.initialized){var d,c=b._ActiveStub;if(!(c&&"KI"in c)||c.KI!=a.KI)for(d=0;d<b._KeyboardStubs.length;d++){c=b._KeyboardStubs[d];if(a.KI==c.KI)break;c=null}null==b._ActiveStub&&null!=c&&
(b._ActiveStub=c);for(d=0;d<b._Keyboards.length;d++)if(a.KI==b._Keyboards[d].KI)return;b._Keyboards=b._push(b._Keyboards,a);b.doKeyboardLoaded(a.KI)}else b.deferredKR.push(a)};b.KRS=b.KRS=function(a){var d;if(!b.initialized)return b.deferredKRS.push(a),null;null==b.dfltStub&&(b.dfltStub=a);"undefined"==typeof a.KLC&&(a.KLC="");"undefined"==typeof a.KL&&(a.KL="undefined");for(d=0;d<b._KeyboardStubs.length;d++)if(b._KeyboardStubs[d].KI==a.KI&&(""==a.KLC||b._KeyboardStubs[d].KLC==a.KLC))return 1;b._KeyboardStubs=
b._push(b._KeyboardStubs,a);b.doKeyboardRegistered(a.KI,a.KL,a.KN,a.KLC);return null};b.KC=b.KC=function(a,d,c){var e=b.cachedContext.get(a,d);if(null!==e)return e;c=b.KC_(a,d,c);b.cachedContext.set(a,d,c);return c};b.KN=b.KN=function(a,b){a=this.KC(a+1,1,b);return!1===a?!0:"\ufffe"===a};b.KCM=b.KCM=function(a,b,c,e){a=this.KC(a,e,b);if(!1!==a&&a===c)return!0;this._DeadkeyResetMatched();return!1};b.KIK=b.KIK=function(a){return b._ActiveKeyboard.KM?!a.LisVirtualKey:b._USKeyCodeToCharCode(a)?!0:!1};
b.KKM=b.KKM=function(a,b,c){var d=0,f=173==a.Lcode?189:a.Lcode;255<a.vkCode&&(f=a.vkCode);if(a.LisVirtualKey||255<f){if(16384==(b&16384)||255<f)d=c==f&&(b&127)==a.Lmodifiers}else 0==(b&16384)&&(d=f==c);d||this._DeadkeyResetMatched();return 0!=d};b.KKI=b.KKI=function(a){var b={};b.vk=a.LisVirtualKey;b.code=a.Lcode;b.modifiers=a.Lmodifiers;return b};b.KDM=b.KDM=function(a,d,c){if(0==b._DeadKeys.length)return!1;a=b._SelPos(d)-a;for(d=0;d<b._DeadKeys.length;d++)if(b._DeadKeys[d].p==a&&b._DeadKeys[d].d==
c)return b._DeadKeys[d].matched=1,!0;this._DeadkeyResetMatched();return!1};b.KBR=b.KBR=function(){b.cachedContext.reset();var a;for(a=b._BeepTimeout=0;a<b._BeepObjects.length;a++)b._BeepObjects[a].e.style.backgroundColor=b._BeepObjects[a].c;b._BeepObjects=[]};b.KB=b.KB=function(a){b.cachedContext.reset();a.body&&(a=a.body);if(a.style&&"undefined"!=typeof a.style.backgroundColor){for(var d=0;d<b._BeepObjects.length;d++)if(b._BeepObjects[d].e==a)return;b._BeepObjects=b._push(b._BeepObjects,{e:a,c:a.style.backgroundColor});
a.style.backgroundColor="#000000";0==b._BeepTimeout&&(b._BeepTimeout=1,window.setTimeout(b.KBR,50))}};b.KA=b.KA=function(a,d,c){if(""==d)return!1;d=c._kmwIndexOf(d);b._AnyIndices[a]=d;return 0<=d};b.KO=b.KO=function(a,d,c){var e;b.cachedContext.reset();if("oninserttext"in b)b.oninserttext(a,c);var f=d.body?d:d.ownerDocument;var g;if(0<=d.className.indexOf("keymanweb-input")){var k=b.getTextBeforeCaret(d);k=0<a?k._kmwSubstr(0,k._kmwLength()-a)+c:k+c;b.setTextBeforeCaret(d,k)}else{if(b.legacy)d.value=
0<a?d.value._kmwSubstr(0,d.value._kmwLength()-a)+c:d.value+c;else if(f&&(g=f.defaultView)&&g.getSelection&&("on"==f.designMode.toLowerCase()||"true"==d.contentEditable||"plaintext-only"==d.contentEditable||""===d.contentEditable)){var l="on"==f.designMode.toLowerCase();l&&(e=b._CacheCommands(f));g=g.getSelection();k=g.focusNode.nodeValue?g.focusNode.substringData(0,g.focusOffset)._kmwLength():0;g.isCollapsed||g.deleteFromDocument();var u=g.getRangeAt(0);0<a&&(u.setStart(g.focusNode,g.focusOffset-
g.focusNode.nodeValue.substr(0,g.focusOffset)._kmwSubstr(-a).length),u.deleteContents());if(0<c._kmwLength())if(3==g.focusNode.nodeType){u=g.focusOffset;g.focusNode.insertData(g.focusOffset,c);try{g.extend(g.focusNode,u+c.length)}catch(t){g.focusNode.parentNode.scrollIntoView(),g.extend(g.focusNode,u+c.length)}}else{var p=f.createTextNode(c);u.insertNode(p);g.extend(p,c.length)}l&&b._CacheCommandsReset(f,e,null);g.collapseToEnd();0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(k,-a+c._kmwLength()))}else if(f&&
(g=f.selection)){if(f.body.isContentEditable||"on"==f.designMode.toLowerCase())e=b._CacheCommands(f);u=g.createRange();""!=u.text?(g.clear(),a=0):u.collapse(!0);0<a?(u.moveStart("character",-2*a),l=u.text._kmwSubstr(-a),u.collapse(!1),u.moveStart("character",-l.length)):a=0;u.text=c;if(f.body.isContentEditable||"on"==f.designMode.toLowerCase())u.moveStart("character",-c.length),b._CacheCommandsReset(f,e,u.select),u.moveStart("character",c.length),u.select();0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(k,
-a+c._kmwLength()));b._Selection=g.createRange();b._Selection.select();b._Selection.scrollIntoView()}else d.setSelectionRange&&(null!=d._KeymanWebSelectionStart?(k=d._KeymanWebSelectionStart,e=d._KeymanWebSelectionEnd):(k=d.value._kmwCodeUnitToCodePoint(d.selectionStart),e=d.value._kmwCodeUnitToCodePoint(d.selectionEnd)),"textarea"==d.type.toLowerCase()&&"undefined"!=typeof d.scrollTop&&(u=d.scrollTop,l=d.scrollLeft),0>a?(d.value=d.value._kmwSubstring(0,k)+c+d.value._kmwSubstring(e),a=0):d.value=
k<a?c+d.value._kmwSubstring(e):d.value._kmwSubstring(0,k-a)+c+d.value._kmwSubstring(e),0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(k,-a+c._kmwLength())),"undefined"!=typeof u&&(d.scrollTop=u,d.scrollLeft=l),a=k-a+c._kmwLength(),a=d.value._kmwCodePointToCodeUnit(a),d.setSelectionRange(a,a),d._KeymanWebSelectionStart=null,d._KeymanWebSelectionEnd=null);"function"==typeof b.refreshElementContent&&b.refreshElementContent(d)}};b.KDO=b.KDO=function(a,d,c){b.cachedContext.reset();var e={};0<=a&&
b.KO(a,d,"");e.p=b._SelPos(d);e.d=c;b._DeadKeys=b._push(b._DeadKeys,e)};b.KIO=b.KIO=function(a,d,c,e){b.cachedContext.reset();b._AnyIndices[c-1]<d._kmwLength()&&b.KO(a,e,d._kmwCharAt(b._AnyIndices[c-1]))};b._CacheCommands=function(a){var d=[["backcolor",1],["fontname",1],["fontsize",1],["forecolor",1],["bold",0],["italic",0],["strikethrough",0],["subscript",0],["superscript",0],["underline",0]];a.defaultView&&b._push(d,["hilitecolor",1]);for(var c=0;c<d.length;c++)b._push(d[c],d[c][1]?a.queryCommandValue(d[c][0]):
a.queryCommandState(d[c][0]));return d};b._CacheCommandsReset=function(a,b,c){for(var d=0;d<b.length;d++)b[d][1]?a.queryCommandValue(b[d][0])!=b[d][2]&&(c&&c(),a.execCommand(b[d][0],!1,b[d][2])):a.queryCommandState(b[d][0])!=b[d][2]&&(c&&c(),a.execCommand(b[d][0],!1,null))};b.KIFS=b.KIFS=function(a,d,c){c=!0;if(a==b.TSS_LAYER)c=f.layerId===d;else if(a==b.TSS_PLATFORM){var e=d.split(" ");for(a=0;a<e.length;a++){d=e[a].toLowerCase();switch(d){case "touch":case "hardware":k.touchable!=("touch"==d)&&
(c=!1)}switch(d){case "windows":case "android":case "ios":case "macosx":case "linux":k.OS.toLowerCase()!=d&&(c=!1)}switch(d){case "tablet":case "phone":case "desktop":k.formFactor!=d&&(c=!1)}switch(d){case "web":"native"==k.browser&&(c=!1);break;case "native":case "ie":case "chrome":case "firefox":case "safari":case "opera":k.browser!=d&&(c=!1)}}}return c};b.KSETS=function(a,d,c){b.cachedContext.reset();return a==b.TSS_LAYER?f.showLayer(d):!1};b.KLOAD=function(f,d,c){b.cachedContext.reset();f=a.loadCookie("KeymanWeb_"+
f+"_Option_"+d);return"undefined"!=typeof f[d]?unescape(f[d]):c};b.KSAVE=function(f,d){b.cachedContext.reset();var c=b._ActiveKeyboard;if(!c||"undefined"==typeof c.KI||""==c.KI)return!1;f="KeymanWeb_"+c.KI+"_Option_"+f;d=escape(d);a.saveCookie(f,d);return!0};b.GetLastActiveElement=function(){return b._LastActiveElement};b.FocusLastActiveElement=function(){b._FocusLastActiveElement()};b.HideHelp=function(){f._Hide(!0)};b.ShowHelp=function(a,b){f._Show(a,b)};b.ShowPinnedHelp=function(){f.userPositioned=
!0;f._Show(-1,-1)};b.cachedContext={_cache:[],reset:function(){this._cache=[]},get:function(a,b){return"undefined"==typeof this._cache[a]||"undefined"==typeof this._cache[a][b]?null:this._cache[a][b]},set:function(a,b,c){"undefined"==typeof this._cache[a]&&(this._cache[a]=[]);this._cache[a][b]=c}}}();window.tavultesoft.keymanweb.initialized||function(){var b=window.tavultesoft.keymanweb,a=b._VKMap_FF_IE={};a.k61=187;a.k59=186;b._VKMap_Opera_IE={};b._VKMap_Safari_IE={};a=b._VKMap={};a.se={};a.se.k220=192;a.se.k187=189;a.se.k219=187;a.se.k221=219;a.se.k186=221;a.se.k191=220;a.se.k192=186;a.se.k189=191;a.uk={};a.uk.k223=192;a.uk.k192=222;a.uk.k222=226;a.uk.k220=220;var a={},f={};a.k192=96;a.k49=49;a.k50=50;a.k51=51;a.k52=52;a.k53=53;a.k54=54;a.k55=55;a.k56=56;a.k57=57;a.k48=48;a.k189=45;a.k187=61;
a.k81=113;a.k87=119;a.k69=101;a.k82=114;a.k84=116;a.k89=121;a.k85=117;a.k73=105;a.k79=111;a.k80=112;a.k219=91;a.k221=93;a.k220=92;a.k65=97;a.k83=115;a.k68=100;a.k70=102;a.k71=103;a.k72=104;a.k74=106;a.k75=107;a.k76=108;a.k186=59;a.k222=39;a.k90=122;a.k88=120;a.k67=99;a.k86=118;a.k66=98;a.k78=110;a.k77=109;a.k188=44;a.k190=46;a.k191=47;f.k192=126;f.k49=33;f.k50=64;f.k51=35;f.k52=36;f.k53=37;f.k54=94;f.k55=38;f.k56=42;f.k57=40;f.k48=41;f.k189=95;f.k187=43;f.k81=81;f.k87=87;f.k69=69;f.k82=82;f.k84=84;
f.k89=89;f.k85=85;f.k73=73;f.k79=79;f.k80=80;f.k219=123;f.k221=125;f.k220=124;f.k65=65;f.k83=83;f.k68=68;f.k70=70;f.k71=71;f.k72=72;f.k74=74;f.k75=75;f.k76=76;f.k186=58;f.k222=34;f.k90=90;f.k88=88;f.k67=67;f.k86=86;f.k66=66;f.k78=78;f.k77=77;f.k188=60;f.k190=62;f.k191=63;b._USCharCode=[a,f];b._USKeyCodeToCharCode=function(a){return b._USCharCode[a.Lmodifiers&16?1:0]["k"+a.Lcode]}}();window.tavultesoft.keymanweb.initialized||(window.tavultesoft.keymanweb.dfltLayout={desktop:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"1",key:[{id:"K_BKQUOTE"},{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"130"}]},{id:"2",key:[{id:"K_TAB",text:"*Tab*",sp:"1",width:"130"},{id:"K_Q"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},
{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{id:"K_BKSLASH"}]},{id:"3",key:[{id:"K_CAPS",text:"*Caps*",sp:"1",width:"165"},{id:"K_A"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"165"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"130"},{id:"K_oE2"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},
{id:"K_RSHIFT",text:"*Shift*",sp:"1",width:"130"}]},{id:"5",key:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"170"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_SPACE",text:"",width:"770"},{id:"K_ALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_RCONTROL",text:"*Ctrl*",sp:"1",width:"170"}]}]}]},tablet:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},
{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},
{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrlalt"}]},{id:"K_LOPT",text:"*Menu*",sp:"1",width:"150"},{id:"K_SPACE",text:"",width:"570"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"150"},{id:"K_ENTER",text:"*Enter*",
sp:"1",width:"200"}]}]}]},phone:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},
{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},
{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrlalt"}]},{id:"K_LOPT",text:"*Menu*",width:"150",sp:"1"},{id:"K_SPACE",width:"570",text:""},{id:"K_BKSP",text:"*BkSp*",width:"150",sp:"1"},{id:"K_ENTER",text:"*Enter*",width:"200",sp:"1"}]}]}]}});(function(){var b=window.tavultesoft.keymanweb,a=window.setInterval(function(){"complete"===document.readyState&&(window.clearInterval(a),b.init(null))},10)})();
