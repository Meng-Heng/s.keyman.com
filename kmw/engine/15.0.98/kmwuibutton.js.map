{"version":3,"file":"kmwuibutton.js","lineCount":15,"mappings":"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","sources":["https://s.keyman.com/kmw/engine/15.0.98/src/kmwuibutton.ts"],"sourcesContent":["/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\n\r\n// If a UI module has been loaded, we can rely on the publically-published \u0027name\u0027 property\r\n// having been set as a way to short-out a UI reload.  Its parent object always exists by\r\n// this point in the build process.\r\nif(!window[\u0027keyman\u0027][\u0027ui\u0027][\u0027name\u0027]) { \r\n\r\n  /********************************/\r\n  /*                              */\r\n  /* Button User Interface Code   */\r\n  /*                              */\r\n  /********************************/\r\n\r\n  /**\r\n   * Do not enclose in an anonymous function, as the compiler may create\r\n   * global scope variables to replace true, false, null, whcih can then collide\r\n   * with other variables.\r\n   * Instead, use the --output-wrapper command during optimization, which will\r\n   * add the anonymous function to enclose all code, including those optimized\r\n   * variables which would otherwise have global scope.\r\n   **/  \r\n\r\n  try {\r\n    // Declare KeymanWeb, OnScreen keyboard and Util objects\r\n    var keymanweb=window[\u0027keyman\u0027],\r\n      util=keymanweb[\u0027util\u0027],dbg=keymanweb[\u0027debug\u0027];\r\n    \r\n    // Disable UI for touch devices\r\n    if(util[\u0027isTouchDevice\u0027]()) throw \u0027\u0027;\r\n    \r\n    // User interface global and variables      \r\n    keymanweb[\u0027ui\u0027] = {};\r\n    var ui=keymanweb[\u0027ui\u0027];\r\n    ui[\u0027name\u0027] = \u0027button\u0027;\r\n  \r\n    ui.init = false;  \r\n    ui.KeyboardSelector = null;\r\n\r\n    ui.KeymanWeb_DefaultKeyboardHelp=\u0027\u003cspan style=\"font-size:7.5pt\"\u003eKeymanWeb is not running.  Choose a keyboard from the list\u003c/span\u003e\u0027;\r\n    ui._KeymanWeb_KbdList = null; \r\n    ui._KMWSel = null; \r\n    ui._IsHelpVisible = false; \r\n    ui._DefaultKeyboardID = \u0027\u0027;\r\n\r\n    ui.updateTimer = null;\r\n    ui.updateList = true;\r\n    \r\n    /**\r\n     * Highlight the currently active keyboard in the list of keyboards\r\n     **/   \r\n    ui._ShowSelected = function()\r\n    {\r\n      var _rv,kbd=keymanweb[\u0027getActiveKeyboard\u0027](),lgc=keymanweb[\u0027getActiveLanguage\u0027](), \r\n        kList = ui._KeymanWeb_KbdList.childNodes,\r\n        _r = /^KMWSel_(.*)\\$(.*)$/;\r\n  \r\n      for(var i=1; i\u003ckList.length; i++)\r\n        kList[i].childNodes[0].className = \u0027\u0027;\r\n        \r\n      for(var i=2; i\u003ckList.length; i++)\r\n      {\r\n        _rv = _r.exec(kList[i].childNodes[0].id);\r\n        if(_rv \u0026\u0026 (_rv[1] == kbd) \u0026\u0026 (_rv[2] == lgc)) break;\r\n      } \r\n      if(i \u003e= kList.length) i=1;      \r\n      kList[i].childNodes[0].className = \u0027selected\u0027; \r\n    } \r\n      \r\n    /**\r\n     * Select keyboard by id\r\n     * \r\n     * @param       {Event}  _id   keyboard selection event\r\n     * @return      {boolean}   \r\n     */\r\n    ui._SelectKeyboard = function(_id)\r\n    { \r\n      if(typeof(_id) == \u0027object\u0027) \r\n      {\r\n        var t=null;\r\n        if((typeof(_id.target) != \u0027undefined\u0027) \u0026\u0026 _id.target) t=_id.target;\r\n        else if((typeof(_id.srcElement) != \u0027undefined\u0027) \u0026\u0026 _id.srcElement) t=_id.srcElement; \r\n        if(t) _id=t.id;\r\n      }\r\n      \r\n      var _r=/^KMWSel_(.*)\\$(.*)$/; \r\n      var _rv=_r.exec(_id),_lgc=\u0027\u0027,_name=\u0027\u0027;\r\n      if(_rv !== null) \r\n      {\r\n        _name = _rv[1].split(\u0027$\u0027)[0]; //new code\r\n        _lgc = _id.split(\u0027$\u0027)[1];  \r\n        if(ui._KMWSel != null) ui._KMWSel.className = \u0027\u0027;\r\n        var _k = document.getElementById(_id); \r\n        if(_k) _k.className=\u0027selected\u0027; \r\n        ui._KMWSel = _k;  \r\n        keymanweb[\u0027setActiveKeyboard\u0027](_name,_lgc);\r\n      }\r\n      else \r\n        _name=null;\r\n      \r\n      keymanweb[\u0027focusLastActiveElement\u0027]();\r\n      let osk = keymanweb.osk;\r\n      if(osk \u0026\u0026 osk[\u0027isEnabled\u0027]()) osk[\u0027show\u0027](true);    \r\n\r\n      ui._ShowKeyboardButton(_name);\r\n      return false;\r\n    } \r\n\r\n    /**\r\n     * Set KMW UI activation state on mouse click\r\n     * \r\n     * @param       {Event}    e     event\r\n     */    \r\n    ui._SelectorMouseDown = function(e)\r\n    { \r\n      var x=keymanweb[\u0027getLastActiveElement\u0027](); \r\n\r\n      // Set the focus to an input field, to get correct OSK display behaviour\r\n      if(!x) ui._FocusFirstInput(); else keymanweb[\u0027focusLastActiveElement\u0027]();\r\n  \r\n      if(keymanweb[\u0027activatingUI\u0027]) keymanweb[\u0027activatingUI\u0027](1);\r\n    }\r\n\r\n    /**\r\n     * Set focus on mouse up\r\n     * \r\n     * @param       {Event}    e     event\r\n     */    \r\n    ui._SelectorMouseUp = function(e)\r\n    { \r\n      var x=keymanweb[\u0027getLastActiveElement\u0027]();\r\n      \r\n      // Set the focus to an input field, to get correct OSK display behaviour\r\n      if(!x) ui._FocusFirstInput(); else keymanweb[\u0027focusLastActiveElement\u0027]();\r\n    }\r\n\r\n    /**\r\n     * Set KMW UI activation state on mouse over\r\n     * \r\n     * @param       {Event}   e     event\r\n     */    \r\n    ui._SelectorMouseOver = function(e)\r\n    {\r\n      // highlight the currently active keyboard\r\n      ui._ShowSelected();\r\n\r\n      if(keymanweb[\u0027activatingUI\u0027]) keymanweb[\u0027activatingUI\u0027](1);\r\n      document.getElementById(\"kmwico_li\").className=\"sfhover\";\r\n\r\n      // Conditionally display keyboard button\r\n      ui._ShowKeyboardButton();\r\n    }\r\n\r\n    /**\r\n     * Sets the focus to the first input or textarea found on the current page\r\n     * to ensure consistent keyboard selection and OSK display behaviour   \r\n     */       \r\n    ui._FocusFirstInput = function()\r\n    {\r\n      var i,ip=null,tp=null,\r\n        iList=document.getElementsByTagName(\"input\"),\r\n        tList=document.getElementsByTagName(\"textarea\");\r\n      \r\n      for(i=0; i\u003ciList.length; i++)\r\n        if(iList[i].type == \u0027text\u0027) break; \r\n      \r\n      if(i \u003c iList.length) ip=iList[i];\r\n      \r\n      if(tList.length \u003e 0) tp = tList[0];\r\n      \r\n      if((!ip) \u0026\u0026 (!tp))\r\n        return;\r\n      else if(ip \u0026\u0026 !tp)\r\n        ip.focus();\r\n      else if(tp \u0026\u0026 !ip)\r\n        tp.focus();\r\n      else if(ip.offsetTop \u003c tp.offsetTop)\r\n        ip.focus();\r\n      else if(ip.offsetTop \u003e tp.offsetTop)\r\n        tp.focus();\r\n      else if(ip.offsetLeft \u003c tp.offsetLeft)\r\n        ip.focus();\r\n      else\r\n        tp.focus();\r\n    }\r\n    \r\n    /**\r\n     * Clear KMW UI activation state on mouse out\r\n     * \r\n     * @param       {Event}    e     event\r\n     */    \r\n    ui._SelectorMouseOut = function(e)\r\n    {\r\n      if(keymanweb[\u0027activatingUI\u0027]) keymanweb[\u0027activatingUI\u0027](0);\r\n      document.getElementById(\"kmwico_li\").className=\"sfunhover\";\r\n    }\r\n\r\n    /**\r\n     * Disable the button to show/hide the OSK if no active keyboard or active keyboard is CJK (user cannot hide)\r\n     * \r\n     * @param       {?string=}  _name     current keyboard name\r\n     */    \r\n    ui._ShowKeyboardButton = function(_name)\r\n    {\r\n      var kbdName = keymanweb[\u0027getActiveKeyboard\u0027](), kbdId=document.getElementById(\"KMW_Keyboard\");\r\n      if(arguments.length \u003e 0) kbdName = _name;\r\n      if(kbdId)\r\n      {\r\n        if((kbdName == \u0027\u0027) || keymanweb[\u0027isCJK\u0027]())\r\n        { \r\n          kbdId.className=\u0027kmw_disabled\u0027;\r\n        } \r\n        else\r\n        {\r\n          let osk = keymanweb.osk;\r\n          kbdId.className = osk \u0026\u0026 osk[\u0027isEnabled\u0027]() ? \u0027kmw_show\u0027 : \u0027kmw_hide\u0027;\r\n        }\r\n      }\r\n    }  \r\n  \r\n    ui.registerEvents = function() {\r\n      let osk = keymanweb.osk;\r\n      if(!osk) {\r\n        return;\r\n      }\r\n      /**\r\n       * UI Functions called by KeymanWeb or OSK\r\n       */     \r\n      osk[\u0027addEventListener\u0027](\u0027show\u0027, function(oskPosition) { \r\n        var t=keymanweb[\u0027getLastActiveElement\u0027]();\r\n        if(t)\r\n        {  \r\n          if(!oskPosition[\u0027userLocated\u0027])\r\n          {\r\n            oskPosition[\u0027x\u0027] = util[\u0027getAbsoluteX\u0027](t);\r\n            oskPosition[\u0027y\u0027] = util[\u0027getAbsoluteY\u0027](t)+t.offsetHeight;\r\n          }\r\n        } \r\n        \r\n        ui._ShowKeyboardButton();\r\n        return oskPosition; \r\n      }); \r\n\r\n      /* TODO: why is this still needed??? Does it actually do anything?? */ \r\n      osk[\u0027addEventListener\u0027](\u0027hide\u0027, function(hiddenByUser) { \r\n        if((arguments.length \u003e 0) \u0026\u0026 hiddenByUser)\r\n        {\r\n          var _a = document.getElementById(\u0027KMW_Keyboard\u0027);\r\n          if(_a) _a.className = \u0027kmw_hide\u0027;\r\n        }    \r\n      }); \r\n    }\r\n    \r\n    /**\r\n     * Show or hide the OSK (always visible for CJK keyboards)\r\n     * \r\n     * @param       {Object}    _anchor     anchor element (?)\r\n     * @return      {boolean}   \r\n     **/   \r\n    ui._ShowKeymanWebKeyboard = function(_anchor) \r\n    { \r\n      var kbdId=document.getElementById(\"KMW_Keyboard\");\r\n      let osk = keymanweb.osk;\r\n\r\n      if((kbdId.className!=\u0027kmw_disabled\u0027) \u0026\u0026 osk \u0026\u0026 osk[\u0027show\u0027]) \r\n      {\r\n        if(osk[\u0027isEnabled\u0027]()) osk[\u0027hide\u0027](); else osk[\u0027show\u0027](true);\r\n      }\r\n      if(window.event) window.event.returnValue=false;\r\n\r\n      keymanweb[\u0027focusLastActiveElement\u0027]();    \r\n      return false;    \r\n    }\r\n\r\n    /**\r\n     * Initialize Button User Interface\r\n     **/   \r\n    ui[\u0027initialize\u0027] = ui.Initialize = function() {\r\n      //Never initialize UI before KMW (parameters will be undefined)\r\n      if(!keymanweb[\u0027initialized\u0027])\r\n      {\r\n        window.setTimeout(ui.Initialize,250); return;\r\n      }\r\n      \r\n      if(ui.init || util[\u0027isTouchDevice\u0027]()) return; \r\n      \r\n      ui.init = true;\r\n          \r\n      util[\u0027addStyleSheet\u0027](ui._Appearance);\r\n    \r\n      ui._KeymanWeb_KbdList = util[\u0027createElement\u0027](\u0027ul\u0027);\r\n      ui._KeymanWeb_KbdList.id = \u0027KeymanWeb_KbdList\u0027;\r\n      \r\n      var _elem = document.getElementById(\u0027KeymanWebControl\u0027);\r\n      if(!_elem)\r\n      {\r\n        var _elems = document.getElementsByTagName(\u0027div\u0027);\r\n        for(var _i = 0; _i \u003c _elems.length; _i++)\r\n        {\r\n          if(_elems[_i].className == \u0027KeymanWebControl\u0027)\r\n          {\r\n            _elem = _elems[_i]; break;\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Insert as first child of body if not defined by user\r\n      if(!_elem \u0026\u0026 (document.body != null))\r\n      {\r\n        _elem=document.createElement(\u0027DIV\u0027);\r\n        _elem.id=\u0027KeymanWebControl\u0027;  \r\n        document.body.insertBefore(_elem,document.body.firstChild);\r\n        ui._insertedElem = _elem;\r\n      }\r\n    \r\n    \r\n      var imgPath=util[\u0027getOption\u0027](\u0027resources\u0027)+\u0027ui/button/\u0027;\r\n      if(_elem)\r\n      { \r\n        // Append another DIV to follow the main control with clear:both to prevent selection over entire width of window\r\n        var dx=document.createElement(\u0027DIV\u0027),ds=dx.style;\r\n        ds.clear=\u0027both\u0027;\r\n        _elem.parentNode.insertBefore(dx,_elem.nextSibling);\r\n      \r\n        var _btn=util[\u0027createElement\u0027](\u0027img\u0027), _ul=util[\u0027createElement\u0027](\u0027ul\u0027),_li0=util[\u0027createElement\u0027](\u0027li\u0027);\r\n        _btn.id = \u0027kmwico_a\u0027;\r\n        _btn.src = imgPath+\u0027kmw_button.gif\u0027;\r\n        _btn.onclick = function(){return false;}  //may want to use this in iOS *****\r\n        _li0.appendChild(_btn);\r\n        _li0.id = \u0027kmwico_li\u0027;\r\n        _ul.appendChild(_li0);\r\n        _ul.id = \u0027kmwico\u0027;\r\n        _ul.style.display = \u0027block\u0027;\r\n        _elem.appendChild(_ul);\r\n      }\r\n      // Do not define any UI behaviour if no controller element can be found\r\n      else return;\r\n\r\n      if(!keymanweb[\u0027iOS\u0027])\r\n      {   \r\n        var _li = util[\u0027createElement\u0027](\u0027li\u0027); \r\n        var _a = util[\u0027createElement\u0027](\u0027a\u0027);\r\n        var _img = util[\u0027createElement\u0027](\u0027img\u0027);\r\n        _img.src = imgPath+\u0027kbdicon.gif\u0027;\r\n        _a.appendChild(_img);\r\n        \r\n        var _txt1 = document.createTextNode(\u0027 Hide Keyboard\u0027);    \r\n        var _txt2 = document.createTextNode(\u0027 Show Keyboard\u0027);\r\n        var _sp1 = util[\u0027createElement\u0027](\u0027span\u0027);\r\n        _sp1.id = \u0027KMW_KbdVisibleMsg\u0027;\r\n        _sp1.appendChild(_txt1);\r\n        _a.appendChild(_sp1);\r\n        \r\n        var _sp2 = util[\u0027createElement\u0027](\u0027span\u0027);\r\n        _sp2.id = \u0027KMW_KbdHiddenMsg\u0027;\r\n        _sp2.appendChild(_txt2);\r\n        _a.appendChild(_sp2);\r\n        _a.onmousedown = ui._ShowKeymanWebKeyboard;\r\n        _a.href = \u0027#\u0027;\r\n        _a.id = \u0027KMW_Keyboard\u0027;\r\n        _li.id = \u0027KMW_ButtonUI_KbdIcon\u0027;\r\n        _li.appendChild(_a);\r\n        ui._KMWSel = _a;\r\n        ui._KeymanWeb_KbdList.appendChild(_li);\r\n      }\r\n\r\n      var _li1 = util[\u0027createElement\u0027](\u0027li\u0027); \r\n      _li1.id = \u0027KMW_ButtonUI_KbdList\u0027; \r\n      var _a1 = util[\u0027createElement\u0027](\u0027a\u0027);\r\n      _a1.appendChild(document.createTextNode(\u0027(System keyboard)\u0027));\r\n\r\n      _a1.onclick = ui._SelectKeyboard;\r\n      _a1.href = \u0027#\u0027; \r\n      _a1.id=\u0027KMWSel_$\u0027;\r\n      _a1.className=\u0027selected\u0027;\r\n      _li1.appendChild(_a1);\r\n      ui._KMWSel = _a1;\r\n      ui._KeymanWeb_KbdList.appendChild(_li1);\r\n\r\n      var _kbds = keymanweb[\u0027getKeyboards\u0027](), _added = []; \r\n\r\n      ui.updateKeyboardList();\r\n          \r\n      document.getElementById(\u0027kmwico_li\u0027).appendChild(ui._KeymanWeb_KbdList);\r\n\r\n      var _sfEl = document.getElementById(\"kmwico_li\");\r\n      util[\u0027attachDOMEvent\u0027](_sfEl,\u0027mousedown\u0027,ui._SelectorMouseDown);\r\n      util[\u0027attachDOMEvent\u0027](_sfEl,\u0027mouseover\u0027,ui._SelectorMouseOver);\r\n      util[\u0027attachDOMEvent\u0027](_sfEl,\u0027mouseout\u0027,ui._SelectorMouseOut);    \r\n      util[\u0027attachDOMEvent\u0027](_sfEl,\u0027mouseup\u0027,ui._SelectorMouseUp);\r\n\r\n      ui.registerEvents();\r\n      keymanweb[\u0027focusLastActiveElement\u0027]();  \t//TODO: this needs to be extended - if no element is active, try and identify an enabled input element\r\n    }\r\n\r\n    ui.shutdown = function() {\r\n      var root = ui._insertedElem;\r\n      if(root) {\r\n        root.parentNode.removeChild(root);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Keyboard registration event handler\r\n     *    \r\n     * Set a timer to update the UI keyboard list on timeout after each keyboard is registered, \r\n     * thus updating only once when only if multiple keyboards are registered together\r\n     */   \r\n    keymanweb[\u0027addEventListener\u0027](\u0027keyboardregistered\u0027, \r\n      function(p)\r\n      {   \r\n          ui.updateList = true;\r\n          if(ui.updateTimer) clearTimeout(ui.updateTimer);\r\n          ui.updateTimer = setTimeout(ui.updateKeyboardList,20);\r\n      });       \r\n\r\n\r\n    /**\r\n     * Update the entire menu when keyboards are registered or deregistered\r\n     **/   \r\n    ui.updateKeyboardList = function()\r\n    {  \r\n      ui.updateList = false;\r\n      \r\n      if(!ui.init) return;\r\n  \r\n      // Clear existing list first (first two nodes must be preserved)\r\n      for(var i:number=ui._KeymanWeb_KbdList.childNodes.length; i\u003e2; i--)\r\n        ui._KeymanWeb_KbdList.removeChild(ui._KeymanWeb_KbdList.childNodes[i-1]);\r\n      \r\n      var kbds=keymanweb[\u0027getKeyboards\u0027]();\r\n      if(kbds.length \u003e 0)\r\n      {\r\n        for(var i:number=0; i\u003ckbds.length; i++)\r\n          ui.registerKeyboard(kbds[i][\u0027InternalName\u0027],kbds[i][\u0027LanguageName\u0027],kbds[i][\u0027Name\u0027],kbds[i][\u0027LanguageCode\u0027],kbds[i][\u0027RegionCode\u0027]);\r\n      }\r\n    } \r\n\r\n    /**\r\n     * As each keyboard stub is registered, append it to the list\r\n     * \r\n     * @param       {string}    Lki     internal name\r\n     * @param       {string}    Lkl     language name\r\n     * @param       {string}    Lkn     keyboard name\r\n     * @param       {string}    Lklc    language code\r\n     * @param       {string}    Lkrc    region code\r\n     **/   \r\n    ui.registerKeyboard = function(Lki,Lkl,Lkn,Lklc,Lkrc)\r\n    {    \r\n      var _li2 = util[\u0027createElement\u0027](\u0027li\u0027),\r\n        _a2 = util[\u0027createElement\u0027](\u0027a\u0027),\r\n        _t = Lkn.replace(/\\s?keyboard/i,\u0027\u0027); \r\n  \r\n      if(Lkl)\r\n      {\r\n        var lg=Lkl.split(\u0027,\u0027)[0];\r\n        if(Lkn.search(lg) == -1)\r\n          _t = lg+\u0027 (\u0027+_t+\u0027)\u0027;\r\n      }   \r\n      if(_t.length \u003e 26) _t=_t.substr(0,24)+\u0027\\u2026\u0027;\r\n      _a2.appendChild(document.createTextNode(_t));      \r\n      _a2.onclick = ui._SelectKeyboard;\r\n      _a2.href = \u0027#\u0027;\r\n      _a2.id=\u0027KMWSel_\u0027+Lki+\u0027$\u0027+Lklc;\r\n      _li2.appendChild(_a2);\r\n      ui._KeymanWeb_KbdList.appendChild(_li2);\r\n    }\r\n    \r\n    // Define appearance of this interface\r\n    ui._Appearance = \r\n      \"#kmwico, #kmwkbd {\"+\r\n        \"vertical-align: middle;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl {float:left;} \"+\r\n      \r\n      \"#KeymanWebControl * \"+\r\n      \"{\"+\r\n        \"letter-spacing: 0px !important;\"+\r\n        \"line-height: 1li !important;\"+\r\n        \"white-space: nowrap !important;\"+\r\n      \"} \"+\r\n                \r\n      \"#KeymanWebControl #kmwico img {\"+\r\n        \"vertical-align: top;\"+\r\n        \"padding: 0;\"+\r\n        \"margin: 0;\"+\r\n        \"border: none;\"+\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico, #kmwico ul {\"+\r\n        \"padding: 0;\"+\r\n        \"margin: 0;\"+\r\n        \"list-style: none;\"+\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico_a {\"+\r\n        \"display: block;\"+\r\n      //\"border: none !important;\"+\r\n        \"width: 22px; height: 23px; \"+                                 /* sizes needed for kmw_button.gif */\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico li { \"+\r\n        \"text-align: left;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #kmwico li ul {\"+\r\n        \"display: block;\"+\r\n        \"position: absolute;\"+\r\n        \"left: -5999px;\"+\r\n        \"border: solid 2px #ad4a28;\"+\r\n        \"background: white;\"+\r\n        \"border-radius: 4px;\"+\r\n        \"box-shadow: 4px 4px 2px #666;\"+\r\n        \"z-index: 10011;\"+ /* above the osk */\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico li.sfunhover ul {\"+\r\n        \"display: none; left: -5999px;\"+\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico li:hover ul, #kmwico li.sfhover ul {\"+\r\n        \"display: block;\"+\r\n        \"left: auto;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #kmwico ul li {\"+\r\n        \"float: none;\"+\r\n        \"padding: 0 !important;\"+\r\n        \"margin: 0 !important;\"+\r\n        \"width: 136px !important;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #KMW_LanguageName {\"+\r\n        \"font-weight: bold;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #kmwico ul li a, #kmwico ul li a:visited {\"+\r\n        \"display: block;\"+\r\n        \"padding: 2px 4px !important;\"+\r\n        \"border: none !important;\"+\r\n      //  \"width: auto;\"+\r\n        \"color: #404040;\"+\r\n        \"font-family: Tahoma,Verdana,Arial,sans-serif;\"+\r\n        \"font-size: 8pt;\"+\r\n        \"text-decoration: none;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #kmwico ul li a.selected {\"+\r\n        \"font-weight: bold;\"+\r\n        \"color: black;\"+\r\n      \"} \"+\r\n    \r\n      \"#KeymanWebControl #kmwico ul li a:hover {\"+\r\n        \"color: white;\"+\r\n        \"background-color: #ad4a28;\"+\r\n      \"} \"+\r\n              \r\n      \"#KeymanWebControl #kmwico ul li a.kmw_disabled, #KeymanWebControl #kmwico ul li a.kmw_disabled:hover {\"+\r\n        \"color: #c0c0c0; cursor: default;\"+\r\n        \"background-color: white;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl #kmwico ul li a.kmw_show span#KMW_KbdHiddenMsg, #KeymanWebControl #kmwico ul li a.kmw_disabled span#KMW_KbdVisibleMsg {\"+\r\n        \"display: none;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl #kmwico ul li a.kmw_show span#KMW_KbdVisibleMsg {\"+\r\n        \"display: inline;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl #kmwico ul li a.kmw_hide span#KMW_KbdHiddenMsg {\"+\r\n        \"display: inline;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl #kmwico ul li a.kmw_hide span#KMW_KbdVisibleMsg {\"+\r\n        \"display: none;\"+\r\n      \"} \"+\r\n\r\n      \"#KeymanWebControl #kmwico ul li#KMW_ButtonUI_KbdIcon {\"+\r\n        \"border-bottom: solid 1px #ad4a28;\"+\r\n      \"} \";   \r\n\r\n    // Initialize after KMW is fully initialized, if UI already loaded\r\n    keymanweb[\u0027addEventListener\u0027](\u0027loaduserinterface\u0027,ui.Initialize);\r\n    \r\n    // but also call initialization when script loaded, which is after KMW initialization for asynchronous script loading\r\n    ui.Initialize();\r\n      \r\n  } catch(err){}\r\n}"],"names":["window","keymanweb","util","dbg","ui","init","KeyboardSelector","KeymanWeb_DefaultKeyboardHelp","_KeymanWeb_KbdList","_KMWSel","_IsHelpVisible","_DefaultKeyboardID","updateTimer","updateList","_ShowSelected","ui._ShowSelected","_rv","kbd","lgc","kList","childNodes","_r","i","length","className","exec","id","_SelectKeyboard","ui._SelectKeyboard","_id","t","target","srcElement","_name","split","_lgc","_k","document","getElementById","osk","_ShowKeyboardButton","_SelectorMouseDown","ui._SelectorMouseDown","e","x","_FocusFirstInput","_SelectorMouseUp","ui._SelectorMouseUp","_SelectorMouseOver","ui._SelectorMouseOver","ui._FocusFirstInput","ip","tp","iList","getElementsByTagName","tList","type","focus","offsetTop","offsetLeft","_SelectorMouseOut","ui._SelectorMouseOut","ui._ShowKeyboardButton","kbdName","kbdId","arguments","registerEvents","ui.registerEvents","oskPosition","offsetHeight","hiddenByUser","_a","_ShowKeymanWebKeyboard","ui._ShowKeymanWebKeyboard","_anchor","event","returnValue","Initialize","ui.Initialize","setTimeout","_Appearance","_elem","_elems","_i","body","createElement","insertBefore","firstChild","_insertedElem","imgPath","dx","style","clear","parentNode","nextSibling","_btn","_ul","_li0","src","onclick","_btn.onclick","appendChild","display","_li","_img","_txt1","createTextNode","_txt2","_sp1","_sp2","onmousedown","href","_li1","_a1","updateKeyboardList","_sfEl","shutdown","ui.shutdown","root","removeChild","p","clearTimeout","ui.updateKeyboardList","kbds","registerKeyboard","ui.registerKeyboard","Lki","Lkl","Lkn","Lklc","Lkrc","_li2","_a2","_t","replace","lg","search","substr","err"],"sourceRoot":"/keyman/web/source/"}
