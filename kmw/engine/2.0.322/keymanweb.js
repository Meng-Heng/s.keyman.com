/*
 (C) 2012 Tavultesoft Pty Ltd

  Adds functions to treat supplementary plane characters in the same 
  way as basic multilingual plane characters in JavaScript.

  Version 0.1

  License

  The contents of this file are subject to the Mozilla Public License
  Version 1.1 (the "License"); you may not use this file except in
  compliance with the License. You may obtain a copy of the License at
  http://www.mozilla.org/MPL/

  Software distributed under the License is distributed on an "AS IS"
  basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  License for the specific language governing rights and limitations
  under the License.

  The Original Code is (C) 2012 Tavultesoft Pty Ltd.

  The Initial Developer of the Original Code is Tavultesoft.
*/
String.kmwFromCharCode=function(a){var b=[],c;for(c=0;c<arguments.length;c++){var d=Number(arguments[c]);if(!isFinite(d)||0>d||1114111<d||Math.floor(d)!==d)throw new RangeError("Invalid code point "+d);65536>d?b.push(d):(d-=65536,b.push((d>>10)+55296),b.push(d%1024+56320))}return String.fromCharCode.apply(void 0,b)};
String.prototype.kmwCharCodeAt=function(a){var b=""+this,c=0;if(0>a||a>=b.length)return NaN;for(var d=0;d<a;d++)if(c=b.kmwNextChar(c),null===c)return NaN;a=b.charCodeAt(c);return 55296<=a&&(56319>=a&&b.length>c+1)&&(b=b.charCodeAt(c+1),56320<=b&&57343>=b)?(a-55296<<10)+(b-56320)+65536:a};String.prototype.kmwIndexOf=function(a,b){var c=""+this,d=c.indexOf(a,b);if(0>d)return d;for(var e=0,f=0;null!==f&&f<d;f=c.kmwNextChar(f))e++;return e};
String.prototype.kmwLastIndexOf=function(a,b){var c=""+this,d=c.lastIndexOf(a,b);if(0>d)return d;for(var e=0,f=0;null!==f&&f<d;f=c.kmwNextChar(f))e++;return e};String.prototype.kmwLength=function(){var a=""+this;if(0==a.length)return 0;for(var b=0,c=0;null!==c;b++)c=a.kmwNextChar(c);return b};String.prototype.kmwSlice=function(a,b){var c=""+this,d=c.kmwCodePointToCodeUnit(a),e=c.kmwCodePointToCodeUnit(b);return null===d||null===e?"":c.slice(d,e)};
String.prototype.kmwSubstr=function(a,b){var c=""+this;0>a&&(a=c.kmwLength()+a);0>a&&(a=0);var d=c.kmwCodePointToCodeUnit(a),e=d;if(null===d)return"";if(2>arguments.length)e=c.length;else for(var f=0;f<b;f++)e=c.kmwNextChar(e);return null===e?c.substring(d):c.substring(d,e)};
String.prototype.kmwSubstring=function(a,b){var c=""+this,d,e;"undefined"==typeof b?(d=c.kmwCodePointToCodeUnit(a),e=c.length):(a>b&&(d=a,a=b,b=d),d=c.kmwCodePointToCodeUnit(a),e=c.kmwCodePointToCodeUnit(b));if(isNaN(d)||null===d)d=0;if(isNaN(e)||null===e)e=c.length;return c.substring(d,e)};
String.prototype.kmwNextChar=function(a){var b=""+this;if(null===a||0>a||a>=b.length-1)return null;var c=b.charCodeAt(a);return 55296<=c&&(56319>=c&&b.length>a+1)&&(c=b.charCodeAt(a+1),56320<=c&&57343>=c)?a==b.length-2?null:a+2:a+1};String.prototype.kmwPrevChar=function(a){var b=""+this;if(null==a||0>=a||a>b.length)return null;var c=b.charCodeAt(a-1);return 56320<=c&&(57343>=c&&1<a)&&(b=b.charCodeAt(a-2),55296<=b&&56319>=b)?a-2:a-1};
String.prototype.kmwCodePointToCodeUnit=function(a){if(null===a)return null;var b=""+this,c=0;if(0>a){for(var c=b.length,d=0;d>a;d--)c=b.kmwPrevChar(c);return c}if(a==b.kmwLength())return b.length;for(d=0;d<a;d++)c=b.kmwNextChar(c);return c};String.prototype.kmwCodeUnitToCodePoint=function(a){var b=""+this;return null===a?null:0==a?0:0>a?b.substr(a).kmwLength():b.substr(0,a).kmwLength()};String.prototype.kmwCharAt=function(a){return 0<=a?(""+this).kmwSubstr(a,1):""};
String.prototype.kmwBMPNextChar=function(a){return 0>a||a>=(""+this).length-1?void 0:a+1};String.prototype.kmwBMPPrevChar=function(a){return 0>=a||a>(""+this).length?void 0:a-1};String.prototype.kmwBMPCodePointToCodeUnit=function(a){return a};String.prototype.kmwBMPCodeUnitToCodePoint=function(a){return a};String.prototype.kmwBMPLength=function(){return(""+this).length};String.prototype.kmwBMPSubstr=function(a,b){var c=""+this;return-1<a?c.substr(a,b):c.substr(c.length+a,-a)};
String.kmwEnableSupplementaryPlane=function(a){var b=String.prototype;String._kmwFromCharCode=a?String.kmwFromCharCode:String.fromCharCode;b._kmwCharAt=a?b.kmwCharAt:b.charAt;b._kmwCharCodeAt=a?b.kmwCharCodeAt:b.charCodeAt;b._kmwIndexOf=a?b.kmwIndexOf:b.indexOf;b._kmwLastIndexOf=a?b.kmwLastIndexOf:b.lastIndexOf;b._kmwSlice=a?b.kmwSlice:b.slice;b._kmwSubstring=a?b.kmwSubstring:b.substring;b._kmwSubstr=a?b.kmwSubstr:b.kmwBMPSubstr;b._kmwLength=a?b.kmwLength:b.kmwBMPLength;b._kmwNextChar=a?b.kmwNextChar:
b.kmwBMPNextChar;b._kmwPrevChar=a?b.kmwPrevChar:b.kmwBMPPrevChar;b._kmwCodePointToCodeUnit=a?b.kmwCodePointToCodeUnit:b.kmwBMPCodePointToCodeUnit;b._kmwCodeUnitToCodePoint=a?b.kmwCodeUnitToCodePoint:b.kmwBMPCodeUnitToCodePoint};
/*
 KeymanWeb 2.0 Copyright 2010 Tavultesoft Pty Ltd
*/
var __BUILD__=322;
(function(){var b=(window.tavultesoft={}).keymanweb={_TitleElement:null,_Enabled:1,_IE:0,legacy:0,_IsActivatingKeymanWebUI:0,_JustActivatedKeymanWebUI:0,_IgnoreNextSelChange:0,_Selection:null,_SelectionControl:null,_KeyboardStubs:[],dfltStub:null,_Keyboards:[],_ActiveKeyboard:null,_ActiveStub:null,_LoadingInternalName:null,_AnyIndices:[],_DeadKeys:[],_EventHandlers:[],_ActiveControl:null,_Controls:[],_AttachedElements:[],_ActiveElement:null,_LastActiveElement:null,_DfltStyle:"",_MasterDocument:null,
_HotKeys:[],inputList:[],deferredKRS:[],deferredKR:[],loadTimer:null,waiting:null};b.initialized=0;b.build=__BUILD__;b.version="2.0";b.helpURL="http://keyman.com/web/";window.KeymanWeb=b;var g=b.util={};b.osk={ready:!1};b.ui={};b.options={};g.events=[];g.currentEvents=[];g.addEventListener=function(b,a){g.removeEventListener(b,a);g.events[b].push(a);return!0};g.removeEventListener=function(b,a){"undefined"==typeof g.events[b]&&(g.events[b]=[]);for(var f=0;f<g.events[b].length;f++)if(g.events[b][f]==
a)return g.events[b].splice(f,1),!0;return!1};g.callEvent=function(b,a){if("undefined"==typeof g.events[b])return!0;if("undefined"!=typeof g.currentEvents[b])return!1;g.currentEvents.push(b);for(var f=0;f<g.events[b].length;f++){var i=g.events[b][f],c=!1;try{c=i(a)}catch(d){c=!1}if(!c)return g.currentEvents.pop(),!1}g.currentEvents.pop();return!0};g.attachDOMEvent=g.attachDOMEvent=function(l,a,f,i){g.detachDOMEvent(l,a,f,i);l.attachEvent?l.attachEvent("on"+a,f):l.addEventListener&&l.addEventListener(a,
f,i?!0:!1);b._EventHandlers=b._push(b._EventHandlers,{Lelem:l,Lname:a,Lhandler:f,LuseCapture:i?!0:!1})};g.detachDOMEvent=g.detachDOMEvent=function(g,a,f){var i,c;for(i=0;i<b._EventHandlers.length;i++)if(c=b._EventHandlers[i],c.Lname==a&&c.Lelem==g&&c.Lhandler==f){c.Lelem.detachEvent?c.Lelem.detachEvent("on"+c.Lname,c.Lhandler):c.Lelem.removeEventListener&&c.Lelem.removeEventListener(c.Lname,c.Lhandler,c.LuseCapture);b._EventHandlers=b._EventHandlers.slice(0,i).concat(b._EventHandlers.slice(i+1));
break}};g.getOption=g.getOption=function(g,a){return g in b.options?b.options[g]:1<arguments.length?a:""};g.setOption=g.setOption=function(g,a){b.options[g]=a};g.fixPath=function(b){if(0==b.length)return b;var a=b.substr(b.length-1,1);return"/"==a||"\\"==a?b:b+"/"};g.getAbsoluteX=g._GetAbsoluteX=function(l){if(!l)return 0;var a=l.offsetLeft?l.offsetLeft:0,f=l;if(f.offsetParent)for(;f.offsetParent;)f=f.offsetParent,a+=f.offsetLeft;f&&(f.ownerDocument&&l.ownerDocument!=b._MasterDocument)&&(f=f.ownerDocument);
return f&&f.parentWindow&&f.parentWindow.frameElement?a+g._GetAbsoluteX(f.parentWindow.frameElement)-f.documentElement.scrollLeft:f&&f.defaultView&&f.defaultView.frameElement?a+g._GetAbsoluteX(f.defaultView.frameElement)-f.documentElement.scrollLeft:a};g.getAbsoluteY=g._GetAbsoluteY=function(l){if(!l)return 0;var a=l.offsetTop?l.offsetTop:0,f=l;if(f.offsetParent)for(;f.offsetParent;)f=f.offsetParent,a+=f.offsetTop;f&&(f.ownerDocument&&l.ownerDocument!=b._MasterDocument)&&(f=f.ownerDocument);return f&&
f.parentWindow&&f.parentWindow.frameElement?a+g._GetAbsoluteY(f.parentWindow.frameElement)-f.documentElement.scrollTop:f&&f.defaultView&&f.defaultView.frameElement?a+g._GetAbsoluteY(f.defaultView.frameElement)-f.documentElement.scrollTop:a};g.getAbsolute=g._GetAbsolute=function(b){var a={};a.x=g._GetAbsoluteX(b);a.y=g._GetAbsoluteY(b);return a};g.createElement=g._CreateElement=function(b){b=document.createElement(b);"undefined"!=typeof b.onselectstart?(b.unSelectable="on",b.onselectstart=function(){return!1}):
(b.style.MozUserSelect="none",b.style.KhtmlUserSelect="none",b.style.UserSelect="none",b.style.WebkitUserSelect="none");return b};g.getIEVersion=g._GetIEVersion=function(){var b=999;if(document.selection){var a=navigator.appVersion,f=a.indexOf("MSIE ");0<=f&&(b="BackCompat"==document.compatMode?6:parseInt(a.substr(f+5),10),6>b&&(b=6))}return b};g.getDPI=function(){var b=document.createElement("DIV"),a=b.style,f=96;if("complete"!==document.readyState)return f;b.id="calculateDPI";a.position="absolute";
a.display="block";a.visibility="hidden";a.left="10px";a.top="10px";a.width="1in";a.height="10px";document.body.appendChild(b);f="undefined"==typeof window.devicePixelRatio?b.offsetWidth:b.offsetWidth*window.devicePixelRatio;document.body.removeChild(b);return f};g.getStyleValue=function(b,a){if(window.getComputedStyle)return window.getComputedStyle(b,null).getPropertyValue(a);if(b.currentStyle)return b.currentStyle[a]};g.device={touchable:!!("ontouchstart"in window),OS:"",formFactor:"desktop",dyPortrait:0,
dyLandscape:0,app:""};if(navigator&&navigator.userAgent){var h=navigator.userAgent;0<=h.indexOf("iPad")&&(g.device.OS="iOS",g.device.formFactor="tablet",g.device.dyPortrait=g.device.dyLandscape=0);0<=h.indexOf("iPhone")&&(g.device.OS="iOS",g.device.formFactor="phone",g.device.dyPortrait=g.device.dyLandscape=25);0<=h.indexOf("Android")&&(g.device.OS="Android",g.device.formFactor="phone",g.device.dyPortrait=75,g.device.dyLandscape=25);0<=h.indexOf("Windows NT")&&(g.device.OS="Windows",0<=h.indexOf("Tablet PC")&&
(g.device.formFactor="tablet"))}"number"==typeof navigator.msMaxTouchPoints&&(g.device.touchable=!0);h=g.device;"tablet"==h.formFactor&&720>Math.min(screen.width,screen.height)&&(h.formFactor="phone");"phone"==h.formFactor&&720<Math.min(screen.width,screen.height)&&(h.formFactor="tablet");g.isTouchDevice=function(){return g.device.touchable};g.landscapeView=function(){return typeof window.orientation=="undefined"?true:Math.abs(window.orientation/90)==1};g.barHeight=function(){var b=0;g.device.formFactor==
"phone"&&(b=screen.height/2-window.innerHeight-(g.landscapeView()?g.device.dyLandscape:g.device.dyPortrait));return b};g.windowWidth=function(){var b=630;if(document.body&&document.body.offsetWidth)b=document.body.offsetWidth;if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth)b=document.documentElement.offsetWidth;if(window.innerWidth)b=window.innerWidth;return b};g.windowHeight=function(){var b=1024;if(document.body&&document.body.offsetHeight)b=
document.body.offsetHeight;if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetHeight)b=document.documentElement.offsetHeight;if(window.innerHeight)b=window.innerHeight;return b};g._EncodeEntities=function(b){return b.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")};g.createShim=g.createShim=function(){var b=g._CreateElement("IFRAME");b.src="";b.style.display="none";b.style.position="absolute";b.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";
b.frameBorder="0";b.scrolling="no";return b};g.showShim=g.showShim=function(b,a,f){if(a)try{a.style.left=g._GetAbsoluteX(b)+"px";a.style.top=g._GetAbsoluteY(b)+"px";if(f){a.style.width=g._GetAbsoluteX(f)-g._GetAbsoluteX(b)+f.offsetWidth+"px";a.style.height=g._GetAbsoluteY(f)-g._GetAbsoluteY(b)+f.offsetHeight+"px"}else{a.style.width=b.offsetWidth+"px";a.style.height=b.offsetHeight+"px"}a.style.zindex="9999";a.style.display="block"}catch(i){}};g.hideShim=function(b){try{if(b)b.style.display="none"}catch(a){}};
g.rgba=g.rgba=function(b,a,f,i,c){var d="transparent";if(g._GetIEVersion()<9){c=Math.floor(100*c);a=a.toString(16);f=f.toString(16);i=i.toString(16);a=("00"+a).substr(-2);f=("00"+f).substr(-2);i=("00"+i).substr(-2);i=c+a+f+i;b.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+i+",endColorstr=#"+i+")";b.zoom="1"}else try{d="rgba("+a+","+f+","+i+","+c+")"}catch(e){d="rgb("+a+","+f+","+i+")"}return d};g.addStyleSheet=g.addStyleSheet=function(b){var a=document.createElement("STYLE");
a.type="text/css";a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b));b=document.getElementsByTagName("HEAD");b.length>0?b[0].appendChild(a):document.body.appendChild(a);return a};g.removeStyleSheet=g.removeStyleSheet=function(b){if(b==null||typeof b!="object"||b.nodeName!="STYLE"||typeof b.parentNode=="undefined"||b.parentNode==null)return false;b.parentNode.removeChild(b);return true};g.linkStyleSheet=g.linkStyleSheet=function(b){var a=document.getElementsByTagName("head");
if(a.length>0){var f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=b;a[0].appendChild(f)}};g.loadCookie=g.loadCookie=function(b){var a={};if(arguments.length>0){var f=g.loadCookie(),i;for(i in f)if(i==b)for(var c=unescape(f[i]).split(";"),d=0;d<c.length;d++){var e=c[d].split("=");a[e[0]]=e.length>1?e[1]:""}}else if(typeof document.cookie!="undefined"&&document.cookie!=""){f=document.cookie.split(/;\s*/);for(d=0;d<f.length;d++){c=f[d].split("=");c.length==2&&(a[c[0]]=c[1])}}return a};
g.saveCookie=g.saveCookie=function(b,a){var f="",i;for(i in a)f=f+i+"="+a[i]+";";i=(new Date((new Date).valueOf()+2592E6)).toGMTString();document.cookie=b+"="+escape(f)+"; path=/; expires="+i};g.toNumber=g.toNumber=function(b,a){var f=parseInt(b,10);return isNaN(f)?a:f};g.toFloat=g.toFloat=function(b,a){var f=parseFloat(b);return isNaN(f)?a:f};g.toNzString=g.nzString=function(b,a){var f="";arguments.length>1&&(f=a);return typeof b=="undefined"||b==null||b==0||b==""?f:""+b};g.deepCopy=function(b,a){var f=
a||{},i;for(i in b)if(typeof b[i]==="object"){f[i]=b[i].constructor===Array?[]:{};g.deepCopy(b[i],f[i])}else f[i]=b[i];return f};"indexOf"in Array||(Array.prototype.indexOf=function(b,a){for(var f=a||0;f<this.length;f++)if(this[f]==b)return f;return-1});g.eventTarget=function(b){return b&&b.target?b.target:window.event?window.event.srcElement:null};g.eventType=function(b){return b&&b.type?b.type:window.event?window.event.type:""};g.alert=g.alert=function(g,a){var f=b.waiting,i=f.firstChild.childNodes;
i[0].style.display="block";i[1].className="kmw-alert-text";i[1].innerHTML=g;i[2].style.display="none";f.style.display="block";f.dismiss=arguments.length>1?a:null};g.prepareWait=function(){var g=document.createElement("DIV"),a=document.createElement("DIV"),f=document.createElement("DIV"),i=document.createElement("DIV"),c=document.createElement("DIV");g.className="kmw-wait-background";a.className="kmw-wait-box";g.dismiss=null;f.className="kmw-wait-text";i.className="kmw-wait-graphic";c.className="kmw-alert-close";
c.ontouchstart=c.onclick=function(){g.style.display="none";g.dismiss&&g.dismiss()};g.ontouchstart=g.onmousedown=g.onclick=function(b){b.preventDefault();b.stopPropagation()};a.appendChild(c);a.appendChild(f);a.appendChild(i);g.appendChild(a);document.body.appendChild(g);b.waiting=g};g.wait=function(g){var a=b.waiting,f=a.firstChild.childNodes;if(g){a.pending=true;window.setTimeout(function(){if(a.pending){window.scrollTo(0,0);f[0].style.display="none";f[1].className="kmw-wait-text";f[1].innerHTML=
g;f[2].style.display="block";a.style.display="block"}},1E3)}else{f[1].innerHTML="";a.pending=false;a.style.display="none"}};g.myPath=function(){var b,a=document.getElementsByTagName("script"),f;for(b=0;b<a.length;b++){f=a[b];if(f.src.indexOf("keymanweb")>=0)return f.src.substr(0,f.src.lastIndexOf("/")+1)}return""}})();(function(){var b=window.tavultesoft.keymanweb,g=b.osk,h=b.util,l=h.device;b.debug=b.debug=function(a){var c;if(null==b.debugElement){var d=document.createElement("DIV");c=d.style;c.position="absolute";c.width="30%";c.maxHeight="50%";c.top="0";c.right="0";c.minHeight="50px";c.border="1px solid blue";c.whiteSpace="pre-line";c.overflowY="scroll";c=document.createElement("P");c.id="debug_output";c.style.margin="2px";d.appendChild(c);document.body.appendChild(d);b.debugElement=c}if(null!=(c=document.getElementById("debug_output")))if(0==
arguments.length)"undefined"!=typeof c.textContent?c.textContent="":c.innerHTML="";else{var d=(new Date).toTimeString().substr(3,5),e=a,f;if("object"==typeof a)if(null==a)e="null";else{e="{";for(f in a){e=e+f+":";switch(typeof a[f]){case "string":case "number":case "boolean":e+=a[f];break;default:e+=typeof a[f]}e+="; "}2<e.length&&(e=e.substr(0,e.length-2));e+="}"}"undefined"!=typeof c.textContent?c.textContent=d+" "+e+"\n"+c.textContent:c.innerHTML=d+" "+e+"<br />"+c.innerHTML}};b.debugElement=null;
b.addEventListener=function(b,c){return h.addEventListener("kmw."+b,c)};b.setupTouchDevice=function(){b.setFocus=function(c){c.stopPropagation();c.preventDefault();var a=c;"object"==typeof c.touches&&(a=c.touches[0]);var c=a.clientX,d=a.clientY,i=a.target,e;e="SPAN"==i.nodeName?i.parentNode:"KMW_input"==i.className?i.firstChild:i;a=e.parentNode;b._ActiveElement!=a&&(b.hideCaret(),b._ActiveElement=a,a.focus());b.useInternalKeyboard=!1;g.ready&&!g._Visible&&g._Show();if("DIV"==i.nodeName)d=h._GetAbsoluteX(e.firstChild),
"rtl"==a.dir?(d+=e.firstChild.offsetWidth,e=c>d?0:1E5):e=c<d?0:1E5,b.setTextCaret(a,e),b.scrollInput(a);else{var f,q,n,j,k,l,i=e.childNodes[1];f=0;q=b.getText(a)._kmwLength();e=b.getTextCaret(a);j=document.body.scrollTop;if("TEXTAREA"==a.base.nodeName){k=Math.round(a.base.offsetHeight/a.base.rows);for(l=0;16>l;l++){n=h._GetAbsoluteY(i)-j;if(n>d&&e>f&&e!=q)q=e,e=Math.round((e+f)/2);else if(n<d-k&&e<q&&e!=f)f=e,e=Math.round((e+q)/2);else break;b.setTextCaret(a,e)}for(;h._GetAbsoluteY(i)-j>d&&e>f;)b.setTextCaret(a,
--e);for(;h._GetAbsoluteY(i)-j<d-k&&e<q;)b.setTextCaret(a,++e)}if("rtl"==a.dir){for(l=0;16>l;l++){d=h._GetAbsoluteX(i);if(d<c&&e>f&&e!=q)q=e,e=Math.round((e+f)/2);else if(d>c&&e<q&&e!=f)f=e,e=Math.round((e+q)/2);else break;b.setTextCaret(a,e)}for(;h._GetAbsoluteX(i)<c&&e>f;)b.setTextCaret(a,--e);for(;h._GetAbsoluteX(i)>c&&e<q;)b.setTextCaret(a,++e)}else{for(l=0;16>l;l++){d=h._GetAbsoluteX(i);if(d>c&&e>f&&e!=q)q=e,e=Math.round((e+f)/2);else if(d<c&&e<q&&e!=f)f=e,e=Math.round((e+q)/2);else break;b.setTextCaret(a,
e)}for(;h._GetAbsoluteX(i)>c&&e>f;)b.setTextCaret(a,--e);for(;h._GetAbsoluteX(i)<c&&e<q;)b.setTextCaret(a,++e)}}b._ActiveControl=null;b._LastActiveElement=a;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==a){b._ActiveControl=b._Controls[c];break}null!=b._ActiveControl&&null!=b._ActiveControl.LDefaultInternalName&&(b._JustActivatedKeymanWebUI?b._ActiveControl.LDefaultInternalName=null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI:b._SetActiveKeyboard(b._ActiveControl.LDefaultInternalName,
"",!0));!b._IsIEEditableIframe(a,1)||!b._IsMozillaEditableIframe(a,1)?b._DisableInput=1:(b._DisableInput=0,b._JustActivatedKeymanWebUI||(b._DeadKeys=[],b._NotifyKeyboard(0,a,1)),!b._JustActivatedKeymanWebUI&&b._SelectionControl!=a&&(b._IsActivatingKeymanWebUI=0),b._JustActivatedKeymanWebUI=0,b._SelectionControl=a)};b.caret=document.createElement("DIV");var a=b.caret.style;a.position="absolute";a.height="16px";a.width="2px";a.backgroundColor="blue";a.border="none";a.left=a.top=0;a.display="block";
a.visibility="hidden";a.zIndex="9998";b.showCaret=function(c){if(c&&c.firstChild&&!(3>c.firstChild.childNodes.length)){var a=c.firstChild,d=b.caret.style,i=a.childNodes[1];b.caret.parentNode!=a&&a.appendChild(b.caret);d.left=i.offsetLeft+"px";d.top=i.offsetTop+"px";d.height=i.offsetHeight-1+"px";d.visibility="hidden";b.scrollBody(c);b.setScrollBar(c)}};b.setScrollBar=function(b){var c=b.childNodes[0],a=b.childNodes[1].style;(c.offsetWidth>b.offsetWidth||0>c.offsetLeft)&&"TEXTAREA"!=b.base.nodeName?
(a.height="4px",a.width=100*(b.offsetWidth/c.offsetWidth)+"%",a.left=100*(-c.offsetLeft/c.offsetWidth)+"%",a.top="0",a.visibility="visible"):c.offsetHeight>b.offsetHeight||0>c.offsetTop?(a.width="4px",a.height=100*(b.offsetHeight/c.offsetHeight)+"%",a.top=100*(-c.offsetTop/c.offsetHeight)+"%",a.left="0",a.visibility="visible"):a.visibility="hidden"};b.flashCaret=function(){if(l.touchable&&null!=b._ActiveElement){var c=b.caret.style;c.visibility="visible"!=c.visibility?"visible":"hidden"}};b.hideCaret=
function(){var c=b._LastActiveElement;if(c&&"KMW_input"==c.className){c.base.value=b.getText(c);b.setText(c,null,1E5);var a=c.firstChild.style;"TEXTAREA"==c.base.nodeName?a.top="0":a.left="rtl"==c.base.dir?c.offsetWidth-c.firstChild.offsetWidth-8+"px":"0";b.caret.parentNode&&b.caret.parentNode.removeChild(b.caret);b.caret.style.visibility="hidden";1<c.childNodes.length&&(c.childNodes[1].style.visibility="hidden")}};b.timerId=window.setInterval(b.flashCaret,500);b.setText=function(c,a,d){if(c&&0<c.childNodes.length){var i=
c.firstChild,e=0;if(3<=i.childNodes.length){var f=i.childNodes[0],i=i.childNodes[2],q;null===a&&(q="string"==typeof f.textContent?f.textContent:f.innerText,a="string"==typeof i.textContent?i.textContent:i.innerText,a=q+a);0>d&&(d=0);e=a._kmwLength();if(null===d||d>e)d=e;q=a._kmwSubstr(0,d);a=a._kmwSubstr(d);"string"==typeof f.textContent?f.textContent=q:f.innerText=q;"string"==typeof i.textContent?i.textContent=a:i.innerText=a}}b.updateBaseElement(c,e)};b.updateBaseElement=function(c,a){c.base.value=
b.getText(c);c.base.style.visibility=0==a?"visible":"hidden";c.style.backgroundColor=0==a?"transparent":window.getComputedStyle(c.base,null).backgroundColor};b.getText=function(b){return null==b?"":"string"==typeof b.textContent?b.textContent:b.innerText};b.getTextBeforeCaret=function(b){if(b&&1<b.childNodes.length&&(b=b.firstChild,0<b.childNodes.length)){b=b.childNodes[0];if("textContent"in b)return b.textContent;if("innerText"in b)return b.innerText}return""};b.setTextBeforeCaret=function(c,a){if(c&&
0<c.childNodes.length){var d=c.firstChild,i=0;1<d.childNodes.length&&(i=d.childNodes[0],d=d.childNodes[2],"TEXTAREA"!=c.base.nodeName&&(a=a.replace(/\s+$/," ")),"textContent"in i?i.textContent=a:"innerText"in i&&(i.innerText=a),i=a.length,"textContent"in d?i+=d.textContent.length:"innerText"in d&&(i+=d.innerText.length))}b.updateBaseElement(c,i);b.scrollInput(c)};b.getTextCaret=function(c){return b.getTextBeforeCaret(c)._kmwLength()};b.setTextCaret=function(c,a){b.setText(c,null,a);b.showCaret(c)};
b.dragInput=function(c){c.preventDefault();c.stopPropagation();var a="object"==typeof c.targetTouches?c.targetTouches[0].target:c.target;a&&"KMW_input"!=a.className&&(a=a.parentNode);a&&"KMW_input"!=a.className&&(a=a.parentNode);if(!(null==a||"KMW_input"!=a.className)){var d="object"==typeof c.touches?c.touches[0].screenX:c.screenX,i="object"==typeof c.touches?c.touches[0].screenY:c.screenY;if("undefined"==typeof b.firstTouch||null==b.firstTouch)b.firstTouch={x:d,y:i};else{var e=b.firstTouch.x,f=
b.firstTouch.y,c=a.firstChild,q;if("TEXTAREA"==a.base.nodeName){if(d=parseInt(c.style.top,10),isNaN(d)&&(d=0),e=f-i,-4>e||4<e)c.style.top=(d<e?d-e:0)+"px",b.firstTouch.y=i}else if(i=parseInt(c.style.left,10),isNaN(i)&&(i=0),q=e-d,-4>q||4<q)e=0,f=h._GetAbsoluteX(a)+a.offsetWidth-c.offsetWidth-32,"rtl"==a.base.dir?e=16:f-=24,i-=q,i>e&&(i=e),i<f&&(i=f),c.style.left=i+"px",b.firstTouch.x=d}b.setScrollBar(a)}};b.scrollInput=function(c){if(c&&"KMW_input"==c.className&&c.firstChild){var a=c.firstChild;if(!(3>
a.childNodes.length)){var d=a.childNodes[1],i=h._GetAbsoluteX(d),d=h._GetAbsoluteY(d),e=h._GetAbsoluteX(c),f=h._GetAbsoluteY(c),q=parseInt(a.style.left,10),g=parseInt(a.style.top,10),n=0,j=0;isNaN(q)&&(q=0);isNaN(g)&&(g=0);"TEXTAREA"==c.base.nodeName?(i=Math.round(c.offsetHeight/c.base.rows),d<f&&(j=d-f),d>f+c.offsetHeight-i&&(j=d-f-c.offsetHeight+i),0!=j&&(a.style.top=(g<j?g-j:0)+"px")):(i<e+8&&(n=i-e-12),i>e+c.offsetWidth-12&&(n=i-e-c.offsetWidth+12),0!=n&&(a.style.left=(q<n?q-n:0)+"px"));b.showCaret(c)}}};
b.scrollBody=function(c){if(c&&"KMW_input"==c.className&&g.ready){var c=c.firstChild.childNodes[1],b=h._GetAbsoluteY(c),a=window.pageYOffset,d=0;b<a?d=b-a:(d=b-a-(window.innerHeight-g._Box.offsetHeight-c.offsetHeight-2),0>d&&(d=0));0!=d&&window.scrollTo(0,d+window.pageYOffset)}};b.updateInput=function(c){var b=c.style,a=c.base,c=window.getComputedStyle(a,null),d=parseInt(c.marginLeft,10),i=parseInt(c.marginTop,10),e=h._GetAbsoluteX(a),f=h._GetAbsoluteY(a);isNaN(d)&&(d=0);isNaN(i)&&(i=0);b.left=e-
d+"px";b.top=f-i+"px";var d=a.offsetWidth,a=a.offsetHeight,i=parseInt(c.paddingLeft,10),e=parseInt(c.paddingRight,10),f=parseInt(c.paddingTop,10),q=parseInt(c.paddingBottom,10),g=parseInt(c.borderLeft,10),n=parseInt(c.borderRight,10),j=parseInt(c.borderTop,10),c=parseInt(c.borderBottom,10);isNaN(i)||(d-=i);isNaN(e)||(d-=e);isNaN(g)||(d-=g);isNaN(n)||(d-=n);b.width=d+"px";isNaN(f)||(a-=f);isNaN(q)||(a-=q);isNaN(j)||(a-=j);isNaN(c)||(a-=c);b.height=a+"px"};for(var c=0;2>c;c++)for(var d=document.getElementsByTagName(0==
c?"INPUT":"TEXTAREA"),a=0;a<d.length;a++)if(d[a].kmwInput){var e=document.createElement("DIV");e.base=e.base=d[a];d[a].kmw_ip=e;b.inputList.push(e)}for(var f,n,j,k,t,a=0;a<b.inputList.length;a++)e=b.inputList[a],e.className="KMW_input",e.dir=e.base.dir,d=document.createElement("DIV"),c=window.getComputedStyle(e.base,null),f=e.style,f.overflow="hidden",f.position="absolute",f.border="hidden",f.borderRadius="5px",f.padding="8px",f.webkitTapHighlightColor="rgb(0,0,0,0)",e.base.style.webkitTapHighlightColor=
"rgb(0,0,0,0)",k=document.createElement("DIV"),f=k.style,f.position="absolute",f.height=f.width="4px",f.left=f.top="0",f.display="block",f.visibility="hidden",f.backgroundColor="#808080",f.borderRadius="2px",f=document.createElement("SPAN"),n=document.createElement("SPAN"),j=document.createElement("SPAN"),f.innerHTML=n.innerHTML=j.innerHTML="",d.appendChild(f),d.appendChild(j),d.appendChild(n),e.appendChild(d),e.appendChild(k),d=d.style,d.position="absolute",k=f.style,t=n.style,j=j.style,k.border=
t.border="none",k.height=t.height="100%",k.fontFamily=t.fontFamily=d.fontFamily=c.fontFamily,j.border="1px solid red",j.visibility="hidden",j.marginLeft=j.marginRight="-1px",d.padding="0px 2px",e.tabIndex="0",e.style.msTouchAction="none",e.onmspointerdown=e.ontouchstart=e.onfocus=b.setFocus,e.onmspointermove=e.ontouchmove=b.dragInput,f.style.whiteSpace="TEXTAREA"==e.base.nodeName?n.style.whiteSpace="pre-wrap":n.style.whiteSpace="pre",e.base.parentNode.appendChild(e),b.updateInput(e),f=e.style,f.color=
c.color,f.backgroundColor=c.backgroundColor,f.fontFamily=c.fontFamily,f.fontSize=c.fontSize,f.fontWeight=c.fontWeight,f.textDecoration=c.textDecoration,f.padding=c.padding,f.margin=c.margin,f.border=c.border,f.borderRadius=c.borderRadius,"webkitTapHighlightColor"in f&&(f.webkitTapHighlightColor="rgba(0,0,0,0)"),"TEXTAREA"==e.base.nodeName?(2==e.base.rows&&(n=parseInt(c.height,10)-parseInt(c.paddingTop,10)-parseInt(c.paddingBottom,10),c=parseInt(c.fontSize,10),c=Math.round(n/c),c>e.base.rows+1&&(e.base.rows=
c)),d.width=f.width,d.minHeight=f.height):(d.minWidth=f.width,d.height=f.height),e.base.style.visibility="hidden",function(c){c.base.addEventListener("resize",function(){b.updateInput(c)},false)}(e),b.setText(e,e.base.value,null)};b.setupDesktopPage=function(){for(var a=0;2>a;a++)for(var c=document.getElementsByTagName(0==a?"INPUT":"TEXTAREA"),d=0;d<c.length;d++)0>c[d].className.indexOf("kmw-disabled")&&!c[d].readOnly&&b.inputList.push(c[d])};b.setFocus=function(){};b.timerID=null;b.getText=function(){return""};
b.setText=function(){};b.getTextBeforeCaret=function(){return""};b.setTextBeforeCaret=function(){};b.getTextCaret=function(){return 0};b.setTextCaret=function(){};b.hideCaret=function(){};b.flashCaret=function(){};if(document.selection){var a=navigator.appVersion;"undefined"==typeof document.createEventObject&&(0<=a.indexOf("MSIE 5.0")||0<=a.indexOf("MSIE 4.0")||0<=a.indexOf("MSIE 3.0"))?b.legacy=1:0<=a.indexOf("MSIE 6.0")?b._IE=6:0<=a.indexOf("MSIE 7.0")?b._IE=7:0<=a.indexOf("MSIE 8.0")&&(b._IE=
8);b._IE&&"BackCompat"==document.compatMode&&(b._IE=6)}g._BaseLayout="undefined"!==typeof window.KeymanWeb_BaseLayout?window.KeymanWeb_BaseLayout:"us";b._BrowserIsSafari=0<=navigator.userAgent.indexOf("AppleWebKit");b._GetEventObject=function(a){if(!a&&(a=window.event,!a&&(a=b._GetLastActiveElement()))){if(a=a.ownerDocument)a=a.parentWindow;if(!a)return null;a=a.event}return a};b._push=function(b,c){b.push?b.push(c):b=b.concat(c);return b};b._IsAttached=function(a){for(var c=0;c<b._AttachedElements.length;c++)if(b._AttachedElements[c]==
a)return 1;return 0};b.attachToControl=b.attachToControl=function(a){var c=a.attributes.readonly,d=a.className;!("object"==typeof c&&"false"!=c.value)&&!("string"==typeof d&&0<=d.indexOf("kmw-disabled"))&&("iframe"==a.tagName.toLowerCase()?b._AttachToIframe(a):(h.attachDOMEvent(a,"focus",b._ControlFocus),h.attachDOMEvent(a,"blur",b._ControlBlur),a.onkeypress=b._KeyPress,a.onkeydown=b._KeyDown,a.onkeyup=b._KeyUp),b._IsAttached(a)||b._AttachedElements.push(a))};b._AttachToIframe=function(a){try{var c=
a.contentWindow.document;if(c)if(c.parentWindow){if("on"==c.designMode.toLowerCase()||c.body.isContentEditable)h.attachDOMEvent(a,"focus",b._ControlFocus),h.attachDOMEvent(a,"blur",b._ControlBlur),h.attachDOMEvent(c,"keydown",b._KeyDown),h.attachDOMEvent(c,"keypress",b._KeyPress),h.attachDOMEvent(c,"keyup",b._KeyUp),b.legacy||(h.attachDOMEvent(c,"selectionchange",b._SelectionChange),b._SelectionChange())}else"on"==c.designMode.toLowerCase()?(h.attachDOMEvent(c,"focus",b._ControlFocus),h.attachDOMEvent(c,
"blur",b._ControlBlur),h.attachDOMEvent(c,"keydown",b._KeyDown),h.attachDOMEvent(c,"keypress",b._KeyPress),h.attachDOMEvent(c,"keyup",b._KeyUp)):b._AttachToControls(c)}catch(d){}};b.GetEnabled=function(){return b._Enabled};b.SetEnabled=function(a){a=a?1:0;b._Enabled!=a&&(b._Enabled=a,!a&&b.HideInterface&&b.HideInterface())};b.DisableControl=function(a){var c;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==a){b._Controls[c].LEnabled=0;return}b._Controls=b._push(b._Controls,{LControl:a,
LEnabled:0,LDefaultInternalName:"-"})};b.EnableControl=function(a){var c;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==a){b._Controls[c].LEnabled=1;return}b._Controls=b._push(b._Controls,{LControl:a,LEnabled:1,LDefaultInternalName:"-"})};b.SetDefaultKeyboardForControl=function(a,c){var d;for(d=0;d<b._Controls.length;d++)if(b._Controls[d].LControl==a){b._Controls[d].LDefaultInternalName=c;return}b._Controls=b._push(b._Controls,{LControl:a,LEnabled:1,LDefaultInternalName:c})};b.focusLastActiveElement=
b._FocusLastActiveElement=function(){b._LastActiveElement&&(b._JustActivatedKeymanWebUI=1,b._IsMozillaEditableIframe(b._LastActiveElement,0)?b._LastActiveElement.defaultView.focus():b._LastActiveElement.focus&&b._LastActiveElement.focus())};b.getLastActiveElement=b._GetLastActiveElement=function(){return b._LastActiveElement};b.setActiveElement=b.setActiveElement=function(a){"string"==typeof a&&(a=document.getElementById(a));b._ActiveElement=b._LastActiveElement=a};b.getUIState=b.getUIState=function(){var a=
{};a.activationPending=a.activationPending=b._IsActivatingKeymanWebUI;a.activated=a.activated=b._JustActivatedKeymanWebUI;return a};b.activatingUI=function(a){b._IsActivatingKeymanWebUI=a?1:0};b._ControlFocus=function(a){var c;if(!b._Enabled)return!0;a=b._GetEventObject(a);if(!a)return!0;if(a.target)a=a.target;else if(a.srcElement)a=a.srcElement;else return!0;if(l.touchable&&"KMW_input"!=a.className)return!0;c=a.nodeName.toLowerCase();if("input"==c){if(c=a.type.toLowerCase(),!("text"==c||"search"==
c))return!0}else if("textarea"!=c)return!0;b._ActiveElement=a;3==a.nodeType&&(a=a.parentNode);var d=a;l.touchable&&"KMW_input"==a.className&&b.scrollBody(a);"IFRAME"==a.tagName&&(b._AttachToIframe(a),a=a.contentWindow.document);b._ActiveControl=null;b._LastActiveElement=a;for(c=0;c<b._Controls.length;c++)if(b._Controls[c].LControl==a){b._ActiveControl=b._Controls[c];break}null!=b._ActiveControl&&null!=b._ActiveControl.LDefaultInternalName&&(b._JustActivatedKeymanWebUI?b._ActiveControl.LDefaultInternalName=
null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI:b._SetActiveKeyboard(b._ActiveControl.LDefaultInternalName,"",!0));if(!b._IsIEEditableIframe(a,1)||!b._IsMozillaEditableIframe(a,1))return b._DisableInput=1,!0;b._DisableInput=0;b._JustActivatedKeymanWebUI||(b._DeadKeys=[],b._NotifyKeyboard(0,a,1));!b._JustActivatedKeymanWebUI&&b._SelectionControl!=a&&(b._IsActivatingKeymanWebUI=0);b._JustActivatedKeymanWebUI=0;b._SelectionControl=a;a._KeymanWebSelectionStart=a._KeymanWebSelectionEnd=null;b._SetTargDir(a);
b.doControlFocused(d,b._ActiveControl);l.touchable?g._Enabled=1:g.ready&&(b.isCJK()&&(g._Enabled=1),g._Enabled?g._Show():g._Hide(!1));return!0};b._IsIEEditableIframe=function(a,c){var b,e=a&&(b=a.tagName)&&"body"==b.toLowerCase()&&(b=a.ownerDocument)&&b.parentWindow;return!c&&e||c&&(!e||a.isContentEditable)};b._IsMozillaEditableIframe=function(a,c){var b,e=a&&(b=a.defaultView)&&b.frameElement;return!c&&e||c&&(!e||"on"==b.document.designMode.toLowerCase())};b._ControlBlur=function(a){var c;if(!b._Enabled)return!0;
a=b._GetEventObject(a);if(!a)return!0;if(a.target)c=a.target;else if(a.srcElement)c=a.srcElement;else return!0;b._ActiveElement=null;l.touchable&&b.hideCaret();3==c.nodeType&&(c=c.parentNode);"IFRAME"==c.tagName&&(c=c.contentWindow.document);c.setSelectionRange&&(c._KeymanWebSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),c._KeymanWebSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd));b._LastActiveElement=c;null!=b._ActiveControl&&null!=b._ActiveControl.LDefaultInternalName&&
(b._ActiveControl.LDefaultInternalName=null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI);b._ActiveControl=null;b._IsActivatingKeymanWebUI||b._NotifyKeyboard(0,c,0);a=b._GetEventObject(a);b.doControlBlurred(c,a,b._IsActivatingKeymanWebUI);g.ready&&!b._IsActivatingKeymanWebUI&&g._Hide(!1);return!0};b.doControlBlurred=function(a,c,b){var e={};e.target=a;e.event=c;e.isActivating=b;return h.callEvent("kmw.controlblurred",e)};b.doControlFocused=function(a,c){var b={};b.target=a;b.activeControl=c;return h.callEvent("kmw.controlfocused",
b)};b.doKeyboardRegistered=function(a,c,b,e){var f={};f.internalName=a;f.language=c;f.keyboardName=b;f.languageCode=e;return h.callEvent("kmw.keyboardregistered",f)};b.doKeyboardLoaded=function(a){var c={};c.keyboardName=a;return h.callEvent("kmw.keyboardloaded",c)};b.doBeforeKeyboardChange=function(a,c){var b={};b.internalName=a;b.languageCode=c;return h.callEvent("kmw.beforekeyboardchange",b)};b.doKeyboardChange=function(a,c,b){var e={};e.internalName=a;e.languageCode=c;e.indirect=2<arguments.length?
b:!1;return h.callEvent("kmw.keyboardchange",e)};b.doUnloadOSK=function(){return h.callEvent("kmw.unloadosk",{})};b.doLoadUI=function(){return h.callEvent("kmw.loaduserinterface",{})};b.doUnloadUI=function(){return h.callEvent("kmw.unloaduserinterface",{})};b._BubbledFocus=function(){};window.addEventListener&&window.addEventListener("focus",b._BubbledFocus,!0);b._GetKeyEventProperties=function(a){var c={},a=b._GetEventObject(a);if(!a||!0===a.cancelBubble)return null;if(a.target)c.Ltarg=a.target;
else if(a.srcElement)c.Ltarg=a.srcElement;else return null;3==c.Ltarg.nodeType&&(c.Ltarg=c.Ltarg.parentNode);if(a.keyCode)c.Lcode=a.keyCode;else if(a.which)c.Lcode=a.which;else return null;c.Lmodifiers=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0);c.LisVirtualKeyCode="undefined"!=typeof a.charCode&&null!=a.charCode&&(0==a.charCode||0!=(c.Lmodifiers&96));c.LisVirtualKey=c.LisVirtualKeyCode||"keypress"!=a.type;return c};b._SelectionChange=function(){if(b._IgnoreNextSelChange)b._IgnoreNextSelChange--;
else{var a=document.selection;if("control"!=a.type.toLowerCase()&&(a=a.createRange(),!b._Selection||!b._Selection.isEqual(a)))b._Selection=a,b._DeadKeys=[]}return!0};b._FindCaret=function(a){if(!a.createTextRange&&a.selectionStart){var c=document.createEvent("KeyboardEvent");if(c.initKeyEvent){c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,0,32);var d=b._KeyPress;b._KeyPress=function(){};a.dispatchEvent(c);c=document.createEvent("KeyboardEvent");c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,
8,0);a.dispatchEvent(c);b._KeyPress=d}}};b._NotifyKeyboard=function(a,c,d){null!=b._ActiveKeyboard&&"function"==typeof b._ActiveKeyboard.KNS&&b._ActiveKeyboard.KNS(a,c,d)};b._KeyDown=function(a){var c;b._KeyPressToSwallow=0;if(!b._Enabled||b._DisableInput||null==b._ActiveKeyboard||null!=b._ActiveControl&&!b._ActiveControl.LEnabled)return!0;var d=h.eventTarget(a);if(l.touchable){if(d&&"undefined"!=typeof d.kmwInput&&!1==d.kmwInput)return!0}else if(d&&0<=d.className.indexOf("kmw-disabled"))return!0;
if(!g.ready)return!0;d=b._GetKeyEventProperties(a);if(null==d)return!0;switch(d.Lcode){case 8:b._DeadKeys=[];break;case 16:case 17:case 18:return b._NotifyKeyboard(d.Lcode,d.Ltarg,1),g._UpdateVKShift(d,d.Lcode-15,1)}(c=d.Ltarg.ownerDocument)&&((c=c.selection)&&(33>d.Lcode||40<d.Lcode))&&c.createRange().select();!window.event&&b._VKMap_FF_IE["k"+d.Lcode]&&(d.Lcode=b._VKMap_FF_IE["k"+d.Lcode]);b._CachedSelectionStart=null;b._DeadkeyResetMatched();if(b._ActiveKeyboard.KM){if(8==d.Lcode)return b._KeyPressToSwallow=
1,b._ActiveKeyboard.gs(d.Ltarg,d)||b.KO(1,b._LastActiveElement,""),!1;b._KeyPressToSwallow=0}else{var e=0;if((c=b._VKMap[g._BaseLayout])&&c["k"+d.Lcode])d.Lcode=c["k"+d.Lcode];"undefined"==typeof b._ActiveKeyboard.KM&&!(d.Lmodifiers&96)&&(c={Lcode:b._USKeyCodeToCharCode(d),Ltarg:d.Ltarg,Lmodifiers:0,LisVirtualKey:0},b._ActiveKeyboard.gs(c.Ltarg,c)&&(e=1));b._CachedSelectionStart=null;b._DeadkeyResetMatched();e=e||b._ActiveKeyboard.gs(d.Ltarg,d);8==d.Lcode&&(!e&&"KMW_input"==d.Ltarg.className)&&b.KO(1,
b._LastActiveElement,"")}!e&&(96<=d.Lcode&&111>=d.Lcode)&&(b.KO(0,d.Ltarg,String._kmwFromCharCode(106>d.Lcode?d.Lcode-48:d.Lcode-64)),e=1);if(e)return b._FindCaret(d.Ltarg),a&&a.preventDefault&&a.preventDefault(),b._KeyPressToSwallow=a?a.keyCode:0,!1;b._KeyPressToSwallow=0;return 8==d.Lcode&&"KMW_input"==d.Ltarg.className?!1:!0};b._KeyPress=function(a){var c;if(!b._Enabled||b._DisableInput||null==b._ActiveKeyboard||null!=b._ActiveControl&&!b._ActiveControl.LEnabled)return!0;c=b._GetKeyEventProperties(a);
if(null==c||c.LisVirtualKey)return!0;if(!b._ActiveKeyboard.KM){if(!b._KeyPressToSwallow||32>c.Lcode||b._BrowserIsSafari&&63232<c.Lcode&&63744>c.Lcode)return!0;if(a=b._GetEventObject(a))a.returnValue=!1;return!1}b._CachedSelectionStart=null;b._DeadkeyResetMatched();if(b._KeyPressToSwallow||b._ActiveKeyboard.gs(c.Ltarg,c))return b._KeyPressToSwallow=0,a&&a.preventDefault&&a.preventDefault(),b._FindCaret(c.Ltarg),!1;b._KeyPressToSwallow=0;return!0};b._KeyUp=function(a){a=b._GetKeyEventProperties(a);
if(null==a||!g.ready)return!0;switch(a.Lcode){case 13:if("TEXTAREA"==a.Ltarg.nodeName)break;b.moveToNext(!1);return!0;case 16:case 17:case 18:return b._NotifyKeyboard(a.Lcode,a.Ltarg,0),g._UpdateVKShift(a,a.Lcode-15,1)}var c;if((c=a.Ltarg.ownerDocument)&&(c=c.selection)&&"control"!=c.type)c=c.createRange(),b._Selection=c;return!1};b.moveToNext=function(a){var c,d,e=[];for(c=0;c<b.inputList.length;c++)d=b.inputList[c],e.push({ip:d,x:h._GetAbsoluteX(d),y:h._GetAbsoluteY(d)});e.sort(function(a,c){return a.y!=
c.y?a.y-c.y:a.x-c.x});for(c=0;c<e.length&&e[c].ip!=b._LastActiveElement;c++);for(d=0;d<e.length&&!(a?c--:c++,0>c&&(c=e.length-1),c>=e.length&&(c=0),"textarea"==e[c].ip.nodeName.toLowerCase()||"input"==e[c].ip.nodeName.toLowerCase()&&"text"==e[c].ip.type.toLowerCase());d++);d=e[c].ip;d.focus();l.touchable&&b.scrollInput(d)};b.moveToFirst=function(){var a,c,d=[];for(a=0;a<b.inputList.length;a++)c=b.inputList[a],d.push({ip:c,x:h._GetAbsoluteX(c),y:h._GetAbsoluteY(c)});d.sort(function(a,c){return a.y!=
c.y?a.y-c.y:a.x-c.x});l.touchable?(d[0].ip.focus(),b.scrollInput(c)):c.focus()};b._SetActiveKeyboard=function(a,c,d){var e,f,n;n=2>arguments.length||!c?"---":c;for(e=0;e<b._KeyboardStubs.length&&!(a==b._KeyboardStubs[e].KI&&(n==b._KeyboardStubs[e].KLC||"---"==n));e++);if(l.touchable&&(""==a||null==a||e>=b._KeyboardStubs.length))a=b._KeyboardStubs[0].KI,n=b._KeyboardStubs[0].KLC;d&&b.saveCurrentKeyboard(a,n);if(!b._ActiveStub||!b._ActiveKeyboard||!(b._ActiveKeyboard.KI==a&&b._ActiveStub.KI==a&&b._ActiveStub.KLC==
c)){if(b._ActiveKeyboard&&b._ActiveKeyboard.KI==a)for(f=0;f<b._KeyboardStubs.length;f++)if(b._KeyboardStubs[f].KI==a&&b._KeyboardStubs[f].KLC==c){b._ActiveStub=b._KeyboardStubs[f];""!=l.app&&g._Load();return}b._ActiveKeyboard=null;b._ActiveStub=null;if(""==a)g._Hide(!1);else{for(f=0;f<b._Keyboards.length;f++)if(b._Keyboards[f].KI==a){b._ActiveKeyboard=b._Keyboards[f];b._SetTargDir(b._LastActiveElement);for(e=0;e<b._KeyboardStubs.length;e++)if(b._KeyboardStubs[e].KI==a&&b._KeyboardStubs[e].KLC==c){b._ActiveStub=
b._KeyboardStubs[e];break}break}if("undefined"==c||""==c)c="---";if(null==b._ActiveKeyboard){for(f=0;f<b._KeyboardStubs.length;f++)if(b._KeyboardStubs[f].KI==a&&(b._KeyboardStubs[f].KLC==c||"---"==c)){if(b.isCJK(b._KeyboardStubs[f])||l.touchable)g._Enabled=1;if(null==b._LoadingInternalName||b._LoadingInternalName!=a){g.ready&&g._Hide(!1);b._LoadingInternalName=a;b.loadTimer=window.setTimeout(function(){h.wait(!1);var a=b._KeyboardStubs[f],c=a.KN,a=a.KL,c=c.replace(/\s*keyboard\s*/i,"");h.alert("Sorry, the "+
c+" keyboard for "+a+" is not currently available!",b.setDfltKeyboard)},1E4);e="Installing "+b._KeyboardStubs[f].KN.replace(/\s*keyboard\s*/i,"")+" keyboard...";h.wait(e);e=h._CreateElement("SCRIPT");n=b._KeyboardStubs[f].KF;var j="https:"==document.location.protocol?"https://":"http://";switch(n.charAt(0)){case "\\":case "/":n=j+document.location.host+n;break;case ".":break;default:n=b.options.keyboards+n}e.src=n;e.type="text/javascript";try{document.body.appendChild(e)}catch(k){document.getElementsByTagName("head")[0].appendChild(e)}}b._ActiveStub=
b._KeyboardStubs[f];return}b._SetTargDir(b._LastActiveElement)}e=b._ActiveKeyboard;null!==e&&String.kmwEnableSupplementaryPlane(e&&(e.KS&&1==e.KS||"Hieroglyphic"==e.KN));g._Load()}}};b.setDfltKeyboard=function(){b._SetActiveKeyboard("Keyboard_us","eng",!0);b.doKeyboardChange("Keyboard_us","eng",!0)};b.isCJK=function(a){var c=b._ActiveKeyboard,d="";0<arguments.length&&(c=a);c&&("undefined"!=typeof c.KLC?d=c.KLC:"undefined"!=typeof c.LanguageCode&&(d=c.LanguageCode));return"cmn"==d||"jpn"==d||"kor"==
d};b.isCJK=b.isCJK;b.setActiveKeyboard=function(a,c){b.doBeforeKeyboardChange(a,c);b._SetActiveKeyboard(a,c,!0);null!=b._LastActiveElement&&b._FocusLastActiveElement();b.doKeyboardChange(a,c)};b.getActiveKeyboard=function(){return null==b._ActiveKeyboard?"":b._ActiveKeyboard.KI};b.getActiveLanguage=function(){return null==b._ActiveStub?"":b._ActiveStub.KLC};b.GetKeyboardDetail=function(a){for(var c=b.getKeyboards(),d=0;d<c.length;d++)if(c[d].InternalName==a)return c[d];return null};b._GetKeyboardDetail=
function(a){var c=[];c.Name=c.Name=a.KN;c.InternalName=c.InternalName=a.KI;c.LanguageName=c.LanguageName=a.KL;c.LanguageCode=c.LanguageCode=a.KLC;c.RegionName=c.RegionName=a.KR;c.RegionCode=c.RegionCode=a.KRC;c.CountryName=c.CountryName=a.KC;c.CountryCode=c.CountryCode=a.KCC;c.KeyboardID=c.KeyboardID=a.KD;return c};b.getKeyboards=function(){var a=[],c,d,e,f,g;for(c=0;c<b._Keyboards.length;c++)d=b._Keyboards[c],g=b._GetKeyboardDetail(d),a=b._push(a,g);for(c=0;c<b._KeyboardStubs.length;c++){d=b._KeyboardStubs[c];
f=0;g=b._GetKeyboardDetail(d);for(e=0;e<a.length;e++)if(a[e].InternalName==d.KI&&a[e].LanguageCode==d.KLC){f=1;break}f||(a=b._push(a,g))}return a};b._WindowUnload=function(){var a,c;for(a=0;a<b._EventHandlers.length;a++){c=b._EventHandlers[a];try{c.Lelem.detachEvent?c.Lelem.detachEvent("on"+c.Lname,c.Lhandler):c.Lelem.removeEventListener(c.Lname,c.Lhandler,c.LuseCapture),c.Lhandler==b._ControlFocus&&(c.Lelem.onkeypress=c.Lelem.onkeydown=c.Lelem.onkeyup=null)}catch(d){}c.Lelem=0}b.doUnloadUI();g.ready&&
g._Unload();b._EventHandlers=b._LastActiveElement=0};h.attachDOMEvent(window,"load",function(){document.body.scrollTop=0;"undefined"!=typeof document.documentElement&&(document.documentElement.scrollTop=0)},!1);h.attachDOMEvent(window,"unload",b._WindowUnload,!1);b._AttachToControls=function(a){for(var c=a.getElementsByTagName("INPUT"),d=a.getElementsByTagName("TEXTAREA"),e=a.getElementsByTagName("IFRAME"),a=document.evaluate?document.evaluate('//*[@contenteditable and @contenteditable != "false"]',
document,null,XPathResult.ANY_TYPE,null):null,f=0;f<c.length;f++)"text"==c[f].type.toLowerCase()&&b.attachToControl(c[f]);for(f=0;f<d.length;f++)b.attachToControl(d[f]);for(f=0;f<e.length;f++)try{e[f].contentWindow.document&&b._AttachToIframe(e[f])}catch(g){}if(a)for(c=a.iterateNext();c;c=a.iterateNext())b.attachToControl(c);for(f=0;f<b.inputList.length;f++)b.attachToControl(b.inputList[f])};a=document.getElementsByTagName("script");b.srcPath=a[a.length-1].src;b.init=b.init=function(a){if("undefined"==
typeof b.options.resources){var c=("https:"==document.location.protocol?"https:/":"http:/")+"/s.keyman.com/";0>h.myPath().indexOf("keyman.com")&&(c=c.replace(".com",".local"));var d={};d.resources=c+"kmw/engine/"+b.build+"/";d.keyboards=c+"kmw/kbd/";d.key="";d.attachType=l.touchable?"manual":"auto";d.controlDownColor="#e0e0e0";d.keyDownColor="#c0c0ff";d.keyHoverColor="#e0e0ff";d.unmappedKeyboardName="English";d.defaultKeyboardHelp="Please wait while keyboard loads...";d.ui=l.touchable?"none":"";d.fonts=
"";d.app="";b.options=d}else d=b.options;if(0<arguments.length&&"object"==typeof a&&null!=a)for(var e in d)a.hasOwnProperty(e)&&(d[e]=a[e]);d.resources=h.fixPath(d.resources);d.keyboards=h.fixPath(d.keyboards);""!=d.app&&(l.touchable=!0,l.formFactor="phone",l.app=d.app,b.options.attachType=d.attachType="manual",navigator&&(navigator.userAgent&&0<=navigator.userAgent.indexOf("iPad"))&&(l.formFactor="tablet"));window.KeymanWeb_AttachType=d.attachType;window.KeymanWeb_ControlDownColor=d.controlDownColor;
window.KeymanWeb_KeyDownColor=d.keyDownColor;window.KeymanWeb_KeyHoverColor=d.keyHoverColor;window.KeymanWeb_DefaultKeyboardName=d.defaultKeyboardName;window.KeymanWeb_DefaultKeyboardHelp=d.defaultKeyboardHelp;window.KeymanWeb_Key=d.key;if(!b.initialized)if("complete"!==document.readyState)window.setTimeout(function(){b.init(a)},50);else{b._MasterDocument=window.document;b.getSavedKeyboard();if(l.touchable){d=document.getElementsByTagName("textarea");e=document.getElementsByTagName("input");for(c=
0;c<d.length;c++){var f=d[c],n=f.className;f.kmwInput=!1;if((!n||0>n.indexOf("kmw-disabled"))&&!f.readOnly)f.readOnly=!0,f.kmwInput=!0}for(c=0;c<e.length;c++)if(f=e[c],n=f.className,f.kmwInput=!1,(!n||0>n.indexOf("kmw-disabled"))&&!f.readOnly)if("text"==f.type||"search"==f.type)f.readOnly=!0,f.kmwInput=!0}0<=navigator.userAgent.indexOf("Android")&&(l.dpi=h.getDPI(),l.formFactor=screen.height<4*l.dpi||screen.width<4*l.dpi?"phone":"tablet");g.noShow=function(){};window.removeEventListener&&window.removeEventListener("focus",
b._BubbledFocus,!0);"manual"!=b.options.attachType&&b._AttachToControls(document);b.initialized=1;l.touchable||b.loadUI();g.prepare();for(c=0;c<b.deferredKRS.length;c++)b.KRS(b.deferredKRS[c]);b.initializeUI();h.prepareWait();for(c=0;c<b.deferredKR.length;c++)b.KR(b.deferredKR[c]);""==b.options.app&&(l.touchable?b.setupTouchDevice():b.setupDesktopPage(),6==h._GetIEVersion()&&(g.shim=h.createShim()),l.touchable&&(g._Box.ontouchend=function(a){a.stopPropagation()},c=document.createElement("DIV"),d=
c.style,d.width="100%",d.height=screen.width/2+"px",document.body.appendChild(c)),g.shim&&document.body.appendChild(g.shim),document.selection&&!b.legacy&&h.attachDOMEvent(document,"selectionchange",b._SelectionChange),"manual"!=b.options.attachType&&(document.attachEvent?document.attachEvent("onfocusin",b._IEFocusIn):document.addEventListener&&document.addEventListener("DOMNodeInserted",b._DOMNodeInserted,!0)),b.restoreCurrentKeyboard(),b.moveToFirst())}};b.loadUI=function(){var a=b.ui.name,c=b.options;
if("string"!=typeof a||""==a){a="";"string"==typeof c.ui?a=c.ui:"undefined"!=typeof c.ui.name&&(a=c.ui.name);for(var d=document.getElementsByTagName("SCRIPT"),e=0;e<d.length;e++)"kmw-ui-script"==d[e].id&&(a="");""!=a&&(d=h._CreateElement("SCRIPT"),d.id="kmw-ui-script",a=c.resources+("ui/"+a+"/")+("kmwui"+a+"-release.js"),d.src=a,d.type="text/javascript",document.body.appendChild(d))}};b.initializeUI=function(){"function"==typeof b.ui.initialize?(b.ui.initialize(),g._Show()):window.setTimeout(b.initializeUI,
1E3)};b._SelPos=function(a){var c,d=999>h._GetIEVersion();if(l.touchable)return b.getTextCaret(a);if(a._KeymanWebSelectionStart)return a._KeymanWebSelectionStart;if(a.setSelectionRange)return a.value.substr(0,a.selectionStart)._kmwLength();if((c=a.ownerDocument)&&(c=c.defaultView)&&c.getSelection&&"on"==a.ownerDocument.designMode.toLowerCase()){if(a=c.getSelection(),3==a.focusNode.nodeType)return a.focusNode.substringData(0,a.focusOffset)._kmwLength()}else if(d){if("string"==typeof a.value)return c=
b.getInputSelection(a),a.value.substr(0,c.start)._kmwLength();if(a=a.body?a:a.ownerDocument)c=a.selection;else return 0;a=c.createRange();a.moveStart("textedit",-1);return a.text._kmwLength()}return 0};b.getInputSelection=function(a){var c=0,b=0,e="",f,g=0;if("number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd)c=a.selectionStart,b=a.selectionEnd;else if((f=document.selection.createRange())&&f.parentElement()==a)g=a.value.length,e=a.value.replace(/\r\n/g,"\n"),b=a.createTextRange(),
b.moveToBookmark(f.getBookmark()),a=a.createTextRange(),a.collapse(!1),-1<b.compareEndPoints("StartToEnd",a)?c=b=g:(c=-b.moveStart("character",-g),c+=e.slice(0,c).split("\n").length-1,-1<b.compareEndPoints("EndToEnd",a)?b=g:(b=-b.moveEnd("character",-g),b+=e.slice(0,b).split("\n").length-1));return{start:c,end:b}};b._DeadkeyResetMatched=function(){var a,c=b._DeadKeys;for(a=0;a<c.length;a++)c[a].matched=0};b._DeadkeyDeleteMatched=function(){var a,c=b._DeadKeys;for(a=0;a<c.length;a++)c[a].matched&&
c.splice(a,1)};b._DeadkeyAdjustPos=function(a,c){var d,e=b._DeadKeys;for(d=0;d<e.length;d++)e[d].p>a&&(e[d].p+=c)};b._SetTargDir=function(a){var c=null!=b._ActiveKeyboard&&b._ActiveKeyboard.KRTL?"rtl":"ltr";a&&(l.touchable?0==a.textContent.length&&(a.base.dir=a.dir=c,b.setTextCaret(a,1E4)):0==a.value.length&&(a.dir=c))};b._IEFocusIn=function(){var a=b._GetEventObject(null);a&&(a=a.srcElement,null!=a&&!b._IsAttached(a)&&("input"==a.tagName.toLowerCase()&&"text"==a.type.toLowerCase()||"textarea"==a.tagName.toLowerCase()||
"iframe"==a.tagName.toLowerCase())&&b.attachToControl(a))};b._DOMNodeInserted=function(a){a=a.target;null!=a&&1==a.nodeType&&b._AttachToControls(a)};b._ResetVKShift=function(){b._IsActivatingKeymanWebUI||g._UpdateVKShift&&g._UpdateVKShift(null,15,0)};b.addHotKey=b.addHotKey=function(a,c,d){for(var e=0;e<b._HotKeys.length;e++)if(b._HotKeys[e].Code==a&&b._HotKeys[e].Shift==c){b._HotKeys[e].Handler=d;return}b._HotKeys.push({Code:a,Shift:c,Handler:d})};b.removeHotKey=b.removeHotKey=function(a,c){for(var d=
0;d<b._HotKeys.length;d++)if(b._HotKeys[d].Code==a&&b._HotKeys[d].Shift==c){b._HotKeys.splice(d,1);break}};b._ProcessHotKeys=function(a){a||(a=window.event);if(a.keyCode)var c=a.keyCode;else if(a.which)c=a.which;else return 0;for(var d=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0),e=0;e<b._HotKeys.length;e++)if(c==b._HotKeys[e].Code&&d==b._HotKeys[e].Shift)return b._HotKeys[e].Handler(),a.returnValue=0,a&&a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1;return!0};h.attachDOMEvent(document,
"keyup",b._ProcessHotKeys,!1);b.saveCurrentKeyboard=function(a,c){h.saveCookie("KeymanWeb_Keyboard",{current:a+":"+c})};b.restoreCurrentKeyboard=function(){var a=b._KeyboardStubs,c,d=a.length;if(!(1>a.length)){c=b.getSavedKeyboard();var e=c.split(":"),e=c.split(":");2>e.length&&(e[1]="");for(c=0;c<d&&!(a[c].KI==e[0]&&(a[c].KLC==e[1]||""==e[1]));c++);if(c<d||null==b._ActiveKeyboard)b._SetActiveKeyboard(e[0],e[1],!1),b.doKeyboardChange(e[0],e[1])}};b.getSavedKeyboard=b.getSavedKeyboard=function(){var a=
h.loadCookie("KeymanWeb_Keyboard");return"string"==typeof a.current?a.current:"Keyboard_us:eng"};b.addEventListener=function(a,c){return h.addEventListener("kmw."+a,c)};h.attachDOMEvent(window,"focus",b._ResetVKShift,!1);h.attachDOMEvent(window,"blur",b._ResetVKShift,!1);b.rotateDevice=function(){g._Visible&&(g.anchored=!1,"iOS"!=l.OS&&(g.hideNow(),g.resetRowLengths(),window.setTimeout(function(){g._Show()},500)));"phone"==l.formFactor&&"Android"==l.OS&&window.setTimeout(function(){window.scrollTo(0,
1)},1E3)};l.touchable&&h.attachDOMEvent(window,"resize",b.rotateDevice);String.kmwEnableSupplementaryPlane(!1);if("complete"===document.readyState)b.init(null);else var f=window.setInterval(function(){"complete"===document.readyState&&(window.clearInterval(f),b.init(null))},10)})();(function(){var b=window.tavultesoft.keymanweb,g={K_BACK:8,K_BKSP:8,K_TAB:9,K_CLEAR:12,K_ENTER:13,K_RETURN:13,K_SHIFT:16,K_CONTROL:17,K_MENU:18,K_PAUSE:19,K_CAPS:20,K_CAPITAL:20,K_HANGUL:21,K_KANA:21,K_JUNJA:23,K_FINAL:24,K_HANJA:25,K_KANJI:25,K_ESCAPE:27,K_SPACE:32,K_PRIOR:33,K_NEXT:34,K_END:35,K_HOME:36,K_LEFT:37,K_UP:38,K_RIGHT:39,K_DOWN:40,K_SELECT:41,K_PRINT:42,K_EXECUTE:43,K_SNAPSHOT:44,K_INSERT:45,K_DELETE:46,K_HELP:47,K_0:48,K_1:49,K_2:50,K_3:51,K_4:52,K_5:53,K_6:54,K_7:55,K_8:56,K_9:57,K_A:65,
K_B:66,K_C:67,K_D:68,K_E:69,K_F:70,K_G:71,K_H:72,K_I:73,K_J:74,K_K:75,K_L:76,K_M:77,K_N:78,K_O:79,K_P:80,K_Q:81,K_R:82,K_S:83,K_T:84,K_U:85,K_V:86,K_W:87,K_X:88,K_Y:89,K_Z:90,K_LWIN:91,K_LOPT:91,K_RWIN:92,K_ROPT:92,K_APPS:93,K_SLEEP:95,K_NUMPAD0:96,K_NUMPAD1:97,K_NUMPAD2:98,K_NUMPAD3:99,K_NUMPAD4:100,K_NUMPAD5:101,K_NUMPAD6:102,K_NUMPAD7:103,K_NUMPAD8:104,K_NUMPAD9:105,K_MULTIPLY:106,K_ADD:107,K_SEPARATOR:108,K_SUBTRACT:109,K_DECIMAL:110,K_DIVIDE:111,K_F1:112,K_F2:113,K_F3:114,K_F4:115,K_F5:116,K_F6:117,
K_F7:118,K_F8:119,K_F9:120,K_F10:121,K_F11:122,K_F12:123,K_NUMLOCK:144,K_SCROLL:145,K_LSHIFT:160,K_RSHIFT:161,K_LCONTROL:162,K_RCONTROL:163,K_LMENU:164,K_LALT:164,K_RMENU:165,K_RALT:165,K_OEM_1:186,K_COLON:186,K_SEMICOLON:186,K_OEM_PLUS:187,K_EQUAL:187,K_PLUS:187,K_COMMA:188,K_OEM_COMMA:188,K_OEM_MINUS:189,K_HYPHEN:189,K_PERIOD:190,K_OEM_PERIOD:190,K_OEM_2:191,K_SLASH:191,K_QUERY:191,K_OEM_3:192,K_ACCENT:192,K_BKQUOTE:192,K_GRAVE:192,K_OEM_4:219,K_LBRKT:219,K_LBRACE:219,K_OEM_5:220,K_BKSLASH:220,
K_BAR:220,K_OEM_6:221,K_RBRKT:221,K_RBRACE:221,K_OEM_7:222,K_QUOTE:222,K_SQUOTE:222,K_DQUOTE:222,K_OEM_8:223,K_OEM_AX:225,K_OEM_102:226,K_oE2:226,K_TABBACK:227,K_TABFWD:228},h=[["0123456789",";=,-./`","[\\]'"],[")!@#$%^&*(",":+<_>?~",'{|}"']],l="K_BKQUOTE K_1 K_2 K_3 K_4 K_5 K_6 K_7 K_8 K_9 K_0 K_HYPHEN K_EQUAL K_* K_* K_* K_Q K_W K_E K_R K_T K_Y K_U K_I K_O K_P K_LBRKT K_RBRKT K_BKSLASH K_* K_* K_* K_A K_S K_D K_F K_G K_H K_J K_K K_L K_COLON K_QUOTE K_* K_* K_* K_* K_* K_oE2 K_Z K_X K_C K_V K_B K_N K_M K_COMMA K_PERIOD K_SLASH K_* K_* K_* K_* K_* K_SPACE".split(" "),
a=b.osk,f=b.util,i=f.device;a._Box=null;a._DivVKbd=null;a._DivVKbdHelp=null;a._Visible=0;a._Enabled=0;a._VShift=[];a._VKeySpans=[];a._VKeyDown=null;a._VKbdContainer=null;a._VOriginalWidth=1;a._BaseLayout="us";a._BaseLayoutEuro={};a._BaseLayoutEuro.se="\ufffd1234567890+\ufffd~~~QWERTYUIOP\u0168'~~~ASDFGHJKL\ufffd\ufffd~~~~~<ZXCVBNM,.-~~~~~ ";a._BaseLayoutEuro.uk="`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;'~~~~~\\ZXCVBNM,./~~~~~ ";a.lgTimer=null;a.lgKey=null;a.spaceBar=null;a.lgList=null;a.frameColor=
"#ad4a28";a.keyPending=null;a.fontFamily="";a.layers=null;a.layerId="default";a.nextLayer="default";a.anchored=!1;a.layerIndex=0;a.currentKey="";a.subkeyDelayTimer=null;a.x=0;a.y=0;a.width=1;a.height=1;a.closeButton=null;a.resizeIcon=null;a.resizing=0;a.pinImg=null;a.userPositioned=0;a.dfltX="";a.dfltY="";a.noDrag=!1;a.shim=null;a.addEventListener=function(a,b){return f.addEventListener("osk."+a,b)};a._TitleBarInterior=function(){var c=f._CreateElement("DIV"),d=c.style;d.paddingLeft="2px";d.cursor=
"move";d.background="#ad4a28";d.font="8pt Tahoma,Arial,sans-serif";d=f._CreateElement("DIV");d.className="kmw-title-bar-actions";d.onmousedown=a._CancelMouse;var e=f._CreateElement("DIV");e.className="kmw-close-button";e.onmousedown=a._CancelMouse;e.onclick=function(){a._Hide(!0)};a.closeButton=e;d.appendChild(e);a.restorePosition=function(){a._Visible&&(b._FocusLastActiveElement(),a.loadCookie(),a.userPositioned=!1,a.saveCookie(),a._Show(),a.doResizeMove());a.pinImg&&(a.pinImg.style.display="none");
window.event&&(window.event.returnValue=!1)};e=a.pinImg=f._CreateElement("DIV");e.className="kmw-pin-image";e.title="Pin the On Screen Keyboard to its default location on the active text box";e.onclick=a.restorePosition;e.onmousedown=a._CancelMouse;e.style.display="none";i.touchable||d.appendChild(e);c.appendChild(d);e=b._TitleElement=f._CreateElement("SPAN");e.className="kmw-title-bar-caption";e.innerHTML="Tavultesoft KeymanWeb";c.appendChild(e);return c};a.isEnabled=a.isEnabled=function(){return a._Enabled};
a.isVisible=a.isVisible=function(){return a._Visible};a.getRect=a.getRect=function(){var c={};a._DivVKbd?(c.left=c.left=f._GetAbsoluteX(a._DivVKbd),c.top=c.top=f._GetAbsoluteY(a._DivVKbd),c.width=c.width=f._GetAbsoluteX(a._DivVKbdHelp)-f._GetAbsoluteX(a._DivVKbd)+a._DivVKbdHelp.offsetWidth,c.height=c.height=f._GetAbsoluteY(a._DivVKbdHelp)-f._GetAbsoluteY(a._DivVKbd)+a._DivVKbdHelp.offsetHeight):(c.left=c.left=f._GetAbsoluteX(a._Box),c.top=c.top=f._GetAbsoluteY(a._Box),c.width=c.width=f._GetAbsoluteX(a._Box)+
a._Box.offsetWidth,c.height=c.height=f._GetAbsoluteY(a._Box)+a._Box.offsetHeight);return c};a.setRect=a.setRect=function(c){if(!(null==a._Box||"desktop"!=i.formFactor)){var b=a._Box,e=b.style;"left"in c&&(e.left=c.left-f._GetAbsoluteX(b)+b.offsetLeft+"px",a.dfltX=e.left);"top"in c&&(e.top=c.top-f._GetAbsoluteY(b)+b.offsetTop+"px",a.dfltY=e.top);if(null!=a._DivVKbd){var g=a._DivVKbd,e=g.style;if("width"in c){var n=c.width-(b.offsetWidth-g.offsetWidth);n<0.2*screen.width&&(n=0.2*screen.width);n>0.9*
screen.width&&(n=0.9*screen.width);e.width=n+"px";a.width=n}"height"in c&&(b=c.height-(b.offsetHeight-g.offsetHeight),b<0.1*screen.height&&(b=0.1*screen.height),b>0.5*screen.height&&(b=0.5*screen.height),e.height=b+"px",e.fontSize=b/8+"px",a.height=b);"nosize"in c&&a.resizeIcon&&(a.resizeIcon.style.display=c.nosize?"none":"block")}"nomove"in c&&(a.noDrag=c.nomove,a.pinImg&&(a.pinImg.style.display=c.nomove||!a.userPositioned?"none":"block"));a.saveCookie()}};a.getPos=function(){var b=a._Box,d={};d.left=
a._Visible?b.offsetLeft:a.x;d.top=a._Visible?b.offsetTop:a.y;return d};a.setPos=a.setPos=function(b){if(!("undefined"==typeof a._Box||i.touchable)){if(a.userPositioned){var d=b.left,b=b.top;if("undefined"!=typeof d&&(0>d+a.width?d=0:d>=window.screen.availWidth&&(a.userPositioned=!1),a.userPositioned))a._Box.style.left=d+"px",a.x=d;if("undefined"!=typeof b&&(0>b?b=0:b>=window.screen.availHeight&&(a.userPositioned=!1),a.userPositioned))a._Box.style.top=b+"px",a.y=b}a.pinImg&&(a.pinImg.style.display=
a.userPositioned?"block":"none")}};a._VKeyGetTarget=function(a){a=b._GetEventObject(a);if(!a)return null;if(a.target)a=a.target;else if(a.srcElement)a=a.srcElement;else return null;3==a.nodeType&&(a=a.parentNode);"SPAN"==a.tagName&&(a=a.parentNode);return a};a.touchKey=function(b,d){d.preventDefault();d.cancelBubble=!0;"function"==typeof d.stopImmediatePropagation?d.stopImmediatePropagation():"function"==typeof d.stopPropagation&&d.stopPropagation();if(!("object"==typeof d.touches&&1<d.touches.length)){var e=
b.id.split("-")[1];"K_LOPT"==e||"K_ROPT"==e?window.setTimeout(function(){a.clickKey(b)},0):null==a.keyPending&&(a.keyPending=b,a.highlightKey(b,!0),null!=b.subKeys&&(a.subkeyDelayTimer=window.setTimeout(function(){a.showSubKeys(b)},250)))}};a.highlightKey=function(a,b,e){var f=a.className,g=2<arguments.length?" "+arguments[2]:" kmw-key-touched";""!=f&&(0<=f.indexOf(g)?b||(a.className=f.replace(g,"")):b&&(a.className=f+g))};a.moveOverKeys=function(b,d){d.preventDefault();d.cancelBubble=!0;"function"==
typeof d.stopImmediatePropagation?d.stopImmediatePropagation():"function"==typeof d.stopPropagation&&d.stopPropagation();if(null!=a.keyPending){var e="object"==typeof d.touches?d.touches[0].clientX:d.clientX,g="object"==typeof d.touches?d.touches[0].clientY:d.clientY,i=f._GetAbsoluteX(b),j=f._GetAbsoluteY(b),h=i+b.offsetWidth,l=j+b.offsetHeight,m=b.id.split("-")[1];"K_LOPT"!=m&&"K_ROPT"!=m&&a.highlightKey(b,e>i&&e<h&&g>j&&g<l);if(null!=b.subKeys){var r,v,A;A=document.getElementById("kmw-popup-keys");
for(m=0;m<b.subKeys.length;m++)try{r=A.childNodes[m].firstChild,i=f._GetAbsoluteX(r),j=f._GetAbsoluteY(r),h=i+r.offsetWidth,l=j+r.offsetHeight,v=e>i&&e<h&&g>j&&g<l,a.highlightKey(r,v),v&&a.highlightKey(b,!1)}catch(w){}}}};a.showSubKeys=function(b){if(null!=a.keyPending){var d=document.createElement("DIV"),e,g,h,j,k,l;d.id="kmw-popup-keys";e=d.style;e.bottom=parseInt(b.style.bottom,10)+parseInt(b.style.height,10)+10+"px";var m=b.subKeys.length,r,v;r=Math.min(Math.ceil(m/9),2);v=Math.ceil(m/r);1<r&&
(e.width=v*b.offsetWidth+5*v+"px");var A=f.getStyleValue(b,"font-size");for(e=0;e<m;e++)g=b.subKeys[e],k=document.createElement("DIV"),k.className="kmw-key-square-ex",k.keyId=g.id,h=k.style,j=Math.floor(e/v),1<r&&0<j&&(h.marginTop="5px"),k.width="undefined"!=typeof g.width?h.width=parseInt(g.width,10)*b.offsetWidth/100+"px":h.width=b.offsetWidth+"px",h.height=b.offsetHeight+"px",l=document.createElement("DIV"),a.setButtonClass(g,l),l.id="subkey-"+g.id,j=l.style,j.height=h.height,j.width=h.width,h=
f._CreateElement("SPAN"),h.className="kmw-key-text",null==g.text||""==g.text?(h.innerHTML="\u00a0","string"==typeof g.id&&/^K_[0-9A-F]{4}$/i.test(g.id)&&(h.innerHTML=String.fromCharCode(parseInt(g.id.substr(2),16)))):h.innerHTML=g.text,j=h.style,j.fontFamily=a.fontFamily,j.fontSize=A,"string"==typeof g.fontsize&&0!=g.fontsize&&(j.fontSize=g.fontsize),l.appendChild(h),k.appendChild(l),d.appendChild(k);""!=i.app&&"function"==typeof window.oskCreatePopup?(d=f._GetAbsoluteX(b)-f._GetAbsoluteX(a._DivVKbd)+
b.offsetWidth/2,m=f._GetAbsoluteY(b)-f._GetAbsoluteY(a._DivVKbd),window.oskCreatePopup(b.subKeys,d,m)):(a._Box.appendChild(d),e=d.style,m=f._GetAbsoluteX(b)+0.5*(b.offsetWidth-d.offsetWidth),r=(f.landscapeView()?screen.height:screen.width)-d.offsetWidth,m>r&&(m=r),0>m&&(m=0),e.left=m+"px",h=document.createElement("DIV"),h.className="arrow-border",j=h.style,m=f._GetAbsoluteX(b)+0.5*b.offsetWidth-16,j.left=m+"px",j.top=d.offsetTop+d.offsetHeight-2+"px",b=document.createElement("DIV"),b.className="arrow-content",
j=b.style,j.left=m+3+"px",j.top=h.style.top,h.appendChild(b),d.appendChild(h))}};a.getVKDictionaryCode=function(a){if(!b._ActiveKeyboard.VKDictionary){var d=[];if("string"==typeof b._ActiveKeyboard.KVKD)for(var e=b._ActiveKeyboard.KVKD.split(" "),f=0;f<e.length;f++)d[e[f]]=f+256;b._ActiveKeyboard.VKDictionary=d}d=b._ActiveKeyboard.VKDictionary[a];if(!d){d=b._ActiveKeyboard.VKDictionary;e=0;for(f in d)d[f]>e&&(e=d[f]);256>e?e=256:e++;d=d[a]=e}return d?d:null};a.clickKey=function(c){var d=b._LastActiveElement,
e,f,n,j=c.id.split("-");if(2>j.length)return!0;if(null!=d){var k=j[1];e=j=a.getModifierState(a.layerId);"undefined"!=typeof c.key&&(e=c.key.nextlayer);null==b._ActiveElement&&(b._ActiveElement=d);switch(k){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":return a.highlightKey(c,!1),a.updateLayer(e?e:"shift"),a._Show(),!0;case "K_LCTRL":case "K_RCTRL":case "K_CTRL":return a.highlightKey(c,!1),a.updateLayer(e?e:"ctrl"),a._Show(),!0;case "K_LALT":case "K_RALT":case "K_ALT":return a.highlightKey(c,!1),
a.updateLayer(e?e:"alt"),a._Show(),!0;case "K_ALTGR":return a.highlightKey(c,!1),a.updateLayer(e?e:"ctrlalt"),a._Show(),!0;case "K_LOPT":return""==i.app?a.showLanguageMenu():"showKeyboardList"in b&&b.showKeyboardList(),!0;case "K_ROPT":return""==i.app?(b._IsActivatingKeymanWebUI=0,a._Hide(!1),b.hideCaret(),b._LastActiveElement=0):"hideKeyboard"in b&&b.hideKeyboard(),!0}a.highlightKey(c,!1);if("K_SPACE"!=k&&(f=c.childNodes[0].innerHTML,""==f||"&nbsp;"==f))return!0;e=d._KeymanWebSelectionStart;f=d._KeymanWebSelectionEnd;
n=b._Selection;b._IsActivatingKeymanWebUI=1;b._IgnoreNextSelChange=100;b._FocusLastActiveElement();b._IsMozillaEditableIframe(d,0)&&(d=d.documentElement);document.selection&&null!=n&&n.select();d._KeymanWebSelectionStart=e;d._KeymanWebSelectionEnd=f;b._IgnoreNextSelChange=0;b._CachedSelectionStart=null;b._DeadkeyResetMatched();e={Ltarg:d,Lmodifiers:0,Lcode:g[k],LisVirtualKey:1};"undefined"==typeof e.Lcode&&(e.Lcode=a.getVKDictionaryCode(k),null==e.Lcode&&(e.Lcode=parseInt(k.substr(2),6>k.length?10:
16)));f="undefined"==typeof c.key?null:c.key.layer;null!=f&&(j=a.getModifierState(f));e.Lmodifiers=16*j;b._ActiveKeyboard&&b._ActiveKeyboard.KM?(f=c.firstChild.firstChild.wholeText,e.LisVirtualKey=!1,e.LisVirtualKeyCode=!1,e.vkCode=e.Lcode,32!=e.Lcode&&(e.Lcode="string"==typeof f&&""!=f?f.charCodeAt(0):0,160==e.Lcode&&(e.Lcode=0)),e.Lmodifiers=0):e.vkCode=e.Lcode;"undefined"==typeof b._ActiveKeyboard.KM&&(e.Lcode=b._USKeyCodeToCharCode(e),e.LisVirtualKey=0);if(!b._ActiveKeyboard||0!=e.Lcode&&!b._ActiveKeyboard.gs(d,
e))switch(e.Lcode=e.vkCode,k){case "K_BKSP":b.KO(1,b._LastActiveElement,"");break;case "K_TAB":b.moveToNext("default"!=a.layerId);break;case "K_TABBACK":b.moveToNext(!0);break;case "K_TABFWD":b.moveToNext(!1);break;case "K_ENTER":"TEXTAREA"==d.nodeName||"undefined"!=typeof d.base&&"TEXTAREA"==d.base.nodeName?b.KO(0,d,"\n"):b.moveToNext(!1);break;case "K_SPACE":b.KO(0,d," ");break;default:k=0,e=e.Lcode,255<e?k=c.firstChild.childNodes[0].wholeText:48<=e&&57>=e?k=h[j][0][e-48]:65<=e&&90>=e?k=String.fromCharCode(e+
(j?0:32)):186<=e&&192>=e?k=h[j][1][e-186]:219<=e&&222>=e&&(k=h[j][2][e-219]),k&&b.KO(0,d,k)}"undefined"!=typeof c.key&&null!==c.key.nextlayer&&(a.nextLayer=c.key.nextlayer);a.nextLayer!=a.layerId&&(a.layerId=a.nextLayer,a._Show());d._KeymanWebSelectionStart=null;d._KeymanWebSelectionEnd=null}b._IsActivatingKeymanWebUI=0;return!0};a.getLayerId=function(a){var b="";if(0==a)return"default";a&1&&(b="shift");a&4&&(b="alt"+b);a&2&&(b="ctrl"+b);return b};a.getModifierState=function(a){var b=0;0<=a.indexOf("shift")&&
(b+=1);0<=a.indexOf("ctrl")&&(b+=2);0<=a.indexOf("alt")&&(b+=4);return b};a.updateLayer=function(b){var d=a.layerId;if("default"==a.layerId)d=b;else{var e=a.getModifierState(d),d=d.replace("shift",""),d=d.replace("ctrl",""),d=d.replace("alt","");switch(b){case "shift":e^=1;break;case "ctrl":e^=2;break;case "alt":e^=4;break;default:d=b}"default"!=d&&(e&1&&(d="shift"+d),e&2&&(d="ctrl"+d),e&4&&(d="alt"+d))}""==d&&(d="default");a.layerId=d.replace("altctrl","ctrlalt")};a.showLanguage=function(){var c=
"",d="";b._ActiveStub?(c=b._ActiveStub.KL,d=b._ActiveStub.KN):c=b._ActiveLanguage?b._ActiveLanguage.KN:"English";try{var e=a.spaceBar.firstChild.firstChild;e.className="kmw-spacebar-caption";d=d.replace(/\s*keyboard\s*/i,"");e.innerHTML=d==c?c:c+" ("+d+")"}catch(f){}};a.releaseKey=function(b,d){d.preventDefault();d.cancelBubble=!0;"function"==typeof d.stopImmediatePropagation?d.stopImmediatePropagation():"function"==typeof d.stopPropagation&&d.stopPropagation();a.subkeyDelayTimer&&window.clearTimeout(a.subkeyDelayTimer);
a.lgTimer&&window.clearTimeout(a.lgTimer);a.subkeyDelayTimer=a.lgTimer=null;if(null!==a.keyPending){var e=null;"undefined"!=typeof d.changedTouches&&0<d.changedTouches.length?e=document.elementFromPoint(d.changedTouches[0].clientX,d.changedTouches[0].clientY):"undefined"!=typeof d.target&&(e=d.target);null!=e&&((""==e.id&&(e=e.parentNode),e==a.keyPending||"kmw-popup-keys"==e.parentNode.parentNode.id)?(a.clickKey(e),a.keyPending=null):a.highlightKey(a.keyPending,!1));a.keyPending=null}e=document.getElementById("kmw-popup-keys");
null!=e&&e.parentNode.removeChild(e)};a.showLanguageMenu=function(){var c=b._KeyboardStubs,d=c.length;if(!(1>d)){var e=a.lgList=f._CreateElement("DIV");a.lgList.id="kmw_language_menu";e.shim=f._CreateElement("DIV");e.shim.id="kmw_language_menu_background";e.shim.addEventListener("touchstart",a.hideLanguageList,!1);document.body.appendChild(e.shim);var g=e.style,d=33*d,i=f.windowHeight()-a.lgKey.offsetHeight-16;e.firstY=0;g.left=f._GetAbsoluteX(a.lgKey)+"px";d<i?(g.top=window.pageYOffset+(i-d)+10+
"px",g.height=d+"px"):(g.top=window.pageYOffset+10+"px",g.height=i+"px");g.msTouchAction=g.WebkitUserSelect="none";d=f._CreateElement("DIV");i=d.style;d.className="kmw-menu-header";i.msTouchAction=i.WebkitUserSelect="none";d.addEventListener("touchstart",function(b){b.preventDefault();b.stopPropagation();a.hideLanguageList()},!1);e.appendChild(d);var h=f._CreateElement("DIV"),i=h.style,d=f._CreateElement("DIV"),k=d.style;h.id="kmw-menu-scroll-container";d.id="kmw-menu-scroller";i.height=parseInt(g.height,
10)-30+"px";i.msTouchAction=i.WebkitUserSelect="none";k.msTouchAction=k.WebkitUserSelect="none";"WebkitOverflowScrolling"in i&&(i.WebkitOverflowScrolling="touch");h.appendChild(d);e.appendChild(h);e.addEventListener("scroll",function(){a.lgList.scrolling=true},!1);h.addEventListener("scroll",function(){a.lgList.scrolling=true;if(h.scrollTop<1)h.scrollTop=1;if(h.scrollTop>h.scrollHeight-h.offsetHeight-1)h.scrollTop=h.scrollHeight-h.offsetHeight-1},!1);c=a.addLanguagesToMenu(d,c);document.body.appendChild(a.lgList);
c=d.firstChild.offsetHeight*c+1;h.scrollTop=c;h.scrollTop<c&&(h.scrollTop=h.scrollHeight-h.offsetHeight);h.scrollTop>h.scrollHeight-h.offsetHeight-1&&(h.scrollTop=h.scrollHeight-h.offsetHeight-1)}};a.addLanguagesToMenu=function(c,d){var e=d.length,g,i,h,k=[];for(i=0;i<e;i++)h=d[i].KL,-1==k.indexOf(h)&&k.push(h);k.sort();var l,m,r;for(g=h=0;g<k.length;g++){l=f._CreateElement("DIV");l.className="kbd-list-closed";m=f._CreateElement("P");m.kList=[];for(i=0;i<e;i++)d[i].KL==k[g]&&m.kList.push(d[i]);l.appendChild(m);
c.appendChild(l);k[g]==b._ActiveStub.KL&&(h=g);if(1<m.kList.length){m.className="kbd-list";m.innerHTML=k[g]+"...";m.ontouchend=function(a){a.preventDefault();a.stopPropagation();this.parentNode.className="kbd-list-closed"==this.parentNode.className?"kbd-list-open":"kbd-list-closed"};m.ontouchstart=function(a){a.stopPropagation()};m.ontouchmove=function(a){a.stopPropagation()};for(i=0;i<m.kList.length;i++)r=f._CreateElement("P"),r.className="kbd-list-entry",a.addKeyboardToMenu(m.kList[i],r,!1),l.appendChild(r)}else m.innerHTML=
k[g],m.className="kbd-single-entry",a.addKeyboardToMenu(m.kList[0],m,!0);g==h&&(m.className+=" current")}e=f._CreateElement("DIV");e.id="kmw_menu_footer";e.ontouchstart=e.ontouchmove=e.ontouchend=function(a){a.preventDefault();a.stopPropagation()};c.appendChild(e);return h};a.addKeyboardToMenu=function(c,d,e){d.kn=c.KI;d.kc=c.KLC;d.innerHTML=e?c.KL:c.KN.replace(" Keyboard","");d.onmspointerdown=d.ontouchstart=function(b){b.stopPropagation();0>=this.className.indexOf("selected")&&(this.className+=
" selected");a.lgList.scrolling=!1;a.lgList.y0=a.lgList.childNodes[1].scrollTop;return!0};d.onmspointermove=d.ontouchmove=function(){5<Math.abs(a.lgList.childNodes[1].scrollTop-a.lgList.y0)&&(a.lgList.scrolling=!0,this.className=this.className.replace(/\s*selected/,""));return!0};d.onmspointerout=d.ontouchend=function(c){c.preventDefault();"stopImmediatePropagation"in c?c.stopImmediatePropagation():c.stopPropagation();a.lgList.scrolling?this.className=this.className.replace(/^w*selected/,""):(a.lgList.style.display=
"none",b._SetActiveKeyboard(this.kn,this.kc,!0),b._FocusLastActiveElement(),a.hideLanguageList(),a._Show());return!0}};a.hideLanguageList=function(){a.lgList&&(document.body.removeChild(a.lgList.shim),document.body.removeChild(a.lgList),a.lgList=null)};a._UpdateVKShift=function(b,d,e){var f=0,f=b?b.Lmodifiers/16:e?f|d:f&~d;a.layerId=a.getLayerId(f);a._Visible&&a._Show();return!0};a._CancelMouse=function(a){(a=b._GetEventObject(a))&&a.preventDefault&&a.preventDefault();a&&(a.cancelBubble=!0,a.returnValue=
!1);return!1};a.showLayer=function(c){if(b._ActiveKeyboard)for(var d=0;d<a.layers.length;d++)if(a.layers[d].id==c)return a.layerId=c,a._Show(),!0;return!1};a.deviceDependentLayout=function(c){var d=f._CreateElement("DIV"),e=d.style,h=0;d.className="kmw-key-layer-group";switch(i.formFactor){case "phone":e.fontSize="0.6em";case "tablet":h=Math.floor(window.screen.availWidth/2),"Android"==i.OS&&"undefined"!=typeof window.devicePixelRatio&&0<window.devicePixelRatio&&(h/=window.devicePixelRatio),e.height=
h+"px"}var l,j,k,t,m,r,v,A,w,s,o,y,B,p,x,u;t=c.layer;var F={text:"",fontsize:"1em",width:"100",pad:"5",sp:"0",layer:null,nextlayer:null};for(l=0;l<t.length;l++){m=t[l];m.aligned=!1;r=f._CreateElement("DIV");j=r.style;r.className="kmw-key-layer";j.display=0==l?"block":"none";j.fontFamily="font"in c?c.font:"";r.layer=r.nextLayer=m.id;"string"==typeof m.nextlayer&&(r.nextLayer=m.nextlayer);v=m.row;A=100/v.length;i.touchable&&(A=Math.floor(h/v.length),h=v.length*A,j.height=h+"px");var C=0;for(j=0;j<v.length;j++){w=
0;k=v[j];s=k.key;for(k=0;k<s.length;k++)o=s[k],null==o?s.length-=1:(w="string"==typeof o.width?w+parseInt(o.width,10):w+100,w="string"==typeof o.pad?w+parseInt(o.pad,10):w+5);w>C&&(C=w)}C+=5;for(j=0;j<v.length;j++){w=f._CreateElement("DIV");w.className="kmw-key-row";w.onmousedown=function(a){a&&a.preventDefault()};k=v[j];B=w.style;"desktop"!=i.formFactor?(B.bottom=(v.length-j-1)*A+"px",B.maxHeight=B.height=A+"px"):B.maxHeight=B.height=100/v.length+"%";s=k.key;for(k=0;k<s.length;k++){o=s[k];for(var D in F)"string"!=
typeof o[D]&&(o[D]=F[D])}var z=0;for(k=0;k<s.length-1;k++)o=100*parseInt(s[k].width,10)/C,s[k].widthpc=o+"%",y=100*parseInt(s[k].pad,10)/C,s[k].padpc=y+"%",z+=y+o;z+=500/C;1==s.length&&0>parseInt(s[0].pad,10)?(o=100*parseInt(s[0].width,10)/C,s[0].widthpc=o+"%",z+=o,s[0].padpc=100-z+"%"):0<s.length&&(k=s.length-1,y=100*parseInt(s[k].pad,10)/C,s[k].padpc=y+"%",z+=y,s[k].widthpc=100-z+"%");for(k=z=0;k<s.length;k++){o=s[k];y=f._CreateElement("DIV");y.keyId=o.id;y.className="kmw-key-square";p=y.style;
"desktop"!=i.formFactor&&(p.left=z+parseFloat(s[k].padpc)+"%");z=z+parseFloat(s[k].padpc)+parseFloat(s[k].widthpc);y.width=p.width=o.widthpc;"desktop"!=i.formFactor?(p.bottom=B.bottom,p.height=B.height):p.marginLeft=o.padpc;x=f._CreateElement("DIV");u=x.style;u.boxSizing="border-box";a.setButtonClass(o,x);if(i.touchable)u.position="fixed",u.left=p.left,u.bottom=B.bottom,u.top="auto",u.width=p.width,u.height=A-1+"px";else{p=g[o.id];switch(p){case 186:p=59;break;case 187:p=61;break;case 188:p=44;break;
case 189:p=45;break;case 190:p=46;break;case 191:p=47;break;case 192:p=96;break;case 219:p=91;break;case 220:p=92;break;case 221:p=93;break;case 222:p=39;break;default:if(48>p||90<p)p=0}if(0<p){var E=f._CreateElement("DIV");E.className="kmw-key-label";E.innerHTML=String.fromCharCode(p);y.appendChild(E)}}u.overflow="hidden";u.border="1px solid #888888";u.webkitTapHighlightColor="rgba(0,0,0,0)";x.id=m.id+"-"+o.id;x.key=o;x.subKeys="undefined"!=typeof o.sk?o.sk:null;"ontouchstart"in window?(x.ontouchstart=
function(b){a.touchKey(this,b)},x.ontouchend=function(b){a.releaseKey(this,b)},x.ontouchmove=function(b){a.moveOverKeys(this,b)},x.onclick=function(a){a.preventDefault();a.stopPropagation()}):i.touchable&&"Windows"==i.OS?(x.style.msTouchAction="none",x.onmspointerdown=function(b){a.touchKey(this,b)},x.onmspointerup=function(b){a.releaseKey(this,b)},x.onmspointermove=function(b){a.moveOverKeys(this,b)}):(x.onmouseover=x.onmousedown=function(b){var c=f.eventTarget(b);if(c!==null){if(c.nodeName=="SPAN")c=
c.parentNode;if(f.eventType(b)=="mousedown"){a.currentKey=c.id;a._CancelMouse(b);a.highlightKey(c,true)}else c.id==a.currentKey&&a.highlightKey(c,true)}},x.onmouseup=x.onmouseout=function(b){var c=f.eventTarget(b);if(c!==null){if(c.nodeName=="SPAN")c=c.parentNode;a.highlightKey(c,false);if(f.eventType(b)=="mouseup"){c.id==a.currentKey&&a.clickKey(c);a.currentKey=""}}});if("K_LOPT"==o.id)u=f._CreateElement("IMG"),p=u.style,u.src=""==i.app?b.options.resources+"osk/globe.png":"globe.png",p.height="1em",
p.verticalAlign="top",p.marginTop="0.1em","addEventListener"in u&&u.addEventListener("contextmenu",function(a){a.preventDefault()},!1);else if("K_ROPT"==o.id)u=f._CreateElement("IMG"),p=u.style,u.src=""==i.app?b.options.resources+"osk/kbdOff.png":"kbdOff.png","addEventListener"in u&&u.addEventListener("contextmenu",function(a){a.preventDefault()},!1),p.height="1em",p.verticalAlign="top",p.marginTop="0.1em";else if(u=f._CreateElement("SPAN"),p=u.style,null==o.text||""==o.text?(u.innerHTML="\u00a0",
"string"==typeof o.id&&/^K_[0-9A-F]{4}$/i.test(o.id)&&(u.innerHTML=String.fromCharCode(parseInt(o.id.substr(2),16)))):u.innerHTML=o.text,u.className="kmw-key-text",p.fontFamily="font"in o?o.font:a.fontFamily,"string"==typeof o.fontsize)p.fontSize=o.fontsize;x.appendChild(u);y.appendChild(x);"undefined"!=typeof o.sk&&(o=f._CreateElement("DIV"),o.className="kmw-key-popup-icon",y.appendChild(o));w.appendChild(y)}r.appendChild(w)}d.appendChild(r)}h&&(e.height=h+"px");return d};a.setButtonClass=function(a,
b){var e=0;"string"==typeof a.dk&&"1"==a.dk&&(e=8);"string"==typeof a.sp&&(e=parseInt(a.sp,10));if(0>e||10<e)e=0;b.className="kmw-key kmw-key-"+"default shift shift-on      deadkey blank hidden".split(" ")[e]};a._GenerateVisualKeyboard=function(b,d,e){d=f._CreateElement("DIV");if("object"!=typeof e||null==e){var e=i.formFactor,g=window.dfltLayout;"object"!=typeof g[e]&&(e="desktop");for(var e=f.deepCopy(g[e]),g=e.layer,h=b.BK,j=b.K102,k,t,m,r,v="default shift ctrl ctrlshift alt altshift ctrlalt ctrlaltshift".split(" "),
A="Shift;Shift;Ctrl;Ctrl;Alt;Alt;Ctrl Alt;Ctrl Alt".split(";"),b=0;8>b;b++){0<b&&(g[b]=f.deepCopy(g[0]));g[b].id=v[b];g[b].nextlayer=v[b];for(k=0;k<g[b].row.length;k++){t=g[b].row[k];r=t.key;for(t=0;t<r.length;t++)switch(m=r[t],m.id){case "K_SHIFT":1==(b&1)&&(m.sp="2");"desktop"!=i.formFactor&&0<b&&(m.nextlayer="default");break;case "K_LCTRL":case "K_RCTRL":2==(b&2)&&(m.sp="2");break;case "K_LALT":case "K_RALT":4==(b&4)&&(m.sp="2")}}if("undefined"==typeof j||!j)for(k=0;k<g[b].row.length;k++)for(t=
0;t<g[b].row[k].key.length;t++)"K_oE2"==g[b].row[k].key[t].id&&("desktop"==i.formFactor?(g[b].row[k].key.splice(t,1),g[b].row[k].key[0].width="200"):g[b].row[k].key[t].sp="10")}for(b=0;b<g.length;b++){var w=null,s=null,j=g[b].row;for(k=0;k<j.length;k++){r=j[k].key;for(t=0;t<r.length;t++)m=r[t],v=l.indexOf(m.id),"undefined"!=typeof h&&(0<=v&&v+65*b<h.length)&&(m.text=h[v+65*b]),""==m.text&&"K_SPACE"!=m.id&&(m.text="`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "[v+
65*b]),"K_SHIFT"==m.id&&(w=m),"K_TAB"==m.id&&(s=m)}"desktop"!=i.formFactor&&(0<b&&null!=w&&(w.sp="2",w.sk=null,w.text=A[b]),null!=s&&1==b&&(s.text="Previous"))}}a.ddOSK=!1;a.layers=e.layer;a.fontFamily="font"in e?e.font:"";e=a.deviceDependentLayout(e);a.ddOSK=!0;a.keyMap=e;d.appendChild(e);a._DivVKbdHelp=a._DivVKbd=d;a._Box.className=i.formFactor+" kmw-osk-frame";d.className=i.formFactor+" kmw-osk-inner-frame";"desktop"==i.formFactor&&a._Box.appendChild(a.controlBar());a._Box.appendChild(d);"desktop"==
i.formFactor&&a._Box.appendChild(a.resizeBar())};a.anchorToViewPort=function(){if(i.touchable&&!a.anchored&&!i.touchable){var c=a._Box.style,d,e,g=b.debugElement,g=g&&g.parentNode?g.parentNode.style:null;f.landscapeView()?(d=e=window.innerHeight/2,"Android"==i.OS&&(d++,e--)):("iOS"==i.OS?(d=(window.innerWidth-screen.height+window.innerHeight)/2,e=(screen.height+window.innerHeight-window.innerWidth)/2):(d=window.innerHeight/2,e=d+(screen.height-window.outerHeight)/4-38),d=Math.round(d),e=Math.round(e));
c.position="absolute";if("iOS"==i.OS){if("phone"==i.formFactor&&(e-=32,d+=32),c.height=d+"px",c.top=e+window.pageYOffset+"px",a._Visible)c.display="block"}else{for(var h=a._Box.firstChild.firstChild.childNodes[a.layerIndex].childNodes,j=Math.round(d/h.length),k=0;k<h.length;k++)h[k].style.height=j+"px";window.setTimeout(function(){c.height=d+"px";c.top=e+window.pageYOffset+"px";if(a._Visible)c.display="block"},0)}g&&(g.position="absolute",g.top=window.pageYOffset+"px");a.anchored=!0}};a.controlBar=
function(){var c=f._CreateElement("DIV"),d="";c.id="keymanweb_title_bar";c.className="kmw-title-bar";c.onmousedown=a._VMoveMouseDown;b._ActiveKeyboard&&(d=b._ActiveKeyboard.KN);var e=f._CreateElement("SPAN");e.className="kmw-title-bar-caption";e.innerHTML=d;c.appendChild(e);d=a.pinImg=f._CreateElement("DIV");d.className="kmw-pin-image";d.title="Pin the On Screen Keyboard to its default location on the active text box";d.onclick=function(){a.loadCookie();a.userPositioned=!1;a.saveCookie();a._Show();
a.doResizeMove();a.pinImg&&(a.pinImg.style.display="none");window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=a._CancelMouse;d.style.right="24px";c.appendChild(d);d=f._CreateElement("DIV");d.className="kmw-close-button";d.style.right="4px";d.onmousedown=a._CancelMouse;d.onclick=function(){a._Hide(!0)};a.closeButton=d;c.appendChild(d);return c};a.resizeBar=function(){var c=f._CreateElement("DIV");c.className="kmw-footer";c.onmousedown=a._CancelMouse;var d=f._CreateElement("DIV");d.className=
"kmw-footer-caption";d.innerHTML="Keyboard &copy; 2012 Tavultesoft Pty Ltd";f.attachDOMEvent(d,"dblclick",function(a){a&&a.shiftKey&&alert("KeymanWeb Build "+b.build+"\r\n\r\nCopyright 2012 Tavultesoft Pty Ltd")},!1);"onselectstart"in d&&(d.onselectstart=function(){return!1});c.appendChild(d);d=f._CreateElement("DIV");d.className="kmw-footer-resize";d.onmousedown=a._VResizeMouseDown;d.onmouseover=d.onmouseout=a._VResizeMouseOut;c.appendChild(d);a.resizeIcon=d;return c};a._VKbdMouseOver=function(){b._IsActivatingKeymanWebUI=
1};a._VKbdMouseOut=function(){b._IsActivatingKeymanWebUI=0};a._VResizeMouseOver=a._VResizeMouseOut=function(c){c=b._GetEventObject(c);if(!c)return!1;c&&c.preventDefault&&c.preventDefault();var d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMouseDown=function(c){b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;var d,e;c.pageX?(d=c.pageX,e=c.pageY):c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);
a._ResizeMouseX=d;a._ResizeMouseY=e;document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VOriginalWidth=a._DivVKbd.offsetWidth;a._VOriginalHeight=a._DivVKbd.offsetHeight;document.onmousemove=a._VResizeMouseMove;document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&
(document.body.style.cursor="se-resize");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VResizeMouseMove=function(c){var d,e,c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);c.pageX?(d=c.pageX,e=c.pageY):c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);d=a._VOriginalWidth+d-a._ResizeMouseX;e=a._VOriginalHeight+e-a._ResizeMouseY;d<
0.2*screen.width&&(d=0.2*screen.width);e<0.1*screen.height&&(e=0.1*screen.height);d>0.9*screen.width&&(d=0.9*screen.width);e>0.5*screen.height&&(d=0.5*screen.height);a._DivVKbd.style.width=d+"px";a._DivVKbd.style.height=e+"px";a._DivVKbd.style.fontSize=e/8+"px";f.showShim(a._DivVKbd,a.shim,a._DivVKbdHelp);c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VMoveMouseDown=function(c){var d,e;b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;c.pageX?
(d=c.pageX,e=c.pageY):c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VMoveX=d-a._Box.offsetLeft;a._VMoveY=e-a._Box.offsetTop;b.isCJK()&&(a.pinImg.style.left="15px");document.onmousemove=
a._VMoveMouseMove;document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="move");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VMoveMouseMove=function(c){var d,e,c=b._GetEventObject(c);if(!c||a.noDrag)return!0;a.resizing=1;a.userPositioned=!0;a.pinImg.style.display="block";if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);c.pageX?(d=c.pageX,e=c.pageY):c.clientX&&(d=c.clientX+
document.body.scrollLeft,e=c.clientY+document.body.scrollTop);a._Box.style.left=d-a._VMoveX+"px";a._Box.style.top=e-a._VMoveY+"px";a._DivVKbd?f.showShim(a._DivVKbd,a.shim,a._DivVKbdHelp):f.showShim(a._Box,a.shim);c&&c.preventDefault&&c.preventDefault();d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMoveMouseUp=function(c){c=b._GetEventObject(c);if(!c)return!0;a.resizing=0;a.currentKey=null;document.onmousemove=a._VPreviousMouseMove;document.onmouseup=a._VPreviousMouseUp;
document.body.style.cursor&&(document.body.style.cursor=a._VPreviousCursor);b._FocusLastActiveElement();c&&c.preventDefault&&c.preventDefault();b._JustActivatedKeymanWebUI=0;b._IsActivatingKeymanWebUI=0;a._DivVKbd&&(a._VOriginalWidth=a._DivVKbd.offsetWidth,a._VOriginalHeight=a._DivVKbd.offsetHeight);a.doResizeMove();c.cancelBubble=!0;a.saveCookie();return!1};a.userLocated=function(){return a.userPositioned};a.show=function(b){0<arguments.length?(a._Enabled=b)?a._Show():a._Hide(!0):a._Visible?a._Hide(!0):
a._Show()};a.doShow=function(a){return f.callEvent("osk.show",a)};a.doHide=function(a){return f.callEvent("osk.hide",a)};a.doResizeMove=function(a){return f.callEvent("osk.resizemove",a)};a._Show=function(c,d){if(!(null==a._Box||null==b._ActiveElement))if(i.touchable||null!=b._ActiveKeyboard&&a._Enabled){var e=a._Box.style;if(a.ddOSK){var g,h=-1,j=a._DivVKbd.childNodes[0].childNodes;for(g=0;g<j.length;g++)j[g].layer==a.layerId?(j[g].style.display="block",a.nextLayer=a.layerId,a.layerIndex=h=g,"string"==
typeof a.layers[g].nextlayer&&(a.nextLayer=a.layers[g].nextlayer)):j[g].style.display="none";i.touchable&&(e.position="fixed",e.left=e.bottom="0px",e.height=e.maxHeight=a._Box.firstChild.firstChild.style.height,e.border="none",e.borderTop="1px solid gray",a._Enabled=1,a._Visible=1,a._DivVKbd.style.fontSize="phone"==i.formFactor?"120%":"200%",a.lgKey=a.getSpecialKey(h,"K_LOPT"));a.spaceBar=a.getSpecialKey(h,"K_SPACE")}e.display="block";a.showLanguage();if("desktop"==i.formFactor&&(e.position="absolute",
e.display="block",e.left="0px",a.loadCookie(),0<=c?(e.left=c+"px",e.top=d+"px"):a.userPositioned?(e.left=a.x+"px",e.top=a.y+"px"):(g=b._ActiveElement,""!=a.dfltX?e.left=a.dfltX:"undefined"!=typeof g&&null!=g&&(e.left=f._GetAbsoluteX(g)+"px"),""!=a.dfltY)?e.top=a.dfltY:"undefined"!=typeof g&&null!=g&&(e.top=f._GetAbsoluteY(g)+g.offsetHeight+"px"),a._Enabled=1,a._Visible=1,a._DivVKbd&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight),a.saveCookie(),e=a.pinImg,"undefined"!=typeof e&&
null!=e))e.style.display=a.userPositioned?"block":"none"}};a.adjustRowLengths=function(b){if(!(0<=b)){var d,e=a._DivVKbd.childNodes[0].childNodes;if(!(0>b||b>=e.length||e[b].aligned)&&"block"==e[b].style.display){d=a._DivVKbd.childNodes[0].offsetWidth-6;"Windows"==i.OS&&(d-=f.landscapeView()?4:40);var g,h=e[b].childNodes,j,k,l;for(g=0;g<h.length;g++)j=h[g].childNodes,k=j.length,l=j[k-2].offsetLeft+j[k-2].offsetWidth,j=j[k-1],j.style.width=d-l+"px";e[b].aligned=!0}}};a.resetRowLengths=function(){var b,
d=a._DivVKbd.childNodes[0].childNodes,e=-1;for(b=0;b<d.length;b++)"block"==d[b].style.display&&(e=b),d[b].aligned=!1;return e};a.getSpecialKey=function(b,d){var e,f;e=a._DivVKbd.childNodes[0].childNodes;if(0<=b&&b<e.length){e=e[b].childNodes;f=e[e.length-1].childNodes;for(e=0;e<f.length;e++)if(f[e].keyId==d)return f[e]}return null};a.hide=function(){a._Enabled=0;a._Hide(!0)};a._Hide=function(c){a._Box&&("block"==a._Box.style.display&&a._DivVKbd)&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight);
if(c)a._Enabled=b.isCJK()||i.touchable?1:0,a.saveCookie();else if("desktop"==i.formFactor&&0<=document.body.className.indexOf("osk-always-visible"))return;a._Visible=0;if(a._Box&&i.touchable&&0<a._Box.offsetHeight){var d=a._Box.style,e=a._Box.offsetHeight;d.msTransition="-ms-transform 0.5s linear 0";d.WebkitTransition="-webkit-transform 0.5s linear 0";d.msTransform=d.WebkitTransform="";window.setTimeout(function(){var b=a._Box.style;if(a._Visible==0){b.msTransform=b.WebkitTransform="translate3d(0,"+
e+"px,0)";i.OS=="Windows"?a._Box.addEventListener("transitionend",a.hideNow,false):a._Box.addEventListener("webkitTransitionEnd",a.hideNow,false)}},500)}else a._Box&&(a._Box.style.display="none"),f.hideShim(a.shim);a.anchored=!1;d={};d.HiddenByUser=c;a.doHide(d);c&&b._FocusLastActiveElement()};a.hideNow=function(){"Windows"==i.OS?a._Box.removeEventListener("transitionend",a.hideNow,!1):a._Box.removeEventListener("webkitTransitionEnd",a.hideNow,!1);var b=a._Box.style;b.display="none";a._Visible=0;
b.msTransition=b.WebkitTransition="";b.msTransform=b.WebkitTransform="none";a.anchored=!1};a.prepare=function(){b.initialized?(a.ready||(a._Box=f._CreateElement("DIV"),f.linkStyleSheet(f.getOption("resources")+"osk/kmwosk.css"),document.body.appendChild(a._Box),f.attachDOMEvent(a._Box,"mousedown",function(){b._IsActivatingKeymanWebUI=1}),i.touchable&&(f.attachDOMEvent(a._Box,"touchstart",function(a){b._IsActivatingKeymanWebUI=1;a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchend",
function(a){a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchmove",function(a){a.preventDefault();a.stopPropagation()}),f.attachDOMEvent(a._Box,"touchcancel",function(a){a.preventDefault();a.stopPropagation()}))),a.loadCookie(),a.ready=!0):window.setTimeout(a.prepare,200)};a._Load=function(){b._TitleElement&&(b._TitleElement.innerHTML="Tavultesoft KeymanWeb");a._Visible=0;a.layerId="default";var c=a._Box.style;c.zIndex="9999";c.display="none";c.width="auto";c.position="desktop"==
i.formFactor?"absolute":"fixed";"phone"==i.formFactor&&(c.fontSize="1.6em");a._DivVKbd=a._DivVKbdHelp=null;a._Box.innerHTML="";a._Box.onmouseover=a._VKbdMouseOver;a._Box.onmouseout=a._VKbdMouseOut;if(null==b._ActiveKeyboard&&!i.touchable){var d=f._CreateElement("DIV");d.className="kmw-title-bar";d.appendChild(a._TitleBarInterior());d.onmousedown=a._VMoveMouseDown;a._Box.appendChild(d);d=f._CreateElement("DIV");d.className="kmw-osk-none";a._Box.appendChild(d)}else{var e=d=null,g=null,c="";a._Box.className=
"";if(null!=b._ActiveKeyboard&&(d=b._ActiveKeyboard.KV,c=b._ActiveKeyboard.KH,e=b._ActiveKeyboard.KVKL,"undefined"!=typeof e&&null!=e&&(g=e[i.formFactor],"undefined"==typeof g||null==g)))if("phone"==i.formFactor?g=e.tablet:"tablet"==i.formFactor&&(g=e.phone),"undefined"==typeof g||null==g)g=e.desktop;if(null!=d&&null!=d.BK){for(var e=d.BK,h=!0,j=0;j<e.length;j++)if(0<e[j].length){h=!1;break}h&&(d=null)}null!=d||""==c||i.touchable?(null==d&&(d={F:"Tahoma",BK:"`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "}),
a._GenerateVisualKeyboard(d,c,g)):(a.ddOSK=!1,d=f._CreateElement("DIV"),d.className="kmw-title-bar",d.appendChild(a._TitleBarInterior()),d.onmousedown=a._VMoveMouseDown,a._Box.appendChild(d),d=f._CreateElement("DIV"),d.className="kmw-osk-static",d.innerHTML=c,a._Box.appendChild(d),b._ActiveKeyboard.KHF&&b._ActiveKeyboard.KHF(a._Box));b._TitleElement&&(b._TitleElement.innerHTML="<span style='font-weight:bold'>"+b._ActiveKeyboard.KN+"</span> - "+b._TitleElement.innerHTML,b._TitleElement.className="",
b._TitleElement.style.color="#fff")}a._Enabled&&a._Show()};a._Unload=function(){a._VShift=a._DivVKbd=a._VKeySpans=a._Box=0};a.saveCookie=function(){var b=f.loadCookie("KeymanWeb_OnScreenKeyboard"),d=a.getPos();if(0>d.left+a.width||d.left>=window.screen.availWidth)d.left=0;if(0>d.top||d.top>=window.screen.availHeight)d.top=0;b.visible=a._Enabled?1:0;b.userSet=a.userPositioned?1:0;b.left=d.left;b.top=d.top;a._DivVKbd&&(b.width=a.width,b.height=a.height);f.saveCookie("KeymanWeb_OnScreenKeyboard",b)};
a.loadCookie=function(){var b=f.loadCookie("KeymanWeb_OnScreenKeyboard");if(!("undefined"==typeof b||null==b)){a._Enabled=f.toNumber(b.visible,!0);a.userPositioned=f.toNumber(b.userSet,!1);a.x=f.toNumber(b.left,-1);a.y=f.toNumber(b.top,-1);var d=f.toNumber(b.width,0.3*screen.width),b=f.toNumber(b.height,0.15*screen.height);d<0.2*screen.width&&(d=0.2*screen.width);b<0.1*screen.height&&(b=0.1*screen.height);d>0.9*screen.width&&(d=0.9*screen.width);b>0.5*screen.height&&(d=0.5*screen.height);a._DivVKbd&&
(a._DivVKbd.style.width=d+"px",a._DivVKbd.style.height=b+"px",a._DivVKbd.style.fontSize=b/8+"px");if(-1==a.x||-1==a.y||!a._Box)a.userPositioned=!1;a.userPositioned&&a._Box&&a.setPos({left:a.x,top:a.y})}};b.executePopupKey=function(c,d){if(!b._ActiveKeyboard)return!1;var e=b._LastActiveElement,f,i=a.getModifierState(a.layerId);null==b._ActiveElement&&(b._ActiveElement=e);switch(c){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":return a.updateLayer("shift"),a._Show(),!0;case "K_LCTRL":case "K_RCTRL":case "K_CTRL":return a.updateLayer("ctrl"),
a._Show(),!0;case "K_LALT":case "K_RALT":case "K_ALT":return a.updateLayer("alt"),a._Show(),!0;case "K_ALTGR":return a.updateLayer("ctrlalt"),a._Show(),!0}f={Ltarg:e,Lmodifiers:0,Lcode:g[c],LisVirtualKey:1};"undefined"==typeof f.Lcode&&(f.Lcode=a.getVKDictionaryCode(c));if(isNaN(f.Lcode)||!f.Lcode)return!1;f.vkCode=f.Lcode;f.Lmodifiers=16*i;if(!b._ActiveKeyboard||isNaN(f.Lcode)||0==f.Lcode)return!1;if(b._ActiveKeyboard.gs(e,f))return!0;"string"==typeof d&&""!=d?b.KO(0,e,String.fromCharCode(parseInt(d,
16))):(f.Lcode=parseInt(c.substr(2),6>c.length?10:16),b.KO(0,e,String.fromCharCode(f.Lcode)));return!0}})();(function(){var b=window.tavultesoft.keymanweb,g=b.util,h=g.device;b.TSS_LAYER=33;b.TSS_PLATFORM=31;b._BeepObjects=[];b._BeepTimeout=0;b.KSF=b.KSF=function(){b._IgnoreNextSelChange=1};b.KT=b.KT=function(a,f){var g=b._LastActiveElement,c,d,e;c=!1;null!=g&&(c=g._KeymanWebSelectionStart,d=g._KeymanWebSelectionEnd,e=b._Selection,b._IsActivatingKeymanWebUI=1,b._IgnoreNextSelChange=100,b._FocusLastActiveElement(),b._IsMozillaEditableIframe(g,0)&&(g=g.documentElement),document.selection&&null!=e&&e.select(),
g._KeymanWebSelectionStart=c,g._KeymanWebSelectionEnd=d,b._IgnoreNextSelChange=0,null!=a&&b.KO(0,g,a),"undefined"!=typeof f&&b.KDO(0,g,f),g._KeymanWebSelectionStart=null,g._KeymanWebSelectionEnd=null,c=!0);return c};b.KR=b.KR=function(a){b.loadTimer&&(window.clearTimeout(b.loadTimer),b.loadTimer=null);if(b.initialized){var f,i=b.osk,c=b._ActiveStub;if(!c||!("KI"in c)||c.KI!=a.KI)for(f=0;f<b._KeyboardStubs.length&&!(c=b._KeyboardStubs[f],a.KI==c.KI);f++);b.KRS(c?c:a);for(f=0;f<b._Keyboards.length;f++)if(a.KI==
b._Keyboards[f].KI)return;b._Keyboards=b._push(b._Keyboards,a);b._LoadingInternalName==a.KI&&(b.doBeforeKeyboardChange(a.KI,c.KLC),b._ActiveKeyboard=a,null!=b._LastActiveElement&&(b._JustActivatedKeymanWebUI=1,b._SetTargDir(b._LastActiveElement)),b._LoadingInternalName=null,a.KL="undefined"!=typeof c.KL?c.KL:"",a.KLC="undefined"!=typeof c.KLC?c.KLC:"",a.KR="undefined"!=typeof c.KR?c.KR:"",a.KRC="undefined"!=typeof c.KRC?c.KRC:"",a.KC="undefined"!=typeof c.KC?c.KC:"",a.KCC="undefined"!=typeof c.KCC?
c.KCC:"",a.KD="undefined"!=typeof c.KD?c.KD:"",a.KS="undefined"!=typeof c.KS?c.KS:0);String.kmwEnableSupplementaryPlane(c&&(c.KS&&1==c.KS||"Hieroglyphic"==a.KN));b.saveCurrentKeyboard(a.KI,c.KLC);i._Load();g.wait(!1);b.doKeyboardLoaded(a.KI);b._LoadingInternalName=null}else b.deferredKR.push(a)};b.KRS=b.KRS=function(a){var f;if(b.initialized){null==b.dfltStub&&(b.dfltStub=a);"undefined"==typeof a.KLC&&(a.KLC="");"undefined"==typeof a.KL&&(a.KL="undefined");for(f=0;f<b._KeyboardStubs.length;f++)if(b._KeyboardStubs[f].KI==
a.KI&&(""==a.KLC||b._KeyboardStubs[f].KLC==a.KLC))return 1;b._KeyboardStubs=b._push(b._KeyboardStubs,a)}else b.deferredKRS.push(a)};b.KC=b.KC=function(a,f,g){var c,d=g.body?g:g.ownerDocument;if(h.touchable&&""==h.app)return b.getTextBeforeCaret(g)._kmwSubstr(-a)._kmwSubstr(0,f);if(b.legacy)return g.value._kmwSubstr(g.length-a,f);if(d&&(c=d.defaultView)&&c.getSelection&&("on"==d.designMode.toLowerCase()||"true"==g.contentEditable||"plaintext-only"==g.contentEditable||""===g.contentEditable)){if(g=
c.getSelection(),3==g.focusNode.nodeType)return g.focusOffset>2*a?g.focusNode.substringData(g.focusOffset-2*a,2*a)._kmwSubstr(-a)._kmwSubstr(0,f):g.focusNode.substringData(0,g.focusOffset)._kmwSubstr(-a)._kmwSubstr(0,f)}else{if(g.setSelectionRange){if(g._KeymanWebSelectionStart)c=g._KeymanWebSelectionStart;else{if(null===b._CachedSelectionStart||g.selectionStart!==b._LastCachedSelection)b._LastCachedSelection=g.selectionStart,b._CachedSelectionStart=g.value._kmwCodeUnitToCodePoint(g.selectionStart),
b._CachedSelectionEnd=g.value._kmwCodeUnitToCodePoint(g.selectionEnd);c=b._CachedSelectionStart}return c<a?g.value._kmwSubstr(0,c):g.value._kmwSubstring(c-a,c-a+f)}if(d&&(c=d.selection))return g=c.createRange(),g.moveStart("character",-2*a),g.text._kmwSubstr(-a)._kmwSubstring(0,f)}return""};b.KN=b.KN=function(a,b){var g=this.KC(a+1,a+1,b);return!1===g?!0:g._kmwLength()<a+1};b.KCM=b.KCM=function(a,b,g,c){a=this.KC(a,c,b);if(!1!==a&&a===g)return!0;this._DeadkeyResetMatched();return!1};b.KIK=b.KIK=function(a){return b._ActiveKeyboard.KM?
!a.LisVirtualKey:b._USKeyCodeToCharCode(a)?1:0};b.KKM=b.KKM=function(a,b,g){var c=0,d=173==a.Lcode?189:a.Lcode;255<a.vkCode&&(d=a.vkCode);if(a.LisVirtualKey||255<d){if(16384==(b&16384)||255<d)c=g==d&&(b&127)==a.Lmodifiers}else 0==(b&16384)&&(c=d==g);c||this._DeadkeyResetMatched();return c};b.KKI=b.KKI=function(a){var b={};b.vk=a.LisVirtualKey;b.code=a.Lcode;b.modifiers=a.Lmodifiers;return b};b.KDM=b.KDM=function(a,f,g){if(0==b._DeadKeys.length)return!1;a=b._SelPos(f)-a;for(f=0;f<b._DeadKeys.length;f++)if(b._DeadKeys[f].p==
a&&b._DeadKeys[f].d==g)return b._DeadKeys[f].matched=1;this._DeadkeyResetMatched();return!1};b.KBR=b.KBR=function(){var a;for(a=b._BeepTimeout=0;a<b._BeepObjects.length;a++)b._BeepObjects[a].e.style.backgroundColor=b._BeepObjects[a].c;b._BeepObjects=[]};b.KB=b.KB=function(a){a.body&&(a=a.body);if(a.style&&"undefined"!=typeof a.style.backgroundColor){for(var f=0;f<b._BeepObjects.length;f++)if(b._BeepObjects[f].e==a)return;b._BeepObjects=b._push(b._BeepObjects,{e:a,c:a.style.backgroundColor});a.style.backgroundColor=
"#000000";0==b._BeepTimeout&&(b._BeepTimeout=1,window.setTimeout(b.KBR,50))}};b.KA=b.KA=function(a,f,g){if(""==f)return 0;f=g._kmwIndexOf(f);b._AnyIndices[a]=f;return 0<=f};b.KO=b.KO=function(a,f,g){var c=f.body?f:f.ownerDocument,d;if("KMW_input"==f.className){var e=b.getTextBeforeCaret(f),e=0<a?e._kmwSubstr(0,e._kmwLength()-a)+g:e+g;b.setTextBeforeCaret(f,e)}else{if(b.legacy)f.value=0<a?f.value._kmwSubstr(0,f.value._kmwLength()-a)+g:f.value+g;else if(c&&(d=c.defaultView)&&d.getSelection&&("on"==
c.designMode.toLowerCase()||"true"==f.contentEditable||"plaintext-only"==f.contentEditable||""===f.contentEditable)){var h="on"==c.designMode.toLowerCase();if(h)var l=b._CacheCommands(c);d=d.getSelection();e=d.focusNode.nodeValue?d.focusNode.substringData(0,d.focusOffset)._kmwLength():0;d.isCollapsed||d.deleteFromDocument();var j=d.getRangeAt(0);0<a&&(j.setStart(d.focusNode,d.focusOffset-d.focusNode.nodeValue.substr(0,d.focusOffset)._kmwSubstr(-a).length),j.deleteContents());if(0<g._kmwLength())if(3==
d.focusNode.nodeType){j=d.focusOffset;d.focusNode.insertData(d.focusOffset,g);try{d.extend(d.focusNode,j+g.length)}catch(k){d.focusNode.parentNode.scrollIntoView(),d.extend(d.focusNode,j+g.length)}}else{var t=c.createTextNode(g);j.insertNode(t);d.extend(t,g.length)}h&&b._CacheCommandsReset(c,l,null);d.collapseToEnd();0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(e,-a+g._kmwLength()))}else if(c&&(d=c.selection)){if(c.body.isContentEditable||"on"==c.designMode.toLowerCase())l=b._CacheCommands(c);
j=d.createRange();""!=j.text?(d.clear(),a=0):j.collapse(!0);0<a?(j.moveStart("character",-2*a),h=j.text._kmwSubstr(-a),j.collapse(!1),j.moveStart("character",-h.length)):a=0;j.text=g;if(c.body.isContentEditable||"on"==c.designMode.toLowerCase())j.moveStart("character",-g.length),b._CacheCommandsReset(c,l,j.select),j.moveStart("character",g.length),j.select();0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(e,-a+g._kmwLength()));b._Selection=d.createRange();b._Selection.select();b._Selection.scrollIntoView()}else f.setSelectionRange&&
(null!=f._KeymanWebSelectionStart?(e=f._KeymanWebSelectionStart,c=f._KeymanWebSelectionEnd):(e=f.value._kmwCodeUnitToCodePoint(f.selectionStart),c=f.value._kmwCodeUnitToCodePoint(f.selectionEnd)),"textarea"==f.type.toLowerCase()&&"undefined"!=typeof f.scrollTop&&(h=f.scrollTop,j=f.scrollLeft),0>a?(f.value=f.value._kmwSubstring(0,e)+g+f.value._kmwSubstring(c),a=0):f.value=e<a?g+f.value._kmwSubstring(c):f.value._kmwSubstring(0,e-a)+g+f.value._kmwSubstring(c),0<=a&&(b._DeadkeyDeleteMatched(),b._DeadkeyAdjustPos(e,
-a+g._kmwLength())),"undefined"!=typeof h&&(f.scrollTop=h,f.scrollLeft=j),a=e-a+g._kmwLength(),a=f.value._kmwCodePointToCodeUnit(a),f.setSelectionRange(a,a),f._KeymanWebSelectionStart=null,f._KeymanWebSelectionEnd=null);if("ontextchange"in b)b.ontextchange(f)}};b.KDO=b.KDO=function(a,f,g){var c={};0<=a&&b.KO(a,f,"");c.p=b._SelPos(f);c.d=g;b._DeadKeys=b._push(b._DeadKeys,c)};b.KIO=b.KIO=function(a,f,g,c){b._AnyIndices[g-1]<f._kmwLength()&&b.KO(a,c,f._kmwCharAt(b._AnyIndices[g-1]))};b._CacheCommands=
function(a){var f=[["backcolor",1],["fontname",1],["fontsize",1],["forecolor",1],["bold",0],["italic",0],["strikethrough",0],["subscript",0],["superscript",0],["underline",0]];a.defaultView&&b._push(f,["hilitecolor",1]);for(var g=0;g<f.length;g++)b._push(f[g],f[g][1]?a.queryCommandValue(f[g][0]):a.queryCommandState(f[g][0]));return f};b._CacheCommandsReset=function(a,b,g){for(var c=0;c<b.length;c++)b[c][1]?a.queryCommandValue(b[c][0])!=b[c][2]&&(g&&g(),a.execCommand(b[c][0],!1,b[c][2])):a.queryCommandState(b[c][0])!=
b[c][2]&&(g&&g(),a.execCommand(b[c][0],!1,null))};b.KIFS=b.KIFS=function(a,f){if(a==b.TSS_LAYER)return l.layerId===f;if(a==b.TSS_PLATFORM)switch(f){case "tablet":case "phone":case "desktop":return h.formFactor===f;default:return!0}else return!1};b.KSETS=function(a,f){return a==b.TSS_LAYER?l.showLayer(f):!1};b.KLOAD=function(a,b,h){a=g.loadCookie("KeymanWeb_"+a+"_Option_"+b);return"undefined"!=typeof a[b]?unescape(a[b]):h};b.KSAVE=function(a,f){var h=b._ActiveKeyboard;if(!h||"undefined"==typeof h.KI||
""==h.KI)return!1;var h="KeymanWeb_"+h.KI+"_Option_"+a,c=escape(f);g.saveCookie(h,c);return!0};var l=b.osk;b.GetLastActiveElement=function(){return b._LastActiveElement};b.FocusLastActiveElement=function(){b._FocusLastActiveElement()};b.HideHelp=function(){l._Hide(!0)};b.ShowHelp=function(a,b){l._Show(a,b)};b.ShowPinnedHelp=function(){l.userPositioned=!0;l._Show(-1,-1)}})();(function(){var b=window.tavultesoft.keymanweb,g=b._VKMap_FF_IE={};g.k61=187;g.k59=186;b._VKMap_Opera_IE={};b._VKMap_Safari_IE={};g=b._VKMap={};g.se={};g.se.k220=192;g.se.k187=189;g.se.k219=187;g.se.k221=219;g.se.k186=221;g.se.k191=220;g.se.k192=186;g.se.k189=191;g.uk={};g.uk.k223=192;g.uk.k192=222;g.uk.k222=226;g.uk.k220=220;var g={},h={};g.k192=96;g.k49=49;g.k50=50;g.k51=51;g.k52=52;g.k53=53;g.k54=54;g.k55=55;g.k56=56;g.k57=57;g.k48=48;g.k189=45;g.k187=61;g.k81=113;g.k87=119;g.k69=101;g.k82=114;
g.k84=116;g.k89=121;g.k85=117;g.k73=105;g.k79=111;g.k80=112;g.k219=91;g.k221=93;g.k220=92;g.k65=97;g.k83=115;g.k68=100;g.k70=102;g.k71=103;g.k72=104;g.k74=106;g.k75=107;g.k76=108;g.k186=59;g.k222=39;g.k90=122;g.k88=120;g.k67=99;g.k86=118;g.k66=98;g.k78=110;g.k77=109;g.k188=44;g.k190=46;g.k191=47;h.k192=126;h.k49=33;h.k50=64;h.k51=35;h.k52=36;h.k53=37;h.k54=94;h.k55=38;h.k56=42;h.k57=40;h.k48=41;h.k189=95;h.k187=43;h.k81=81;h.k87=87;h.k69=69;h.k82=82;h.k84=84;h.k89=89;h.k85=85;h.k73=73;h.k79=79;h.k80=
80;h.k219=123;h.k221=125;h.k220=124;h.k65=65;h.k83=83;h.k68=68;h.k70=70;h.k71=71;h.k72=72;h.k74=74;h.k75=75;h.k76=76;h.k186=58;h.k222=34;h.k90=90;h.k88=88;h.k67=67;h.k86=86;h.k66=66;h.k78=78;h.k77=77;h.k188=60;h.k190=62;h.k191=63;b._USCharCode=[g,h];b._USKeyCodeToCharCode=function(g){return b._USCharCode[g.Lmodifiers&16?1:0]["k"+g.Lcode]}})();window.dfltLayout={desktop:{font:"Tahoma",layer:[{id:"default",row:[{id:"1",key:[{id:"K_BKQUOTE"},{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{id:"K_BKSP",text:"BkSp",width:"130",fontsize:"0.5em",sp:"1"}]},{id:"2",key:[{id:"K_TAB",text:"Tab",width:"130",fontsize:"0.5em",sp:"1"},{id:"K_Q"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},
{id:"K_RBRKT"},{id:"K_BKSLASH"}]},{id:"3",key:[{id:"K_CAPS",text:"Caps",width:"165",fontsize:"0.5em",sp:"1"},{id:"K_A"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_ENTER",text:"Enter",width:"165",fontsize:"0.5em",sp:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"Shift",width:"130",fontsize:"0.5em",sp:"1"},{id:"K_oE2"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},
{id:"K_SLASH"},{id:"K_SHIFT",text:"Shift",width:"130",fontsize:"0.5em",sp:"1"}]},{id:"5",key:[{id:"K_LCTRL",text:"Ctrl",width:"170",fontsize:"0.5em",sp:"1"},{id:"K_LALT",text:"Alt",width:"160",fontsize:"0.5em",sp:"1"},{id:"K_SPACE",width:"770",text:""},{id:"K_RALT",text:"Alt",width:"160",fontsize:"0.5em",sp:"1"},{id:"K_RCTRL",text:"Ctrl",width:"170",fontsize:"0.5em",sp:"1"}]}]}]},tablet:{font:"Tahoma",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},
{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},
{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"Shift",width:"140",fontsize:"0.5em",sp:"1",sk:[{id:"K_LCTRL",text:"Ctrl",sp:"1",width:"50",fontsize:"1em",nextlayer:"ctrl"},{id:"K_LALT",text:"Alt",sp:"1",width:"50",fontsize:"1em",nextlayer:"alt"},{id:"K_ALTGR",text:"CtrlAlt",sp:"1",width:"50",fontsize:"1em",nextlayer:"ctrlalt"}]},{id:"K_LOPT",width:"120"},{id:"K_TAB",
text:"Next",width:"120",fontsize:"0.5em",sp:"1"},{id:"K_SPACE",width:"500",text:""},{id:"K_BKSP",text:"BkSp",width:"120",fontsize:"0.5em",sp:"1"},{id:"K_ROPT",width:"120"},{id:"K_ENTER",text:"Enter",width:"120",fontsize:"0.5em",sp:"1"}]}]}]},phone:{font:"Tahoma",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},
{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",
width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"Shift",width:"140",fontsize:"0.5em",sp:"1",sk:[{id:"K_LCTRL",text:"Ctrl",sp:"1",width:"50",fontsize:"0.5em",nextlayer:"ctrl"},{id:"K_LALT",text:"Alt",sp:"1",width:"50",fontsize:"0.5em",nextlayer:"alt"},{id:"K_ALTGR",text:"CtrlAlt",sp:"1",width:"50",fontsize:"0.5em",nextlayer:"ctrlalt"}]},{id:"K_LOPT",width:"120"},{id:"K_TAB",text:"Next",width:"120",fontsize:"0.5em",sp:"1"},{id:"K_SPACE",width:"500",text:""},{id:"K_BKSP",text:"BkSp",width:"120",fontsize:"0.5em",
sp:"1"},{id:"K_ROPT",width:"120"},{id:"K_ENTER",text:"Enter",width:"120",fontsize:"0.5em",sp:"1"}]}]}]}};
