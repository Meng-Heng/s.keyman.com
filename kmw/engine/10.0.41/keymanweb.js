var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,d,e){if(a){d=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var f=b[e];f in d||(d[f]={});d=d[f]}b=b[b.length-1];e=d[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(a,b,e){var d=this.length||0;0>b&&(b=Math.max(0,d+b));if(null==e||e>d)e=d;e=Number(e);0>e&&(e=Math.max(0,d+e));for(b=Number(b||0);b<e;b++)this[b]=a;return this}},"es6","es3");
var Device=function(){function b(){this.touchable=!!("ontouchstart"in window);this.OS="";this.formFactor="desktop";this.dyLandscape=this.dyPortrait=0;this.version="0";this.orientation=window.orientation;this.browser=""}b.prototype.detect=function(a){if(navigator&&navigator.userAgent){var b=navigator.userAgent;0<=b.indexOf("iPad")&&(this.OS="iOS",this.formFactor="tablet",this.dyPortrait=this.dyLandscape=0);0<=b.indexOf("iPhone")&&(this.OS="iOS",this.formFactor="phone",this.dyPortrait=this.dyLandscape=
25);if(0<=b.indexOf("Android")){this.OS="Android";this.formFactor="phone";this.dyPortrait=75;this.dyLandscape=25;try{this.version=b.match(/(?:Android\s+)(\d+\.\d+\.\d+)/)[1]}catch(e){}}0<=b.indexOf("Windows NT")&&(this.OS="Windows",0<=b.indexOf("Touch")&&(this.formFactor="phone"),"number"==typeof navigator.msMaxTouchPoints&&0<navigator.msMaxTouchPoints&&(this.touchable=!0))}"tablet"==this.formFactor&&400>Math.min(screen.width,screen.height)&&(this.formFactor="phone");"phone"==this.formFactor&&720<
Math.max(screen.width,screen.height)&&(this.formFactor="tablet");"iOS"!=this.OS||"ongesturestart"in window||"Win32"==navigator.platform||(this.OS="Android");this.browser="web";if(999>a)this.browser="ie";else{if("iOS"==this.OS||"macosx"==this.OS.toLowerCase())this.browser="safari";/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(0<=navigator.userAgent.indexOf("Firefox")&&"onmozorientationchange"in screen?this.browser="firefox":0<=navigator.userAgent.indexOf("OPR")?this.browser="opera":0<=navigator.userAgent.indexOf("Chrome")&&
(this.browser="chrome"))}};return b}(),Util=function(){function b(a){this.events={};this.currentEvents=[];this.embeddedFonts=[];this.getAbsoluteX=this._GetAbsoluteX;this.getAbsoluteY=this._GetAbsoluteY;this.getAbsolute=this._GetAbsolute;this.selectStartHandler=function(){return!1};this.mouseDownPreventDefaultHandler=function(a){a&&a.preventDefault()};this.createElement=this._CreateElement;this.getIEVersion=this._GetIEVersion;this.initDevices();this.keyman=a}b.prototype.initDevices=function(){this.device=
new Device;this.physicalDevice=new Device;this.device.detect(this._GetIEVersion());"desktop"==this.device.formFactor&&(this.device.touchable=!1);this.physicalDevice=new Device;this.physicalDevice.touchable=!1;this.physicalDevice.browser=this.device.browser;this.physicalDevice.formFactor="desktop";this.physicalDevice.OS=this.device.OS};b.prototype.arrayFromNodeList=function(a){for(var b=[],e=0;e<a.length;e++)b.push(a[e]);return b};b.prototype.addEventListener=function(a,b){this.removeEventListener(a,
b);this.events[a].push(b);return!0};b.prototype.removeEventListener=function(a,b){"undefined"==typeof this.events[a]&&(this.events[a]=[]);for(var d=0;d<this.events[a].length;d++)if(this.events[a][d]==b)return this.events[a].splice(d,1),!0;return!1};b.prototype.callEvent=function(a,b){if("undefined"==typeof this.events[a])return!0;if(-1!=this.currentEvents.indexOf(a))return!1;this.currentEvents.push(a);for(var d=0;d<this.events[a].length;d++){var f=this.events[a][d],h=!1;try{h=f(b)}catch(g){h=!1}if(!1===
h)return this.currentEvents.pop(),!1}this.currentEvents.pop();return!0};b.prototype.attachDOMEvent=function(a,b,e,f){this.detachDOMEvent(a,b,e,f);a.attachEvent?a.attachEvent("on"+b,e):a.addEventListener&&a.addEventListener(b,e,f?!0:!1)};b.prototype.detachDOMEvent=function(a,b,e,f){a.detachEvent?a.detachEvent("on"+b,e):a.removeEventListener&&a.removeEventListener(b,e,f)};b.prototype.getOption=function(a,b){return a in this.keyman.options?this.keyman.options[a]:1<arguments.length?b:""};b.prototype.setOption=
function(a,b){this.keyman.options[a]=b};b.prototype._GetAbsoluteX=function(a){if(!a)return 0;var b=a.offsetLeft?a.offsetLeft:0;var e=a;if(e.offsetParent)for(;e.offsetParent;)e=e.offsetParent,b+=e.offsetLeft;e&&e.ownerDocument&&a.ownerDocument!=this.keyman._MasterDocument&&(e=e.ownerDocument);if(e instanceof Document){if(e&&e.parentWindow&&e.parentWindow.frameElement)return b+this._GetAbsoluteX(e.parentWindow.frameElement)-e.documentElement.scrollLeft;if(e&&e.defaultView&&e.defaultView.frameElement)return b+
this._GetAbsoluteX(e.defaultView.frameElement)-e.documentElement.scrollLeft}return b};b.prototype._GetAbsoluteY=function(a){if(!a)return 0;var b=a.offsetTop?a.offsetTop:0;var e=a;if(e instanceof HTMLElement)for(var f=e;f.offsetParent;)e=f=f.offsetParent,b+=f.offsetTop;e&&e.ownerDocument&&a.ownerDocument!=this.keyman._MasterDocument&&(e=e.ownerDocument);if(e instanceof Document){if(e&&e.parentWindow&&e.parentWindow.frameElement)return b+this._GetAbsoluteY(e.parentWindow.frameElement)-e.documentElement.scrollTop;
if(e&&e.defaultView&&e.defaultView.frameElement)return b+this._GetAbsoluteY(e.defaultView.frameElement)-e.documentElement.scrollTop}return b};b.prototype._GetAbsolute=function(a){return{x:this._GetAbsoluteX(a),y:this._GetAbsoluteY(a)}};b.prototype._CreateElement=function(a){a=document.createElement(a);"undefined"!=typeof a.onselectstart?(a.unSelectable="on",a.onselectstart=this.selectStartHandler):(a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.UserSelect="none",a.style.WebkitUserSelect=
"none");return a};b.prototype._GetIEVersion=function(){var a="";"userAgent"in navigator&&(a=navigator.userAgent);if("selection"in document){var b=navigator.appVersion;var e=b.indexOf("MSIE ");if(0<=e){if("BackCompat"==document.compatMode)return 6;b=b.substr(e+5);e=b.indexOf(".");if(0<e)return parseInt(b.substr(0,e),10)}}e=a.indexOf("Trident/");if(0>e)return 999;a=a.substr(e+8);e=a.indexOf(".");return 0<e?parseInt(a.substr(0,e),10)+4:999};b.prototype.getDPI=function(){var a=document.createElement("DIV"),
b=a.style,e=96;if("complete"!==document.readyState)return e;a.id="calculateDPI";b.position="absolute";b.display="block";b.visibility="hidden";b.left="10px";b.top="10px";b.width="1in";b.height="10px";document.body.appendChild(a);e="undefined"==typeof window.devicePixelRatio?a.offsetWidth:a.offsetWidth*window.devicePixelRatio;document.body.removeChild(a);return e};b.prototype.getStyleValue=function(a,b){try{if(a&&"undefined"!=typeof window.getComputedStyle)return window.getComputedStyle(a,"").getPropertyValue(b);
if(a&&"undefined"!=typeof a.currentStyle)return a.currentStyle[b]}catch(e){}return""};b.prototype.getStyleInt=function(a,b,e){a=parseInt(this.getStyleValue(a,b),10);return isNaN(a)?"number"==typeof e?e:0:a};b.prototype.isTouchDevice=function(){return this.device.touchable};b.prototype.portraitView=function(){return!this.landscapeView()};b.prototype.landscapeView=function(){return"undefined"==typeof window.orientation?!1:1==Math.abs(window.orientation/90)};b.prototype.getViewportScale=function(){try{if(screen.width>
document.documentElement.clientWidth)return 1;var a=screen.width;this.landscapeView()?screen.width<screen.height&&(a=screen.height):screen.width>screen.height&&(a=screen.height);return Math.round(100*a/window.innerWidth)/100}catch(d){return 1}};b.prototype.barHeight=function(){var a=0;"phone"==this.device.formFactor&&(a=screen.height/2-window.innerHeight-(this.landscapeView()?this.device.dyLandscape:this.device.dyPortrait));return a};b.prototype._EncodeEntities=function(a){return a.replace("&","&amp;").replace("<",
"&lt;").replace(">","&gt;")};b.prototype.createShim=function(){console.warn("The util.createShim function is deprecated, as its old functionality is no longer needed.  It and references to its previously-produced shims may be safely removed.")};b.prototype.showShim=function(a,b,e){console.warn("The util.showShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};b.prototype.hideShim=function(a){console.warn("The util.hideShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};
b.prototype.rgba=function(a,b,e,f,h){var g="transparent";if(9>this._GetIEVersion())h=Math.floor(100*h),b=b.toString(16),e=e.toString(16),f=f.toString(16),b=("00"+b).substr(-2),e=("00"+e).substr(-2),f=("00"+f).substr(-2),f=h+b+e+f,a.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+f+",endColorstr=#"+f+")",a.zoom="1";else try{g="rgba("+b+","+e+","+f+","+h+")"}catch(c){g="rgb("+b+","+e+","+f+")"}return g};b.prototype.addStyleSheet=function(a){var b=document.createElement("style");
b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));a=document.getElementsByTagName("HEAD");0<a.length?a[0].appendChild(b):document.body.appendChild(b);return b};b.prototype.removeStyleSheet=function(a){if(null==a||"object"!=typeof a||"STYLE"!=a.nodeName||"undefined"==typeof a.parentNode||null==a.parentNode)return!1;a.parentNode.removeChild(a);return!0};b.prototype.linkStyleSheet=function(a){var b=document.getElementsByTagName("head");if(0<b.length){var e=
document.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=a;b[0].appendChild(e)}};b.prototype.addFontFaceStyleSheet=function(a){if("undefined"!=typeof a&&("undefined"==typeof a.files&&(a.files=a.source),"undefined"!=typeof a.files)){var b,e="",f="",h="",g="",c=[];for(b=0;b<this.embeddedFonts.length;b++)if(this.embeddedFonts[b]==a.family)return;"string"==typeof a.files?c[0]=a.files:c=a.files;for(b=0;b<c.length;b++)0<c[b].indexOf(".ttf")&&(e=c[b]),0<c[b].indexOf(".woff")&&(f=c[b]),
0<c[b].indexOf(".eot")&&(h=c[b]),0<c[b].indexOf(".svg")&&(g=c[b]);""!=e&&0>e.indexOf("/")&&(e=this.keyman.options.fonts+e);""!=f&&0>f.indexOf("/")&&(f=this.keyman.options.fonts+f);""!=h&&0>h.indexOf("/")&&(h=this.keyman.options.fonts+h);""!=g&&0>g.indexOf("/")&&(g=this.keyman.options.fonts+g);b="@font-face {\nfont-family:"+a.family+";\nfont-style:normal;\nfont-weight:normal;\n";if(9<=this._GetIEVersion())if("iOS"==this.device.OS)if(""!=e)e=this.unCached(e),b=b+"src:url('"+e+"') format('truetype');";
else return;else{h=[];"Android"==this.device.OS?(""!=g&&h.push("url('"+g+"') format('svg')"),""!=f&&h.push("url('"+f+"') format('woff')"),""!=e&&h.push("url('"+e+"') format('truetype')")):(""!=f&&h.push("url('"+f+"') format('woff')"),""!=e&&h.push("url('"+e+"') format('truetype')"),""!=g&&h.push("url('"+g+"') format('svg')"));if(0==h.length)return;b+="src:"+h.join(",")+";"}else if(""!=h)b=b+"src:url('"+h+"');";else return;this.addStyleSheet(b+"\n}\n");this.embeddedFonts.push(a.family)}};b.prototype.unCached=
function(a){return a};b.prototype.loadCookie=function(a){var b={};if(0<arguments.length){var e=this.loadCookie(),f;for(f in e)if(f==a)for(var h=decodeURI(e[f]).split(";"),g=0;g<h.length;g++){var c=h[g].split("=");b[c[0]]=1<c.length?c[1]:""}}else if("undefined"!=typeof document.cookie&&""!=document.cookie)for(e=document.cookie.split(/;\s*/),g=0;g<e.length;g++)h=e[g].split("="),2==h.length&&(b[h[0]]=h[1]);return b};b.prototype.saveCookie=function(a,b){var d="",f;for(f in b)d=d+f+"="+b[f]+";";b=(new Date((new Date).valueOf()+
2592E6)).toUTCString();document.cookie=a+"="+encodeURI(d)+"; path=/; expires="+b};b.prototype.toNumber=function(a,b){a=parseInt(a,10);return isNaN(a)?b:a};b.prototype.toFloat=function(a,b){a=parseFloat(a);return isNaN(a)?b:a};b.prototype.nzString=function(a,b){var d="";1<arguments.length&&(d=b);return"undefined"==typeof a||null==a||0==a||""==a?d:""+a};b.prototype.deepCopy=function(a,b){b=b||{};for(var d in a)"object"===typeof a[d]?(b[d]=a[d].constructor===Array?[]:{},this.deepCopy(a[d],b[d])):b[d]=
a[d];return b};b.prototype.eventTarget=function(a){return a?a.target?a.target:a.srcElement?a.srcElement:window.event?window.event.srcElement:null:null};b.prototype.eventType=function(a){return a&&a.type?a.type:window.event?window.event.type:""};b.prototype.alert=function(a,b){var d=this.keyman.waiting,f=d.firstChild.childNodes;f[0].style.display="block";f[1].className="kmw-alert-text";f[1].innerHTML=a;f[2].style.display="none";d.style.display="block";d.dismiss=1<arguments.length?b:null};b.prototype.wait=
function(a){};b.prototype.prepareWait=function(){var a=document.createElement("DIV"),b=document.createElement("DIV"),e=document.createElement("DIV"),f=document.createElement("DIV"),h=document.createElement("DIV");a.className="kmw-wait-background";b.className="kmw-wait-box";a.dismiss=null;e.className="kmw-wait-text";f.className="kmw-wait-graphic";h.className="kmw-alert-close";b.onmousedown=b.onclick=function(b){"block"==h.style.display&&(a.style.display="none",a.dismiss&&a.dismiss())};b.addEventListener("touchstart",
b.onclick,!1);a.onmousedown=a.onclick=function(a){a.preventDefault();a.stopPropagation()};a.addEventListener("touchstart",a.onclick,!1);b.appendChild(h);b.appendChild(e);b.appendChild(f);a.appendChild(b);document.body.appendChild(a);this.keyman.waiting=a};b.prototype.myPath=function(a){var b,e=document.getElementsByTagName("script");for(b=0;b<e.length;b++){var f=e[b];if(0<=f.src.indexOf(a))return f.src.substr(0,f.src.lastIndexOf("/")+1)}return""};b.prototype.prependProtocol=function(a){return/^https?:/.test(a)?
a:"//"==a.substr(0,2)?this.keyman.protocol+a:"/"==a.substr(0,1)?this.keyman.protocol+"/"+a:this.keyman.protocol+"//"+a};b.prototype.testString=function(a){var b=a.family;if("sample"in a&&"string"==typeof a.sample)return"BESbswy"+a.sample;var e="TamilWeb TibetanWeb LatinWeb CherokeeWeb EgyptianWeb SinhalaWeb KhmerWeb ArabicWeb BurmeseWeb LaoWeb OriyaWeb GeezWeb".split(" "),f="\u0bbe\u0bf5 \u0f7f\u0fd0 \u02b0\u02a4 \u13d0\u13c9 \ua723\uf7d3 \u0dd8\u0da3 \u17d6\u178e \u0639\u06b3 \u1038\u1024 \u0ec0\u0edd \u0b03\u0b06 \u1361\u132c".split(" ");
for(a=0;a<e.length;a++)if(b==e[a])return"BESbswy"+f[a];return"BESbswy"};b.prototype.checkFont=function(a){var b=a.family,e=document.createElement("DIV"),f=e.style,h=document.createElement("P"),g=document.createElement("P"),c=document.createElement("SPAN"),k=c.style,l=document.createElement("SPAN"),C=l.style;f.position="absolute";f.top="10px";f.left="10px";f.visibility="hidden";document.body.appendChild(e);e.appendChild(h);e.appendChild(g);h.appendChild(c);g.appendChild(l);c.setAttribute("style","font-family:monospace !important");
C.fontFamily=b+",monospace";k.fontSize=C.fontSize="24px";c.innerHTML=l.innerHTML=this.testString(a);c.offsetWidth!=l.offsetWidth&&(c.setAttribute("style","font-family:sans-serif !important"),C.fontFamily=b+",sans-serif",c.offsetWidth!=l.offsetWidth&&(c.setAttribute("style","font-family:serif !important"),C.fontFamily=b+",serif"));a=c.offsetWidth!=l.offsetWidth;h.removeChild(c);g.removeChild(l);e.removeChild(h);e.removeChild(g);document.body.removeChild(e);return a};b.prototype.checkFontDescriptor=
function(a){return"undefined"==typeof a||"string"!=typeof a.family?!0:this.checkFont(a)};return b}(),CloudRequestEntry=function(){function b(a,b){this.id=a;this.language=b}b.prototype.toString=function(){var a=this.id;this.language?(a=a+"@"+this.language,this.version&&(a=a+"@"+this.version)):this.version&&(a=a+"@@"+this.version);return a};return b}(),KeyboardFont=function(){return function(b,a){this.family=b.family;this.files=b.source;this.path=a}}(),KeyboardStub=function(){return function(b,a){this.KI=
"Keyboard_"+b;this.KLC=a}}(),KeyboardManager=function(){function b(a){this.activeStub=null;this.keyboardStubs=[];this.deferredStubs=[];this.deferredKRS=[];this.deferredKR=[];this.dfltStub=null;this.keyboards=[];this.languageList=null;this.languagesPending=[];this._GetKeyboardDetail=function(a){var b={};b.Name=a.KN;b.InternalName=a.KI;b.LanguageName=a.KL;b.LanguageCode=a.KLC;b.RegionName=a.KR;b.RegionCode=a.KRC;b.CountryName=a.KC;b.CountryCode=a.KCC;b.KeyboardID=a.KD;b.Font=a.KFont;b.OskFont=a.KOskFont;
return b};this.keymanweb=a}b.prototype.getActiveKeyboardName=function(){return this.activeKeyboard?this.activeKeyboard.KI:""};b.prototype.getDetailedKeyboards=function(){var a=[],b;for(b=0;b<this.keyboardStubs.length;b++){var e=this.keyboardStubs[b];e=this._GetKeyboardDetail(e);a=this.keymanweb._push(a,e)}return a};b.prototype.registerDeferredStubs=function(){this.addKeyboardArray(this.deferredStubs);for(var a=0;a<this.deferredKRS.length;a++)this._registerStub(this.deferredKRS[a])};b.prototype.registerDeferredKeyboards=
function(){for(var a=0;a<this.deferredKR.length;a++)this._registerKeyboard(this.deferredKR[a])};b.prototype.addStub=function(a){if("string"!=typeof a.id)return!1;"undefined"!=typeof a.language&&(console.warn("The 'language' property for keyboard stubs has been deprecated.  Please use the 'languages' property instead."),a.languages=a.language);if("undefined"==typeof a.languages)return!1;"string"!=typeof a.name&&(a.name=a.id.replace("_"," "),a.name=a.name.substr(0,1).toUpperCase()+a.name.substr(1));
var b=a.languages,e=[];"undefined"==typeof b.length?e[0]=b:e=b;var f={keyboardBaseUri:this.keymanweb.options.keyboards,fontBaseUri:this.keymanweb.options.fonts};for(b=0;b<e.length;b++)this.mergeStub(a,e[b],f);return!0};b.prototype.mergeStub=function(a,d,e){var f=this.findStub(a.id,d.id);null==f&&(f=new KeyboardStub(a.id,d.id),this.keyboardStubs.push(f));var h=d.region,g=0;if("number"==typeof h)g=1>h||9<h?0:h-1;else if("string"==typeof h)for(var c=2==h.length?b.regionCodes:b.regions,k=0;k<c.length;k++)if(h.toLowerCase()==
c[k].toLowerCase()){g=k;break}"undefined"==typeof f.KL&&(f.KL=d.name);"undefined"==typeof f.KR&&(f.KR=b.regions[g]);"undefined"==typeof f.KRC&&(f.KRC=b.regionCodes[g]);"undefined"==typeof f.KN&&(f.KN=a.name);"undefined"==typeof f.KF&&(h=/^(([\.]\/)|([\.][\.]\/)|(\/))|(:)/,f.KF=a.filename,h.test(f.KF)||(f.KF=e.keyboardBaseUri+f.KF));a=e.fontBaseUri;""!=this.keymanweb.options.fonts?(a=this.keymanweb.options.fonts,h=/^https?\:/,h.test(a)||(a="//"==a.substr(0,2)?this.keymanweb.protocol+a:"/"==a.substr(0,
1)?this.keymanweb.rootPath+a.substr(1):this.keymanweb.rootPath+a)):this.keymanweb.options.fonts=a;"undefined"==typeof f.KFont&&"undefined"!=typeof d.font&&(f.KFont=new KeyboardFont(d.font,a));"undefined"==typeof f.KOskFont&&"undefined"!=typeof d.oskFont&&(f.KOskFont=new KeyboardFont(d.oskFont,a));this.doKeyboardRegistered(f.KI,f.KL,f.KN,f.KLC,f.KP)};b.prototype.findStub=function(a,b){var d;for(d=0;d<this.keyboardStubs.length;d++)if(this.keyboardStubs[d].KI=="Keyboard_"+a&&this.keyboardStubs[d].KLC==
b)return this.keyboardStubs[d];return null};b.prototype.setDefaultKeyboard=function(){return 0<this.keyboardStubs.length?(this._SetActiveKeyboard(this.keyboardStubs[0].KI,this.keyboardStubs[0].KLC),!0):!1};b.prototype.setActiveKeyboard=function(a,b){this.doBeforeKeyboardChange(a,b);this._SetActiveKeyboard(a,b,!0);null!=this.keymanweb._LastActiveElement&&this.keymanweb._FocusLastActiveElement();this.doKeyboardChange(a,b)};b.prototype._SetActiveKeyboard=function(a,b,e){var d,h,g=this.keymanweb.util,
c=this.keymanweb.osk;if(2>arguments.length||!b)b="---";for(d=0;d<this.keyboardStubs.length&&(a!=this.keyboardStubs[d].KI||b!=this.keyboardStubs[d].KLC&&"---"!=b);d++);g.device.touchable&&(""==a||null==a||d>=this.keyboardStubs.length)&&(a=this.keyboardStubs[0].KI,b=this.keyboardStubs[0].KLC);2<arguments.length&&e&&this.saveCurrentKeyboard(a,b);if(!this.activeStub||!this.activeKeyboard||this.activeKeyboard.KI!=a||this.activeStub.KI!=a||this.activeStub.KLC!=b||this.keymanweb.mustReloadKeyboard){if(this.activeKeyboard&&
this.activeKeyboard.KI==a)for(h=0;h<this.keyboardStubs.length;h++)if(this.keyboardStubs[h].KI==a&&this.keyboardStubs[h].KLC==b){this.activeStub=this.keyboardStubs[h];c.appendStyleSheet();this.keymanweb.mustReloadKeyboard&&c._Load();return}this.activeStub=this.activeKeyboard=null;if(""==a)c._Hide(!1),this.keymanweb.isEmbedded||g.wait(!1);else{for(h=0;h<this.keyboards.length;h++)if(this.keyboards[h].KI==a){this.activeKeyboard=this.keyboards[h];this.keymanweb._SetTargDir(this.keymanweb._LastActiveElement);
for(d=0;d<this.keyboardStubs.length;d++)if(this.keyboardStubs[d].KI==a&&(this.keyboardStubs[d].KLC==b||"---"==b)){this.activeStub=this.keyboardStubs[d];break}break}if(null==this.activeKeyboard){for(h=0;h<this.keyboardStubs.length;h++)if(this.keyboardStubs[h].KI==a&&(this.keyboardStubs[h].KLC==b||"---"==b)){if(this.isCJK(this.keyboardStubs[h])||g.device.touchable)c._Enabled=1;if(!this.keyboardStubs[h].asyncLoader){c.ready&&c._Hide(!1);var k=this.keyboardStubs[h];k.asyncLoader={};var l=k.KN,C=k.KL;
l=l.replace(/\s*keyboard\s*/i,"");k.asyncLoader.callback=function(a,b){var c=a||"Sorry, the "+l+" keyboard for "+C+" is not currently available.";this.keymanweb.isEmbedded||(g.wait(!1),g.alert(a||c,function(){this.keymanweb.setActiveKeyboard("")}));switch(b){case "err":console.error(c);break;default:console.warn(c)}0<h&&(a=this.keyboardStubs[0],this._SetActiveKeyboard(a.KI,a.KLC,!0))};k.asyncLoader.timer=window.setTimeout(k.asyncLoader.callback,1E4);this.keymanweb.isEmbedded||g.wait("Installing keyboard<br/>"+
l);var v=this;window.setTimeout(function(){v.installKeyboard(k)},0)}this.activeStub=this.keyboardStubs[h];return}this.keymanweb._SetTargDir(this.keymanweb._LastActiveElement)}d=this.activeKeyboard;null!==d&&String.kmwEnableSupplementaryPlane(d&&(d.KS&&1==d.KS||"Hieroglyphic"==d.KN));c._Load()}}};b.prototype.installKeyboard=function(a){var b=this.keymanweb.util,e=this.keymanweb.osk,f=b._CreateElement("SCRIPT");f.charset="UTF-8";f.type="text/javascript";this.keymanweb.isEmbedded&&(f.id=a.KI);var h=
a.KF,g=a.KL,c=a.KN,k=this;f.addEventListener("error",function(){null!==a.asyncLoader.timer&&(window.clearTimeout(a.asyncLoader.timer),a.asyncLoader.timer=null);a.asyncLoader.callback("Cannot find the "+c+" keyboard for "+g+".","warn");a.asyncLoader=null},!1);f.addEventListener("load",function(){null!==a.asyncLoader.timer&&(window.clearTimeout(a.asyncLoader.timer),a.asyncLoader.timer=null);var l=k.getKeyboardByID(a.KI);l?a==k.activeStub&&(k.doBeforeKeyboardChange(l.KI,a.KLC),k.activeKeyboard=l,null!=
k.keymanweb._LastActiveElement&&(k.keymanweb._JustActivatedKeymanWebUI=1,k.keymanweb._SetTargDir(k.keymanweb._LastActiveElement)),String.kmwEnableSupplementaryPlane(a&&(a.KS&&1==a.KS||"Hieroglyphic"==l.KN)),k.saveCurrentKeyboard(l.KI,a.KLC),e._Load(),k.keymanweb.isEmbedded||b.wait(!1)):a.asyncLoader.callback("Error registering the "+c+" keyboard for "+g+".","error");a.asyncLoader=null},!1);f.src=this.keymanweb.getKeyboardPath(h);try{document.body.appendChild(f)}catch(l){document.getElementsByTagName("head")[0].appendChild(f)}};
b.prototype.saveCurrentKeyboard=function(a,b){this.keymanweb.util.saveCookie("KeymanWeb_Keyboard",{current:a+":"+b})};b.prototype.restoreCurrentKeyboard=function(){var a=this.keyboardStubs,b=a.length;if(!(1>a.length)){var e=this.getSavedKeyboard();e.split(":");var f=e.split(":");2>f.length&&(f[1]="");for(e=0;e<b&&(a[e].KI!=f[0]||a[e].KLC!=f[1]&&""!=f[1]);e++);if(e<b||null==this.activeKeyboard)this._SetActiveKeyboard(f[0],f[1],!1),this.keymanweb.globalKeyboard=f[0],this.keymanweb.globalLanguageCode=
f[1],this.doKeyboardChange(f[0],f[1])}};b.prototype.getSavedKeyboard=function(){var a=this.keymanweb.util.loadCookie("KeymanWeb_Keyboard");if("string"!=typeof a.current)return"Keyboard_us:eng";var b,e=this.keyboardStubs;for(b=0;b<e.length;b++){var f=e[b].KI+":"+e[b].KLC;if(f==a.current)return f}for(b=0;b<e.length;b++)if(f=e[b].KI+":"+e[b].KLC,"Keyboard_us:eng"==f)return f;return 0<e.length?e[0].KI+":"+e[0].KLC:"Keyboard_us:eng"};b.prototype.isCJK=function(a){var b=this.activeKeyboard,e="";0<arguments.length&&
(b=a);b&&("undefined"!=typeof b.KLC?e=b.KLC:"undefined"!=typeof b.LanguageCode&&(e=b.LanguageCode));return"cmn"==e||"jpn"==e||"kor"==e};b.prototype.getKeyboardByID=function(a){var b;for(b=0;b<this.keyboards.length;b++)if(a==this.keyboards[b].KI)return this.keyboards[b];return null};b.prototype.isUniqueRequest=function(a,b){var d;if(null==this.findStub(b.id,b.language)){for(d=0;d<a.length;d++)if(a[d].id==b.id&&a[d].language==b.language)return!1;return!0}return!1};b.prototype.addKeyboardArray=function(a){if(!this.keymanweb.initialized)for(var b=
0;b<a.length;b++)this.deferredStubs.push(a[b]);else if(0!=a.length){var e,f="",h=[];for(b=0;b<a.length;b++){if("string"==typeof a[b]&&0<a[b].length){var g=a[b].split("@"),c=[""];"english"==g[0].toLowerCase()&&(g[0]="us");1<g.length&&(c=g[1].split(","));for(e=0;e<c.length;e++){var k=new CloudRequestEntry(g[0]);""!=c[e]&&(k.language=c[e]);2<g.length&&(k.version=g[2]);this.isUniqueRequest(h,k)&&h.push(k)}}if("object"==typeof a[b]&&null!=a[b])if("string"==typeof a[b].filename)this.addStub(a[b])||alert("To use a custom keyboard, you must specify file name, keyboard name, language, language code and region code.");
else if(a[b].language&&(console.warn("The 'language' property for keyboard stubs has been deprecated.  Please use the 'languages' property instead."),a[b].languages=a[b].language),c=a[b].languages,"number"==typeof c.length)for(e=0;e<c.length;e++)k=new CloudRequestEntry(a[b].id,a[b].languages[e].id),this.isUniqueRequest(h,k)&&h.push(k);else k=new CloudRequestEntry(a[b].id,a[b].languages[e].id),this.isUniqueRequest(h,k)&&h.push(k)}if(0!=h.length){a="&keyboardid=";for(b=0;b<h.length;b++)a=a+f+h[b].toString(),
f=",";this.keymanCloudRequest(a,!1)}}};b.prototype.registerLanguagesForKeyboard=function(a,b,e){var d,h=0;var g="";if("undefined"!=typeof a)if("string"==typeof b.keyboardid&&(g=b.keyboardid.split(",")[e]),"number"==typeof a.length)if(1==a.length||"$"==g.substr(-1,1)||""==g)for(g=0;g<a.length;g++)this.registerLanguagesForKeyboard(a[g],b,e);else{for(g=0;g<a.length;g++){var c=a[g].id.toLowerCase();"us"==c&&(c="english");for(d=0;d<a[g].languages.length;d++)if(c==a[g].languages[d].name.toLowerCase()){h=
g;break}}this.registerLanguagesForKeyboard(a[h],b,e)}else if(e=g.split("@")[1],"string"==typeof e&&(e=e.replace(/\$$/,"")),h=a.languages,"undefined"!=typeof h)if("number"==typeof h.length)for(g=0;g<h.length;g++)"undefined"!=typeof e&&h[g].id!=e||this.mergeStub(a,h[g],b);else this.mergeStub(a,h,b)};b.prototype.register=function(a){var b=a.options;a.timerid&&window.clearTimeout(a.timerid);if("string"==typeof a.error)b="","string"==typeof a.keyboardid&&(b=a.keyboardid.substr(0,1).toUpperCase()+a.keyboardid.substr(1)),
this.serverUnavailable(b+" keyboard not found.");else if("undefined"!=typeof b&&"undefined"!=typeof b.context)if("keyboard"==b.context){var e=a.keyboard;if("number"==typeof e.length)for(a=0;a<e.length;a++)this.registerLanguagesForKeyboard(e[a],b,a);else this.registerLanguagesForKeyboard(e,b,0)}else"language"==b.context&&(this.languageList=a.languages,this.languagesPending&&this.addLanguageKeyboards(this.languagesPending),this.languagesPending=[])};b.prototype.addLanguageKeyboards=function(a){var b,
e;if(null==this.languageList){var f=0==this.languagesPending.length;for(b=0;b<a.length;b++)this.languagesPending.push(a[b]);f&&this.keymanCloudRequest("",!0)}else{var h="";for(b=0;b<a.length;b++){var g=a[b].toLowerCase();(e="$"==g.substr(-1,1))&&(g=g.substr(0,g.length-1));for(f=0;f<this.languageList.length;f++)if(g==this.languageList[f].name.toLowerCase()){""!=h&&(h+=",");h=h+"@"+this.languageList[f].id;e&&(h+="$");break}}""==h?this.keymanweb.util.alert("No keyboards are available for "+a[0]+". Does it have another language name?"):
this.keymanCloudRequest("&keyboardid="+h,!1)}};b.prototype.keymanCloudRequest=function(a,b){var d="https://r.keymanweb.com/api/4.0/",f=this.keymanweb.util._CreateElement("SCRIPT");d=d+(1<arguments.length&&b?"languages":"keyboards")+"?jsonp=keyman.register";var h=this;var g="&timerid="+window.setTimeout(function(){h.serverUnavailable(a)},1E4);f.charset="UTF-8";f.src=d+a+g;f.type="text/javascript";try{document.body.appendChild(f)}catch(c){document.getElementsByTagName("head")[0].appendChild(f)}};b.prototype.serverUnavailable=
function(a){this.keymanweb.util.alert(""==a?"Unable to connect to Keyman Cloud server!":a);this.keymanweb.warned=!0};b.prototype.removeKeyboards=function(a){if(0==arguments.length)return!1;var b,e,f=!0,h=!1,g=!1;for(b=0;b<arguments.length;b++){for(e=this.keyboardStubs.length-1;0<=e;e--)if("Keyboard_"+arguments[b]==this.keyboardStubs[e].KI&&1<this.keyboardStubs.length){"Keyboard_"+arguments[b]==this.getActiveKeyboardName()&&(h=!0);g=!0;this.keyboardStubs.splice(e,1);break}0>e&&(f=!1)}h&&(this._SetActiveKeyboard(this.keyboardStubs[0].KI,
this.keyboardStubs[0].KLC,!0),this.keymanweb._JustActivatedKeymanWebUI=1);g&&this.doKeyboardUnregistered();return f};b.prototype._registerKeyboard=function(a){if(this.keymanweb.initialized){var b;this.keymanweb.isEmbedded&&this.keymanweb.preserveID(a);var e=this.activeStub,f=this.activeStub;if(!(e&&"KI"in e)||e.KI!=a.KI)for(b=0;b<this.keyboardStubs.length;b++){e=this.keyboardStubs[b];if(a.KI==e.KI)break;e=null}null==this.activeStub&&null!=e&&(this.activeStub=e);for(b=0;b<this.keyboards.length;b++)if(a.KI==
this.keyboards[b].KI)return;this.keyboards=this.keymanweb._push(this.keyboards,a);this.doKeyboardLoaded(a.KI);this.activeStub=f}else this.deferredKR.push(a)};b.prototype._registerStub=function(a){var b;if(!this.keymanweb.initialized)return this.deferredKRS.push(a),null;null==this.dfltStub&&(this.dfltStub=a);this.keymanweb.isEmbedded&&this.keymanweb.namespaceID(a);"undefined"==typeof a.KLC&&(a.KLC="");"undefined"==typeof a.KL&&(a.KL="undefined");for(b=0;b<this.keyboardStubs.length;b++)if(this.keyboardStubs[b].KI==
a.KI&&(""==a.KLC||this.keyboardStubs[b].KLC==a.KLC))return 1;this.keyboardStubs=this.keymanweb._push(this.keyboardStubs,a);this.doKeyboardRegistered(a.KI,a.KL,a.KN,a.KLC,a.KP);return null};b.prototype.doKeyboardRegistered=function(a,b,e,f,h){a={internalName:a,language:b,keyboardName:e,languageCode:f};h&&(a["package"]=h);return this.keymanweb.util.callEvent("kmw.keyboardregistered",a)};b.prototype.doKeyboardUnregistered=function(){return this.keymanweb.util.callEvent("kmw.keyboardregistered",{})};
b.prototype.doKeyboardLoaded=function(a){var b={};b.keyboardName=a;return this.keymanweb.util.callEvent("kmw.keyboardloaded",b)};b.prototype.doBeforeKeyboardChange=function(a,b){var d={};d.internalName=a;d.languageCode=b;return this.keymanweb.util.callEvent("kmw.beforekeyboardchange",d)};b.prototype.doKeyboardChange=function(a,b,e){var d={};d.internalName=a;d.languageCode=b;d.indirect=2<arguments.length?e:!1;return this.keymanweb.util.callEvent("kmw.keyboardchange",d)};b.regions="World;Africa;Asia;Europe;South America;North America;Oceania;Central America;Middle East".split(";");
b.regionCodes="un af as eu sa na oc ca me".split(" ");return b}(),keyman=window.keyman||{};window.keyman=keyman;
var KeymanBase=function(){function b(){this._TitleElement=null;this._Enabled=1;this._IgnoreNextSelChange=this._JustActivatedKeymanWebUI=this._IsActivatingKeymanWebUI=this.legacy=this._IE=0;this._SelectionControl=this._Selection=null;this._AttachedElements=[];this._LastActiveElement=this._ActiveElement=null;this._DfltStyle="";this._MasterDocument=null;this._HotKeys=[];this.focusTimer=null;this.resizing=this.focusing=!1;this.sortedInputs=[];this.inputList=[];this.waiting=null;this.warned=!1;this.baseFont=
"sans-serif";this.appliedFont="";this.fontCheckTimer=null;this.protocol=this.rootPath=this.srcPath="";this.mustReloadKeyboard=!1;this.globalLanguageCode=this.globalKeyboard=null;this.isEmbedded=!1;this.modStateFlags=this.refocusTimer=0;this.build=300;this.options={root:"",resources:"",keyboards:"",fonts:"",attachType:"",ui:null};this.refreshElementContent=null;this.util=this.util=new Util(this);this.osk=this.osk={ready:!1};this.keyboardManager=new KeyboardManager(this);this.build=b.__BUILD__;this.srcPath=
b._srcPath;this.rootPath=b._rootPath;this.protocol=b._protocol;this.version="10.0";this.helpURL="http://help.keyman.com/go";this.setInitialized(0);this.loaded=!0}b.prototype.setDefaultDeviceOptions=function(a){};b.prototype.getStyleSheetPath=function(a){return a};b.prototype.getKeyboardPath=function(a,b){return a};b.prototype.KC_=function(a,b,e){return""};b.prototype.handleRotationEvents=function(){};b.prototype.alignInputs=function(a){};b.prototype.namespaceID=function(a){};b.prototype.preserveID=
function(a){};b.prototype.setInitialized=function(a){this.initialized=this.initialized=a};b.prototype.isFontAvailable=function(a){return this.util.checkFont({family:a})};return b}(),scripts=document.getElementsByTagName("script"),ss=scripts[scripts.length-1].src,sPath=ss.substr(0,ss.lastIndexOf("/")+1);KeymanBase._srcPath=sPath;KeymanBase._rootPath=sPath.replace(/(https?:\/\/)([^\/]*)(.*)/,"$1$2/");KeymanBase._protocol=sPath.replace(/(.{3,5}:)(.*)/,"$1");keyman.__BUILD__=41;KeymanBase.__BUILD__=keyman.__BUILD__;
window.keyman.loaded||function(){var b=window.keyman=new KeymanBase,a=b.osk;b.ui={};b["interface"]={TSS_LAYER:33,TSS_PLATFORM:31,_AnyIndices:[],_BeepObjects:[],_BeepTimeout:0,_DeadKeys:[]};a.highlightSubKeys=function(a,b,f){};a.createKeyTip=function(){};a.optionKey=function(a,b,f){};a.showKeyTip=function(a,b){};a.waitForFonts=function(a,b){return!0};"indexOf"in Array||(Array.prototype.indexOf=function(a,b){for(b=b||0;b<this.length;b++)if(this[b]==a)return b;return-1})}();
String.kmwFromCharCode=function(b){var a=[],d;for(d=0;d<arguments.length;d++){var e=Number(arguments[d]);if(!isFinite(e)||0>e||1114111<e||Math.floor(e)!==e)throw new RangeError("Invalid code point "+e);65536>e?a.push(e):(e-=65536,a.push((e>>10)+55296),a.push(e%1024+56320))}return String.fromCharCode.apply(void 0,a)};
String.prototype.kmwCharCodeAt=function(b){var a=String(this),d=0;if(0>b||b>=a.length)return NaN;for(var e=0;e<b;e++)if(d=a.kmwNextChar(d),null===d)return NaN;b=a.charCodeAt(d);return 55296<=b&&56319>=b&&a.length>d+1&&(a=a.charCodeAt(d+1),56320<=a&&57343>=a)?(b-55296<<10)+(a-56320)+65536:b};String.prototype.kmwIndexOf=function(b,a){var d=String(this);b=d.indexOf(b,a);if(0>b)return b;for(var e=a=0;null!==e&&e<b;e=d.kmwNextChar(e))a++;return a};
String.prototype.kmwLastIndexOf=function(b,a){var d=String(this);b=d.lastIndexOf(b,a);if(0>b)return b;for(var e=a=0;null!==e&&e<b;e=d.kmwNextChar(e))a++;return a};String.prototype.kmwLength=function(){var b=String(this);if(0==b.length)return 0;for(var a=0,d=0;null!==d;a++)d=b.kmwNextChar(d);return a};String.prototype.kmwSlice=function(b,a){var d=String(this);b=d.kmwCodePointToCodeUnit(b);a=d.kmwCodePointToCodeUnit(a);return null===b||null===a?"":d.slice(b,a)};
String.prototype.kmwSubstr=function(b,a){var d=String(this);0>b&&(b=d.kmwLength()+b);0>b&&(b=0);var e=d.kmwCodePointToCodeUnit(b),f=e;if(null===e)return"";if(2>arguments.length)f=d.length;else for(var h=0;h<a;h++)f=d.kmwNextChar(f);return null===f?d.substring(e):d.substring(e,f)};
String.prototype.kmwSubstring=function(b,a){var d=String(this);if("undefined"==typeof a)b=d.kmwCodePointToCodeUnit(b),a=d.length;else{if(b>a){var e=b;b=a;a=e}b=d.kmwCodePointToCodeUnit(b);a=d.kmwCodePointToCodeUnit(a)}if(isNaN(b)||null===b)b=0;if(isNaN(a)||null===a)a=d.length;return d.substring(b,a)};
String.prototype.kmwNextChar=function(b){var a=String(this);if(null===b||0>b||b>=a.length-1)return null;var d=a.charCodeAt(b);return 55296<=d&&56319>=d&&a.length>b+1&&(d=a.charCodeAt(b+1),56320<=d&&57343>=d)?b==a.length-2?null:b+2:b+1};String.prototype.kmwPrevChar=function(b){var a=String(this);if(null==b||0>=b||b>a.length)return null;var d=a.charCodeAt(b-1);return 56320<=d&&57343>=d&&1<b&&(a=a.charCodeAt(b-2),55296<=a&&56319>=a)?b-2:b-1};
String.prototype.kmwCodePointToCodeUnit=function(b){if(null===b)return null;var a=String(this),d=0;if(0>b){d=a.length;for(var e=0;e>b;e--)d=a.kmwPrevChar(d);return d}if(b==a.kmwLength())return a.length;for(e=0;e<b;e++)d=a.kmwNextChar(d);return d};String.prototype.kmwCodeUnitToCodePoint=function(b){var a=String(this);return null===b?null:0==b?0:0>b?a.substr(b).kmwLength():a.substr(0,b).kmwLength()};String.prototype.kmwCharAt=function(b){var a=String(this);return 0<=b?a.kmwSubstr(b,1):""};
String.prototype.kmwBMPNextChar=function(b){var a=String(this);return 0>b||b>=a.length-1?null:b+1};String.prototype.kmwBMPPrevChar=function(b){var a=String(this);return 0>=b||b>a.length?null:b-1};String.prototype.kmwBMPCodePointToCodeUnit=function(b){return b};String.prototype.kmwBMPCodeUnitToCodePoint=function(b){return b};String.prototype.kmwBMPLength=function(){return String(this).length};
String.prototype.kmwBMPSubstr=function(b,a){var d=String(this);return-1<b?d.substr(b,a):d.substr(d.length+b,-b)};
String.kmwEnableSupplementaryPlane=function(b){var a=String.prototype;String._kmwFromCharCode=b?String.kmwFromCharCode:String.fromCharCode;a._kmwCharAt=b?a.kmwCharAt:a.charAt;a._kmwCharCodeAt=b?a.kmwCharCodeAt:a.charCodeAt;a._kmwIndexOf=b?a.kmwIndexOf:a.indexOf;a._kmwLastIndexOf=b?a.kmwLastIndexOf:a.lastIndexOf;a._kmwSlice=b?a.kmwSlice:a.slice;a._kmwSubstring=b?a.kmwSubstring:a.substring;a._kmwSubstr=b?a.kmwSubstr:a.kmwBMPSubstr;a._kmwLength=b?a.kmwLength:a.kmwBMPLength;a._kmwNextChar=b?a.kmwNextChar:
a.kmwBMPNextChar;a._kmwPrevChar=b?a.kmwPrevChar:a.kmwBMPPrevChar;a._kmwCodePointToCodeUnit=b?a.kmwCodePointToCodeUnit:a.kmwBMPCodePointToCodeUnit;a._kmwCodeUnitToCodePoint=b?a.kmwCodeUnitToCodePoint:a.kmwBMPCodeUnitToCodePoint};
window.keyman.initialized||function(){var b=window.keyman,a=b.osk,d=b.util,e=d.device,f=b["interface"];b.debug=b.debug=function(a){if(null==b.debugElement){var c=document.createElement("DIV");var k=c.style;k.position="absolute";k.width="30%";k.maxHeight="50%";k.top="0";k.right="0";k.minHeight="50px";k.border="1px solid blue";k.whiteSpace="pre-line";k.overflowY="scroll";k=document.createElement("P");k.id="debug_output";k.style.margin="2px";c.appendChild(k);document.body.appendChild(c);b.debugElement=
k}if(null!=(k=document.getElementById("debug_output")))if(0==arguments.length)"undefined"!=typeof k.textContent?k.textContent="":k.innerHTML="";else{c=(new Date).toTimeString().substr(3,5)+" ";var g,d;for(g=0;g<arguments.length;g++){0<g&&(c+="; ");var e=arguments[g];if("object"==typeof e)if(null==e)c+="null";else{var f="";for(d in e){0<f.length&&(f+=", ");f=f+d+":";switch(typeof e[d]){case "string":case "number":case "boolean":f+=e[d];break;default:f+=typeof e[d]}if(1024<f.length){f=f.substr(0,1E3)+
"...";break}}0<f.length&&(c=c+"{"+f+"}")}else c+=e}1500<c.length&&(c=c.substr(0,1500)+" (more)");"undefined"!=typeof k.textContent?k.textContent=c+"\n"+k.textContent:k.innerHTML=c+"<br />"+k.innerHTML}};b.debugElement=null;b.addEventListener=b.addEventListener=function(a,b){return d.addEventListener("kmw."+a,b)};b.setupTouchDevice=function(){b.cancelInput=function(){b._ActiveElement=null;b.hideCaret();a.hideNow()};b.setBlur=function(a){"relatedTarget"in a&&a.relatedTarget&&("DIV"!=a.relatedTarget.nodeName||
-1==a.relatedTarget.className.indexOf("keymanweb-input"))?b.cancelInput():b.focusing||b.cancelInput()};b.setFocus=function(c){b.focusing=!0;b.focusTimer=window.setTimeout(function(){b.focusing=!1},1E3);var k=c;c?"object"==typeof c.touches&&(k=c.touches[0]):(k={clientX:0,clientY:0},k.target=b._LastActiveElement?b._LastActiveElement.kmw_ip:b.sortedInputs[0].kmw_ip);c=k.clientX;var g=k.clientY,e=k.target;var f="SPAN"==e.nodeName?e.parentNode:null!=e.className&&0<=e.className.indexOf("keymanweb-input")?
e.firstChild:e;k=f.parentNode;b._ActiveElement!=k&&(b.hideCaret(),b._ActiveElement=k,k.focus());b._SetTargDir(k);b.useInternalKeyboard=!1;a.ready&&!a._Visible&&a._Show();if("DIV"==e.nodeName)g=d._GetAbsoluteX(f.firstChild),"rtl"==k.dir?(g+=f.firstChild.offsetWidth,f=c>g?0:1E5):f=c<g?0:1E5,b.setTextCaret(k,f),b.scrollInput(k);else{var h;e=f.childNodes[1];var n=0;var m=b.getText(k)._kmwLength();f=b.getTextCaret(k);var q=document.body.scrollTop;if("TEXTAREA"==k.base.nodeName){var t=Math.round(k.base.offsetHeight/
k.base.rows);for(h=0;16>h;h++){var u=d._GetAbsoluteY(e)-q;if(u>g&&f>n&&f!=m)m=f,f=Math.round((f+n)/2);else if(u<g-t&&f<m&&f!=n)n=f,f=Math.round((f+m)/2);else break;b.setTextCaret(k,f)}for(;d._GetAbsoluteY(e)-q>g&&f>n;)b.setTextCaret(k,--f);for(;d._GetAbsoluteY(e)-q<g-t&&f<m;)b.setTextCaret(k,++f)}u="rtl"==k.dir?function(a,b){return a<b}:function(a,b){return a>b};for(h=0;16>h;h++){g=d._GetAbsoluteX(e);if(u(g,c)&&f>n&&f!=m)m=f,f=Math.round((f+n)/2);else if(!u(g,c)&&f<m&&f!=n)n=f,f=Math.round((f+m)/
2);else break;b.setTextCaret(k,f)}for(;u(d._GetAbsoluteX(e),c)&&f>n;)b.setTextCaret(k,--f);for(;!u(d._GetAbsoluteX(e),c)&&f<m;)b.setTextCaret(k,++f)}b._BlurKeyboardSettings();b._LastActiveElement=k;b._FocusKeyboardSettings(!1);b._CommonFocusHelper(k)};b.caret=document.createElement("DIV");var g=b.caret.style;g.position="absolute";g.height="16px";g.width="2px";g.backgroundColor="blue";g.border="none";g.left=g.top="0px";g.display="block";g.visibility="hidden";g.zIndex="9998";b.showCaret=function(a){if(a&&
a.firstChild&&!(3>a.firstChild.childNodes.length)){var c=a.firstChild,g=b.caret.style,d=c.childNodes[1];b.caret.parentNode!=c&&c.appendChild(b.caret);g.left=d.offsetLeft+"px";g.top=d.offsetTop+"px";g.height=d.offsetHeight-1+"px";g.visibility="hidden";b.scrollBody(a);b.setScrollBar(a)}};b.setScrollBar=function(a){var b=a.childNodes[0],c=a.childNodes[1].style;(b.offsetWidth>a.offsetWidth||0>b.offsetLeft)&&"TEXTAREA"!=a.base.nodeName?(c.height="4px",c.width=a.offsetWidth/b.offsetWidth*100+"%",c.left=
-b.offsetLeft/b.offsetWidth*100+"%",c.top="0",c.visibility="visible"):b.offsetHeight>a.offsetHeight||0>b.offsetTop?(c.width="4px",c.height=a.offsetHeight/b.offsetHeight*100+"%",c.top=-b.offsetTop/b.offsetHeight*100+"%",c.left="0",c.visibility="visible"):c.visibility="hidden"};b.flashCaret=function(){if(e.touchable&&null!=b._ActiveElement){var a=b.caret.style;a.visibility="visible"!=a.visibility?"visible":"hidden"}};b.hideCaret=function(){var a=b._LastActiveElement;if(a&&null!=a.className&&0<=a.className.indexOf("keymanweb-input")){a.base.value=
b.getText(a);b.setText(a,null,1E5);var k=a.firstChild.style;"TEXTAREA"==a.base.nodeName?k.top="0":k.left="rtl"==a.base.dir?a.offsetWidth-a.firstChild.offsetWidth-8+"px":"0";b.caret.parentNode&&b.caret.parentNode.removeChild(b.caret);b.caret.style.visibility="hidden";1<a.childNodes.length&&(a.childNodes[1].style.visibility="hidden")}};b.timerId=window.setInterval(b.flashCaret,500);b.setText=function(a,k,g){if(a&&0<a.childNodes.length){var c=a.firstChild,l=0;if(3<=c.childNodes.length){var d=c.childNodes[0];
c=c.childNodes[2];if(null===k){var e="string"==typeof d.textContent?d.textContent:d.innerText;k="string"==typeof c.textContent?c.textContent:c.innerText;k=e+k}0>g&&(g=0);l=k._kmwLength();if(null===g||g>l)g=l;e=k._kmwSubstr(0,g);k=k._kmwSubstr(g);"string"==typeof d.textContent?d.textContent=e:d.innerText=e;"string"==typeof c.textContent?c.textContent=k:c.innerText=k}}b.updateBaseElement(a,l)};b.updateBaseElement=function(a,k){a.base.value=b.getText(a);a.style.backgroundColor=0==k?"transparent":window.getComputedStyle(a.base,
null).backgroundColor;"iOS"==e.OS&&(a.base.style.visibility=0==k?"visible":"hidden")};b.getText=function(a){return null==a?"":"string"==typeof a.textContent?a.textContent:a.innerText};b.getTextBeforeCaret=function(a){if(a&&1<a.childNodes.length&&(a=a.firstChild,0<a.childNodes.length)){a=a.childNodes[0];if("textContent"in a)return a.textContent;if("innerText"in a)return a.innerText}return""};b.setTextBeforeCaret=function(a,k){if(a&&0<a.childNodes.length){var c=a.firstChild,g=0;1<c.childNodes.length&&
(g=c.childNodes[0],c=c.childNodes[2],"TEXTAREA"!=a.base.nodeName&&(k=k.replace(/\s+$/," ")),"textContent"in g?g.textContent=k:"innerText"in g&&(g.innerText=k),g=k.length,"textContent"in c?g+=c.textContent.length:"innerText"in c&&(g+=c.innerText.length))}b.updateBaseElement(a,g);b.scrollInput(a)};b.getTextCaret=function(a){return b.getTextBeforeCaret(a)._kmwLength()};b.setTextCaret=function(a,k){b.setText(a,null,k);b.showCaret(a)};b.dragInput=function(a){a.preventDefault();a.stopPropagation();var c=
"object"==typeof a.targetTouches?a.targetTouches[0].target:a.target;if(null!=c){if(null==c.className||0>c.className.indexOf("keymanweb-input"))c=c.parentNode;if(null==c.className||0>c.className.indexOf("keymanweb-input"))c=c.parentNode;if(!(null==c.className||0>c.className.indexOf("keymanweb-input"))){var g="object"==typeof a.touches?a.touches[0].screenX:a.screenX,e="object"==typeof a.touches?a.touches[0].screenY:a.screenY;if("undefined"==typeof b.firstTouch||null==b.firstTouch)b.firstTouch={x:g,
y:e};else{var f=b.firstTouch.x,h=b.firstTouch.y;a=c.firstChild;if("TEXTAREA"==c.base.nodeName){if(g=parseInt(a.style.top,10),isNaN(g)&&(g=0),f=h-e,-4>f||4<f)a.style.top=(g<f?g-f:0)+"px",b.firstTouch.y=e}else{e=parseInt(a.style.left,10);isNaN(e)&&(e=0);var n=f-g;if(-4>n||4<n)f=0,h=d._GetAbsoluteX(c)+c.offsetWidth-a.offsetWidth-32,"rtl"==c.base.dir?f=16:h-=24,e-=n,e>f&&(e=f),e<h&&(e=h),a.style.left=e+"px",b.firstTouch.x=g}}b.setScrollBar(c)}}};b.scrollInput=function(a){if(a&&a.firstChild&&null!=a.className&&
!(0>a.className.indexOf("keymanweb-input"))){var c=a.firstChild;if(!(3>c.childNodes.length)){var g=c.childNodes[1],e=d._GetAbsoluteX(g);g=d._GetAbsoluteY(g);var f=d._GetAbsoluteX(a),h=d._GetAbsoluteY(a),n=parseInt(c.style.left,10),m=parseInt(c.style.top,10),q=0,t=0;isNaN(n)&&(n=0);isNaN(m)&&(m=0);"TEXTAREA"==a.base.nodeName?(e=Math.round(a.offsetHeight/a.base.rows),g<h&&(t=g-h),g>h+a.offsetHeight-e&&(t=g-h-a.offsetHeight+e),0!=t&&(c.style.top=(m<t?m-t:0)+"px")):(e<f+8&&(q=e-f-12),e>f+a.offsetWidth-
12&&(q=e-f-a.offsetWidth+12),0!=q&&(c.style.left=(n<q?n-q:0)+"px"));b.showCaret(a)}}};b.scrollBody=function(b){if(b&&null!=b.className&&!(0>b.className.indexOf("keymanweb-input"))&&a.ready){b=b.firstChild.childNodes[1];var c=d._GetAbsoluteY(b),g=window.pageYOffset;c<g?b=c-g:(b=c-g-(window.innerHeight-a._Box.offsetHeight-b.offsetHeight-2),0>b&&(b=0));0!=b&&window.scrollTo(0,b+window.pageYOffset)}};b.updateInput=function(a){var b=a.style,c=a.base,g=window.getComputedStyle(c,null),f=parseInt(g.marginLeft,
10),h=parseInt(g.marginTop,10),n=d._GetAbsoluteX(c),m=d._GetAbsoluteY(c),q=a.offsetParent;q&&(n-=d._GetAbsoluteX(q),m-=d._GetAbsoluteY(q));isNaN(f)&&(f=0);isNaN(h)&&(h=0);b.left=n-f+"px";b.top=m-h+"px";"undefined"!=typeof g.MozBoxSizing&&(b.left=n+"px",b.top=m+"px");f=c.offsetWidth;c=c.offsetHeight;h=parseInt(g.paddingLeft,10);n=parseInt(g.paddingRight,10);m=parseInt(g.paddingTop,10);q=parseInt(g.paddingBottom,10);var t=parseInt(g.borderLeft,10),u=parseInt(g.borderRight,10),y=parseInt(g.borderTop,
10),B=parseInt(g.borderBottom,10),D="undefined";"undefined"!=typeof g.boxSizing?D=g.boxSizing:"undefined"!=typeof g.MozBoxSizing&&(D=g.MozBoxSizing);"content-box"==D&&(isNaN(h)||(f-=h),isNaN(n)||(f-=n),isNaN(t)||(f-=t),isNaN(u)||(f-=u),isNaN(m)||(c-=m),isNaN(q)||(c-=q),isNaN(y)||(c-=y),isNaN(B)||(c-=B));"Android"==e.OS&&("undefined"!=typeof g.MozBoxSizing?(b.paddingTop=m+1+"px",b.paddingLeft=h+"px","TEXTAREA"==a.base.nodeName?b.marginTop="1px":b.marginLeft="1px",f--,c--):(f++,c++));b.width=f+"px";
b.height=c+"px"};b.enableTouchElement=function(a){if("iframe"==a.tagName.toLowerCase())return!1;if(b.isKMWDisabled(a))return b.setupNonKMWTouchElement(a),!1;a.kmwInput=!0;a.removeEventListener("touchstart",b.nonKMWTouchHandler);if(a.kmw_ip){if(-1!=b.inputList.indexOf(a.kmw_ip))return!1;b.inputList.push(a.kmw_ip);console.log("Unexpected state - this element's simulated input DIV should have been removed from the page!");return!0}var c=document.createElement("DIV");c.base=c.base=a;c._kmwAttachment=
a._kmwAttachment;b.enableInputElement(c,!0);a.kmw_ip=c;a.disabled=!0;c.className="keymanweb-input";c.dir=c.base.dir;var g=document.createElement("DIV");var d=window.getComputedStyle(c.base,null);a=c.style;a.overflow="hidden";a.position="absolute";a.border="hidden";a.border="none";a.borderRadius="5px";var f=document.createElement("DIV");var h=f.style;h.position="absolute";h.height=h.width="4px";h.left=h.top="0";h.display="block";h.visibility="hidden";h.backgroundColor="#808080";h.borderRadius="2px";
h=document.createElement("SPAN");var n=document.createElement("SPAN");var m=document.createElement("SPAN");h.innerHTML=n.innerHTML=m.innerHTML="";h.className=n.className=m.className="keymanweb-font";g.appendChild(h);g.appendChild(m);g.appendChild(n);c.appendChild(g);c.appendChild(f);g=g.style;g.position="absolute";f=h.style;var q=n.style;m=m.style;f.border=q.border="none";f.height=q.height="100%";f.fontFamily=q.fontFamily=g.fontFamily=d.fontFamily;"input"!=c.base.nodeName.toLowerCase()||isNaN(parseInt(d.height,
10))||(f.lineHeight=q.lineHeight=d.height);m.border="1px solid red";m.visibility="hidden";m.marginLeft=m.marginRight="-1px";a.padding="8px";g.padding="0px 2px";g.backgroundColor="Android"==e.OS&&"transparent"==d.backgroundColor?"#fff":d.backgroundColor;c.tabIndex=0;c.style.msTouchAction="none";c.addEventListener("touchstart",b.setFocus);c.onmspointerdown=function(a){a.preventDefault();a.stopPropagation();return b.setFocus(a)};c.addEventListener("touchend",function(a){a.stopPropagation()});c.onmspointerup=
function(a){a.stopPropagation()};c.addEventListener("touchmove",b.dragInput,!1);c.onmspointermove=b.dragInput;c.onblur=b.setBlur;"textarea"==c.base.nodeName.toLowerCase()?h.style.whiteSpace=n.style.whiteSpace="pre-wrap":h.style.whiteSpace=n.style.whiteSpace="pre";c.base.parentNode.appendChild(c);b.updateInput(c);a=c.style;a.color=d.color;a.fontFamily=d.fontFamily;a.fontSize=d.fontSize;a.fontWeight=d.fontWeight;a.textDecoration=d.textDecoration;a.padding=d.padding;a.margin=d.margin;a.border=d.border;
a.borderRadius=d.borderRadius;"webkitTapHighlightColor"in a&&(a.webkitTapHighlightColor="rgba(0,0,0,0)");c.base instanceof HTMLTextAreaElement?(2==c.base.rows&&(h=parseInt(d.height,10)-parseInt(d.paddingTop,10)-parseInt(d.paddingBottom,10),d=parseInt(d.fontSize,10),d=Math.round(h/d),d>c.base.rows+1&&(c.base.rows=d)),g.width=a.width,g.minHeight=a.height):(g.minWidth=a.width,g.height=a.height);c.base.style.visibility="hidden";(function(a){a._kmwResizeHandler=function(c){window.setTimeout(function(){b.updateInput(a)},
1)};a.base.addEventListener("resize",a._kmwResizeHandler,!1)})(c);b.setText(c,c.base instanceof HTMLTextAreaElement||c.base instanceof HTMLInputElement?c.base.value:c.base.textContent,null);return!0};b.disableTouchElement=function(a){if("iframe"!=a.tagName.toLowerCase()){if(a.kmw_ip){var c=b.inputList.indexOf(a.kmw_ip);-1!=c&&b.inputList.splice(c,1);a.style.visibility="visible";a.disabled=!1;a.removeEventListener("resize",a.kmw_ip._kmwResizeHandler);b.disableInputElement(a.kmw_ip);a.parentNode.removeChild(a.kmw_ip);
delete a.kmw_ip}b.setupNonKMWTouchElement(a)}};b.nonKMWTouchHandler=function(c){b.focusing=!1;clearTimeout(b.focusTimer);a.hideNow()};b.setupNonKMWTouchElement=function(a){a.addEventListener("touchstart",b.nonKMWTouchHandler,!1);b.isAttached(a)&&(a._kmwAttachment.touchEnabled=!1)}};b.enableInputElement=function(a,c){c=c?a.base:a;b.isKMWDisabled(c)||("iframe"==a.tagName.toLowerCase()?b._AttachToIframe(a):(c.className=c.className?c.className+" keymanweb-font":"keymanweb-font",b.inputList.push(a),d.attachDOMEvent(c,
"focus",b._ControlFocus),d.attachDOMEvent(c,"blur",b._ControlBlur),a.onkeypress=b._KeyPress,a.onkeydown=b._KeyDown,a.onkeyup=b._KeyUp))};b.disableInputElement=function(a,c){var k=c?a.base:a;if("iframe"==a.tagName.toLowerCase())b._DetachFromIframe(a);else{0<k.className.indexOf("keymanweb-font")&&!c&&(k.className=k.className.replace("keymanweb-font","").trim());var g=b.inputList.indexOf(a);-1<g&&b.inputList.splice(g,1);c||(d.detachDOMEvent(k,"focus",b._ControlFocus),d.detachDOMEvent(k,"blur",b._ControlBlur));
a.onkeypress=null;a.onkeydown=null;a.onkeyup=null}c&&(b.inputList.push(k),k.onkeypress=b._KeyPress,k.onkeydown=b._KeyDown,k.onkeyup=b._KeyUp)};b.getBaseFont=function(){var a=document.getElementsByTagName("input"),b=document.getElementsByTagName("textarea"),k=0;if(0==a.length&&0==b.length)k=0;else if(0<a.length&&0==b.length)k=1;else if(0==a.length&&0<b.length)k=2;else{var l=a[0],e=b[0];l.offsetTop<e.offsetTop?k=1:l.offsetTop>e.offsetTop?k=2:l.offsetLeft<e.offsetLeft?k=1:l.offsetLeft>e.offsetLeft&&
(k=2)}switch(k){case 0:case 1:d.getStyleValue(a[0],"font-family");case 2:var f=d.getStyleValue(b[0],"font-family")}if("undefined"==typeof f||"monospace"==f)f="Arial,sans-serif";return f};b.setFocus=function(a){};b.timerID=null;b.getText=function(a){return""};b.setText=function(a,b,k){};b.getTextBeforeCaret=function(){return""};b.setTextBeforeCaret=function(a){};b.getTextCaret=function(a){return 0};b.setTextCaret=function(a,b){};b.hideCaret=function(){};b.flashCaret=function(){};b.updateInput=function(a){};
b.resetContext=b.resetContext=function(){a.layerId="default";f.clearDeadkeys();f.resetContextCache();b._ResetVKShift();a._Show()};b.addKeyboards=function(a){0==arguments.length?b.keyboardManager.keymanCloudRequest("",!1):b.keyboardManager.addKeyboardArray(arguments)};b.addKeyboardsForLanguage=function(a){b.keyboardManager.addLanguageKeyboards(arguments)};b.register=function(a){b.keyboardManager.register(a)};b.removeKeyboards=function(a){return b.keyboardManager.removeKeyboards(a)};if(document.selection){var h=
navigator.appVersion;0<=h.indexOf("MSIE 6.0")?b._IE=6:0<=h.indexOf("MSIE 7.0")?b._IE=7:0<=h.indexOf("MSIE 8.0")&&(b._IE=8);b._IE&&"BackCompat"==document.compatMode&&(b._IE=6)}a._BaseLayout="undefined"!==typeof window.KeymanWeb_BaseLayout?window.KeymanWeb_BaseLayout:"us";b._BrowserIsSafari=0<=navigator.userAgent.indexOf("AppleWebKit");b._GetEventObject=function(a){if(!a&&(a=window.event,!a)){var c=b._GetLastActiveElement();if(c){if(c=c.ownerDocument)c=c.parentWindow;if(!c)return null;a=c.event}}return a};
b._push=function(a,b){a.push?a.push(b):a=a.concat(b);return a};b.attachToControl=b.attachToControl=function(a){b.isAttached(a)||(b.isKMWInput(a)?(b.setupElementAttachment(a),b.isKMWDisabled(a)?e.touchable&&b.setupNonKMWTouchElement(a):e.touchable?b.enableTouchElement(a):b.enableInputElement(a)):e.touchable&&b.setupNonKMWTouchElement(a))};b.detachFromControl=b.detachFromControl=function(a){b.isAttached(a)&&(b.isKMWInput(a)&&(b.isKMWDisabled(a)||b._DisableControl(a)),b.clearElementAttachment(a))};b._AttachToIframe=
function(a){try{var c=a.contentWindow.document;c&&(c.parentWindow?"on"==c.designMode.toLowerCase()||c.body.isContentEditable?(d.attachDOMEvent(a,"focus",b._ControlFocus),d.attachDOMEvent(a,"blur",b._ControlBlur),d.attachDOMEvent(c,"keydown",b._KeyDown),d.attachDOMEvent(c,"keypress",b._KeyPress),d.attachDOMEvent(c,"keyup",b._KeyUp),d.attachDOMEvent(c,"selectionchange",b._SelectionChange),b._SelectionChange()):b._SetupDocument(c):"on"==c.designMode.toLowerCase()?(d.attachDOMEvent(c,"focus",b._ControlFocus),
d.attachDOMEvent(c,"blur",b._ControlBlur),d.attachDOMEvent(c,"keydown",b._KeyDown),d.attachDOMEvent(c,"keypress",b._KeyPress),d.attachDOMEvent(c,"keyup",b._KeyUp)):b._SetupDocument(c))}catch(k){}};b._DetachFromIframe=function(a){try{var c=a.contentWindow.document;c&&(c.parentWindow?"on"==c.designMode.toLowerCase()||c.body.isContentEditable?(d.detachDOMEvent(a,"focus",b._ControlFocus),d.detachDOMEvent(a,"blur",b._ControlBlur),d.detachDOMEvent(c,"keydown",b._KeyDown),d.detachDOMEvent(c,"keypress",b._KeyPress),
d.detachDOMEvent(c,"keyup",b._KeyUp),d.detachDOMEvent(c,"selectionchange",b._SelectionChange),b._SelectionChange()):b._ClearDocument(c):"on"==c.designMode.toLowerCase()?(d.detachDOMEvent(c,"focus",b._ControlFocus),d.detachDOMEvent(c,"blur",b._ControlBlur),d.detachDOMEvent(c,"keydown",b._KeyDown),d.detachDOMEvent(c,"keypress",b._KeyPress),d.detachDOMEvent(c,"keyup",b._KeyUp)):b._ClearDocument(c))}catch(k){}};b.GetEnabled=function(){return b._Enabled};b.SetEnabled=function(a){a=a?1:0;b._Enabled!=a&&
(b._Enabled=a,!a&&b.HideInterface&&b.HideInterface())};b.disableControl=b.disableControl=function(a){b.isAttached(a)||console.warn("KeymanWeb is not attached to element "+a);var c=a.className;0>c.indexOf("kmw-disabled")&&(a.className=c?c+" kmw-disabled":"kmw-disabled")};b.enableControl=b.enableControl=function(a){b.isAttached(a)||console.warn("KeymanWeb is not attached to element "+a);var c=a.className;0<=c.indexOf("kmw-disabled")&&(a.className=c.replace("kmw-disabled","").trim())};b._DisableControl=
function(a){if(b.isAttached(a)){if(b._LastActiveElement==a||b._LastActiveElement==a.kmw_ip)b._LastActiveElement=null,b.keyboardManager.setActiveKeyboard(b.globalKeyboard,b.globalLanguageCode),b.osk._Hide();e.touchable?(b.disableTouchElement(a),b.setupNonKMWTouchElement(a),window.setTimeout(function(){b.listInputs();for(var a=0;a<b.sortedInputs.length;a++)b.sortedInputs[a].kmw_ip&&b.updateInput(b.sortedInputs[a].kmw_ip)},1)):b.listInputs();b.disableInputElement(a)}};b._EnableControl=function(a){b.isAttached(a)&&
(e.touchable?(b.enableTouchElement(a),window.setTimeout(function(){b.listInputs();for(var a=0;a<b.sortedInputs.length;a++)b.sortedInputs[a].kmw_ip&&b.updateInput(b.sortedInputs[a].kmw_ip)},1)):b.enableInputElement(a))};b.setKeyboardForControl=b.setKeyboardForControl=function(a,c,k){null!==c&&void 0!==c?0>c.indexOf("Keyboard_")&&""!=c&&(c="Keyboard_"+c):k=null;"iframe"==a.tagName.toLowerCase()?console.warn("'keymanweb.setKeyboardForControl' cannot set keyboard on iframes."):b.isAttached(a)?(a._kmwAttachment.keyboard=
c,a._kmwAttachment.languageCode=k,b._LastActiveElement!=a&&b._LastActiveElement!=a.kmw_ip||!b._LastActiveElement||null!=c&&null!=k&&b.keyboardManager.setActiveKeyboard(c,k)):console.error("KeymanWeb is not attached to element "+a)};b.getKeyboardForControl=b.getKeyboardForControl=function(a){if(b.isAttached(a))return a._kmwAttachment.keyboard;console.error("KeymanWeb is not attached to element "+a);return null};b.focusLastActiveElement=b._FocusLastActiveElement=function(){b._LastActiveElement&&(b._JustActivatedKeymanWebUI=
1,b._IsMozillaEditableIframe(b._LastActiveElement,0)?b._LastActiveElement.defaultView.focus():b._LastActiveElement.focus&&b._LastActiveElement.focus())};b.getLastActiveElement=b._GetLastActiveElement=function(){return b._LastActiveElement};b.setActiveElement=b.setActiveElement=function(a,c){"string"==typeof a&&(a=document.getElementById(a));b._ActiveElement=b._LastActiveElement=a;1<arguments.length&&c&&(e.touchable?b.setFocus():b.focusLastActiveElement())};b.getUIState=b.getUIState=function(){var a=
{activationPending:b._IsActivatingKeymanWebUI,activated:b._JustActivatedKeymanWebUI};a.activationPending=a.activationPending;a.activated=a.activated;return a};b.activatingUI=function(a){b._IsActivatingKeymanWebUI=a?1:0};b._ControlFocus=function(g){if(!b._Enabled)return!0;g=b._GetEventObject(g);g=d.eventTarget(g);if(null==g||e.touchable&&(null==g.className||0>g.className.indexOf("keymanweb-input")))return!0;var c=g.nodeName.toLowerCase();if("input"==c){if(c=g.type.toLowerCase(),"text"!=c&&"search"!=
c)return!0}else if((e.touchable||!g.isContentEditable)&&"textarea"!=c)return!0;b._ActiveElement=g;3==g.nodeType&&(g=g.parentNode);c=g;e.touchable&&(null==g.className||0>g.className.indexOf("keymanweb-input"))&&b.scrollBody(g);"IFRAME"==g.tagName&&(b._AttachToIframe(g),g=g.contentWindow.document);var k=b._LastActiveElement;b._LastActiveElement=g;b._JustActivatedKeymanWebUI?b._BlurKeyboardSettings():b._FocusKeyboardSettings(k?!1:!0);if(b._CommonFocusHelper(g))return!0;g._KeymanWebSelectionStart=g._KeymanWebSelectionEnd=
null;b._SetTargDir(g);b.doControlFocused(c,b._LastActiveElement);e.touchable?a._Enabled=1:a.ready&&(b.keyboardManager.isCJK()&&(a._Enabled=1),a._Enabled?a._Show():a._Hide(!1));return!0};b._BlurKeyboardSettings=function(){var a=b.keyboardManager.activeKeyboard?b.keyboardManager.activeKeyboard.KI:"";b._LastActiveElement&&null!=b._LastActiveElement._kmwAttachment.keyboard?(b._LastActiveElement._kmwAttachment.keyboard=a,b._LastActiveElement._kmwAttachment.languageCode=b.getActiveLanguage()):(b.globalKeyboard=
a,b.globalLanguageCode=b.getActiveLanguage())};b._FocusKeyboardSettings=function(a){null!=b._LastActiveElement._kmwAttachment.keyboard?b.keyboardManager.setActiveKeyboard(b._LastActiveElement._kmwAttachment.keyboard,b._LastActiveElement._kmwAttachment.languageCode):a||b.keyboardManager.setActiveKeyboard(b.globalKeyboard,b.globalLanguageCode)};b._CommonFocusHelper=function(a){if(!b._IsIEEditableIframe(a,1)||!b._IsMozillaEditableIframe(a,1))return b._DisableInput=1,!0;b._DisableInput=0;b._JustActivatedKeymanWebUI||
(b._DeadKeys=[],b._NotifyKeyboard(0,a,1));b._JustActivatedKeymanWebUI||b._SelectionControl==a||(b._IsActivatingKeymanWebUI=0);b._JustActivatedKeymanWebUI=0;b._SelectionControl=a;return!1};b._IsIEEditableIframe=function(a,b){var c,g=a&&(c=a.tagName)&&"body"==c.toLowerCase()&&(c=a.ownerDocument)&&c.parentWindow;return!b&&g||b&&(!g||a.isContentEditable)};b._IsMozillaEditableIframe=function(a,b){var c;a=a&&(c=a.defaultView)&&c.frameElement;return!b&&a||b&&(!a||"on"==c.document.designMode.toLowerCase())};
b._ControlBlur=function(g){if(!b._Enabled)return!0;g=b._GetEventObject(g);var c=d.eventTarget(g);if(null==c)return!0;b._ActiveElement=null;e.touchable&&b.hideCaret();3==c.nodeType&&(c=c.parentNode);"IFRAME"==c.tagName&&(c=c.contentWindow.document);c.setSelectionRange&&(c._KeymanWebSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),c._KeymanWebSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd));b._BlurKeyboardSettings();b._LastActiveElement=c;b._JustActivatedKeymanWebUI=0;b._IsActivatingKeymanWebUI||
b._NotifyKeyboard(0,c,0);g=b._GetEventObject(g);b.doControlBlurred(c,g,b._IsActivatingKeymanWebUI);a.ready&&!b._IsActivatingKeymanWebUI&&a._Hide(!1);return!0};b.doControlBlurred=function(a,b,k){var c={};c.target=a;c.event=b;c.isActivating=k;return d.callEvent("kmw.controlblurred",c)};b.doControlFocused=function(a,b){var c={};c.target=a;c.activeControl=b;return d.callEvent("kmw.controlfocused",c)};b.doUnloadOSK=function(){return d.callEvent("kmw.unloadosk",{})};b.doLoadUI=function(){return d.callEvent("kmw.loaduserinterface",
{})};b.doUnloadUI=function(){return d.callEvent("kmw.unloaduserinterface",{})};b._BubbledFocus=function(a){};window.addEventListener&&window.addEventListener("focus",b._BubbledFocus,!0);b._GetEventKeyCode=function(a){return a.keyCode?a.keyCode:a.which?a.which:null};b._GetKeyEventProperties=function(a,c){c=new (function(){return function(){}}());a=b._GetEventObject(a);c.Ltarg=d.eventTarget(a);if(null==c.Ltarg||!0===a.cancelBubble)return null;3==c.Ltarg.nodeType&&(c.Ltarg=c.Ltarg.parentNode);c.Lcode=
b._GetEventKeyCode(a);if(null==c.Lcode)return null;var k=b.osk,g=b.modStateFlags,e=!1,f=!1;switch(c.Lcode){case k.keyCodes.K_CTRL:case k.keyCodes.K_LCTRL:case k.keyCodes.K_RCTRL:case k.keyCodes.K_CONTROL:case k.keyCodes.K_LCONTROL:case k.keyCodes.K_RCONTROL:e=!0;break;case k.keyCodes.K_LMENU:case k.keyCodes.K_RMENU:case k.keyCodes.K_ALT:case k.keyCodes.K_LALT:case k.keyCodes.K_RALT:f=!0}var h=0|(a.shiftKey?16:0);a.ctrlKey&&(h|=0!=a.location&&e?1==a.location?k.modifierCodes.LCTRL:k.modifierCodes.RCTRL:
g&3);a.altKey&&(h|=0!=a.location&&f?1==a.location?k.modifierCodes.LALT:k.modifierCodes.RALT:g&12);c.Lstates=0;a.getModifierState("CapsLock")?c.Lstates=k.modifierCodes.CAPS:c.Lstates=k.modifierCodes.NO_CAPS;a.getModifierState("NumLock")?c.Lstates|=k.modifierCodes.NUM_LOCK:c.Lstates|=k.modifierCodes.NO_NUM_LOCK;a.getModifierState("ScrollLock")||a.getModifierState("Scroll")?c.Lstates|=k.modifierCodes.SCROLL_LOCK:c.Lstates|=k.modifierCodes.NO_SCROLL_LOCK;h|=c.Lstates;c.LmodifierChange=b.modStateFlags!=
h;b.modStateFlags=h;e=k.modifierCodes.RALT|k.modifierCodes.LCTRL;(g&e)==e&&(h&e)!=e&&(h&=~e);h&k.modifierCodes.RALT&&(h&=~k.modifierCodes.LCTRL);b.isChiral()?(c.Lmodifiers=h&k.modifierBitmasks.CHIRAL,k.emulatesAltGr()&&(c.Lmodifiers&k.modifierBitmasks.ALT_GR_SIM)==k.modifierBitmasks.ALT_GR_SIM&&(c.Lmodifiers^=k.modifierBitmasks.ALT_GR_SIM,c.Lmodifiers|=k.modifierCodes.RALT)):c.Lmodifiers=(a.shiftKey?16:0)|(h&(k.modifierCodes.LCTRL|k.modifierCodes.RCTRL)?32:0)|(h&(k.modifierCodes.LALT|k.modifierCodes.RALT)?
64:0);c.LisVirtualKeyCode="undefined"!=typeof a.charCode&&null!=a.charCode&&(0==a.charCode||0!=(c.Lmodifiers&111));c.LisVirtualKey=c.LisVirtualKeyCode||"keypress"!=a.type;return c};b._SelectionChange=function(){if(b._IgnoreNextSelChange)b._IgnoreNextSelChange--;else{var a=document.selection;"control"!=a.type.toLowerCase()&&(a=a.createRange(),b._Selection&&b._Selection.isEqual(a)||(b._Selection=a,f.clearDeadkeys()))}return!0};b._NotifyKeyboard=function(a,c,k){var g=b.keyboardManager.activeKeyboard;
null!=g&&"function"==typeof g.KNS&&g.KNS(a,c,k)};b._KeyDown=function(g){var c,k=b.keyboardManager.activeKeyboard;b._KeyPressToSwallow=0;if(!b._Enabled||b._DisableInput||null==k)return!0;var l=d.eventTarget(g);if(e.touchable){if(l&&"undefined"!=typeof l.kmwInput&&0==l.kmwInput)return!0}else if(l&&0<=l.className.indexOf("kmw-disabled"))return!0;if(!a.ready)return!0;l=b._GetKeyEventProperties(g,!0);if(null==l)return!0;switch(l.Lcode){case 8:f.clearDeadkeys();break;case 16:case 17:case 18:case 20:case 144:case 145:return b._NotifyKeyboard(l.Lcode,
l.Ltarg,1),e.touchable?!0:a._UpdateVKShift(l,l.Lcode-15,1)}l.LmodifierChange&&(b._NotifyKeyboard(0,l.Ltarg,1),a._UpdateVKShift(l,0,1));(c=l.Ltarg.ownerDocument)&&(c=c.selection)&&(33>l.Lcode||40<l.Lcode)&&c.createRange().select();!window.event&&b._VKMap_FF_IE["k"+l.Lcode]&&(l.Lcode=b._VKMap_FF_IE["k"+l.Lcode]);if(k.KM){if(8==l.Lcode)return b._KeyPressToSwallow=1,f.processKeystroke(d.physicalDevice,l.Ltarg,l)||f.output(1,b._LastActiveElement,""),!1;b._KeyPressToSwallow=0}else{var h=0;(c=b._VKMap[a._BaseLayout])&&
c["k"+l.Lcode]&&(l.Lcode=c["k"+l.Lcode]);"undefined"!=typeof k.KM||l.Lmodifiers&96||(k={Lcode:b._USKeyCodeToCharCode(l),Ltarg:l.Ltarg,Lmodifiers:0,LisVirtualKey:0},f.processKeystroke(d.physicalDevice,k.Ltarg,k)&&(h=1));h=h||f.processKeystroke(d.physicalDevice,l.Ltarg,l);8==l.Lcode&&!h&&null!=l.Ltarg.className&&0<=l.Ltarg.className.indexOf("keymanweb-input")&&f.output(1,b._LastActiveElement,"")}!h&&96<=l.Lcode&&111>=l.Lcode&&(f.output(0,l.Ltarg,String._kmwFromCharCode(106>l.Lcode?l.Lcode-48:l.Lcode-
64)),h=1);if(h)return g&&g.preventDefault&&(g.preventDefault(),g.stopPropagation()),b._KeyPressToSwallow=g?b._GetEventKeyCode(g):0,!1;b._KeyPressToSwallow=0;return 8==l.Lcode&&null!=l.Ltarg.className&&0<=l.Ltarg.className.indexOf("keymanweb-input")?!1:"undefined"!=typeof l.Ltarg.base&&(g=a.defaultKeyOutput("",l.Lcode,l.Lmodifiers,!1,l.Ltarg))?(f.output(0,l.Ltarg,g),!1):!0};b._KeyPress=function(a){if(a._kmw_block)return!1;if(!b._Enabled||b._DisableInput||null==b.keyboardManager.activeKeyboard)return!0;
var c=b._GetKeyEventProperties(a);if(null==c||c.LisVirtualKey)return!0;if(!b.keyboardManager.activeKeyboard.KM){if(!b._KeyPressToSwallow||32>c.Lcode||b._BrowserIsSafari&&63232<c.Lcode&&63744>c.Lcode)return!0;if(a=b._GetEventObject(a))a.returnValue=!1;return!1}if(b._KeyPressToSwallow||f.processKeystroke(d.physicalDevice,c.Ltarg,c))return b._KeyPressToSwallow=0,a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation()),!1;b._KeyPressToSwallow=0;return!0};b._KeyUp=function(g){g=b._GetKeyEventProperties(g,
!1);if(null==g||!a.ready)return!0;switch(g.Lcode){case 13:if("TEXTAREA"==g.Ltarg.nodeName)break;if(g.Ltarg.base&&"TEXTAREA"==g.Ltarg.base.nodeName)break;"search"==g.Ltarg.type||"submit"==g.Ltarg.type?g.Ltarg.form.submit():b.moveToNext(!1);return!0;case 16:case 17:case 18:case 20:case 144:case 145:return b._NotifyKeyboard(g.Lcode,g.Ltarg,0),e.touchable?!0:a._UpdateVKShift(g,g.Lcode-15,1)}g.LmodifierChange&&(b._NotifyKeyboard(0,g.Ltarg,0),a._UpdateVKShift(g,0,1));var c;(c=g.Ltarg.ownerDocument)&&(c=
c.selection)&&"control"!=c.type&&(c=c.createRange(),b._Selection=c);return!1};b.moveToNext=function(a){var c,k=b.sortedInputs,g=b._ActiveElement;if(0!=k.length){e.touchable&&(g=g.base);for(c=0;c<k.length&&k[c]!=g;c++);c=a?c-1:c+1;c=c>=k.length?c-k.length:c;c=0>c?c+k.length:c;e.touchable?(b.focusing=!0,a=k[c].kmw_ip,"undefined"==typeof a?k[c].focus():(b._ActiveElement=b._LastActiveElement=a,b.setTextCaret(a,1E4),b.scrollInput(a),a.focus())):k[c].focus()}};b.moveToElement=function(a){"string"==typeof a&&
(a=document.getElementById(a));e.touchable&&a.kmw_ip?a.kmw_ip.focus():a.focus()};b.isCJK=function(a){return b.keyboardManager.isCJK(a)};b.isChiral=b.isChiral=function(a){"string"==typeof a&&(a=b.keyboardManager.getKeyboardByID(a));return!!(b.getKeyboardModifierBitmask(a)&b.osk.modifierBitmasks.IS_CHIRAL)};b.getKeyboardModifierBitmask=function(g){var c=b.keyboardManager.activeKeyboard;0<arguments.length&&"undefined"!=typeof g&&(c=g);return c?c.KMBM?c.KMBM:a.modifierBitmasks.NON_CHIRAL:0};b.setActiveKeyboard=
function(a,c){b.keyboardManager.setActiveKeyboard(a,c)};b.getActiveKeyboard=function(){return b.keyboardManager.getActiveKeyboardName()};b.getActiveLanguage=b.getActiveLanguage=function(){return null==b.keyboardManager.activeStub?"":b.keyboardManager.activeStub.KLC};b.getKeyboard=function(a,c){var k,g=b.keyboardManager.getDetailedKeyboards();for(k=0;k<g.length;k++){var d=g[k];if(d.InternalName==a||d.InternalName=="Keyboard_"+a)if(2>arguments.length||d.LanguageCode==c)return d}return null};b.getKeyboards=
function(){return b.keyboardManager.getDetailedKeyboards()};b._WindowUnload=function(){b.doUnloadUI();a.ready&&a._Unload();b._LastActiveElement=0};d.attachDOMEvent(window,"load",function(a){document.body.scrollTop=0;"undefined"!=typeof document.documentElement&&(document.documentElement.scrollTop=0)},!1);d.attachDOMEvent(window,"unload",b._WindowUnload,!1);b.isKMWInput=function(a){var b=a.tagName.toLowerCase();if("textarea"==b)return!0;if("input"==b&&"text"==a.type.toLowerCase()){if("text"==a.type||
"search"==a.type)return!0}else if("iframe"==b&&!e.touchable)try{if(a.contentWindow.document)return!0}catch(k){}else if(a.isContentEditable&&!e.touchable)return!0;return!1};b.isKMWDisabled=function(a){var b=a.className;a.tagName.toLowerCase();return a.readOnly||b&&0<=b.indexOf("kmw-disabled")?!0:!1};b.isAttached=function(a){return a._kmwAttachment?!0:!1};b.setupElementAttachment=function(a){a._kmwAttachment={keyboard:null,touchEnabled:e.touchable}};b.clearElementAttachment=function(a){a._kmwAttachment=
null};b._GetDocumentEditables=function(a){var b=[];if(a.tagName){var k=a.tagName.toLowerCase();"input"!=k&&"textarea"!=k&&"iframe"!=k||b.push(a)}else if("#text"==a.nodeName)return[];a.getElementsByTagName&&(b=b.concat(d.arrayFromNodeList(a.getElementsByTagName("INPUT")),d.arrayFromNodeList(a.getElementsByTagName("TEXTAREA")),d.arrayFromNodeList(a.getElementsByTagName("IFRAME"))));a.querySelectorAll&&(b=b.concat(d.arrayFromNodeList(a.querySelectorAll("[contenteditable]"))));a.isContentEditable&&b.push(a);
return b};b._SetupDocument=function(a){a=b._GetDocumentEditables(a);for(var c=0;c<a.length;c++)b.attachToControl(a[c])};b._ClearDocument=function(a){a=b._GetDocumentEditables(a);for(var c=0;c<a.length;c++)b.detachFromControl(a[c])};b.fixPath=function(a){if(0==a.length)return a;var b=a.substr(a.length-1,1);return"/"==b||"\\"==b?a:a+"/"};b.init=b.init=function(g){var c;var k=function(a){if(0==a.length)return a;"/"!=a.substr(a.length-1,1)&&(a+="/");return"http"==a.replace(/^(http)s?:.*/,"$1")||"file"==
a.replace(/^(file):.*/,"$1")?a:"//"==a.substr(0,2)?b.protocol+a:"/"==a.substr(0,1)?b.rootPath+a.substr(1):b.srcPath+a};var l=b.options;if("object"==typeof g&&null!==g)for(c in l)g.hasOwnProperty(c)&&(l[c]=g[c]);""!=l.root&&(b.rootPath=k(l.root));""==l.resources&&(l.resources=b.srcPath);l.resources=k(l.resources);l.keyboards=k(l.keyboards);l.fonts=k(l.fonts);""==l.attachType&&(l.attachType="auto");b.setDefaultDeviceOptions(l);b.initialized||("complete"!==document.readyState?window.setTimeout(function(){b.init(g)},
50):(b._MasterDocument=window.document,"Android"==e.OS&&(e.dpi=d.getDPI(),e.formFactor=screen.height<4*e.dpi||screen.width<4*e.dpi?"phone":"tablet"),window.removeEventListener&&window.removeEventListener("focus",b._BubbledFocus,!0),b.setInitialized(1),a.prepare(),d.prepareWait(),b.keyboardManager.registerDeferredStubs(),b.initializeUI(),b.keyboardManager.registerDeferredKeyboards(),b.isEmbedded?b.keyboardManager.setDefaultKeyboard()||console.error("No keyboard stubs exist - cannot initialize keyboard!"):
(b.appliedFont=b.baseFont=b.getBaseFont(),e.touchable&&(b.handleRotationEvents(),b.setupTouchDevice()),"manual"!=b.options.attachType&&b._SetupDocument(document.documentElement),b.listInputs(),e.touchable&&(a._Box.addEventListener("touchend",function(a){a.stopPropagation()},!1),l=document.createElement("DIV"),k=l.style,k.width="100%",k.height=screen.width/2+"px",document.body.appendChild(l),"Android"==e.OS&&0<navigator.userAgent.indexOf("Chrome")?(b.hideOskWhileScrolling=function(b){if("undefined"!=
typeof a._Box&&"undefined"!=typeof a._Box.style){c=b.target.parentNode;if("undefined"!=typeof c&&null!=c&&(0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-")||"undefined"!=typeof c.parentNode&&(c=c.parentNode,0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-"))))return;a.hideNow()}},document.body.addEventListener("touchstart",b.hideOskWhileScrolling,!1)):(b.conditionallyHideOsk=function(){b.hideOnRelease&&!a.lgList&&a.hideNow();b.hideOnRelease=
!1},b.hideOskIfOnBody=function(a){b.touchY=a.touches[0].screenY;b.hideOnRelease=!0},b.cancelHideIfScrolling=function(a){a=a.touches[0].screenY;var c=b.touchY;if(5<a-c||5>c-a)b.hideOnRelease=!1},document.body.addEventListener("touchstart",b.hideOskIfOnBody,!1),document.body.addEventListener("touchmove",b.cancelHideIfScrolling,!1),document.body.addEventListener("touchend",b.conditionallyHideOsk,!1))),document.selection&&d.attachDOMEvent(document,"selectionchange",b._SelectionChange),b.keyboardManager.restoreCurrentKeyboard(),
l=document.querySelector("body"),"manual"!=b.options.attachType&&(b.mutationObserver=new MutationObserver(b._AutoAttachObserverCore),k={childList:!0,subtree:!0},b.mutationObserver.observe(l,k)),k={subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["class","readonly"]},(new MutationObserver(b._EnablementMutationObserverCore)).observe(l,k),b.setInitialized(2))))};b._EnablementMutationObserverCore=function(a){for(var c=0;c<a.length;c++){var k=a[c],d=k.oldValue?0<=k.oldValue.indexOf("kmw-disabled"):
!1,g=0<=k.target.className.indexOf("kmw-disabled");d&&!g?b._EnableControl(k.target):!d&&g&&b._DisableControl(k.target);g||"readonly"!=k.attributeName||(d=k.oldValue?null!=k.oldValue:!1,g=k.target.readOnly,d&&!g?b._EnableControl(k.target):!d&&g&&b._DisableControl(k.target))}};b._AutoAttachObserverCore=function(a){for(var c=[],k=[],d=0;d<a.length;d++){for(var g=a[d],f=0;f<g.addedNodes.length;f++)c=c.concat(b._GetDocumentEditables(g.addedNodes[f]));for(f=0;f<g.removedNodes.length;f++)k=k.concat(b._GetDocumentEditables(g.removedNodes[f]))}for(a=
0;a<c.length;a++)b.isKMWInput(c[a])&&b._MutationAdditionObserved(c[a]);for(a=0;a<k.length;a++)b.isKMWInput(k[a])&&b._MutationRemovalObserved(k[a]);if(c.length||k.length)e.touchable?e.touchable&&window.setTimeout(function(){b.listInputs();for(var a=0;a<b.sortedInputs.length;a++)b.sortedInputs[a].kmw_ip&&b.updateInput(b.sortedInputs[a].kmw_ip)},1):b.listInputs()};b._MutationAdditionObserved=function(a){if("iframe"!=a.tagName.toLowerCase()||e.touchable)b.attachToControl(a);else{var c=function(){b.attachToControl(a)};
a.addEventListener("load",c);"complete"==a.contentDocument.readyState&&c()}};b._MutationRemovalObserved=function(a){e.touchable&&b.disableTouchElement(a);b.disableInputElement(a);b.clearElementAttachment(a)};b.listInputs=function(){var a,c=[],k=document.getElementsByTagName("input"),l=document.getElementsByTagName("textarea");for(a=0;a<k.length;a++)switch(k[a].type){case "text":case "search":case "email":case "url":0>k[a].className.indexOf("kmw-disabled")&&c.push({ip:k[a],x:d._GetAbsoluteX(k[a]),
y:d._GetAbsoluteY(k[a])})}for(a=0;a<l.length;a++)0>l[a].className.indexOf("kmw-disabled")&&c.push({ip:l[a],x:d._GetAbsoluteX(l[a]),y:d._GetAbsoluteY(l[a])});c.sort(function(a,b){return a.y!=b.y?a.y-b.y:a.x-b.x});k=[];for(a=0;a<c.length;a++)k.push(c[a].ip);b.sortedInputs=k};b.initializeUI=function(){"function"==typeof b.ui.initialize?(b.ui.initialize(),a._Show()):window.setTimeout(b.initializeUI,1E3)};b.isPositionSynthesized=function(){return e.touchable};b._SelPos=function(a){var c,k=999>d._GetIEVersion();
if(b.isPositionSynthesized())return b.getTextCaret(a);if(a._KeymanWebSelectionStart)return a._KeymanWebSelectionStart;if(a.setSelectionRange)return a.value.substr(0,a.selectionStart)._kmwLength();if((c=a.ownerDocument)&&(c=c.defaultView)&&c.getSelection&&"on"==a.ownerDocument.designMode.toLowerCase()){if(a=c.getSelection(),3==a.focusNode.nodeType)return a.focusNode.substringData(0,a.focusOffset)._kmwLength()}else if(k){if("string"==typeof a.value)return c=b.getInputSelection(a),a.value.substr(0,c.start)._kmwLength();
if(a=a.body?a:a.ownerDocument)c=a.selection;else return 0;a=c.createRange();a.moveStart("textedit",-1);return a.text._kmwLength()}return 0};b.getInputSelection=function(a){var b=0,k=0,d;if("number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd)b=a.selectionStart,k=a.selectionEnd;else if((d=document.selection.createRange())&&d.parentElement()==a){var e=a.value.length;var g=a.value.replace(/\r\n/g,"\n");k=a.createTextRange();k.moveToBookmark(d.getBookmark());a=a.createTextRange();a.collapse(!1);
-1<k.compareEndPoints("StartToEnd",a)?b=k=e:(b=-k.moveStart("character",-e),b+=g.slice(0,b).split("\n").length-1,-1<k.compareEndPoints("EndToEnd",a)?k=e:(k=-k.moveEnd("character",-e),k+=g.slice(0,k).split("\n").length-1))}return{start:b,end:k}};b._SetTargDir=function(a){var c=null!=b.keyboardManager.activeKeyboard&&b.keyboardManager.activeKeyboard.KRTL?"rtl":"ltr";a&&(e.touchable?0==a.textContent.length&&(a.base.dir=a.dir=c,b.setTextCaret(a,1E4)):"string"==typeof a.value?0==a.value.length&&(a.dir=
c):"string"==typeof a.textContent&&0==a.textContent.length&&(a.dir=c))};b._ResetVKShift=function(){b._IsActivatingKeymanWebUI||a._UpdateVKShift&&a._UpdateVKShift(null,15,0)};b.addHotKey=b.addHotKey=function(a,c,k){for(var d=0;d<b._HotKeys.length;d++)if(b._HotKeys[d].Code==a&&b._HotKeys[d].Shift==c){b._HotKeys[d].Handler=k;return}b._HotKeys.push({Code:a,Shift:c,Handler:k})};b.removeHotKey=b.removeHotKey=function(a,c){for(var k=0;k<b._HotKeys.length;k++)if(b._HotKeys[k].Code==a&&b._HotKeys[k].Shift==
c){b._HotKeys.splice(k,1);break}};b._ProcessHotKeys=function(a){a||(a=window.event);var c=b._GetEventKeyCode(a);if(null==c)return null;for(var k=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0),d=0;d<b._HotKeys.length;d++)if(c==b._HotKeys[d].Code&&k==b._HotKeys[d].Shift)return b._HotKeys[d].Handler(),a.returnValue=0,a&&a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1;return!0};d.attachDOMEvent(document,"keyup",b._ProcessHotKeys,!1);b.getSavedKeyboard=function(){return b.keyboardManager.getSavedKeyboard()};
d.attachDOMEvent(window,"focus",b._ResetVKShift,!1);d.attachDOMEvent(window,"blur",b._ResetVKShift,!1);String.kmwEnableSupplementaryPlane(!1)}();
window.keyman.initialized||function(){var b=window.keyman,a=b.osk,d=b.util,e=d.device,f=b["interface"];a.modifierCodes={LCTRL:1,RCTRL:2,LALT:4,RALT:8,SHIFT:16,CTRL:32,ALT:64,CAPS:256,NO_CAPS:512,NUM_LOCK:1024,NO_NUM_LOCK:2048,SCROLL_LOCK:4096,NO_SCROLL_LOCK:8192,VIRTUAL_KEY:16384};a.modifierBitmasks={ALL:127,ALT_GR_SIM:a.modifierCodes.LCTRL|a.modifierCodes.LALT,CHIRAL:31,IS_CHIRAL:15,NON_CHIRAL:112};a.stateBitmasks={ALL:16128,CAPS:768,NUM_LOCK:3072,SCROLL_LOCK:12288};a.keyCodes={K_BKSP:8,K_TAB:9,
K_ENTER:13,K_SHIFT:16,K_CONTROL:17,K_ALT:18,K_PAUSE:19,K_CAPS:20,K_ESC:27,K_SPACE:32,K_PGUP:33,K_PGDN:34,K_END:35,K_HOME:36,K_LEFT:37,K_UP:38,K_RIGHT:39,K_DOWN:40,K_SEL:41,K_PRINT:42,K_EXEC:43,K_INS:45,K_DEL:46,K_HELP:47,K_0:48,K_1:49,K_2:50,K_3:51,K_4:52,K_5:53,K_6:54,K_7:55,K_8:56,K_9:57,K_A:65,K_B:66,K_C:67,K_D:68,K_E:69,K_F:70,K_G:71,K_H:72,K_I:73,K_J:74,K_K:75,K_L:76,K_M:77,K_N:78,K_O:79,K_P:80,K_Q:81,K_R:82,K_S:83,K_T:84,K_U:85,K_V:86,K_W:87,K_X:88,K_Y:89,K_Z:90,K_NP0:96,K_NP1:97,K_NP2:98,K_NP3:99,
K_NP4:100,K_NP5:101,K_NP6:102,K_NP7:103,K_NP8:104,K_NP9:105,K_NPSTAR:106,K_NPPLUS:107,K_SEPARATOR:108,K_NPMINUS:109,K_NPDOT:110,K_NPSLASH:111,K_F1:112,K_F2:113,K_F3:114,K_F4:115,K_F5:116,K_F6:117,K_F7:118,K_F8:119,K_F9:120,K_F10:121,K_F11:122,K_F12:123,K_NUMLOCK:144,K_SCROLL:145,K_LSHIFT:160,K_RSHIFT:161,K_LCONTROL:162,K_RCONTROL:163,K_LALT:164,K_RALT:165,K_COLON:186,K_EQUAL:187,K_COMMA:188,K_HYPHEN:189,K_PERIOD:190,K_SLASH:191,K_BKQUOTE:192,K_LBRKT:219,K_BKSLASH:220,K_RBRKT:221,K_QUOTE:222,K_oE2:226,
K_LOPT:50001,K_ROPT:50002,K_NUMERALS:50003,K_SYMBOLS:50004,K_CURRENCIES:50005,K_UPPER:50006,K_LOWER:50007,K_ALPHA:50008,K_SHIFTED:50009,K_ALTGR:50010,K_TABBACK:50011,K_TABFWD:50012};a.buttonClasses={DEFAULT:"0",SHIFT:"1","SHIFT-ON":"2",SPECIAL:"3","SPECIAL-ON":"4",DEADKEY:"8",BLANK:"9",HIDDEN:"10"};var h=[["0123456789",";=,-./`","[\\]'"],[")!@#$%^&*(",":+<_>?~",'{|}"']],g="K_BKQUOTE K_1 K_2 K_3 K_4 K_5 K_6 K_7 K_8 K_9 K_0 K_HYPHEN K_EQUAL K_* K_* K_* K_Q K_W K_E K_R K_T K_Y K_U K_I K_O K_P K_LBRKT K_RBRKT K_BKSLASH K_* K_* K_* K_A K_S K_D K_F K_G K_H K_J K_K K_L K_COLON K_QUOTE K_* K_* K_* K_* K_* K_oE2 K_Z K_X K_C K_V K_B K_N K_M K_COMMA K_PERIOD K_SLASH K_* K_* K_* K_* K_* K_SPACE".split(" ");
a._Box=null;a._DivVKbd=null;a._DivVKbdHelp=null;a._Visible=0;a._Enabled=1;a._VShift=[];a._VKeySpans=[];a._VKeyDown=null;a._VKbdContainer=null;a._VOriginalWidth=1;a._BaseLayout="us";a._BaseLayoutEuro={};a._BaseLayoutEuro.se="\u00a71234567890+\u00b4~~~QWERTYUIOP\u00c5\u00a8'~~~ASDFGHJKL\u00d6\u00c4~~~~~<ZXCVBNM,.-~~~~~ ";a._BaseLayoutEuro.uk="`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;'~~~~~\\ZXCVBNM,./~~~~~ ";a._stateKeys={K_CAPS:!1,K_NUMLOCK:!1,K_SCROLL:!1};a.lgTimer=null;a.lgKey=null;a.hkKey=null;
a.spaceBar=null;a.lgList=null;a.frameColor="#ad4a28";a.keyPending=null;a.fontFamily="";a.fontSize="1em";a.layout=null;a.layers=null;a.layerId="default";a.nextLayer="default";a.layerIndex=0;a.currentKey="";a.subkeyDelayTimer=null;a.popupPending=!1;a.popupVisible=!1;a.popupCallout=null;a.styleSheet=null;a.loadRetry=0;a.popupDelay=500;a.currentTarget=null;a.touchCount=0;a.touchX=0;a.deleting=0;a.x=99;a.y=0;a.width=1;a.height=1;a.rowHeight=1;a.nRows=1;a.vpScale=1;a.closeButton=null;a.resizeIcon=null;
a.resizing=0;a.pinImg=null;a.userPositioned=0;a.dfltX="";a.dfltY="";a.noDrag=!1;a.keytip=null;a.touchY=0;a.addCallout=function(a){};a.addEventListener=function(a,b){return d.addEventListener("osk."+a,b)};a._TitleBarInterior=function(){var c=d._CreateElement("DIV"),k=c.style;k.paddingLeft="2px";k.cursor="move";k.background="#ad4a28";k.font="8pt Tahoma,Arial,sans-serif";k=d._CreateElement("DIV");k.className="kmw-title-bar-actions";k.onmousedown=a._CancelMouse;var l=d._CreateElement("DIV");l.className=
"kmw-close-button";l.onmousedown=a._CancelMouse;l.onclick=function(){a._Hide(!0)};a.closeButton=l;k.appendChild(l);a.restorePosition=function(){a._Visible&&(b._FocusLastActiveElement(),a.loadCookie(),a.userPositioned=!1,a.saveCookie(),a._Show(),a.doResizeMove());a.pinImg&&(a.pinImg.style.display="none");window.event&&(window.event.returnValue=!1)};l=a.pinImg=d._CreateElement("DIV");l.className="kmw-pin-image";l.title="Pin the On Screen Keyboard to its default location on the active text box";l.onclick=
a.restorePosition;l.onmousedown=a._CancelMouse;l.style.display="none";e.touchable||k.appendChild(l);c.appendChild(k);l=b._TitleElement=d._CreateElement("SPAN");l.className="kmw-title-bar-caption";l.innerHTML="KeymanWeb";c.appendChild(l);return c};a.isEnabled=a.isEnabled=function(){return a._Enabled};a.isVisible=a.isVisible=function(){return a._Visible};a.getRect=a.getRect=function(){var b={};a._DivVKbd?(b.left=b.left=d._GetAbsoluteX(a._DivVKbd),b.top=b.top=d._GetAbsoluteY(a._DivVKbd),b.width=b.width=
d._GetAbsoluteX(a._DivVKbdHelp)-d._GetAbsoluteX(a._DivVKbd)+a._DivVKbdHelp.offsetWidth,b.height=b.height=d._GetAbsoluteY(a._DivVKbdHelp)-d._GetAbsoluteY(a._DivVKbd)+a._DivVKbdHelp.offsetHeight):(b.left=b.left=d._GetAbsoluteX(a._Box),b.top=b.top=d._GetAbsoluteY(a._Box),b.width=b.width=d._GetAbsoluteX(a._Box)+a._Box.offsetWidth,b.height=b.height=d._GetAbsoluteY(a._Box)+a._Box.offsetHeight);return b};a.setRect=a.setRect=function(b){if(null!=a._Box&&"desktop"==e.formFactor){var c=a._Box,l=c.style;"left"in
b&&(l.left=b.left-d._GetAbsoluteX(c)+c.offsetLeft+"px",a.dfltX=l.left);"top"in b&&(l.top=b.top-d._GetAbsoluteY(c)+c.offsetTop+"px",a.dfltY=l.top);if(null!=a._DivVKbd){var f=a._DivVKbd;l=f.style;if("width"in b){var g=b.width-(c.offsetWidth-f.offsetWidth);g<.2*screen.width&&(g=.2*screen.width);g>.9*screen.width&&(g=.9*screen.width);l.width=g+"px";a.width=g}"height"in b&&(c=b.height-(c.offsetHeight-f.offsetHeight),c<.1*screen.height&&(c=.1*screen.height),c>.5*screen.height&&(c=.5*screen.height),l.height=
c+"px",l.fontSize=c/8+"px",a.height=c);"nosize"in b&&a.resizeIcon&&(a.resizeIcon.style.display=b.nosize?"none":"block")}"nomove"in b&&(a.noDrag=b.nomove,a.pinImg&&(a.pinImg.style.display=b.nomove||!a.userPositioned?"none":"block"));a.saveCookie()}};a.getPos=function(){var b=a._Box;return{left:a._Visible?b.offsetLeft:a.x,top:a._Visible?b.offsetTop:a.y}};a.setPos=a.setPos=function(b){if("undefined"!=typeof a._Box&&!e.touchable){if(a.userPositioned){var c=b.left;b=b.top;"undefined"!=typeof c&&(c<-.8*
a._Box.offsetWidth&&(c=-.8*a._Box.offsetWidth),a.userPositioned&&(a._Box.style.left=c+"px",a.x=c));"undefined"!=typeof b&&(0>b&&(b=0),a.userPositioned&&(a._Box.style.top=b+"px",a.y=b))}a.pinImg&&(a.pinImg.style.display=a.userPositioned?"block":"none")}};a._VKeyGetTarget=function(a){a=b._GetEventObject(a);a=d.eventTarget(a);if(null==a)return null;3==a.nodeType&&(a=a.parentNode);"SPAN"==a.tagName&&(a=a.parentNode);return a};a.highlightKey=function(b,k){if(b&&""!=b.className&&!(0<=b.className.indexOf("kmw-key-row"))){var c=
b.className;null!=a.keytip&&0>c.indexOf("kmw-key-shift")&&0>c.indexOf("kmw-spacebar")&&0>b.id.indexOf("popup")?a.showKeyTip(b,k):k&&0>c.indexOf(" kmw-key-touched")?(b.className=c+" kmw-key-touched",a.showKeyTip(null,!1)):b.className=c.replace(" kmw-key-touched","")}};a.showSubKeys=function(b){if(null!=a.keyPending){var c=document.createElement("DIV"),l=a.getDefaultKeyObject();c.id="kmw-popup-keys";a.popupBaseKey=b;"phone"==e.formFactor&&a.prependBaseKey(b);var f=b.id.split("-");var g=f[f.length-1];
if("phone"==e.formFactor&&b.subKeys[0].id!=g){g={id:g,layer:""};1<f.length&&(g.layer=f[0]);for(f=0;f<b.childNodes.length&&!a.hasClass(b.childNodes[f],"kmw-key-text");f++);f<b.childNodes.length&&(g.text=b.childNodes[f].textContent);b.subKeys.splice(0,0,g)}f=c.style;f.bottom=parseInt(b.style.bottom,10)+parseInt(b.style.height,10)+4+"px";f.fontFamily=a.fontFamily;f.fontSize=d.getStyleValue(b,"font-size");f.visibility="hidden";g=b.subKeys.length;var h=Math.min(Math.ceil(g/9),2);var n=Math.ceil(g/h);1<
h&&(f.width=n*b.offsetWidth+5*n+"px");for(f=0;f<g;f++){var m=b.subKeys[f];var q=document.createElement("DIV");for(var t in l)"string"!=typeof m[t]&&(m[t]=l[t]);q.className="kmw-key-square-ex";q.keyId=m.id;var u=q.style;var y=Math.floor(f/n);1<h&&0<y&&(u.marginTop="5px");q.width="undefined"!=typeof m.width?u.width=parseInt(m.width,10)*b.offsetWidth/100+"px":u.width=b.offsetWidth+"px";u.height=b.offsetHeight+"px";y=document.createElement("DIV");a.setButtonClass(m,y);y.id="string"==typeof m.layer&&""!=
m.layer?"popup-"+m.layer+"-"+m.id:"popup-"+a.layerId+"-"+m.id;y.key=m;var B=y.style;B.height=u.height;B.width=u.width;B.position="absolute";u=d._CreateElement("SPAN");u.className="kmw-key-text";null==m.text||""==m.text?(u.innerHTML="\u00a0","string"==typeof m.id&&/^U_[0-9A-F]{4}$/i.test(m.id)&&(u.innerHTML=String.fromCharCode(parseInt(m.id.substr(2),16)))):u.innerHTML=m.text;B=u.style;B.fontSize=a.fontSize;"string"==typeof m.font&&""!=m.font&&(B.fontFamily=m.font);"string"==typeof m.fontsize&&0!=
m.fontsize&&(B.fontSize=m.fontsize);y.appendChild(u);q.appendChild(y);c.appendChild(q)}a.showKeyTip(null,!1);a._Box.appendChild(c);f=c.style;l=d._GetAbsoluteX(b)+.5*(b.offsetWidth-c.offsetWidth);t=(d.landscapeView()?screen.height:screen.width)-c.offsetWidth;l>t&&(l=t);0>l&&(l=0);f.left=l+"px";a.popupCallout=a.addCallout(b);f.visibility="visible";c.shim=document.createElement("DIV");c.shim.id="kmw-popup-shim";a._Box.appendChild(c.shim);"phone"==e.formFactor&&(b=c.childNodes[0].firstChild,a.keyPending=
b,a.highlightKey(b,!0))}};a.prependBaseKey=function(b){if(b&&"undefined"!=typeof b.id){var c=b.id.split("-");var d=c[c.length-1],e=1<c.length?c[0]:"";if("undefined"!=typeof b.subKeys&&0<b.subKeys.length&&(b.subKeys[0].id!=d||b.subKeys[0].layer!=e)){d={id:d,layer:""};1<c.length&&(d.layer=c[0]);for(c=0;c<b.childNodes.length&&!a.hasClass(b.childNodes[c],"kmw-key-text");c++);c<b.childNodes.length&&(d.text=b.childNodes[c].textContent);b.subKeys.splice(0,0,d)}}};a.getVKDictionaryCode=function(a){var c=
b.keyboardManager.activeKeyboard;if(!c.VKDictionary){var d=[];if("string"==typeof c.KVKD)for(var e=c.KVKD.split(" "),f=0;f<e.length;f++)d[e[f]]=f+256;c.VKDictionary=d}return(a=c.VKDictionary[a])?a:0};a.selectLayer=function(c,k){var d=2>arguments.length?null:k;"number"==typeof d&&(d=a.getLayerId(16*d));if(!d)switch(c){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":d="shift";break;case "K_LCONTROL":case "K_LCTRL":if(b.isChiral()){d="leftctrl";break}case "K_RCONTROL":case "K_RCTRL":if(b.isChiral()){d=
"rightctrl";break}case "K_CTRL":d="ctrl";break;case "K_LMENU":case "K_LALT":if(b.isChiral()){d="leftalt";break}case "K_RMENU":case "K_RALT":if(b.isChiral()){d="rightalt";break}case "K_ALT":d="alt";break;case "K_ALTGR":d=b.isChiral()?"leftctrl-rightalt":"ctrl-alt";break;case "K_CURRENCIES":case "K_NUMERALS":case "K_SHIFTED":case "K_UPPER":case "K_LOWER":case "K_SYMBOLS":d="default"}if(!d||d==a.layerId&&"desktop"!=e.formFactor)return!1;a.updateLayer(d);a._Show();return!0};a.defaultKeyOutput=function(c,
k,d,e,g){var l="",v=!1,C=g&&"undefined"!=typeof g.base;0==d?v=!0:d==a.modifierCodes.SHIFT&&(v=!0,d=1);if(C||e)switch((C=a.keyCodes[c])||(C=k),C){case a.keyCodes.K_BKSP:f.output(1,b._LastActiveElement,"");break;case a.keyCodes.K_TAB:b.moveToNext(d);break;case a.keyCodes.K_TABBACK:b.moveToNext(!0);break;case a.keyCodes.K_TABFWD:b.moveToNext(!1);break;case a.keyCodes.K_ENTER:if("TEXTAREA"==g.nodeName||"undefined"!=typeof g.base&&"TEXTAREA"==g.base.nodeName)return"\n";e&&("INPUT"!=g.nodeName||"search"!=
g.type&&"submit"!=g.type?"undefined"==typeof g.base||"search"!=g.base.type&&"submit"!=g.base.type?b.moveToNext(!1):(g.base.disabled=!1,g.base.form.submit()):g.form.submit());break;case a.keyCodes.K_SPACE:return" "}"U_"==c.substr(0,2)?(c=parseInt(c.substr(2,6),16),0<=c&&31>=c||128<=c&&159>=c?console.log("Suppressing Unicode control code: U_00"+c.toString(16)):l=String.kmwFromCharCode(c)):v&&(k>=a.keyCodes.K_0&&k<=a.keyCodes.K_9?l=h[d][0][k-a.keyCodes.K_0]:k>=a.keyCodes.K_A&&k<=a.keyCodes.K_Z?l=String.fromCharCode(k+
(d?0:32)):k>=a.keyCodes.K_COLON&&k<=a.keyCodes.K_BKQUOTE?l=h[d][1][k-a.keyCodes.K_COLON]:k>=a.keyCodes.K_LBRKT&&k<=a.keyCodes.K_QUOTE&&(l=h[d][2][k-a.keyCodes.K_LBRKT]));return l};a.clickKey=function(c){var k=b._LastActiveElement,l,g=b.keyboardManager.activeKeyboard;var h=c.id.split("-");if(2>h.length)return!0;"popup"==h[0]&&h.splice(0,1);if(null!=k){var p=h[0],n=h[h.length-1],m=l=a.getModifierState(a.layerId);for(l=1;l<h.length-1;l++)p=p+"-"+h[l];"undefined"!=typeof c.key&&(m=c.key.nextlayer);null==
b._ActiveElement&&(b._ActiveElement=k);if("K_LOPT"==n||"K_ROPT"==n)return a.optionKey(c,n,!0),!0;a.highlightKey(c,!1);if("desktop"==e.formFactor&&a.selectLayer(n,m))return!0;h=k._KeymanWebSelectionStart;l=k._KeymanWebSelectionEnd;var q=b._Selection;b._IsActivatingKeymanWebUI=1;b._IgnoreNextSelChange=100;b._FocusLastActiveElement();b._IsMozillaEditableIframe(k,0)&&(k=k.documentElement);document.selection&&null!=q&&q.select();k._KeymanWebSelectionStart=h;k._KeymanWebSelectionEnd=l;b._IgnoreNextSelChange=
0;b._CachedSelectionStart=null;f._DeadkeyDeleteMatched();h={Ltarg:k,Lmodifiers:0,Lstates:0,Lcode:a.keyCodes[n],LisVirtualKey:!0};h.Lstates|=a._stateKeys.K_CAPS?a.modifierCodes.CAPS:a.modifierCodes.NO_CAPS;h.Lstates|=a._stateKeys.K_NUMLOCK?a.modifierCodes.NUM_LOCK:a.modifierCodes.NO_NUM_LOCK;h.Lstates|=a._stateKeys.K_SCROLL?a.modifierCodes.SCROLL_LOCK:a.modifierCodes.NO_SCROLL_LOCK;"U_"==n.substr(0,2)&&(h.LisVirtualKey=!1);"undefined"==typeof h.Lcode&&(h.Lcode=a.getVKDictionaryCode(n),h.Lcode||(h.Lcode=
1));l="undefined"==typeof c.key?null:c.key.layer;l=null==l?a.getModifierState(p):a.getModifierState(l);h.Lmodifiers=l;(h.Lmodifiers&a.modifierBitmasks.ALT_GR_SIM)==a.modifierBitmasks.ALT_GR_SIM&&a.emulatesAltGr()&&(h.Lmodifiers&=~a.modifierBitmasks.ALT_GR_SIM,h.Lmodifiers|=a.modifierCodes.RALT);g&&g.KM?(p=c.firstChild.firstChild.wholeText,h.LisVirtualKey=!1,h.LisVirtualKeyCode=!1,h.vkCode=h.Lcode,h.Lcode!=a.keyCodes.K_SPACE&&(h.Lcode="string"==typeof p&&""!=p?p.charCodeAt(0):0,160==h.Lcode&&(h.Lcode=
0)),h.Lmodifiers=0):h.vkCode=h.Lcode;"undefined"==typeof g.KM&&(h.Lcode=b._USKeyCodeToCharCode(h),h.LisVirtualKey=!1);if(!g||0!=h.Lcode&&!f.processKeystroke(d.device,k,h))switch(h.Lcode=h.vkCode,n){case "K_CAPS":case "K_NUMLOCK":case "K_SCROLL":a._stateKeys[n]=!a._stateKeys[n];a._Show();break;default:(g=a.defaultKeyOutput(n,h.Lcode,l,!0,k))&&f.output(0,k,g)}"undefined"!=typeof c.key&&null!==c.key.nextlayer&&(a.nextLayer=c.key.nextlayer);a.selectLayer(n,m);k._KeymanWebSelectionStart=null;k._KeymanWebSelectionEnd=
null}b._IsActivatingKeymanWebUI=0;return!0};a.getLayerId=function(b){var c="";if(0==b)return"default";b&a.modifierCodes.LCTRL&&(c=(0<c.length?c+"-":"")+"leftctrl");b&a.modifierCodes.RCTRL&&(c=(0<c.length?c+"-":"")+"rightctrl");b&a.modifierCodes.LALT&&(c=(0<c.length?c+"-":"")+"leftalt");b&a.modifierCodes.RALT&&(c=(0<c.length?c+"-":"")+"rightalt");b&a.modifierCodes.SHIFT&&(c=(0<c.length?c+"-":"")+"shift");b&a.modifierCodes.CTRL&&(c=(0<c.length?c+"-":"")+"ctrl");b&a.modifierCodes.ALT&&(c=(0<c.length?
c+"-":"")+"alt");return c};a.getModifierState=function(b){var c=0;0<=b.indexOf("shift")&&(c|=a.modifierCodes.SHIFT);var d=!1;0<=b.indexOf("leftctrl")&&(c|=a.modifierCodes.LCTRL,d=!0);0<=b.indexOf("rightctrl")&&(c|=a.modifierCodes.RCTRL,d=!0);0<=b.indexOf("ctrl")&&!d&&(c|=a.modifierCodes.CTRL);d=!1;0<=b.indexOf("leftalt")&&(c|=a.modifierCodes.LALT,d=!0);0<=b.indexOf("rightalt")&&(c|=a.modifierCodes.RALT,d=!0);0<=b.indexOf("alt")&&!d&&(c|=a.modifierCodes.ALT);return c};a.updateLayer=function(b){var c=
a.layerId,d=b,e,f="leftctrl rightctrl ctrl leftalt rightalt alt shift".split(" ");for(e=0;e<f.length;e++)d=d.replace(f[e]+"-",""),d=d.replace(f[e],"");if("default"==a.layerId||"numeric"==a.layerId||"symbol"==a.layerId||"currency"==a.layerId||""!=d)c=b;else{d=a.getModifierState(c);for(e=0;e<f.length;e++)c=c.replace(f[e]+"-",""),c=c.replace(f[e],"");switch(b){case "shift":d^=a.modifierCodes.SHIFT;break;case "leftctrl":d^=a.modifierCodes.LCTRL;break;case "rightctrl":d^=a.modifierCodes.RCTRL;break;case "ctrl":d^=
a.modifierCodes.CTRL;break;case "leftalt":d^=a.modifierCodes.LALT;break;case "rightalt":d^=a.modifierCodes.RALT;break;case "alt":d^=a.modifierCodes.ALT;break;default:c=b}"default"!=c&&(c=""==c?a.getLayerId(d):a.getLayerId(d)+"-"+c)}""==c&&(c="default");a.layerId=c;for(e=0;e<a.layers.length;e++)if(a.layerId==a.layers[e].id)return;a.layerId="default"};a.showLanguage=function(){var c="",k=b.keyboardManager.activeStub;if(k){var d=k.KL;c=k.KN}else d=b._ActiveLanguage?b._ActiveLanguage.KN:"English";try{var e=
a.spaceBar.firstChild.firstChild;e.parentNode.className="undefined"==typeof e.parentNode.className||""==e.parentNode.className?"kmw-spacebar":e.parentNode.className+" kmw-spacebar";e.className="kmw-spacebar-caption";c=c.replace(/\s*keyboard\s*/i,"");k="";k=c==d?d:d+" ("+c+")";e.innerHTML!=k&&(e.innerHTML=k)}catch(v){}};a.showLanguageMenu=function(){var c=b.keyboardManager.keyboardStubs;if(!(1>c.length)){var k=a.lgList=d._CreateElement("DIV");a.lgList.id="kmw-language-menu";k.shim=d._CreateElement("DIV");
k.shim.id="kmw-language-menu-background";k.shim.addEventListener("touchstart",function(b){b.preventDefault();a.hideLanguageList();if(2<b.touches.length){var c=b.touches[1].pageX;b=b.touches[1].pageY;c>a.spaceBar.offsetLeft&&c<a.spaceBar.offsetLeft+a.spaceBar.offsetWidth&&b>a.spaceBar.offsetTop&&b<a.spaceBar.offsetTop+a.spaceBar.offsetHeight&&a.showBuild()}},!1);document.body.appendChild(k.shim);var f=d._CreateElement("DIV"),g=f.style,h=d._CreateElement("DIV");f.id="kmw-menu-scroll-container";h.id=
"kmw-menu-scroller";"WebkitOverflowScrolling"in g&&(g.WebkitOverflowScrolling="touch");f.appendChild(h);k.appendChild(f);var p;g=d._CreateElement("DIV");g.id="kmw-menu-index";for(p=1;26>=p;p++){var n=d._CreateElement("P");n.innerHTML=String.fromCharCode(p+64);g.appendChild(n)}g.addEventListener("touchstart",function(b){a.scrollToLanguage(b,f,h)},!1);g.addEventListener("touchend",function(a){a.stopPropagation();a.preventDefault()},!1);k.appendChild(g);k.addEventListener("scroll",function(b){a.lgList.scrolling=
!0},!1);f.addEventListener("scroll",function(a){1>f.scrollTop&&(f.scrollTop=1);f.scrollTop>f.scrollHeight-f.offsetHeight-1&&(f.scrollTop=f.scrollHeight-f.offsetHeight-1)},!1);a.lgList.activeLgNo=a.addLanguagesToMenu(h,c);a.lgList.visibility="hidden";document.body.appendChild(a.lgList);"Android"==e.OS&&"devicePixelRatio"in window&&(a.lgList.style.fontSize=2/window.devicePixelRatio+"em");"Android"==e.OS&&"tablet"==e.formFactor&&"devicePixelRatio"in window&&(p=parseInt(d.getStyleValue(k,"width"),10),
c=k.style,isNaN(p)||(c.width=c.maxWidth=2*p/window.devicePixelRatio+"px"),p=parseInt(d.getStyleValue(f,"width"),10),c=f.style,isNaN(p)||(c.width=c.maxWidth=2*p/window.devicePixelRatio+"px"),p=parseInt(d.getStyleValue(h,"width"),10),c=h.style,isNaN(p)||(c.width=c.maxWidth=2*p/window.devicePixelRatio+"px"));a.adjustLanguageMenu(0);c=Math.floor(k.offsetHeight/26);n=Math.round(100*c/(g.childNodes[1].offsetTop-g.childNodes[0].offsetTop))/100;var m=.6<n?1:2;1.25<n&&(n=1.25);for(p=0;26>p;p++){var q=g.childNodes[p].style;
2==m&&1==p%2?q.display="none":(q.fontSize=n*m+"em",q.lineHeight=c*m+"px")}p=f.offsetWidth;f.scrollHeight>f.offsetHeight+3?p+=g.offsetWidth:g.style.display="none";k.style.width=p+"px";a.lgList.visibility="";k=h.firstChild.offsetHeight*a.lgList.activeLgNo+1;f.scrollTop=k;f.scrollTop<k&&(f.scrollTop=f.scrollHeight-f.offsetHeight);f.scrollTop>f.scrollHeight-f.offsetHeight-1&&(f.scrollTop=f.scrollHeight-f.offsetHeight-1)}};a.adjustLanguageMenu=function(b){var c=a.lgList,f=c.firstChild,g=f.firstChild,h=
c.style;c=c.childNodes[1];var p=window.innerHeight-a.lgKey.offsetHeight-16;g=(g.childNodes.length+b-1)*g.firstChild.firstChild.offsetHeight;"iOS"==e.OS&&("phone"==e.formFactor?(b=d.landscapeView()?36:0,p=(window.innerHeight-b-16)*d.getViewportScale()):"tablet"==e.formFactor&&(b=d.landscapeView()?16:0,p-=b));h.left=d._GetAbsoluteX(a.lgKey)+"px";g>p&&(g=p);h.height=g+"px";h.top=d._GetAbsoluteY(a._Box)+a._Box.offsetHeight-g+window.pageYOffset-6+"px";h.bottom="auto";c.style.height=f.style.height=h.height};
a.scrollToLanguage=function(a,b,d){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();if("P"==a.touches[0].target.nodeName){var c,k=0;a=a.touches[0].target.innerHTML.charCodeAt(0);var f=d.childNodes;try{for(c=0;c<f.length-1;c++){var e=f[c].firstChild.innerHTML.toUpperCase().charCodeAt(0);if(e>=a)break}}catch(m){}try{k=d.firstChild.offsetHeight*c+1,b.scrollTop=k}catch(m){k=0}try{b.scrollTop<k&&(b.scrollTop=b.scrollHeight-b.offsetHeight),b.scrollTop>b.scrollHeight-b.offsetHeight-1&&
(b.scrollTop=b.scrollHeight-b.offsetHeight-1)}catch(m){}}};a.addLanguagesToMenu=function(c,k){var f=k.length,g,h,p=[];for(h=0;h<f;h++){var n=k[h].KL;-1==p.indexOf(n)&&p.push(n)}p.sort();var m=Math.round(100/d.getViewportScale())/100;n=-1;for(g=0;g<p.length;g++){var q=d._CreateElement("DIV");q.className="kbd-list-closed";var t=d._CreateElement("P");t.kList=[];for(h=0;h<f;h++)k[h].KL==p[g]&&t.kList.push(k[h]);"iOS"==e.OS&&(t.style.fontSize=m+"em");q.appendChild(t);c.appendChild(q);p[g]==b.keyboardManager.activeStub.KL&&
(n=g);if(1<t.kList.length)for(t.className="kbd-list",t.innerHTML=p[g]+"...",t.scrolled=!1,t.ontouchend=function(b){b.preventDefault();b.stopPropagation();b.target.scrolled?b.target.scrolled=!1:this.parentNode.className="kbd-list-closed"==this.parentNode.className?"kbd-list-open":"kbd-list-closed";a.adjustLanguageMenu("kbd-list-closed"==this.parentNode.className?0:this.kList.length)},t.addEventListener("touchstart",function(a){a.stopPropagation()},!1),t.addEventListener("touchmove",function(a){a.target.scrolled=
!0;a.stopPropagation()},!1),h=0;h<t.kList.length;h++){var u=d._CreateElement("P");u.className="kbd-list-entry";"iOS"==e.OS&&(u.style.fontSize=m+"em");a.addKeyboardToMenu(t.kList[h],u,!1);q.appendChild(u)}else t.innerHTML=p[g],t.className="kbd-single-entry",a.addKeyboardToMenu(t.kList[0],t,!0);g==n&&(t.className+=" current")}k=d._CreateElement("DIV");k.id="kmw-menu-footer";f=function(a){a.preventDefault();a.stopPropagation()};k.addEventListener("touchstart",f,!1);k.addEventListener("touchmove",f,!1);
k.addEventListener("touchend",f,!1);c.appendChild(k);return n};a.addKeyboardToMenu=function(c,k,d){k.kn=c.KI;k.kc=c.KLC;k.innerHTML=d?c.KL:c.KN.replace(" Keyboard","");c=function(b){b.stopPropagation();0>=this.className.indexOf("selected")&&(this.className+=" selected");a.lgList.scrolling=!1;a.lgList.y0=b.touches[0].pageY;return!0};d=function(b){b.stopImmediatePropagation();var c=a.lgList.childNodes[0],k=c.scrollHeight-c.offsetHeight;if("undefined"!=typeof b.pageY)var d=b.pageY;else if("undefined"!=
typeof b.touches)d=b.touches[0].pageY;else return;var f=d-a.lgList.y0;if(0>f)c.scrollTop>=k-1&&(b.preventDefault(),a.lgList.y0=d);else if(0<f)2>c.scrollTop&&(b.preventDefault(),a.lgList.y0=d);else return;if(-5>f||5<f)a.lgList.scrolling=!0,this.className=this.className.replace(/\s*selected/,""),a.lgList.y0=d;return!0};var f=function(c){c.preventDefault();"undefined"!=typeof c.stopImmediatePropagation?c.stopImmediatePropagation():c.stopPropagation();a.lgList.scrolling?this.className=this.className.replace(/\s*selected/,
""):(b.focusing=!0,b.focusTimer=window.setTimeout(function(){b.focusing=!1},1E3),a.lgList.style.display="none",b.keyboardManager._SetActiveKeyboard(this.kn,this.kc,!0),b.doKeyboardChange(this.kn,this.kc),b._FocusLastActiveElement(),a.hideLanguageList(),a._Show());return!0};k.onmspointerdown=c;k.addEventListener("touchstart",c,!1);k.onmspointermove=d;k.addEventListener("touchmove",d,!1);k.onmspointerout=f;k.addEventListener("touchend",f,!1)};a.hideLanguageList=function(){a.lgList&&(a.highlightKey(a.lgKey.firstChild,
!1),a.lgList.style.visibility="hidden",window.setTimeout(function(){null!=a.lgList&&"undefined"!=typeof a.lgList&&(document.body.removeChild(a.lgList.shim),document.body.removeChild(a.lgList));a.lgList=null},500))};a._UpdateVKShift=function(c,k,d){var f=0,e=["CAPS","NUM_LOCK","SCROLL_LOCK"],g=["K_CAPS","K_NUMLOCK","K_SCROLL"];if(c)for(f=c.Lmodifiers,k=c.Lstates,b.isChiral()&&a.emulatesAltGr()&&(b.modStateFlags&a.modifierBitmasks.ALT_GR_SIM)==a.modifierBitmasks.ALT_GR_SIM&&(f|=a.modifierBitmasks.ALT_GR_SIM,
f&=~a.modifierCodes.RALT),c=0;c<e.length;c++)k&a.stateBitmasks[e[c]]&&(a._stateKeys[g[c]]=k&a.modifierCodes[e[c]]);else if(d)for(f|=k,c=0;c<e.length;c++)k&a.stateBitmasks[e[c]]&&(a._stateKeys[g[c]]=!0);else for(f&=~k,c=0;c<e.length;c++)k&a.stateBitmasks[e[c]]&&(a._stateKeys[g[c]]=!1);a.layerId=a.getLayerId(f);a._Visible&&a._Show();return!0};a._UpdateVKShiftStyle=function(b){var c;if(b)for(c=0;c<a.layers.length&&a.layers[c].id!=a.layerId;c++);else{c=a.layerIndex;b=a.layers[c].id;var d=a.layers[c];
c=["K_CAPS","K_NUMLOCK","K_SCROLL"];var f=[d.capsKey,d.numKey,d.scrollKey];for(d=0;d<f.length;d++)if(null!=f[d]){f[d].sp=a._stateKeys[c[d]]?a.buttonClasses["SHIFT-ON"]:a.buttonClasses.SHIFT;var e=document.getElementById(b+"-"+c[d]);a.setButtonClass(f[d],e,a.layout)}}};a._CancelMouse=function(a){(a=b._GetEventObject(a))&&a.preventDefault&&a.preventDefault();a&&(a.cancelBubble=!0,a.returnValue=!1);return!1};a.showLayer=function(c){if(b.keyboardManager.activeKeyboard)for(var d=0;d<a.layers.length;d++)if(a.layers[d].id==
c)return a.layerId=c,a._Show(),!0;return!1};a.getHeight=function(){if("function"==typeof b.getOskHeight)return b.getOskHeight();var a=Math.floor(Math.min(screen.availHeight,screen.availWidth)/2);if("phone"==e.formFactor){var k=Math.min(screen.height,screen.width),f=Math.max(screen.height,screen.width);a=d.portraitView()?Math.floor(Math.max(screen.availHeight,screen.availWidth)/3):f/k*a/1.6}"iOS"==e.OS&&(a/=d.getViewportScale());"Android"==e.OS&&"phone"==e.formFactor&&"devicePixelRatio"in window&&
/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(a*=window.devicePixelRatio);return a};a.getWidth=function(){if("function"==typeof b.getOskWidth)return b.getOskWidth();var a=screen.width;if("Android"==e.OS)try{a=document.documentElement.clientWidth}catch(k){a=screen.availWidth}return a};a.mouseOverMouseDownHandler=function(b){var c=d.eventTarget(b);null!==c&&"desktop"==e.formFactor&&("SPAN"==c.nodeName&&(c=c.parentNode),"mousedown"==d.eventType(b)?(a.currentKey=c.id,a._CancelMouse(b),a.highlightKey(c,
!0)):c.id==a.currentKey&&a.highlightKey(c,!0))};a.mouseUpMouseOutHandler=function(b){var c=d.eventTarget(b);null!==c&&"desktop"==e.formFactor&&("SPAN"==c.nodeName&&(c=c.parentNode),a.highlightKey(c,!1),"mouseup"==d.eventType(b)&&(c.id==a.currentKey&&a.clickKey(c),a.currentKey=""))};a.getDefaultKeyObject=function(){return{text:"",width:"100",pad:"15",sp:"0",layer:null,nextlayer:null}};a.deviceDependentLayout=function(b,k){var c=d._CreateElement("DIV"),f=c.style,g=0;c.className="kmw-key-layer-group";
switch(k){case "phone":case "tablet":g=a.getHeight(),f.height=g+"px"}if(null==b)return c;f.fontSize="undefined"==typeof b.fontsize||null==b.fontsize?"1em":b.fontsize;a.fontSize=f.fontSize;var h;var n=b.layer;var m=a.getDefaultKeyObject();m.fontsize=f.fontSize;var q=/\*\w+\*/;for(g=0;g<n.length;g++){var t=n[g];var u=t.row;for(h=u.length;0<h&&!(0<u[h-1].key.length);h--);h<u.length&&u.splice(h-u.length,u.length-h)}var y=100/u.length;"desktop"==k&&(y=100/u.length);if("desktop"==k){var B=function(a){return a+
"%"};var D=100}else B=function(a){return Math.round(a)+"px"},D=a.getWidth();e.touchable&&"ontouchstart"in window&&(c.addEventListener("touchstart",a.touch,!0),c.addEventListener("touchend",a.release,!1),c.addEventListener("touchmove",a.moveOver,!1));for(g=0;g<n.length;g++){t=n[g];t.aligned=!1;var E=d._CreateElement("DIV");u=E.style;E.className="kmw-key-layer";u.display=0==g?"block":"none";u.height=f.height;u.fontFamily="font"in b?b.font:"";E.layer=E.nextLayer=t.id;"string"==typeof t.nextlayer&&(E.nextLayer=
t.nextlayer);u=t.row;var H=0;for(h=0;h<u.length;h++){var I=0;var x=u[h];var w=x.key;for(x=0;x<w.length;x++){var r=w[x];if(null==r)--w.length;else{var K="string"==typeof r.width&&""!=r.width?parseInt(r.width,10):100;if(isNaN(K)||0==K)K=100;r.width=K.toString();var F="string"==typeof r.pad&&""!=r.pad?parseInt(r.pad,10):15;if(isNaN(F)||0==F)F=15;r.pad=F.toString();I+=K+F}}I>H&&(H=I)}H="desktop"==k?H+5:H+15;for(h=0;h<u.length;h++){I=d._CreateElement("DIV");I.className="kmw-key-row";I.onmousedown=d.mouseDownPreventDefaultHandler;
x=u[h];K=I.style;K.maxHeight=K.height=y+"%";w=x.key;for(x=0;x<w.length;x++){r=w[x];for(var L in m)"string"!=typeof r[L]&&(r[L]=m[L]);switch(r.sp){case "1":q.test(r.text)||""==r.text||(r.sp="3");break;case "2":q.test(r.text)||""==r.text||(r.sp="4")}}for(x=F=0;x<w.length-1;x++){r=Math.round(parseInt(w[x].width,10)*D/H);w[x].widthpc=r;var J=Math.round(parseInt(w[x].pad,10)*D/H);w[x].padpc=J;F+=J+r}F+=Math.round(15*D/H);1==w.length&&0>parseInt(w[0].pad,10)?(r=Math.round(parseInt(w[0].width,10)*D/H),w[0].widthpc=
r,F+=r,w[0].padpc=D-F):0<w.length&&(x=w.length-1,J=Math.round(parseInt(w[x].pad,10)*D/H),w[x].padpc=J,F+=J,w[x].widthpc=D-F);for(x=F=0;x<w.length;x++){r=w[x];J=d._CreateElement("DIV");J.keyId=r.id;J.className="kmw-key-square";var z=J.style;J.width=z.width=B(r.widthpc);"desktop"!=k?(z.left=B(F+w[x].padpc),z.bottom=K.bottom,z.height=K.height):z.marginLeft=B(r.padpc);F=F+w[x].padpc+w[x].widthpc;var G=d._CreateElement("DIV");a.setButtonClass(r,G,b);"desktop"!=k&&(G.style.left=z.left,G.style.width=z.width);
z=null;if(b.keyLabels||"desktop"==k){var A=a.keyCodes[r.id];switch(A){case 186:A=59;break;case 187:A=61;break;case 188:A=44;break;case 189:A=45;break;case 190:A=46;break;case 191:A=47;break;case 192:A=96;break;case 219:A=91;break;case 220:A=92;break;case 221:A=93;break;case 222:A=39;break;default:if(48>A||90<A)A=0}0<A&&(z=d._CreateElement("DIV"),z.className="kmw-key-label",z.innerHTML=String.fromCharCode(A),G.appendChild(z))}G.id=t.id+"-"+r.id;G.key=r;if("undefined"!=typeof r.sk&&null!=r.sk)for(A=
G.subKeys=r.sk,z=0;z<A.length;z++){if("1"==A[z].sp||"2"==A[z].sp)A[z].text=a.renameSpecialKey(A[z].text)}else G.subKeys=null;e.touchable||(G.onmouseover=G.onmousedown=a.mouseOverMouseDownHandler,G.onmouseup=G.onmouseout=a.mouseUpMouseOutHandler);z=d._CreateElement("SPAN");A=z.style;null==r.text||""==r.text?(z.innerHTML="\u00a0","string"==typeof r.id&&/^U_[0-9A-F]{4}$/i.test(r.id)&&(z.innerHTML=String.fromCharCode(parseInt(r.id.substr(2),16)))):z.innerHTML=r.text;z.className="kmw-key-text";if("1"==
r.sp||"2"==r.sp)z.innerHTML=a.renameSpecialKey("*Tab*"==r.text&&1==g?"*TabLeft*":r.text);"font"in r&&(A.fontFamily=r.font);"fontsize"in r&&(A.fontSize=r.fontsize);G.appendChild(z);J.appendChild(G);"undefined"!=typeof r.sk&&null!=r.sk&&(r=d._CreateElement("DIV"),r.className="kmw-key-popup-icon",G.appendChild(r));I.appendChild(J)}E.appendChild(I)}c.appendChild(E)}return c};a.renameSpecialKey=function(a){for(var b="*Shift* *Enter* *Tab* *BkSp* *Menu* *Hide* *Alt* *Ctrl* *Caps* *ABC* *abc* *123* *Symbol* *Currency* *Shifted* *AltGr* *TabLeft*".split(" "),
c=[8,5,6,4,11,10,25,1,3,16,17,19,21,20,8,2,7],d=0;d<b.length;d++)if(a==b[d])return String.fromCharCode(57344+c[d]);return a};a.clearPopup=function(){var b=document.getElementById("kmw-popup-keys");null!=b&&(b.shim&&a._Box.removeChild(b.shim),b.parentNode.removeChild(b));a.popupCallout&&a._Box.removeChild(a.popupCallout);a.popupCallout=null;a.subkeyDelayTimer&&(window.clearTimeout(a.subkeyDelayTimer),a.subkeyDelayTimer=null);a.popupBaseKey=null};a.touch=function(c){var d=c.changedTouches[0].target,
e=a.keyTarget(d);a.touchX=c.changedTouches[0].pageX;a.currentTarget=e;var g=document.getElementById("kmw-popup-keys");if(!(g&&"visible"==g.style.visibility||a.popupVisible)){a.touchCount=c.touches.length;if(e&&0<=e.className.indexOf("key-hidden")||0<=d.className.indexOf("kmw-key-row"))e=a.findNearestKey(c,d);null!=e&&(c=e.id.split("-"),c=c[c.length-1],a.highlightKey(e,!0),"K_LOPT"==c||"K_ROPT"==c?(window.setTimeout(function(){a.clickKey(e)},0),a.keyPending=null):"K_BKSP"==c?(f.output(1,b._LastActiveElement,
""),a.deleting=window.setTimeout(a.repeatDelete,500),a.keyPending=null):(a.keyPending?(a.highlightKey(a.keyPending,!1),a.clickKey(a.keyPending),a.clearPopup(),a.touchCount--):a.touchHold(e),a.keyPending=e))}};a.release=function(b){var c=document.getElementById("kmw-popup-keys"),d=a.currentTarget;if(c&&"visible"==c.style.visibility||a.popupVisible){if(0<b.touches.length)return;if(null==d||0>d.id.indexOf("popup")&&d.id!=a.popupBaseKey.id)a.highlightKey(a.keyPending,!1),a.clearPopup(),a.keyPending=null}d&&
d.id&&a.optionKey(b,d.id,!1);d=b.changedTouches[0].pageX;d=2>d&&5<a.touchX||d>window.innerWidth-2&&a.touchX<window.innerWidth-5;c=a.touchCount;0<a.touchCount&&a.touchCount--;a.keyPending?(a.highlightKey(a.keyPending,!1),0>a.keyPending.className.indexOf("hidden")&&0<c&&!d&&a.clickKey(a.keyPending),a.clearPopup(),a.keyPending=null):(c=b.changedTouches[0],d=a.keyTarget(c.target),d||(d=document.elementFromPoint(c.clientX,c.clientY),d=a.findNearestKey(b,d)),a.highlightKey(d,!1));a.deleting&&window.clearTimeout(a.deleting);
a.deleting=0};a.moveOver=function(b){b.preventDefault();b.cancelBubble=!0;"function"==typeof b.stopImmediatePropagation?b.stopImmediatePropagation():"function"==typeof b.stopPropagation&&b.stopPropagation();if(!(1<b.touches.length||0==a.touchCount)){var c="object"==typeof b.touches?b.touches[0].clientX:b.clientX,d="object"==typeof b.touches?b.touches[0].clientY:b.clientY,f=document.elementFromPoint(c,d),g=a.keyPending,h=a.keyTarget(f);if(h&&0<=h.className.indexOf("key-hidden")||f&&!h&&0<=f.className.indexOf("key-row"))h=
a.findNearestKey(b,f);h&&"string"==typeof h.id&&0>h.id.indexOf("BKSP")&&(a.deleting&&window.clearTimeout(a.deleting),a.deleting=0);if(a.popupVisible)null==h?(g&&a.highlightKey(g,!1),a.keyPending=null):h==a.popupBaseKey?(a.hasClass(h,"kmw-key-touched")||a.highlightKey(h,!0),a.keyPending=h):(g&&a.highlightKey(g,!1),a.keyPending=null);else{(f=document.getElementById("kmw-popup-keys"))&&"visible"==f.style.visibility&&"phone"==e.formFactor&&h==a.popupBaseKey&&(h=f.childNodes[0].firstChild);a.currentTarget=
h;g&&h&&h.id!=g.id&&a.highlightKey(g,!1);a.highlightSubKeys(h,c,d);if(f&&"visible"==f.style.visibility){if(h&&0>h.id.indexOf("popup")&&h!=a.popupBaseKey)return;h&&h==a.popupBaseKey&&0>h.className.indexOf("kmw-key-touched")&&a.highlightKey(h,!0)}else g&&b.touches[0].pageY<Math.max(5,a._Box.offsetTop-.25*a._Box.offsetHeight)&&(a.highlightKey(g,!1),a.showKeyTip(null,!1),a.keyPending=null);h&&a.keyPending&&(a.keyPending=h);a.keyPending&&(g!=h||0>h.className.indexOf("kmw-key-touched"))&&a.highlightKey(h,
!0);g&&h&&h!=g&&""!=h.id&&a.touchHold(h)}}};a.hasClass=function(a,b){b=" "+b+" ";return 0<=(" "+a.className+" ").replace(/[\n\t\r\f]/g," ").indexOf(b)};a.keyTarget=function(b){try{if(b){if(a.hasClass(b,"kmw-key"))return b;if(b.parentNode&&a.hasClass(b.parentNode,"kmw-key"))return b.parentNode;if(b.firstChild&&a.hasClass(b.firstChild,"kmw-key"))return b.firstChild}}catch(k){}return null};a.findNearestKey=function(a,b){if(!a||"undefined"==typeof a.changedTouches||0==a.changedTouches.length)return null;
for(a=a.changedTouches[0].pageX;b&&0>b.className.indexOf("key-row");)b=b.parentNode;if(!b)return null;var c,d=0,k=24,f=1E5;for(c=0;c<b.childNodes.length;c++)if(!(0<=b.childNodes[c].firstChild.className.indexOf("key-hidden"))){var e=b.childNodes[c].firstChild.offsetLeft;var g=e+b.childNodes[c].firstChild.offsetWidth;e-=a;0<=e&&e<f&&(d=c,f=e);e=a-g;0<=e&&e<f&&(d=c,f=e)}return 1E5>f&&(b=b.childNodes[d].firstChild,e=b.offsetLeft,g=e+b.offsetWidth,40<b.offsetWidth&&(k=.6*b.offsetWidth),0<=e-a&&e-a<k||
0<=a-g&&a-g<k)?b:null};a.repeatDelete=function(){a.deleting&&(f.output(1,b._LastActiveElement,""),a.deleting=window.setTimeout(a.repeatDelete,100))};a.setButtonClass=function(b,k,f){var c=0,e="default shift shift-on special special-on    deadkey blank hidden".split(" ");"string"==typeof b.dk&&"1"==b.dk&&(c=8);"string"==typeof b.sp&&(c=parseInt(b.sp,10));if(0>c||10<c)c=0;f=f||a.layout;k.className=4<f.layer[0].row.length&&"phone"==d.device.formFactor?"kmw-key kmw-5rows kmw-key-"+e[c]:"kmw-key kmw-key-"+
e[c]};a.processLegacyDefinitions=function(b){for(var c=a.generateLayerIds(!1),d={},f=0;f<c.length;f++){for(var e=c[f],h=[],n=!1,m=0;65>m;m++){var q=m+65*f;h.push(b[q]);q<b.length&&""!=b[q]&&m!=g.indexOf("K_SPACE")&&(n=!0)}n&&(d[e]=h)}"undefined"!=typeof d["default"]&&d["default"]||(d["default"]=[""]);"undefined"!=typeof d.shift&&d.shift||(d.shift=[""]);return d};a.formatDefaultLayer=function(b,d,f,e){for(var c=b.id,k=0;k<b.row.length;k++)for(var g=b.row[k].key,h=0;h<g.length;h++){var l=g[h];switch(l.id){case "K_SHIFT":case "K_LSHIFT":case "K_RSHIFT":-1!=
c.indexOf("shift")&&(l.sp=a.buttonClasses["SHIFT-ON"]);"desktop"!=f&&"default"!=c&&(l.nextlayer="default");break;case "K_LCTRL":case "K_LCONTROL":if(d){-1!=c.indexOf("leftctrl")&&(l.sp=a.buttonClasses["SHIFT-ON"]);break}case "K_RCTRL":case "K_RCONTROL":if(d){-1!=c.indexOf("rightctrl")&&(l.sp=a.buttonClasses["SHIFT-ON"]);break}case "K_CONTROL":-1==c.indexOf("ctrl")||d&&(-1==c.indexOf("leftctrl")||-1==c.indexOf("rightctrl"))||(l.sp=a.buttonClasses["SHIFT-ON"]);break;case "K_LALT":if(d){-1!=c.indexOf("leftalt")&&
(l.sp=a.buttonClasses["SHIFT-ON"]);break}case "K_RALT":if(d){-1!=c.indexOf("rightalt")&&(l.sp=a.buttonClasses["SHIFT-ON"]);break}case "K_ALT":-1==c.indexOf("alt")||d&&(-1==c.indexOf("leftalt")||-1==c.indexOf("rightalt"))||(l.sp=a.buttonClasses["SHIFT-ON"]);break;case "K_oE2":"undefined"!=typeof e&&e||("desktop"==f?(g.splice(h--,1),g[0].width="200"):g[h].sp=a.buttonClasses.HIDDEN)}}};a.generateLayerIds=function(b){if(b){b=32;var c=1}else b=8,c=16;for(var d=[],f=0;f<b;f++)d.push(a.getLayerId(f*c));
return d};a.emulatesAltGr=function(b){return!(b?b:a.layers)[a.getLayerId(a.modifierCodes.LCTRL|a.modifierCodes.LALT)]};a.buildDefaultLayout=function(c,k,f){var e=f;var h=b.dfltLayout;"object"!=typeof h[e]&&(e="desktop");e=d.deepCopy(h[e]);h=e.layer;var l=c.KLS,n=c.K102;var m=k&a.modifierBitmasks.IS_CHIRAL;"undefined"!=typeof l&&l||(l=a.processLegacyDefinitions(c.BK));k=Object.getOwnPropertyNames(l);var q=[];k.splice(k.indexOf("default"),1);k=["default"].concat(k);a.emulatesAltGr(l)&&-1!=k.indexOf("rightalt")&&
(k.push("leftctrl-leftalt"),l["leftctrl-leftalt"]=l.rightalt);if("desktop"==f)for(q=a.generateLayerIds(m),c=0;c<q.length;c++)-1!=k.indexOf(q[c])&&q.splice(c--,1);q=k.concat(q);for(c=0;c<q.length;c++)0<c&&(h[c]=d.deepCopy(h[0])),h[c].id=q[c],h[c].nextlayer=q[c],a.formatDefaultLayer(h[c],0!=m,f,!!n);for(c=0;c<h.length;c++){var t=h[c],u=null,y=null,B=null,D=null,E=l[t.id],H="shift"==t.id?1:0,I="default"==t.id||H?1:0;q=t.row;for(n=0;n<q.length;n++){var x=q[n].key;for(m=0;m<x.length;m++){var w=x[m];var r=
g.indexOf(w.id);if(E||I)E&&0<=r&&r<E.length&&(w.text=E[r]),I&&(""==w.text||"undefined"==typeof w.text)&&"K_SPACE"!=w.id&&130>r+65*H&&(w.text="`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "[r+65*H]);"undefined"==typeof w.text&&(w.text="");switch(w.id){case "K_SHIFT":u=w;break;case "K_CAPS":y=w;break;case "K_NUMLOCK":B=w;break;case "K_SCROLL":D=w}if(null!=w.sk){for(r=0;r<w.sk.length;r++)-1==k.indexOf(w.sk[r].nextlayer)&&
w.sk.splice(r--,1);0==w.sk.length&&(w.sk=null)}}}t.shiftKey=u;t.capsKey=y;t.numKey=B;t.scrollKey=D;if("desktop"!=f&&0<c&&null!=u)switch(u.sp=a.buttonClasses["SHIFT-ON"],u.sk=null,h[c].id){case "ctrl":u.text="*Ctrl*";break;case "alt":u.text="*Alt*";break;case "ctrl-alt":u.text="*AltGr*"}}return e};a._GenerateVisualKeyboard=function(c,f,g,h){f=d._CreateElement("DIV");var k=b.keyboardManager.activeKeyboard;if("object"!=typeof g||null==g)g=a.buildDefaultLayout(c,h,e.formFactor);a.layout=g;a.layers=g.layer;
a.fontFamily="font"in g?g.font:"";g.keyLabels=k&&"undefined"!=typeof k.KDU&&k.KDU;c=a.deviceDependentLayout(g,e.formFactor);a.ddOSK=!0;a.keyMap=c;f.appendChild(c);a._DivVKbdHelp=a._DivVKbd=f;a._Box.className=e.formFactor+" "+e.OS.toLowerCase()+" kmw-osk-frame";f.className=e.formFactor+" kmw-osk-inner-frame";"desktop"==e.formFactor&&a._Box.appendChild(a.controlBar());a._Box.appendChild(f);"desktop"==e.formFactor?a._Box.appendChild(a.resizeBar()):a.adjustHeights()};b.BuildVisualKeyboard=b.buildOSK=
function(c,d,f,e){d=b.keyboardManager.activeKeyboard;var k="undefined"==typeof f?"desktop":f;e="undefined"==typeof e?"default":e;f=b.keyboardManager.keyboards;if(null!=c){var g=c.toLowerCase().replace("keyboard_","");for(c=0;c<f.length;c++)if(g==f[c].KI.toLowerCase().replace("keyboard_","")){d=f[c];break}}if(!d)return null;c=d.KVKL;f=null;g=d.KV;"object"==typeof c&&("object"==typeof c[k]&&null!=c[k]?f=c[k]:"phone"==k&&"object"==typeof c.tablet&&null!=c.tablet?f=c.tablet:"tablet"==k&&"object"==typeof c.phone&&
null!=c.phone?f=c.phone:"object"==typeof c.desktop&&null!=c.desktop&&(f=c.desktop));null==f&&null!=g&&(f=a.buildDefaultLayout(g,b.getKeyboardModifierBitmask(d),k));null!=f&&(f.keyLabels="undefined"!=typeof d.KDU&&d.KDU);g=a.deviceDependentLayout(f,k);g.className=k+"-static kmw-osk-inner-frame";if(null!=f){var h,l;for(c=0;c<f.layer.length;c++){d=g.childNodes[c];for(h=0;h<d.childNodes.length;h++)for(k=d.childNodes[h],l=0;l<k.childNodes.length;l++){var q=k.childNodes[l];q.style.height="100%"}d.style.display=
"number"==typeof e?c==e&&0<=e?"block":"none":"string"==typeof e?f.layer[c].id==e?"block":"none":0==c?"block":"none"}}else g.innerHTML="<p style='color:#c40; font-size:0.5em;margin:10px;'>No "+k+" layout is defined for "+d.KN+".</p>";g.style.border="1px solid #ccc";return g};a.adjustHeights=function(){if(a._Box&&a._Box.firstChild&&a._Box.firstChild.firstChild&&a._Box.firstChild.firstChild.childNodes){var b=a._Box.firstChild.firstChild.childNodes,f=b[0].childNodes.length,g=a.getHeight(),h=Math.floor(g/
(0==f?1:f)),v,p,n;var m=1;"Android"==e.OS&&"devicePixelRatio"in window&&(h/=window.devicePixelRatio);g=f*h;f=a._Box;h=f.style;h.height=h.maxHeight=g+3+"px";f=f.firstChild.firstChild;h=f.style;h.height=h.maxHeight=g+3+"px";"phone"==e.formFactor&&(m=.6);"iOS"==e.OS&&(m/=d.getViewportScale());h.fontSize=m+"em";var q="iOS"==e.OS&&"phone"==e.formFactor&&d.landscapeView();for(m=0;m<b.length;m++){f=b[m].childNodes.length;h=Math.floor(g/(0==f?1:f));var t=Math.round(.15*h);b[m].style.height=g+3+"px";for(v=
0;v<f;v++){var u=b[m].childNodes[v].style;u.bottom=(f-v-1)*h+1+"px";u.maxHeight=u.height=h+"px";var y=b[m].childNodes[v].childNodes;var B=y.length;for(p=0;p<B;p++){var D=y[p];for(n=0;n<D.childNodes.length&&!a.hasClass(D.childNodes[n],"kmw-key");n++);var E=D.childNodes[n].style;E.bottom=u.bottom;E.height=E.minHeight=h-t+"px";q&&0<n&&(D.childNodes[0].style.fontSize="6px")}}}}};a.controlBar=function(){var c=d._CreateElement("DIV"),f="";c.id="keymanweb_title_bar";c.className="kmw-title-bar";c.onmousedown=
a._VMoveMouseDown;b.keyboardManager.activeKeyboard&&(f=b.keyboardManager.activeKeyboard.KN);var e=d._CreateElement("SPAN");e.className="kmw-title-bar-caption";e.innerHTML=f;c.appendChild(e);f=a.closeButton=d._CreateElement("DIV");f.id="kmw-close-button";f.className="kmw-title-bar-image";f.onmousedown=a._CancelMouse;f.onclick=function(){a._Hide(!0)};c.appendChild(f);f=a.helpImg=d._CreateElement("DIV");f.id="kmw-help-image";f.className="kmw-title-bar-image";f.title="KeymanWeb Help";f.onclick=function(){d.callEvent("osk.helpclick",
{});window.event&&(window.event.returnValue=!1);return!1};f.onmousedown=a._CancelMouse;c.appendChild(f);f=a.configImg=d._CreateElement("DIV");f.id="kmw-config-image";f.className="kmw-title-bar-image";f.title="KeymanWeb Configuration Options";f.onclick=function(){d.callEvent("osk.configclick",{});window.event&&(window.event.returnValue=!1);return!1};f.onmousedown=a._CancelMouse;c.appendChild(f);f=a.pinImg=d._CreateElement("DIV");f.id="kmw-pin-image";f.className="kmw-title-bar-image";f.title="Pin the On Screen Keyboard to its default location on the active text box";
f.onclick=function(){a.loadCookie();a.userPositioned=!1;a.saveCookie();a._Show();a.doResizeMove();a.pinImg&&(a.pinImg.style.display="none");window.event&&(window.event.returnValue=!1);return!1};f.onmousedown=a._CancelMouse;c.appendChild(f);return c};a.showBuild=function(){d.alert("KeymanWeb Version "+b.version+"."+b.build+'<br /><br /><span style="font-size:0.8em">Copyright &copy; 2017 SIL International</span>')};a.resizeBar=function(){var b=d._CreateElement("DIV");b.className="kmw-footer";b.onmousedown=
a._CancelMouse;var f=d._CreateElement("DIV");f.className="kmw-footer-caption";f.innerHTML='<a href="https://keyman.com/developer/keymanweb/">KeymanWeb</a>';f.id="keymanweb-osk-footer-caption";d.attachDOMEvent(f,"dblclick",function(b){b&&b.shiftKey&&a.showBuild()},!1);"onselectstart"in f&&(f.onselectstart=d.selectStartHandler);b.appendChild(f);f=d._CreateElement("DIV");f.className="kmw-footer-resize";f.onmousedown=a._VResizeMouseDown;f.onmouseover=f.onmouseout=a._VResizeMouseOut;b.appendChild(f);a.resizeIcon=
f;return b};a._VKbdMouseOver=function(a){b._IsActivatingKeymanWebUI=1};a._VKbdMouseOut=function(a){b._IsActivatingKeymanWebUI=0};a._VResizeMouseOver=a._VResizeMouseOut=function(c){c=b._GetEventObject(c);if(!c)return!1;c&&c.preventDefault&&c.preventDefault();var d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMouseDown=function(c){b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;if(c.pageX){var d=c.pageX;var f=c.pageY}else c.clientX&&
(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);a._ResizeMouseX=d;a._ResizeMouseY=f;document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VOriginalWidth=a._DivVKbd.offsetWidth;a._VOriginalHeight=a._DivVKbd.offsetHeight;document.onmousemove=a._VResizeMouseMove;
document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="se-resize");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VResizeMouseMove=function(c){c=b._GetEventObject(c);if(!c)return!0;a.resizing=1;if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);if(c.pageX){var d=c.pageX;var f=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);d=
a._VOriginalWidth+d-a._ResizeMouseX;f=a._VOriginalHeight+f-a._ResizeMouseY;d<.2*screen.width&&(d=.2*screen.width);f<.1*screen.height&&(f=.1*screen.height);d>.9*screen.width&&(d=.9*screen.width);f>.5*screen.height&&(d=.5*screen.height);a._DivVKbd.style.width=d+"px";a._DivVKbd.style.height=f+"px";a._DivVKbd.style.fontSize=f/8+"px";c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VMoveMouseDown=function(c){b._JustActivatedKeymanWebUI=1;c=b._GetEventObject(c);if(!c)return!0;a.resizing=
1;if(c.pageX){var d=c.pageX;var f=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);document.onmousemove!=a._VResizeMouseMove&&document.onmousemove!=a._VMoveMouseMove&&(a._VPreviousMouseMove=document.onmousemove,a._VPreviousMouseUp=document.onmouseup);a._VPreviousCursor=document.body.style.cursor;a._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;a._VMoveX=d-a._Box.offsetLeft;a._VMoveY=f-a._Box.offsetTop;b.keyboardManager.isCJK()&&
(a.pinImg.style.left="15px");document.onmousemove=a._VMoveMouseMove;document.onmouseup=a._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="move");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};a._VMoveMouseMove=function(c){c=b._GetEventObject(c);if(!c||a.noDrag)return!0;a.resizing=1;a.userPositioned=!0;a.pinImg.style.display="block";if(a._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return a._VResizeMoveMouseUp(c);if(c.pageX){var d=
c.pageX;var f=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,f=c.clientY+document.body.scrollTop);a._Box.style.left=d-a._VMoveX+"px";a._Box.style.top=f-a._VMoveY+"px";c&&c.preventDefault&&c.preventDefault();d=a.getRect();a.width=d.width;a.height=d.height;c.cancelBubble=!0;return!1};a._VResizeMoveMouseUp=function(c){c=b._GetEventObject(c);if(!c)return!0;a.resizing=0;a.currentKey=null;document.onmousemove=a._VPreviousMouseMove;document.onmouseup=a._VPreviousMouseUp;document.body.style.cursor&&
(document.body.style.cursor=a._VPreviousCursor);b._FocusLastActiveElement();c&&c.preventDefault&&c.preventDefault();b._JustActivatedKeymanWebUI=0;b._IsActivatingKeymanWebUI=0;a._DivVKbd&&(a._VOriginalWidth=a._DivVKbd.offsetWidth,a._VOriginalHeight=a._DivVKbd.offsetHeight);a.doResizeMove();c.cancelBubble=!0;a.saveCookie();return!1};a.userLocated=function(){return a.userPositioned};a.show=function(b){0<arguments.length?(a._Enabled=b)?a._Show():a._Hide(!0):a._Visible?a._Hide(!0):a._Show()};a.doShow=
function(a){return d.callEvent("osk.show",a)};a.doHide=function(a){return d.callEvent("osk.hide",a)};a.doResizeMove=function(a){return d.callEvent("osk.resizemove",a)};a._Show=function(c,f){if(null!=a._Box&&null!=b._ActiveElement&&(e.touchable||null!=b.keyboardManager.activeKeyboard&&a._Enabled)){var g=a._Box.style;e.touchable&&""==g.bottom&&(g.visibility="hidden");if(a.ddOSK){var h,k=-1,p=a._DivVKbd.childNodes[0].childNodes;for(h=0;h<p.length;h++)p[h].layer==a.layerId?(p[h].style.display="block",
a.nextLayer=a.layerId,a.layerIndex=k=h,"string"==typeof a.layers[h].nextlayer&&(a.nextLayer=a.layers[h].nextlayer),a._UpdateVKShiftStyle()):p[h].style.display="none";e.touchable&&(g.position="fixed",g.left=g.bottom="0px",g.height=g.maxHeight=a._Box.firstChild.firstChild.style.height,g.border="none",g.borderTop="1px solid gray",a._Enabled=1,a._Visible=1,"phone"==e.formFactor?a._DivVKbd.style.fontSize="120%":"Android"==e.OS&&"tablet"==e.formFactor&&300>parseInt(g.height,10)?a._DivVKbd.style.fontSize=
"120%":a._DivVKbd.style.fontSize="200%",a.lgKey=a.getSpecialKey(k,"K_LOPT"),a.hkKey=a.getSpecialKey(k,"K_ROPT"),"iOS"==e.OS&&"phone"==e.formFactor&&a.adjustHeights());a.spaceBar=a.getSpecialKey(k,"K_SPACE")}g.display="block";a.showLanguage();"desktop"==e.formFactor&&(g.position="absolute",g.display="block",g.left="0px",a.loadCookie(),0<=c?(g.left=c+"px",g.top=f+"px"):a.userPositioned?(g.left=a.x+"px",g.top=a.y+"px"):(c=b._ActiveElement,""!=a.dfltX?g.left=a.dfltX:"undefined"!=typeof c&&null!=c&&(g.left=
d._GetAbsoluteX(c)+"px"),""!=a.dfltY?g.top=a.dfltY:"undefined"!=typeof c&&null!=c&&(g.top=d._GetAbsoluteY(c)+c.offsetHeight+"px")),a._Enabled=1,a._Visible=1,a._DivVKbd&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight),a.saveCookie(),c=a.pinImg,"undefined"!=typeof c&&null!=c&&(c.style.display=a.userPositioned?"block":"none"));"hidden"==g.visibility&&window.setTimeout(function(){a._Box.style.visibility="visible"},0);e.touchable||(g={},g.x=a._Box.offsetLeft,g.y=a._Box.offsetTop,g.userLocated=
a.userPositioned,a.doShow(g))}};a.adjustRowLengths=function(b){if(!(0<=b)){var c=a._DivVKbd.childNodes[0].childNodes;if(!(0>b||b>=c.length||c[b].aligned)&&"block"==c[b].style.display){var f=a._DivVKbd.childNodes[0].offsetWidth-6;"Windows"==e.OS&&(f-=d.landscapeView()?4:40);var g,h=c[b].childNodes;for(g=0;g<h.length;g++){var p=h[g].childNodes;var n=p.length;var m=p[n-2].offsetLeft+p[n-2].offsetWidth;p=p[n-1];p.style.width=f-m+"px"}c[b].aligned=!0}}};a.resetRowLengths=function(){var b,d=a._DivVKbd.childNodes[0].childNodes,
f=-1;for(b=0;b<d.length;b++)"block"==d[b].style.display&&(f=b),d[b].aligned=!1;return f};a.getSpecialKey=function(b,d){var c=a._DivVKbd.childNodes[0].childNodes;if(0<=b&&b<c.length)for(b=c[b].childNodes,c=b[b.length-1].childNodes,b=0;b<c.length;b++)if(c[b].keyId==d)return c[b];return null};a.hide=function(){a._Enabled=0;a._Hide(!0)};a._Hide=function(c){a._Box&&"block"==a._Box.style.display&&a._DivVKbd&&(a.width=a._DivVKbd.offsetWidth,a.height=a._DivVKbd.offsetHeight);if(c)a._Enabled=b.keyboardManager.isCJK()||
e.touchable?1:0,a.saveCookie();else if("desktop"==e.formFactor&&0<=document.body.className.indexOf("osk-always-visible"))return;a._Visible=0;if(a._Box&&e.touchable&&0<a._Box.offsetHeight){var d=a._Box.style;d.transition="string"==typeof d.MozBoxSizing?"opacity 0.8s linear":d.msTransition=d.WebkitTransition="opacity 0.5s linear 0";window.setTimeout(function(){var b=a._Box.style;a._Visible?b.transition=b.msTransition=b.MozTransition=b.WebkitTransition="":(b.opacity="0",a._Box.addEventListener("transitionend",
a.hideNow,!1),a._Box.addEventListener("webkitTransitionEnd",a.hideNow,!1))},200)}else a._Box&&(a._Box.style.display="none");d={};d.HiddenByUser=c;a.doHide(d);c&&b._FocusLastActiveElement()};a.hideNow=function(){a._Box.removeEventListener("transitionend",a.hideNow,!1);a._Box.removeEventListener("webkitTransitionEnd",a.hideNow,!1);var b=a._Box.style;b.display="none";b.opacity="1";a._Visible=0;b.transition=b.msTransition=b.mozTransition=b.WebkitTransition="";a.hkKey&&"undefined"!=typeof a.hkKey&&a.highlightKey(a.hkKey.firstChild,
!1)};a.prepare=function(){b.initialized?(a.ready||(a._Box=d._CreateElement("DIV"),document.body.appendChild(a._Box),d.linkStyleSheet(b.getStyleSheetPath("kmwosk.css")),d.attachDOMEvent(a._Box,"mousedown",function(){b._IsActivatingKeymanWebUI=1}),e.touchable&&(d.attachDOMEvent(a._Box,"touchstart",function(a){b._IsActivatingKeymanWebUI=1;a.preventDefault();a.stopPropagation()}),d.attachDOMEvent(a._Box,"touchend",function(a){a.preventDefault();a.stopPropagation()}),d.attachDOMEvent(a._Box,"touchmove",
function(a){a.preventDefault();a.stopPropagation()}),d.attachDOMEvent(a._Box,"touchcancel",function(a){a.preventDefault();a.stopPropagation()}),a.vpScale=d.getViewportScale())),a.loadCookie(),a.ready=!0):window.setTimeout(a.prepare,200)};a._Load=function(){var c=b.keyboardManager.activeKeyboard;if(null==a._Box)99<=a.loadRetry||(window.setTimeout(a._Load,100),a.loadRetry++);else{a.loadRetry=0;b._TitleElement&&(b._TitleElement.innerHTML="KeymanWeb");a._Visible=0;a.layerId="default";var f=a._Box.style;
f.zIndex="9999";f.display="none";f.width="auto";f.position="desktop"==e.formFactor?"absolute":"fixed";"phone"==e.formFactor&&(f.fontSize="1.6em");a._DivVKbd=a._DivVKbdHelp=null;a._Box.innerHTML="";a._Box.onmouseover=a._VKbdMouseOver;a._Box.onmouseout=a._VKbdMouseOut;if(null!=c||e.touchable){var g=null,h=null;f="";a._Box.className="";if(null!=c){g=c.KV;f=c.KH;var v=c.KVKL;"undefined"!=typeof v&&null!=v&&(h=v[e.formFactor],"undefined"==typeof h||null==h)&&("phone"==e.formFactor?h=v.tablet:"tablet"==
e.formFactor&&(h=v.phone),"undefined"==typeof h||null==h)&&(h=v.desktop)}if(null!=g&&null!=g.BK){v=g.BK;for(var p=!0,n=0;n<v.length;n++)if(0<v[n].length){p=!1;break}p&&(g=null)}null!=g||""==f||e.touchable?(null==g&&(g={F:"Tahoma",BK:"`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "}),a._GenerateVisualKeyboard(g,f,h,b.getKeyboardModifierBitmask())):(a.ddOSK=!1,g=d._CreateElement("DIV"),g.className="kmw-title-bar",
g.appendChild(a._TitleBarInterior()),g.onmousedown=a._VMoveMouseDown,a._Box.appendChild(g),g=d._CreateElement("DIV"),g.className="kmw-osk-static",g.innerHTML=f,a._Box.appendChild(g),c.KHF&&c.KHF(a._Box));b._TitleElement&&(b._TitleElement.innerHTML="<span style='font-weight:bold'>"+c.KN+"</span> - "+b._TitleElement.innerHTML,b._TitleElement.className="",b._TitleElement.style.color="#fff")}else g=d._CreateElement("DIV"),g.className="kmw-title-bar",g.appendChild(a._TitleBarInterior()),g.onmousedown=
a._VMoveMouseDown,a._Box.appendChild(g),g=d._CreateElement("DIV"),g.className="kmw-osk-none",a._Box.appendChild(g);a.createKeyTip();f=a._Box.firstChild;c=" kmw-keyboard-"+(c?c.KI.replace("Keyboard_",""):"");"keymanweb_title_bar"==f.id&&(f=f.nextSibling);f.className="kmw-osk-inner-frame"+c;a.appendStyleSheet();a._Enabled&&a._Show()}};a.appendStyleSheet=function(){var c=b.keyboardManager.activeKeyboard,f=b.keyboardManager.activeStub;if(null!=f){a.styleSheet&&d.removeStyleSheet(a.styleSheet);var g=f.KFont;
f=f.KOskFont;d.addFontFaceStyleSheet(g);d.addFontFaceStyleSheet(f);b.alignInputs(!1);var e=a.addFontStyle(g,f);null!=c&&"string"==typeof c.KCSS&&(e+=c.KCSS);a.styleSheet=d.addStyleSheet(e);a.waitForFonts(g,f)&&b.alignInputs(!0)}};a.addFontStyle=function(a,d){var c=b.baseFont;"undefined"!=typeof a&&"undefined"!=typeof a.family&&(c=a.family);c=c.replace(/\u0022/g,"");var f=new RegExp("\\s?"+c+",?"),g=b.appliedFont.replace(/\u0022/g,"");g=g.replace(f,"");g=g.replace(/,$/,"");g='"'+(""==g?c:c+","+g).replace(/,\s?/g,
'","')+'"';c=".keymanweb-font{\nfont-family:"+g+" !important;\n}\n";"undefined"!=typeof d?c=c+'.kmw-key-text{\nfont-family:"'+d.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n':"undefined"!=typeof a&&(c=c+'.kmw-key-text{\nfont-family:"'+a.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n');b.appliedFont=g;return c};a._Unload=function(){a._VShift=a._DivVKbd=a._VKeySpans=a._Box=0};a.saveCookie=function(){var b=d.loadCookie("KeymanWeb_OnScreenKeyboard"),f=a.getPos();b.visible=a._Enabled?
1:0;b.userSet=a.userPositioned?1:0;b.left=f.left;b.top=f.top;a._DivVKbd&&(b.width=a.width,b.height=a.height);d.saveCookie("KeymanWeb_OnScreenKeyboard",b)};a.loadCookie=function(){var b=d.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof b||null==b)return a.userPositioned=!1;a._Enabled=d.toNumber(b.visible,!0);a.userPositioned=d.toNumber(b.userSet,!1);a.x=d.toNumber(b.left,-1);a.y=d.toNumber(b.top,-1);var f=d.toNumber(b.width,.3*screen.width);b=d.toNumber(b.height,.15*screen.height);
f<.2*screen.width&&(f=.2*screen.width);b<.1*screen.height&&(b=.1*screen.height);f>.9*screen.width&&(f=.9*screen.width);b>.5*screen.height&&(f=.5*screen.height);a._DivVKbd&&(a._DivVKbd.style.width=f+"px",a._DivVKbd.style.height=b+"px",a._DivVKbd.style.fontSize=b/8+"px");-1!=a.x&&-1!=a.y&&a._Box||(a.userPositioned=!1);a.x<window.pageXOffset-.8*f&&(a.x=window.pageXOffset-.8*f);0>a.y&&(a.x=-1,a.y=-1,a.userPositioned=!1);a.userPositioned&&a._Box&&a.setPos({left:a.x,top:a.y});return!0}}();
window.keyman.initialized||function(){var b=window.keyman,a=b.osk,d=b.util,e=d.device;b.isEmbedded=!1;b.setDefaultDeviceOptions=function(a){""==a.attachType&&(a.attachType=e.touchable?"manual":"auto")};d.wait=function(a){var d=b.waiting;if("undefined"!=typeof d&&null!=d&&!b.warned){var f=d.firstChild.childNodes;a?(d.pending=!0,window.setTimeout(function(){d.pending&&(window.scrollTo(0,0),f[0].style.display="none",f[1].className="kmw-wait-text",f[1].innerHTML=a,f[2].style.display="block",d.style.display=
"block")},1E3)):d.pending&&(f[1].innerHTML="",d.pending=!1,d.style.display="none")}};b.getStyleSheetPath=function(a){return d.getOption("resources")+"osk/"+a};b.getKeyboardPath=function(a){return(/^(([\.]\/)|([\.][\.]\/)|(\/))|(:)/.test(a)?"":b.options.keyboards)+a};b.KC_=function(a,d,g){var c,f="",h=g.body?g:g.ownerDocument;if(e.touchable)f=b.getTextBeforeCaret(g);else if(h&&(c=h.defaultView)&&c.getSelection&&("on"==h.designMode.toLowerCase()||"true"==g.contentEditable||"plaintext-only"==g.contentEditable||
""===g.contentEditable))g=c.getSelection(),3==g.focusNode.nodeType&&(f=g.focusNode.substringData(0,g.focusOffset));else if(g.setSelectionRange){if(g._KeymanWebSelectionStart)f=g._KeymanWebSelectionStart;else{if(null===b._CachedSelectionStart||g.selectionStart!==b._LastCachedSelection)b._LastCachedSelection=g.selectionStart,b._CachedSelectionStart=g.value._kmwCodeUnitToCodePoint(g.selectionStart),b._CachedSelectionEnd=g.value._kmwCodeUnitToCodePoint(g.selectionEnd);f=b._CachedSelectionStart}f=g.value._kmwSubstr(0,
f)}else h&&(c=h.selection)&&(g=c.createRange(),g.moveStart("character",-2*a),f=g.text);f._kmwLength()<a&&(f=Array(a-f._kmwLength()+1).join("\ufffe")+f);return f._kmwSubstr(-a)._kmwSubstr(0,d)};b.alignInputs=function(a){if(e.touchable)for(var d=0;d<b.inputList.length;d++)a?(b.updateInput(b.inputList[d]),b.inputList[d].style.visibility="visible",0<b.inputList[d].base.textContent.length&&(b.inputList[d].base.style.visibility="hidden")):(b.inputList[d].style.visibility="hidden",b.inputList[d].base.style.visibility=
"visible")};a.highlightSubKeys=function(b,e,g){if(null!=b&&null!=b.subKeys){var c,f=document.getElementById("kmw-popup-keys");5<a.touchY-g&&null==f&&(a.subkeyDelayTimer&&window.clearTimeout(a.subkeyDelayTimer),a.showSubKeys(b),f=document.getElementById("kmw-popup-keys"));for(c=0;c<b.subKeys.length;c++)try{var h=f.childNodes[c].firstChild;var C=d._GetAbsoluteX(h);var v=d._GetAbsoluteY(h);var p=C+h.offsetWidth;var n=v+h.offsetHeight;var m=e>C&&e<p&&g>v&&g<n;a.highlightKey(h,m);m&&a.highlightKey(b,!1)}catch(q){}}};
a.optionKey=function(d,e,g){g&&(0<=e.indexOf("K_LOPT")?a.showLanguageMenu():0<=e.indexOf("K_ROPT")&&(b._IsActivatingKeymanWebUI=0,a._Hide(!0),b.hideCaret(),b._LastActiveElement=0))};a.createKeyTip=function(){"phone"==e.formFactor&&(null==a.keytip&&(a.keytip=d._CreateElement("DIV"),a.keytip.className="kmw-keytip",a.keytip.id="kmw-keytip",a.keytip.style.pointerEvents="none",a.keytip.appendChild(d._CreateElement("CANVAS")),a.keytip.appendChild(d._CreateElement("SPAN")),a.keytip.key=null,a.keytip.state=
!1),a._Box.appendChild(a.keytip))};a.showKeyTip=function(b,e){var f=a.keytip;if(null!=f&&(b!=f.key||e!=f.state)){var c=document.getElementById("kmw-popup-keys");c=c&&"visible"==c.style.visibility;if(e&&!c){var h=d._GetAbsoluteY(a._Box),l=a._Box.offsetHeight;c=d._GetAbsoluteX(b);for(var C=d._GetAbsoluteY(b),v=b.offsetWidth,p=b.offsetHeight,n=b.firstChild,m=f.style,q=f.childNodes[1],t=q.style,u=0,y=f.firstChild,B=0;B<b.childNodes.length&&(n=b.childNodes[B],!a.hasClass(n,"kmw-key-text"));B++);y.width=
1.6*v;y.height=2.3*p;m.top="auto";m.bottom=h+l-C-p+"px";m.textAlign="center";m.overflow="visible";m.fontFamily=d.getStyleValue(n,"font-family");m.width=y.width+"px";m.height=y.height+"px";h=d.getStyleInt(n,"font-size");0!=h&&(m.fontSize=1.8*h+"px");q.textContent=n.textContent;t.display="block";t.position="absolute";t.textAlign="center";t.width="100%";t.top="2%";t.bottom="auto";n=(y.width-v)/2;c<n?(u=-1,c+=n):c>window.innerWidth-v-n&&(u=1,c-=n);a.drawPreview(y,v,p,u);m.left=c-n+"px";m.display="block"}else f.style.display=
"none";f.key=b;f.state=e}};a.drawPreview=function(a,b,d,c){d=a.getContext("2d");var f=(a.width-b)/2,g=a.height,h=0,v=f,p=b+f;b+=2*f;var n=.5*g,m=.6*g,q=8;"Android"==e.OS&&(q=3);switch(c){case -1:v-=f;p-=f;b-=f;break;case 1:h+=f,v+=f,p+=f}d.clearRect(0,0,a.width,a.height);"Android"==e.OS?(v=p=(v+p)/2,d.fillStyle="#999"):d.fillStyle="#ffffff";d.lineWidth="1";d.strokeStyle="#cccccc";d.save();d.beginPath();d.moveTo(h+q,0);d.arcTo(b,0,b,q,q);"Android"==e.OS?(d.arcTo(b,n,p,m,q),d.arcTo(p,m,v,m,q)):(d.arcTo(b,
n,p,m,q),d.arcTo(p,m,p-q,g,q),d.arcTo(p,g,v,g,q),d.arcTo(v,g,v,m-q,q));d.arcTo(v,m,h,n-q,q);d.arcTo(h,n,h,q,q);d.arcTo(h,0,h+q,0,q);d.fill();d.stroke();d.restore()};a.addCallout=function(b){if("phone"!=e.formFactor||"iOS"!=e.OS)return null;var f=d._CreateElement("DIV"),g=f.style;f.id="kmw-popup-callout";a._Box.appendChild(f);var c=b.offsetLeft,k=b.offsetWidth,l=b.offsetHeight;g.top=b.offsetTop-6+"px";g.left=c+"px";g.width=k+"px";g.height=l+6+"px";return f};a.touchHold=function(b){a.subkeyDelayTimer&&
(window.clearTimeout(a.subkeyDelayTimer),a.subkeyDelayTimer=null);"undefined"!=typeof b.subKeys&&null!=b.subKeys&&(a.subkeyDelayTimer=window.setTimeout(function(){a.clearPopup();a.showSubKeys(b)},a.popupDelay))};b.handleRotationEvents=function(){"iOS"==e.OS&&d.attachDOMEvent(window,"orientationchange",b.rotateDevice);"Android"==e.OS&&(a.wasVisible=a.isVisible,"onmozorientationchange"in screen?d.attachDOMEvent(screen,"mozorientationchange",a.hideNow):d.attachDOMEvent(window,"orientationchange",a.hideNow),
d.attachDOMEvent(window,"resize",function(){b.alignInputs(!0);a.hideLanguageList();a._Load();a.wasVisible&&a._Show()}))};b.rotateDevice=function(b){a.hideLanguageList();a._Visible&&(a.adjustHeights(),"phone"==e.formFactor&&"Android"==e.OS&&window.setTimeout(function(){window.scrollTo(0,1)},1E3))};a.waitForFonts=function(a,e){if("undefined"==typeof a&&"undefined"==typeof e||"undefined"==typeof a.files&&"undefined"==typeof e.files)return!0;var f=d.checkFontDescriptor(a),c=d.checkFontDescriptor(e);if(f&&
c)return!0;b.fontCheckTimer=window.setInterval(function(){d.checkFontDescriptor(a)&&d.checkFontDescriptor(e)&&(window.clearInterval(b.fontCheckTimer),b.fontCheckTimer=null,b.alignInputs(!0))},100);window.setTimeout(function(){b.fontCheckTimer&&(window.clearInterval(b.fontCheckTimer),b.fontCheckTimer=null,b.alignInputs(!0))},5E3);return!1}}();
window.keyman.initialized||function(){var b=window.keyman,a=window.KeymanWeb=b["interface"],d=b.util,e=b.osk;a.KSF=a.saveFocus=a.saveFocus=function(){b._IgnoreNextSelChange=1};a.KT=a.insertText=a.insertText=function(d,e){a.resetContextCache();var f=b._LastActiveElement;var c=!1;if(null!=f){c=f._KeymanWebSelectionStart;var h=f._KeymanWebSelectionEnd;var l=b._Selection;b._IsActivatingKeymanWebUI=1;b._IgnoreNextSelChange=100;b._FocusLastActiveElement();b._IsMozillaEditableIframe(f,0)&&(f=f.documentElement);
document.selection&&null!=l&&l.select();f._KeymanWebSelectionStart=c;f._KeymanWebSelectionEnd=h;b._IgnoreNextSelChange=0;null!=d&&a.output(0,f,d);"undefined"!==typeof e&&null!==e&&a.deadkeyOutput(0,f,e);f._KeymanWebSelectionStart=null;f._KeymanWebSelectionEnd=null;c=!0}return c};a.KR=a.registerKeyboard=a.registerKeyboard=function(a){b.keyboardManager._registerKeyboard(a)};a.KRS=a.registerStub=a.registerStub=function(a){return b.keyboardManager._registerStub(a)};a.KC=a.context=a.context=function(d,
e,g){var c=a.cachedContext.get(d,e);if(null!==c)return c;g=b.KC_(d,e,g);a.cachedContext.set(d,e,g);return g};a.KN=a.nul=a.nul=function(b,d){return"\ufffe"===a.context(b+1,1,d)};a.KCM=a.contextMatch=a.contextMatch=function(b,d,e,c){if(a.context(b,c,d)===e)return!0;a._DeadkeyResetMatched();return!1};a.KIK=a.isKeypress=a.isKeypress=function(a){return b.keyboardManager.activeKeyboard.KM?!a.LisVirtualKey:b._USKeyCodeToCharCode(a)?!0:!1};a.KKM=a.keyMatch=a.keyMatch=function(d,e,g){var c=!1,f=173==d.Lcode?
189:d.Lcode,h=b.getKeyboardModifierBitmask();255<d.vkCode&&(f=d.vkCode);if(d.LisVirtualKey||255<f){if(16384==(e&16384)||255<f)c=g==f&&(e&h)==d.Lmodifiers}else 0==(e&16384)&&(c=f==g);c||a._DeadkeyResetMatched();return c};a.KSM=a.stateMatch=a.stateMatch=function(a,b){return(b&a.Lstates)==b};a.KKI=a.keyInformation=a.keyInformation=function(a){var b={};b.vk=a.LisVirtualKey;b.code=a.Lcode;b.modifiers=a.Lmodifiers;return b};a.KDM=a.deadkeyMatch=a.deadkeyMatch=function(d,e,g){if(0==a._DeadKeys.length)return!1;
d=b._SelPos(e)-d;for(e=0;e<a._DeadKeys.length;e++)if(a._DeadKeys[e].p==d&&a._DeadKeys[e].d==g)return a._DeadKeys[e].matched=1,!0;a._DeadkeyResetMatched();return!1};a.KBR=a.beepReset=a.beepReset=function(){a.resetContextCache();var b;for(b=a._BeepTimeout=0;b<a._BeepObjects.length;b++)a._BeepObjects[b].e.style.backgroundColor=a._BeepObjects[b].c;a._BeepObjects=[]};a.KB=a.beep=a.beep=function(d){a.resetContextCache();d.body&&(d=d.body);if(d.style&&"undefined"!=typeof d.style.backgroundColor){for(var f=
0;f<a._BeepObjects.length;f++)if(a._BeepObjects[f].e==d)return;a._BeepObjects=b._push(a._BeepObjects,{e:d,c:d.style.backgroundColor});d.style.backgroundColor="#000000";0==a._BeepTimeout&&(a._BeepTimeout=1,window.setTimeout(a.beepReset,50))}};a.KA=a.any=a.any=function(b,d,e){if(""==d)return!1;d=e._kmwIndexOf(d);a._AnyIndices[b]=d;return 0<=d};a.KO=a.output=a.output=function(d,e,g){a.resetContextCache();if("oninserttext"in b)b.oninserttext(d,g);var c=e.body?e:e.ownerDocument,f;if(0<=e.className.indexOf("keymanweb-input"))c=
b.getTextBeforeCaret(e),c=0<d?c._kmwSubstr(0,c._kmwLength()-d)+g:c+g,b.setTextBeforeCaret(e,c);else{if(c&&(f=c.defaultView)&&f.getSelection&&("on"==c.designMode.toLowerCase()||"true"==e.contentEditable||"plaintext-only"==e.contentEditable||""===e.contentEditable)){var h="on"==c.designMode.toLowerCase();if(h)var C=a._CacheCommands(c);f=f.getSelection();var v=f.focusNode.nodeValue?f.focusNode.substringData(0,f.focusOffset)._kmwLength():0;f.isCollapsed||f.deleteFromDocument();var p=f.getRangeAt(0);0<
d&&(p.setStart(f.focusNode,f.focusOffset-f.focusNode.nodeValue.substr(0,f.focusOffset)._kmwSubstr(-d).length),p.deleteContents());if(0<g._kmwLength())if(3==f.focusNode.nodeType){p=f.focusOffset;f.focusNode.insertData(f.focusOffset,g);try{f.extend(f.focusNode,p+g.length)}catch(m){f.focusNode.parentNode.scrollIntoView(),f.extend(f.focusNode,p+g.length)}}else{var n=c.createTextNode(g);p.insertNode(n);f.extend(n,g.length)}h&&a._CacheCommandsReset(c,C,null);f.collapseToEnd();0<=d&&(a._DeadkeyDeleteMatched(),
a._DeadkeyAdjustPos(v,-d+g._kmwLength()))}else if(c&&(f=c.selection)){if(c.body.isContentEditable||"on"==c.designMode.toLowerCase())C=a._CacheCommands(c);p=f.createRange();""!=p.text?(f.clear(),d=0):p.collapse(!0);0<d?(p.moveStart("character",-2*d),v=p.text._kmwSubstr(-d),p.collapse(!1),p.moveStart("character",-v.length)):d=0;p.text=g;if(c.body.isContentEditable||"on"==c.designMode.toLowerCase())p.moveStart("character",-g.length),a._CacheCommandsReset(c,C,p.select),p.moveStart("character",g.length),
p.select();0<=d&&(v=null!=e._KeymanWebSelectionStart?e._KeymanWebSelectionStart:e.value._kmwCodeUnitToCodePoint(e.selectionStart),a._DeadkeyDeleteMatched(),a._DeadkeyAdjustPos(v,-d+g._kmwLength()));b._Selection=f.createRange();b._Selection.select();b._Selection.scrollIntoView()}else e.setSelectionRange&&(null!=e._KeymanWebSelectionStart?(v=e._KeymanWebSelectionStart,c=e._KeymanWebSelectionEnd):(v=e.value._kmwCodeUnitToCodePoint(e.selectionStart),c=e.value._kmwCodeUnitToCodePoint(e.selectionEnd)),
"textarea"==e.type.toLowerCase()&&"undefined"!=typeof e.scrollTop&&(h=e.scrollTop,p=e.scrollLeft),0>d?(e.value=e.value._kmwSubstring(0,v)+g+e.value._kmwSubstring(c),d=0):e.value=v<d?g+e.value._kmwSubstring(c):e.value._kmwSubstring(0,v-d)+g+e.value._kmwSubstring(c),0<=d&&(a._DeadkeyDeleteMatched(),a._DeadkeyAdjustPos(v,-d+g._kmwLength())),"undefined"!=typeof h&&(e.scrollTop=h,e.scrollLeft=p),d=v-d+g._kmwLength(),d=e.value._kmwCodePointToCodeUnit(d),e.setSelectionRange(d,d),e._KeymanWebSelectionStart=
null,e._KeymanWebSelectionEnd=null);"function"==typeof b.refreshElementContent&&b.refreshElementContent(e)}};a.KDO=a.deadkeyOutput=a.deadkeyOutput=function(d,e,g){a.resetContextCache();0<=d&&a.output(d,e,"");d={p:b._SelPos(e),d:g};a._DeadKeys=b._push(a._DeadKeys,d)};a.KIO=a.indexOutput=a.indexOutput=function(b,d,e,c){a.resetContextCache();a._AnyIndices[e-1]<d._kmwLength()&&a.output(b,c,d._kmwCharAt(a._AnyIndices[e-1]))};a._CacheCommands=function(a){var d=[["backcolor",1],["fontname",1],["fontsize",
1],["forecolor",1],["bold",0],["italic",0],["strikethrough",0],["subscript",0],["superscript",0],["underline",0]];a.defaultView&&b._push(d,["hilitecolor",1]);for(var f=0;f<d.length;f++)b._push(d[f],d[f][1]?a.queryCommandValue(d[f][0]):a.queryCommandState(d[f][0]));return d};a._CacheCommandsReset=function(a,b,d){for(var c=0;c<b.length;c++)b[c][1]?a.queryCommandValue(b[c][0])!=b[c][2]&&(d&&d(),a.execCommand(b[c][0],!1,b[c][2])):a.queryCommandState(b[c][0])!=b[c][2]&&(d&&d(),a.execCommand(b[c][0],!1,
null))};a.KIFS=a.ifStore=a.ifStore=function(b,h,g){g=!0;if(b==a.TSS_LAYER)g=e.layerId===h;else if(b==a.TSS_PLATFORM){var c=h.split(" ");for(b=0;b<c.length;b++){h=c[b].toLowerCase();switch(h){case "touch":case "hardware":d.activeDevice.touchable!=("touch"==h)&&(g=!1)}switch(h){case "windows":case "android":case "ios":case "macosx":case "linux":d.activeDevice.OS.toLowerCase()!=h&&(g=!1)}switch(h){case "tablet":case "phone":case "desktop":d.activeDevice.formFactor!=h&&(g=!1)}switch(h){case "web":"native"==
d.activeDevice.browser&&(g=!1);break;case "native":case "ie":case "chrome":case "firefox":case "safari":case "opera":d.activeDevice.browser!=h&&(g=!1)}}}return g};a.KSETS=a.setStore=function(b,d,g){a.resetContextCache();return b==a.TSS_LAYER?e.showLayer(d):!1};a.KLOAD=a.loadStore=function(b,e,g){a.resetContextCache();b=d.loadCookie("KeymanWeb_"+b+"_Option_"+e);return"undefined"!=typeof b[e]?decodeURI(b[e]):g};a.KSAVE=a.saveStore=function(f,e){a.resetContextCache();var g=b.keyboardManager.activeKeyboard;
if(!g||"undefined"==typeof g.KI||""==g.KI)return!1;f="KeymanWeb_"+g.KI+"_Option_"+f;e=encodeURI(e);d.saveCookie(f,e);return!0};a.GetLastActiveElement=function(){return b._LastActiveElement};a.FocusLastActiveElement=function(){b._FocusLastActiveElement()};a.HideHelp=function(){e._Hide(!0)};a.ShowHelp=function(a,b){e._Show(a,b)};a.ShowPinnedHelp=function(){e.userPositioned=!0;e._Show(-1,-1)};a.cachedContext={_cache:[],reset:function(){this._cache=[]},get:function(a,b){return"undefined"==typeof this._cache[a]||
"undefined"==typeof this._cache[a][b]?null:this._cache[a][b]},set:function(a,b,d){"undefined"==typeof this._cache[a]&&(this._cache[a]=[]);this._cache[a][b]=d}};a.resetContextCache=function(){a.cachedContext.reset()};a._DeadkeyResetMatched=function(){var b,d=a._DeadKeys;for(b=0;b<d.length;b++)d[b].matched=0};a._DeadkeyDeleteMatched=function(){var b,d=a._DeadKeys;for(b=0;b<d.length;b++)d[b].matched&&d.splice(b,1)};a._DeadkeyAdjustPos=function(b,d){var e,c=a._DeadKeys;for(e=0;e<c.length;e++)c[e].p>b&&
(c[e].p+=d)};a.clearDeadkeys=function(){a._DeadKeys=[]};a.processKeystroke=function(e,h,g){b._CachedSelectionStart=null;a._DeadkeyResetMatched();a.resetContextCache();d.activeDevice=e;return b.keyboardManager.activeKeyboard.gs(h,g)}}();
window.keyman.initialized||function(){var b=window.keyman,a=b._VKMap_FF_IE={};a.k61=187;a.k59=186;b._VKMap_Opera_IE={};b._VKMap_Safari_IE={};a=b._VKMap={};a.se={};a.se.k220=192;a.se.k187=189;a.se.k219=187;a.se.k221=219;a.se.k186=221;a.se.k191=220;a.se.k192=186;a.se.k189=191;a.uk={};a.uk.k223=192;a.uk.k192=222;a.uk.k222=226;a.uk.k220=220;a={};var d={};a.k192=96;a.k49=49;a.k50=50;a.k51=51;a.k52=52;a.k53=53;a.k54=54;a.k55=55;a.k56=56;a.k57=57;a.k48=48;a.k189=45;a.k187=61;a.k81=113;a.k87=119;a.k69=101;
a.k82=114;a.k84=116;a.k89=121;a.k85=117;a.k73=105;a.k79=111;a.k80=112;a.k219=91;a.k221=93;a.k220=92;a.k65=97;a.k83=115;a.k68=100;a.k70=102;a.k71=103;a.k72=104;a.k74=106;a.k75=107;a.k76=108;a.k186=59;a.k222=39;a.k90=122;a.k88=120;a.k67=99;a.k86=118;a.k66=98;a.k78=110;a.k77=109;a.k188=44;a.k190=46;a.k191=47;d.k192=126;d.k49=33;d.k50=64;d.k51=35;d.k52=36;d.k53=37;d.k54=94;d.k55=38;d.k56=42;d.k57=40;d.k48=41;d.k189=95;d.k187=43;d.k81=81;d.k87=87;d.k69=69;d.k82=82;d.k84=84;d.k89=89;d.k85=85;d.k73=73;d.k79=
79;d.k80=80;d.k219=123;d.k221=125;d.k220=124;d.k65=65;d.k83=83;d.k68=68;d.k70=70;d.k71=71;d.k72=72;d.k74=74;d.k75=75;d.k76=76;d.k186=58;d.k222=34;d.k90=90;d.k88=88;d.k67=67;d.k86=86;d.k66=66;d.k78=78;d.k77=77;d.k188=60;d.k190=62;d.k191=63;b._USCharCode=[a,d];b._USKeyCodeToCharCode=function(a){return b._USCharCode[a.Lmodifiers&16?1:0]["k"+a.Lcode]}}();
window.keyman.initialized||(window.keyman.dfltLayout={desktop:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"1",key:[{id:"K_BKQUOTE"},{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"130"}]},{id:"2",key:[{id:"K_TAB",text:"*Tab*",sp:"1",width:"130"},{id:"K_Q"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},
{id:"K_LBRKT"},{id:"K_RBRKT"},{id:"K_BKSLASH"}]},{id:"3",key:[{id:"K_CAPS",text:"*Caps*",sp:"1",width:"165"},{id:"K_A"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"165"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"130"},{id:"K_oE2"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_RSHIFT",
text:"*Shift*",sp:"1",width:"130"}]},{id:"5",key:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"170"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_SPACE",text:"",width:"770"},{id:"K_RALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_RCONTROL",text:"*Ctrl*",sp:"1",width:"170"}]}]}]},tablet:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",
width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},
{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LCONTROL",text:"*LCtrl*",sp:"1",width:"50",nextlayer:"leftctrl"},{id:"K_RCONTROL",text:"*RCtrl*",sp:"1",width:"50",nextlayer:"rightctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_LALT",text:"*LAlt*",sp:"1",width:"50",nextlayer:"leftalt"},{id:"K_RALT",text:"*RAlt*",
sp:"1",width:"50",nextlayer:"rightalt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrl-alt"}]},{id:"K_LOPT",text:"*Menu*",sp:"1",width:"150"},{id:"K_SPACE",text:"",width:"570"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"150"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"200"}]}]}]},phone:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},
{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},
{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LCONTROL",text:"*LCtrl*",sp:"1",width:"50",nextlayer:"leftctrl"},{id:"K_RCONTROL",text:"*RCtrl*",sp:"1",width:"50",nextlayer:"rightctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_LALT",text:"*LAlt*",sp:"1",width:"50",nextlayer:"leftalt"},{id:"K_RALT",
text:"*RAlt*",sp:"1",width:"50",nextlayer:"rightalt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrl-alt"}]},{id:"K_LOPT",text:"*Menu*",width:"150",sp:"1"},{id:"K_SPACE",width:"570",text:""},{id:"K_BKSP",text:"*BkSp*",width:"150",sp:"1"},{id:"K_ENTER",text:"*Enter*",width:"200",sp:"1"}]}]}]}});(function(){var b=window.keyman,a=window.setInterval(function(){"complete"===document.readyState&&(window.clearInterval(a),b.init(null))},10)})();
var CLOSURE_NO_DEPS=!0,COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(b){return void 0!==b};goog.isString=function(b){return"string"==typeof b};goog.isBoolean=function(b){return"boolean"==typeof b};goog.isNumber=function(b){return"number"==typeof b};goog.exportPath_=function(b,a,d){b=b.split(".");d=d||goog.global;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&goog.isDef(a)?d[e]=a:d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}};
goog.define=function(b,a){COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,b)?a=goog.global.CLOSURE_UNCOMPILED_DEFINES[b]:goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,b)&&(a=goog.global.CLOSURE_DEFINES[b]));goog.exportPath_(b,a)};goog.DEBUG=!0;goog.LOCALE="en";
goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(b){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');goog.constructNamespace_(b)};
goog.constructNamespace_=function(b,a){if(!COMPILED){delete goog.implicitNamespaces_[b];for(var d=b;(d=d.substring(0,d.lastIndexOf(".")))&&!goog.getObjectByName(d);)goog.implicitNamespaces_[d]=!0}goog.exportPath_(b,a)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(b){if(!goog.isString(b)||!b||-1==b.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+b+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");
goog.moduleLoaderState_.moduleName=b;if(!COMPILED){if(goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');delete goog.implicitNamespaces_[b]}};goog.module.get=function(b){return goog.module.getInternal_(b)};goog.module.getInternal_=function(b){if(!COMPILED){if(b in goog.loadedModules_)return goog.loadedModules_[b];if(!goog.implicitNamespaces_[b])return b=goog.getObjectByName(b),null!=b?b:null}return null};goog.moduleLoaderState_=null;
goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(b){if(goog.DISALLOW_TEST_ONLY_CODE)throw b=b||"",Error("Importing test-only code into non-debug environment"+(b?": "+b:"."));};goog.forwardDeclare=function(b){};COMPILED||(goog.isProvided_=function(b){return b in goog.loadedModules_||!goog.implicitNamespaces_[b]&&goog.isDefAndNotNull(goog.getObjectByName(b))},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(b,a){b=b.split(".");a=a||goog.global;for(var d=0;d<b.length;d++)if(a=a[b[d]],!goog.isDefAndNotNull(a))return null;return a};goog.globalize=function(b,a){a=a||goog.global;for(var d in b)a[d]=b[d]};goog.addDependency=function(b,a,d,e){if(goog.DEPENDENCIES_ENABLED){var f=goog.getLoader_();f&&f.addDependency(b,a,d,e)}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(b){goog.global.console&&goog.global.console.error(b)};
goog.require=function(b){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_&&goog.getLoader_().earlyProcessLoad(b);if(!COMPILED){if(goog.isProvided_(b)){if(goog.isInModuleLoader_())return goog.module.getInternal_(b)}else if(goog.ENABLE_DEBUG_LOADER){var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{var d=goog.getLoader_();d?d.load(b):goog.logToConsole_("Could not load "+b+" because there is no debug loader.")}finally{goog.moduleLoaderState_=a}}return null}};goog.basePath="";
goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(b){b.instance_=void 0;b.getInstance=function(){if(b.instance_)return b.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=b);return b.instance_=new b}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.TRANSPILE="detect";goog.TRANSPILER="transpile.js";goog.DEBUG_LOADER="";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var b=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(a){b=!1}goog.hasBadLetScoping=b}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(b){return"(function(){"+b+"\n;})();\n"};
goog.loadModule=function(b){var a=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};if(goog.isFunction(b))var d=b.call(void 0,{});else if(goog.isString(b))goog.useSafari10Workaround()&&(b=goog.workaroundSafari10EvalBug(b)),d=goog.loadModuleFromSource_.call(void 0,b);else throw Error("Invalid module definition");var e=goog.moduleLoaderState_.moduleName;if(!goog.isString(e)||!e)throw Error('Invalid module name "'+e+'"');goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(e,d):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d);goog.loadedModules_[e]=d}finally{goog.moduleLoaderState_=a}};goog.loadModuleFromSource_=function(b){eval(b);return{}};goog.normalizePath_=function(b){b=b.split("/");for(var a=0;a<b.length;)"."==b[a]?b.splice(a,1):a&&".."==b[a]&&b[a-1]&&".."!=b[a-1]?b.splice(--a,2):a++;return b.join("/")};
goog.loadFileSync_=function(b){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(b);try{var a=new goog.global.XMLHttpRequest;a.open("get",b,!1);a.send();return 0==a.status||200==a.status?a.responseText:null}catch(d){return null}};
goog.transpile_=function(b,a){var d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});var e=d.transpile;if(!e){var f=goog.basePath+goog.TRANSPILER,h=goog.loadFileSync_(f);if(h){(function(){eval(h+"\n//# sourceURL="+f)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;
d=goog.global.$jscomp;e=d.transpile}}e||(e=d.transpile=function(a,b){goog.logToConsole_(b+" requires transpilation but no transpiler was found.");return a});return e(b,a)};
goog.typeOf=function(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==a&&"undefined"==typeof b.call)return"object";return a};goog.isNull=function(b){return null===b};goog.isDefAndNotNull=function(b){return null!=b};goog.isArray=function(b){return"array"==goog.typeOf(b)};goog.isArrayLike=function(b){var a=goog.typeOf(b);return"array"==a||"object"==a&&"number"==typeof b.length};goog.isDateLike=function(b){return goog.isObject(b)&&"function"==typeof b.getFullYear};goog.isFunction=function(b){return"function"==goog.typeOf(b)};
goog.isObject=function(b){var a=typeof b;return"object"==a&&null!=b||"function"==a};goog.getUid=function(b){return b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(b){return!!b[goog.UID_PROPERTY_]};goog.removeUid=function(b){null!==b&&"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(a){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;
goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var a=goog.typeOf(b);if("object"==a||"array"==a){if(b.clone)return b.clone();a="array"==a?[]:{};for(var d in b)a[d]=goog.cloneObject(b[d]);return a}return b};goog.bindNative_=function(b,a,d){return b.call.apply(b.bind,arguments)};
goog.bindJs_=function(b,a,d){if(!b)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(a,d)}}return function(){return b.apply(a,arguments)}};goog.bind=function(b,a,d){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(b,a){var d=Array.prototype.slice.call(arguments,1);return function(){var a=d.slice();a.push.apply(a,arguments);return b.apply(this,a)}};goog.mixin=function(b,a){for(var d in a)b[d]=a[d]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(b);else{var a=goog.global.document,d=a.createElement("SCRIPT");d.type="text/javascript";d.defer=
!1;d.appendChild(a.createTextNode(b));a.head.appendChild(d);a.head.removeChild(d)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;
goog.getCssName=function(b,a){if("."==String(b).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+b);var d=function(a){return goog.cssNameMapping_[a]||a},e=function(a){a=a.split("-");for(var b=[],e=0;e<a.length;e++)b.push(d(a[e]));return b.join("-")};e=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?d:e:function(a){return a};b=a?b+"-"+e(a):e(b);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(b):b};
goog.setCssNameMapping=function(b,a){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=a};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(b,a){a&&(b=b.replace(/\{\$([^}]+)}/g,function(b,e){return null!=a&&e in a?a[e]:b}));return b};goog.getMsgWithFallback=function(b,a){return b};goog.exportSymbol=function(b,a,d){goog.exportPath_(b,a,d)};goog.exportProperty=function(b,a,d){b[a]=d};
goog.inherits=function(b,a){function d(){}d.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new d;b.prototype.constructor=b;b.base=function(b,d,h){for(var e=Array(arguments.length-2),c=2;c<arguments.length;c++)e[c-2]=arguments[c];return a.prototype[d].apply(b,e)}};
goog.base=function(b,a,d){var e=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(e.superClass_){for(var f=Array(arguments.length-1),h=1;h<arguments.length;h++)f[h-1]=arguments[h];return e.superClass_.constructor.apply(b,f)}f=Array(arguments.length-2);for(h=2;h<arguments.length;h++)f[h-2]=arguments[h];h=!1;for(var g=b.constructor;g;g=
g.superClass_&&g.superClass_.constructor)if(g.prototype[a]===e)h=!0;else if(h)return g.prototype[a].apply(b,f);if(b[a]===e)return b.constructor.prototype[a].apply(b,f);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(b){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");b.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(b,a){var d=a.constructor,e=a.statics;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=goog.defineClass.createSealingConstructor_(d,b);b&&goog.inherits(d,b);delete a.constructor;delete a.statics;goog.defineClass.applyProperties_(d.prototype,a);null!=e&&(e instanceof Function?e(d):goog.defineClass.applyProperties_(d,e));return d};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(b,a){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return b;var d=!goog.defineClass.isUnsealable_(a),e=function(){var a=b.apply(this,arguments)||this;a[goog.UID_PROPERTY_]=a[goog.UID_PROPERTY_];this.constructor===e&&d&&Object.seal instanceof Function&&Object.seal(a);return a};return e};goog.defineClass.isUnsealable_=function(b){return b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(b,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);for(var e=0;e<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;e++)d=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[e],Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d])};goog.tagUnsealableClass=function(b){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";
goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var b=goog.global.document;return null!=b&&"write"in b},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var b=goog.global.document,a=b.currentScript;b=a?[a]:b.getElementsByTagName("SCRIPT");for(a=b.length-1;0<=a;--a){var d=b[a].src,e=d.lastIndexOf("?");e=-1==e?d.length:e;if("base.js"==d.substr(e-
7,7)){goog.basePath=d.substr(0,e-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function b(a,b){e?d[a]=!0:b()?d[a]=!1:e=d[a]=!0}function a(a){try{return!!eval(a)}catch(g){return!1}}var d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";b("es5",function(){return a("[1,].length==1")});b("es6",function(){var b=f.match(/Edge\/(\d+)(\.\d)*/i);
return b&&15>Number(b[1])?!1:a('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});b("es6-impl",function(){return!0});b("es7",function(){return a("2 ** 2 == 4")});b("es8",function(){return a("async () => 1, true")});return d},goog.Transpiler.prototype.needsTranspile=
function(b){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;this.requiresTranspilation_||(this.requiresTranspilation_=this.createRequiresTranspilation_());if(b in this.requiresTranspilation_)return this.requiresTranspilation_[b];throw Error("Unknown language mode: "+b);},goog.Transpiler.prototype.transpile=function(b,a){return goog.transpile_(b,a)},goog.transpiler_=new goog.Transpiler,goog.DebugLoader=function(){this.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},
written:{},deferred:{}};this.oldIeWaiting_=!1;this.queuedModules_=[];this.lastNonModuleScriptIndex_=0},goog.DebugLoader.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader.prototype.earlyProcessLoad=function(b){goog.DebugLoader.IS_OLD_IE_&&this.maybeProcessDeferredDep_(b)},goog.DebugLoader.prototype.load=function(b){var a=this.getPathFromDeps_(b);if(a){var d=function(a){if(!(a in h.written||a in h.visited)){h.visited[a]=!0;if(a in h.requires)for(var b in h.requires[a])if(!g.isProvided(b))if(b in
h.nameToPath)d(h.nameToPath[b]);else throw Error("Undefined nameToPath for "+b);a in f||(f[a]=!0,e.push(a))}},e=[],f={},h=this.dependencies_,g=this;d(a);for(b=0;b<e.length;b++)a=e[b],this.dependencies_.written[a]=!0;for(b=0;b<e.length;b++)if(a=e[b]){var c=h.loadFlags[a]||{},k=c.lang||"es3";k=this.getTranspiler().needsTranspile(k);"goog"==c.module||k?this.importProcessedScript_(goog.basePath+a,"goog"==c.module,k):this.importScript_(goog.basePath+a)}else throw Error("Undefined script input");}else throw b=
"goog.require could not find: "+b,this.logToConsole(b),Error(b);},goog.DebugLoader.prototype.addDependency=function(b,a,d,e){var f;b=b.replace(/\\/g,"/");var h=this.dependencies_;e&&"boolean"!==typeof e||(e=e?{module:"goog"}:{});for(var g=0;f=a[g];g++)h.nameToPath[f]=b,h.loadFlags[b]=e;for(e=0;a=d[e];e++)b in h.requires||(h.requires[b]={}),h.requires[b][a]=!0},goog.DebugLoader.prototype.importScript_=function(b,a){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this))(b,a)&&(this.dependencies_.written[b]=
!0)},goog.DebugLoader.prototype.importProcessedScript_=function(b,a,d){this.importScript_("",'goog.debugLoader_.retrieveAndExec_("'+b+'", '+a+", "+d+");")},goog.DebugLoader.prototype.retrieveAndExec_=function(b,a,d){if(!COMPILED){var e=b;b=this.normalizePath(b);var f=goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this),h=this.loadFileSync(b);if(null==h)throw Error('Load of "'+b+'" failed');d&&(h=this.getTranspiler().transpile(h,b));h=a?this.wrapModule_(b,h):h+("\n//# sourceURL="+
b);goog.DebugLoader.IS_OLD_IE_&&this.oldIeWaiting_?(this.dependencies_.deferred[e]=h,this.queuedModules_.push(e)):f(b,h)}},goog.DebugLoader.prototype.wrapModule_=function(b,a){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(a+"\n//# sourceURL="+b+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+b+"\n"},goog.DebugLoader.prototype.loadQueuedModules_=function(){var b=this.queuedModules_.length;
if(0<b){var a=this.queuedModules_;this.queuedModules_=[];for(var d=0;d<b;d++)this.maybeProcessDeferredPath_(a[d])}this.oldIeWaiting_=!1},goog.DebugLoader.prototype.maybeProcessDeferredDep_=function(b){this.isDeferredModule_(b)&&this.allDepsAreAvailable_(b)&&(b=this.getPathFromDeps_(b),this.maybeProcessDeferredPath_(goog.basePath+b))},goog.DebugLoader.prototype.isDeferredModule_=function(b){var a=(b=this.getPathFromDeps_(b))&&this.dependencies_.loadFlags[b]||{},d=a.lang||"es3";return b&&("goog"==a.module||
this.getTranspiler().needsTranspile(d))?goog.basePath+b in this.dependencies_.deferred:!1},goog.DebugLoader.prototype.allDepsAreAvailable_=function(b){if((b=this.getPathFromDeps_(b))&&b in this.dependencies_.requires)for(var a in this.dependencies_.requires[b])if(!this.isProvided(a)&&!this.isDeferredModule_(a))return!1;return!0},goog.DebugLoader.prototype.maybeProcessDeferredPath_=function(b){if(b in this.dependencies_.deferred){var a=this.dependencies_.deferred[b];delete this.dependencies_.deferred[b];
goog.globalEval(a)}},goog.DebugLoader.prototype.writeScriptSrcNode_=function(b){goog.global.document.write('<script type="text/javascript" src="'+b+'">\x3c/script>')},goog.DebugLoader.prototype.appendScriptSrcNode_=function(b){var a=goog.global.document,d=a.createElement("script");d.type="text/javascript";d.src=b;d.defer=!1;d.async=!1;a.head.appendChild(d)},goog.DebugLoader.prototype.writeScriptTag_=function(b,a){if(this.inHtmlDocument()){var d=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&
"complete"==d.readyState){if(/\bdeps.js$/.test(b))return!1;throw Error('Cannot write "'+b+'" after document load');}void 0===a?goog.DebugLoader.IS_OLD_IE_?(this.oldIeWaiting_=!0,a=" onreadystatechange='goog.debugLoader_.onScriptLoad_(this, "+ ++this.lastNonModuleScriptIndex_+")' ",d.write('<script type="text/javascript" src="'+b+'"'+a+">\x3c/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?this.appendScriptSrcNode_(b):this.writeScriptSrcNode_(b):d.write('<script type="text/javascript">'+this.protectScriptTag_(a)+
"\x3c/script>");return!0}return!1},goog.DebugLoader.prototype.protectScriptTag_=function(b){return b.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader.prototype.onScriptLoad_=function(b,a){"complete"==b.readyState&&this.lastNonModuleScriptIndex_==a&&this.loadQueuedModules_();return!0},goog.DebugLoader.prototype.getPathFromDeps_=function(b){return b in this.dependencies_.nameToPath?this.dependencies_.nameToPath[b]:null},goog.DebugLoader.prototype.getTranspiler=function(){return goog.transpiler_},
goog.DebugLoader.prototype.isProvided=function(b){return goog.isProvided_(b)},goog.DebugLoader.prototype.inHtmlDocument=function(){return goog.inHtmlDocument_()},goog.DebugLoader.prototype.logToConsole=function(b){goog.logToConsole_(b)},goog.DebugLoader.prototype.loadFileSync=function(b){return goog.loadFileSync_(b)},goog.DebugLoader.prototype.normalizePath=function(b){return goog.normalizePath_(b)},goog.debugLoader_=null,goog.registerDebugLoader=function(b){if(goog.debugLoader_)throw Error("Debug loader already registered!");
if(!(b instanceof goog.DebugLoader))throw Error("Not a goog.DebugLoader.");goog.debugLoader_=b},goog.getLoader_=function(){if(!goog.debugLoader_&&goog.DEBUG_LOADER)throw Error("Loaded debug loader file but no loader was registered!");goog.debugLoader_||(goog.debugLoader_=new goog.DebugLoader);return goog.debugLoader_},function(){if(goog.DEBUG_LOADER){var b=new goog.DebugLoader;b.importScript_(goog.basePath+goog.DEBUG_LOADER)}goog.global.CLOSURE_NO_DEPS||(b=b||new goog.DebugLoader,goog.DEBUG_LOADER||
goog.registerDebugLoader(b),b.importScript_(goog.basePath+"deps.js"))}());goog.exportSymbol("Device",Device);goog.exportSymbol("Util",Util);goog.exportSymbol("Util.prototype.attachDOMEvent",Util.prototype.attachDOMEvent);goog.exportSymbol("Util.prototype.detachDOMEvent",Util.prototype.detachDOMEvent);goog.exportSymbol("Util.prototype.getOption",Util.prototype.getOption);goog.exportSymbol("Util.prototype.setOption",Util.prototype.setOption);goog.exportSymbol("Util.prototype.getAbsoluteX",Util.prototype._GetAbsoluteX);
goog.exportSymbol("Util.prototype.getAbsoluteY",Util.prototype._GetAbsoluteY);goog.exportSymbol("Util.prototype.getAbsolute",Util.prototype._GetAbsolute);goog.exportSymbol("Util.prototype.createElement",Util.prototype.createElement);goog.exportSymbol("Util.prototype.getIEVersion",Util.prototype._GetIEVersion);goog.exportSymbol("Util.prototype.isTouchDevice",Util.prototype.isTouchDevice);goog.exportSymbol("Util.prototype.createShim",Util.prototype.createShim);
goog.exportSymbol("Util.prototype.showShim",Util.prototype.showShim);goog.exportSymbol("Util.prototype.hideShim",Util.prototype.hideShim);goog.exportSymbol("Util.prototype.rgba",Util.prototype.rgba);goog.exportSymbol("Util.prototype.addStyleSheet",Util.prototype.addStyleSheet);goog.exportSymbol("Util.prototype.removeStyleSheet",Util.prototype.removeStyleSheet);goog.exportSymbol("Util.prototype.linkStyleSheet",Util.prototype.linkStyleSheet);
goog.exportSymbol("Util.prototype.addFontFaceStyleSheet",Util.prototype.addFontFaceStyleSheet);goog.exportSymbol("Util.prototype.loadCookie",Util.prototype.loadCookie);goog.exportSymbol("Util.prototype.saveCookie",Util.prototype.saveCookie);goog.exportSymbol("Util.prototype.toNumber",Util.prototype.toNumber);goog.exportSymbol("Util.prototype.toFloat",Util.prototype.toFloat);goog.exportSymbol("Util.prototype.toNzString",Util.prototype.nzString);goog.exportSymbol("Util.prototype.alert",Util.prototype.alert);
//# sourceMappingURL=keymanweb.js.map
