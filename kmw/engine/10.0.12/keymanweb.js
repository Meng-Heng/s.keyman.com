String.kmwFromCharCode=function(a){var b=[],c;for(c=0;c<arguments.length;c++){var d=Number(arguments[c]);if(!isFinite(d)||0>d||1114111<d||Math.floor(d)!==d)throw new RangeError("Invalid code point "+d);65536>d?b.push(d):(d-=65536,b.push((d>>10)+55296),b.push(d%1024+56320))}return String.fromCharCode.apply(void 0,b)};
String.prototype.kmwCharCodeAt=function(a){var b=String(this),c=0;if(0>a||a>=b.length)return NaN;for(var d=0;d<a;d++)if(c=b.kmwNextChar(c),null===c)return NaN;a=b.charCodeAt(c);return 55296<=a&&56319>=a&&b.length>c+1&&(b=b.charCodeAt(c+1),56320<=b&&57343>=b)?(a-55296<<10)+(b-56320)+65536:a};String.prototype.kmwIndexOf=function(a,b){var c=String(this);a=c.indexOf(a,b);if(0>a)return a;for(var d=b=0;null!==d&&d<a;d=c.kmwNextChar(d))b++;return b};
String.prototype.kmwLastIndexOf=function(a,b){var c=String(this);a=c.lastIndexOf(a,b);if(0>a)return a;for(var d=b=0;null!==d&&d<a;d=c.kmwNextChar(d))b++;return b};String.prototype.kmwLength=function(){var a=String(this);if(0==a.length)return 0;for(var b=0,c=0;null!==c;b++)c=a.kmwNextChar(c);return b};String.prototype.kmwSlice=function(a,b){var c=String(this);a=c.kmwCodePointToCodeUnit(a);b=c.kmwCodePointToCodeUnit(b);return null===a||null===b?"":c.slice(a,b)};
String.prototype.kmwSubstr=function(a,b){var c=String(this);0>a&&(a=c.kmwLength()+a);0>a&&(a=0);var d=c.kmwCodePointToCodeUnit(a),e=d;if(null===d)return"";if(2>arguments.length)e=c.length;else for(var f=0;f<b;f++)e=c.kmwNextChar(e);return null===e?c.substring(d):c.substring(d,e)};
String.prototype.kmwSubstring=function(a,b){var c=String(this);if("undefined"==typeof b)a=c.kmwCodePointToCodeUnit(a),b=c.length;else{if(a>b){var d=a;a=b;b=d}a=c.kmwCodePointToCodeUnit(a);b=c.kmwCodePointToCodeUnit(b)}if(isNaN(a)||null===a)a=0;if(isNaN(b)||null===b)b=c.length;return c.substring(a,b)};
String.prototype.kmwNextChar=function(a){var b=String(this);if(null===a||0>a||a>=b.length-1)return null;var c=b.charCodeAt(a);return 55296<=c&&56319>=c&&b.length>a+1&&(c=b.charCodeAt(a+1),56320<=c&&57343>=c)?a==b.length-2?null:a+2:a+1};String.prototype.kmwPrevChar=function(a){var b=String(this);if(null==a||0>=a||a>b.length)return null;var c=b.charCodeAt(a-1);return 56320<=c&&57343>=c&&1<a&&(b=b.charCodeAt(a-2),55296<=b&&56319>=b)?a-2:a-1};
String.prototype.kmwCodePointToCodeUnit=function(a){if(null===a)return null;var b=String(this),c=0;if(0>a){for(var c=b.length,d=0;d>a;d--)c=b.kmwPrevChar(c);return c}if(a==b.kmwLength())return b.length;for(d=0;d<a;d++)c=b.kmwNextChar(c);return c};String.prototype.kmwCodeUnitToCodePoint=function(a){var b=String(this);return null===a?null:0==a?0:0>a?b.substr(a).kmwLength():b.substr(0,a).kmwLength()};String.prototype.kmwCharAt=function(a){var b=String(this);return 0<=a?b.kmwSubstr(a,1):""};
String.prototype.kmwBMPNextChar=function(a){var b=String(this);return 0>a||a>=b.length-1?null:a+1};String.prototype.kmwBMPPrevChar=function(a){var b=String(this);return 0>=a||a>b.length?null:a-1};String.prototype.kmwBMPCodePointToCodeUnit=function(a){return a};String.prototype.kmwBMPCodeUnitToCodePoint=function(a){return a};String.prototype.kmwBMPLength=function(){return String(this).length};
String.prototype.kmwBMPSubstr=function(a,b){var c=String(this);return-1<a?c.substr(a,b):c.substr(c.length+a,-a)};
String.kmwEnableSupplementaryPlane=function(a){var b=String.prototype;String._kmwFromCharCode=a?String.kmwFromCharCode:String.fromCharCode;b._kmwCharAt=a?b.kmwCharAt:b.charAt;b._kmwCharCodeAt=a?b.kmwCharCodeAt:b.charCodeAt;b._kmwIndexOf=a?b.kmwIndexOf:b.indexOf;b._kmwLastIndexOf=a?b.kmwLastIndexOf:b.lastIndexOf;b._kmwSlice=a?b.kmwSlice:b.slice;b._kmwSubstring=a?b.kmwSubstring:b.substring;b._kmwSubstr=a?b.kmwSubstr:b.kmwBMPSubstr;b._kmwLength=a?b.kmwLength:b.kmwBMPLength;b._kmwNextChar=a?b.kmwNextChar:
b.kmwBMPNextChar;b._kmwPrevChar=a?b.kmwPrevChar:b.kmwBMPPrevChar;b._kmwCodePointToCodeUnit=a?b.kmwCodePointToCodeUnit:b.kmwBMPCodePointToCodeUnit;b._kmwCodeUnitToCodePoint=a?b.kmwCodeUnitToCodePoint:b.kmwBMPCodeUnitToCodePoint};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,e,k){if(b){e=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var h=a[k];h in e||(e[h]={});e=e[h]}a=a[a.length-1];k=e[a];b=b(k);b!=k&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,e,k){var b=this.length||0;0>e&&(e=Math.max(0,b+e));if(null==k||k>b)k=b;k=Number(k);0>k&&(k=Math.max(0,b+k));for(e=Number(e||0);e<k;e++)this[e]=a;return this}},"es6-impl","es3");
var tavultesoft=window.tavultesoft=window.tavultesoft||{};tavultesoft.__BUILD__=12;
tavultesoft.keymanweb||function(){var a=window.tavultesoft={},b=a.keymanweb={_TitleElement:null,_Enabled:1,_IE:0,legacy:0,_IsActivatingKeymanWebUI:0,_JustActivatedKeymanWebUI:0,_IgnoreNextSelChange:0,_Selection:null,_SelectionControl:null,_KeyboardStubs:[],dfltStub:null,_Keyboards:[],_ActiveKeyboard:null,_ActiveStub:null,_AnyIndices:[],_DeadKeys:[],_AttachedElements:[],_ActiveElement:null,_LastActiveElement:null,_DfltStyle:"",_MasterDocument:null,_HotKeys:[],focusTimer:null,focusing:!1,resizing:!1,
sortedInputs:[],inputList:[],languageList:null,languagesPending:[],deferredStubs:[],deferredKRS:[],deferredKR:[],waiting:null,warned:!1,baseFont:"sans-serif",appliedFont:"",embeddedFonts:[],fontCheckTimer:null,srcPath:"",rootPath:"",mustReloadKeyboard:!1,globalKeyboard:null,globalLanguageCode:null,isEmbedded:!1};b.initialized=0;b.build=a.__BUILD__;b.version="10.0";b.helpURL="http://help.keyman.com/go";window.KeymanWeb=b;var e=b.util={},a=b.osk={ready:!1};b.ui={};b.setDefaultDeviceOptions=function(a){};
b.getStyleSheetPath=function(a){return a};b.getKeyboardPath=function(a){return a};b.KC_=function(a,d,c){return""};b.handleRotationEvents=function(){};b.alignInputs=function(a){};b.refreshElementContent=null;a.highlightSubKeys=function(a,d,c){};a.createKeyTip=function(){};a.optionKey=function(a,d,c){};a.showKeyTip=function(a,d){};a.waitForFonts=function(a,d){return!0};b.options={root:"",resources:"",keyboards:"",fonts:"",attachType:"",ui:null};e.events={};e.currentEvents=[];a=document.getElementsByTagName("script");
a=a[a.length-1].src;a=a.substr(0,a.lastIndexOf("/")+1);b.srcPath=a;b.rootPath=a.replace(/(https?:\/\/)([^\/]*)(.*)/,"$1$2/");b.protocol=a.replace(/(.{3,5}:)(.*)/,"$1");e.arrayFromNodeList=function(a){for(var d=[],c=0;c<a.length;c++)d.push(a[c]);return d};e.addEventListener=function(a,d){e.removeEventListener(a,d);e.events[a].push(d);return!0};e.removeEventListener=function(a,d){"undefined"==typeof e.events[a]&&(e.events[a]=[]);for(var c=0;c<e.events[a].length;c++)if(e.events[a][c]==d)return e.events[a].splice(c,
1),!0;return!1};e.callEvent=function(a,d){if("undefined"==typeof e.events[a])return!0;if(-1!=e.currentEvents.indexOf(a))return!1;e.currentEvents.push(a);for(var c=0;c<e.events[a].length;c++){var f=e.events[a][c],b=!1;try{b=f(d)}catch(g){b=!1}if(!1===b)return e.currentEvents.pop(),!1}e.currentEvents.pop();return!0};e.attachDOMEvent=e.attachDOMEvent=function(a,d,c,f){e.detachDOMEvent(a,d,c,f);a.attachEvent?a.attachEvent("on"+d,c):a.addEventListener&&a.addEventListener(d,c,f?!0:!1)};e.detachDOMEvent=
e.detachDOMEvent=function(a,d,c,f){a.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener&&a.removeEventListener(d,c,f)};e.getOption=e.getOption=function(a,d){return a in b.options?b.options[a]:1<arguments.length?d:""};e.setOption=e.setOption=function(a,d){b.options[a]=d};e.getAbsoluteX=e._GetAbsoluteX=function(a){if(!a)return 0;var d=a.offsetLeft?a.offsetLeft:0,c=a;if(c.offsetParent)for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetLeft;c&&c.ownerDocument&&a.ownerDocument!=b._MasterDocument&&
(c=c.ownerDocument);return c&&c.parentWindow&&c.parentWindow.frameElement?d+e._GetAbsoluteX(c.parentWindow.frameElement)-c.documentElement.scrollLeft:c&&c.defaultView&&c.defaultView.frameElement?d+e._GetAbsoluteX(c.defaultView.frameElement)-c.documentElement.scrollLeft:d};e.getAbsoluteY=e._GetAbsoluteY=function(a){if(!a)return 0;var d=a.offsetTop?a.offsetTop:0,c=a;if(c.offsetParent)for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop;c&&c.ownerDocument&&a.ownerDocument!=b._MasterDocument&&(c=c.ownerDocument);
return c&&c.parentWindow&&c.parentWindow.frameElement?d+e._GetAbsoluteY(c.parentWindow.frameElement)-c.documentElement.scrollTop:c&&c.defaultView&&c.defaultView.frameElement?d+e._GetAbsoluteY(c.defaultView.frameElement)-c.documentElement.scrollTop:d};e.getAbsolute=e._GetAbsolute=function(a){var d={};d.x=e._GetAbsoluteX(a);d.y=e._GetAbsoluteY(a);return d};e.selectStartHandler=function(){return!1};e.mouseDownPreventDefaultHandler=function(a){a&&a.preventDefault()};e.mouseDownPreventDefaultHandler=function(a){a&&
a.preventDefault()};e.createElement=e._CreateElement=function(a){a=document.createElement(a);"undefined"!=typeof a.onselectstart?(a.unSelectable="on",a.onselectstart=e.selectStartHandler):(a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.UserSelect="none",a.style.WebkitUserSelect="none");return a};e.getIEVersion=e._GetIEVersion=function(){var a="";"userAgent"in navigator&&(a=navigator.userAgent);if("selection"in document){var d=navigator.appVersion;var c=d.indexOf("MSIE ");if(0<=
c){if("BackCompat"==document.compatMode)return 6;d=d.substr(c+5);c=d.indexOf(".");if(0<c)return parseInt(d.substr(0,c),10)}}c=a.indexOf("Trident/");if(0>c)return 999;a=a.substr(c+8);c=a.indexOf(".");return 0<c?parseInt(a.substr(0,c),10)+4:999};e.getDPI=function(){var a=document.createElement("DIV"),d=a.style,c=96;if("complete"!==document.readyState)return c;a.id="calculateDPI";d.position="absolute";d.display="block";d.visibility="hidden";d.left="10px";d.top="10px";d.width="1in";d.height="10px";document.body.appendChild(a);
c="undefined"==typeof window.devicePixelRatio?a.offsetWidth:a.offsetWidth*window.devicePixelRatio;document.body.removeChild(a);return c};e.getStyleValue=function(a,d){try{if(a&&"undefined"!=typeof window.getComputedStyle)return window.getComputedStyle(a,"").getPropertyValue(d);if(a&&"undefined"!=typeof a.currentStyle)return a.currentStyle[d]}catch(c){}return""};e.getStyleInt=function(a,d,c){a=parseInt(e.getStyleValue(a,d),10);return isNaN(a)?"number"==typeof c?c:0:a};var k=e.device={touchable:!!("ontouchstart"in
window),OS:"",formFactor:"desktop",dyPortrait:0,dyLandscape:0,version:"0",orientation:window.orientation};if(navigator&&navigator.userAgent){a=navigator.userAgent;0<=a.indexOf("iPad")&&(k.OS="iOS",k.formFactor="tablet",k.dyPortrait=k.dyLandscape=0);0<=a.indexOf("iPhone")&&(k.OS="iOS",k.formFactor="phone",k.dyPortrait=k.dyLandscape=25);if(0<=a.indexOf("Android")){k.OS="Android";k.formFactor="phone";k.dyPortrait=75;k.dyLandscape=25;try{k.version=a.match(/(?:Android\s+)(\d+\.\d+\.\d+)/)[1]}catch(h){}}0<=
a.indexOf("Windows NT")&&(k.OS="Windows",0<=a.indexOf("Touch")&&(k.formFactor="phone"),"number"==typeof navigator.msMaxTouchPoints&&0<navigator.msMaxTouchPoints&&(k.touchable=!0))}"tablet"==k.formFactor&&400>Math.min(screen.width,screen.height)&&(k.formFactor="phone");"phone"==k.formFactor&&720<Math.max(screen.width,screen.height)&&(k.formFactor="tablet");"iOS"!=k.OS||"ongesturestart"in window||"Win32"==navigator.platform||(k.OS="Android");k.browser="web";if(999>e._GetIEVersion())k.browser="ie";else{if("iOS"==
k.OS||"macosx"==k.OS.toLowerCase())k.browser="safari";/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(0<=navigator.userAgent.indexOf("Firefox")&&"onmozorientationchange"in screen?k.browser="firefox":0<=navigator.userAgent.indexOf("OPR")?k.browser="opera":0<=navigator.userAgent.indexOf("Chrome")&&(k.browser="chrome"))}"desktop"==k.formFactor&&(k.touchable=!1);e.isTouchDevice=function(){return k.touchable};e.portraitView=function(){return!e.landscapeView()};e.landscapeView=function(){return"undefined"==
typeof window.orientation?!1:1==Math.abs(window.orientation/90)};e.getViewportScale=function(){try{if(screen.width>document.documentElement.clientWidth)return 1;var a=screen.width;e.landscapeView()?screen.width<screen.height&&(a=screen.height):screen.width>screen.height&&(a=screen.height);return Math.round(100*a/window.innerWidth)/100}catch(d){return 1}};e.barHeight=function(){var a=0;"phone"==k.formFactor&&(a=screen.height/2-window.innerHeight-(e.landscapeView()?k.dyLandscape:k.dyPortrait));return a};
e._EncodeEntities=function(a){return a.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")};e.createShim=e.createShim=function(){console.warn("The util.createShim function is deprecated, as its old functionality is no longer needed.  It and references to its previously-produced shims may be safely removed.")};e.showShim=e.showShim=function(a,d,c){console.warn("The util.showShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};e.hideShim=
function(a){console.warn("The util.hideShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};e.rgba=e.rgba=function(a,d,c,f,b){var m="transparent";if(9>e._GetIEVersion())b=Math.floor(100*b),d=d.toString(16),c=c.toString(16),f=f.toString(16),d=("00"+d).substr(-2),c=("00"+c).substr(-2),f=("00"+f).substr(-2),f=b+d+c+f,a.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+f+",endColorstr=#"+f+")",a.zoom="1";else try{m="rgba("+d+","+c+
","+f+","+b+")"}catch(n){m="rgb("+d+","+c+","+f+")"}return m};e.addStyleSheet=e.addStyleSheet=function(a){var d=document.createElement("STYLE");d.type="text/css";d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a));a=document.getElementsByTagName("HEAD");0<a.length?a[0].appendChild(d):document.body.appendChild(d);return d};e.removeStyleSheet=e.removeStyleSheet=function(a){if(null==a||"object"!=typeof a||"STYLE"!=a.nodeName||"undefined"==typeof a.parentNode||null==a.parentNode)return!1;
a.parentNode.removeChild(a);return!0};e.linkStyleSheet=e.linkStyleSheet=function(a){var d=document.getElementsByTagName("head");if(0<d.length){var c=document.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=a;d[0].appendChild(c)}};e.addFontFaceStyleSheet=function(a){if("undefined"!=typeof a&&("undefined"==typeof a.files&&(a.files=a.source),"undefined"!=typeof a.files)){var d,c="",f="",m="",g="",n=[];for(d=0;d<b.embeddedFonts.length;d++)if(b.embeddedFonts[d]==a.family)return;"string"==
typeof a.files?n[0]=a.files:n=a.files;for(d=0;d<n.length;d++)0<n[d].indexOf(".ttf")&&(c=n[d]),0<n[d].indexOf(".woff")&&(f=n[d]),0<n[d].indexOf(".eot")&&(m=n[d]),0<n[d].indexOf(".svg")&&(g=n[d]);""!=c&&0>c.indexOf("/")&&(c=b.options.fonts+c);""!=f&&0>f.indexOf("/")&&(f=b.options.fonts+f);""!=m&&0>m.indexOf("/")&&(m=b.options.fonts+m);""!=g&&0>g.indexOf("/")&&(g=b.options.fonts+g);d="@font-face {\nfont-family:"+a.family+";\nfont-style:normal;\nfont-weight:normal;\n";if(9<=e._GetIEVersion())if("iOS"==
k.OS)if(""!=c)c=e.unCached(c),d=d+"src:url('"+c+"') format('truetype');";else return;else{m=[];"Android"==k.OS?(""!=g&&m.push("url('"+g+"') format('svg')"),""!=f&&m.push("url('"+f+"') format('woff')"),""!=c&&m.push("url('"+c+"') format('truetype')")):(""!=f&&m.push("url('"+f+"') format('woff')"),""!=c&&m.push("url('"+c+"') format('truetype')"),""!=g&&m.push("url('"+g+"') format('svg')"));if(0==m.length)return;d+="src:"+m.join(",")+";"}else if(""!=m)d=d+"src:url('"+m+"');";else return;e.addStyleSheet(d+
"\n}\n");b.embeddedFonts.push(a.family)}};e.unCached=function(a){return a};e.loadCookie=e.loadCookie=function(a){var d={};if(0<arguments.length){var c=e.loadCookie(),f;for(f in c)if(f==a){var b=unescape(c[f]).split(";");for(var g=0;g<b.length;g++){var n=b[g].split("=");d[n[0]]=1<n.length?n[1]:""}}}else if("undefined"!=typeof document.cookie&&""!=document.cookie)for(c=document.cookie.split(/;\s*/),g=0;g<c.length;g++)b=c[g].split("="),2==b.length&&(d[b[0]]=b[1]);return d};e.saveCookie=e.saveCookie=
function(a,d){var c="",f;for(f in d)c=c+f+"="+d[f]+";";d=(new Date((new Date).valueOf()+2592E6)).toGMTString();document.cookie=a+"="+escape(c)+"; path=/; expires="+d};e.toNumber=e.toNumber=function(a,d){a=parseInt(a,10);return isNaN(a)?d:a};e.toFloat=e.toFloat=function(a,d){a=parseFloat(a);return isNaN(a)?d:a};e.toNzString=e.nzString=function(a,d){var c="";1<arguments.length&&(c=d);return"undefined"==typeof a||null==a||0==a||""==a?c:""+a};e.deepCopy=function(a,d){d=d||{};for(var c in a)"object"===
typeof a[c]?(d[c]=a[c].constructor===Array?[]:{},e.deepCopy(a[c],d[c])):d[c]=a[c];return d};"indexOf"in Array||(Array.prototype.indexOf=function(a,d){for(d=d||0;d<this.length;d++)if(this[d]==a)return d;return-1});e.eventTarget=function(a){return a&&a.target?a.target:window.event?window.event.srcElement:null};e.eventType=function(a){return a&&a.type?a.type:window.event?window.event.type:""};e.alert=e.alert=function(a,d){var c=b.waiting,f=c.firstChild.childNodes;f[0].style.display="block";f[1].className=
"kmw-alert-text";f[1].innerHTML=a;f[2].style.display="none";c.style.display="block";c.dismiss=1<arguments.length?d:null};e.prepareWait=function(){var a=document.createElement("DIV"),d=document.createElement("DIV"),c=document.createElement("DIV"),f=document.createElement("DIV"),m=document.createElement("DIV");a.className="kmw-wait-background";d.className="kmw-wait-box";a.dismiss=null;c.className="kmw-wait-text";f.className="kmw-wait-graphic";m.className="kmw-alert-close";d.onmousedown=d.onclick=function(c){"block"==
m.style.display&&(a.style.display="none",a.dismiss&&a.dismiss())};d.addEventListener("touchstart",d.onclick,!1);a.onmousedown=a.onclick=function(c){c.preventDefault();c.stopPropagation()};a.addEventListener("touchstart",a.onclick,!1);d.appendChild(m);d.appendChild(c);d.appendChild(f);a.appendChild(d);document.body.appendChild(a);b.waiting=a};e.myPath=function(a){var d,c=document.getElementsByTagName("script");for(d=0;d<c.length;d++){var f=c[d];if(0<=f.src.indexOf(a))return f.src.substr(0,f.src.lastIndexOf("/")+
1)}return""};e.prependProtocol=function(a){return/^https?:/.test(a)?a:"//"==a.substr(0,2)?b.protocol+a:"/"==a.substr(0,1)?b.protocol+"/"+a:b.protocol+"//"+a};e.testString=function(a){var d=a.family;if("sample"in a&&"string"==typeof a.sample)return"BESbswy"+a.sample;var c="TamilWeb TibetanWeb LatinWeb CherokeeWeb EgyptianWeb SinhalaWeb KhmerWeb ArabicWeb BurmeseWeb LaoWeb OriyaWeb GeezWeb".split(" "),f="\u0bbe\u0bf5 \u0f7f\u0fd0 \u02b0\u02a4 \u13d0\u13c9 \ua723\uf7d3 \u0dd8\u0da3 \u17d6\u178e \u0639\u06b3 \u1038\u1024 \u0ec0\u0edd \u0b03\u0b06 \u1361\u132c".split(" ");
for(a=0;a<c.length;a++)if(d==c[a])return"BESbswy"+f[a];return"BESbswy"};e.checkFont=function(a){var d=a.family,c=document.createElement("DIV"),f=c.style,b=document.createElement("P"),g=document.createElement("P"),n=document.createElement("SPAN"),l=n.style,h=document.createElement("SPAN"),k=h.style;f.position="absolute";f.top="10px";f.left="10px";f.visibility="hidden";document.body.appendChild(c);c.appendChild(b);c.appendChild(g);b.appendChild(n);g.appendChild(h);n.setAttribute("style","font-family:monospace !important");
k.fontFamily=d+",monospace";l.fontSize=k.fontSize="24px";n.innerHTML=h.innerHTML=e.testString(a);n.offsetWidth!=h.offsetWidth&&(n.setAttribute("style","font-family:sans-serif !important"),k.fontFamily=d+",sans-serif",n.offsetWidth!=h.offsetWidth&&(n.setAttribute("style","font-family:serif !important"),k.fontFamily=d+",serif"));a=n.offsetWidth!=h.offsetWidth;b.removeChild(n);g.removeChild(h);c.removeChild(b);c.removeChild(g);document.body.removeChild(c);return a};b.isFontAvailable=function(a){return e.checkFont({family:a})};
e.checkFontDescriptor=function(a){return"undefined"==typeof a||"string"!=typeof a.family?!0:e.checkFont(a)}}();window.tavultesoft.keymanweb.initialized||function(){var a=window.tavultesoft.keymanweb,b=a.osk,e=a.util,k=e.device;a.debug=a.debug=function(d){if(null==a.debugElement){var c=document.createElement("DIV");var f=c.style;f.position="absolute";f.width="30%";f.maxHeight="50%";f.top="0";f.right="0";f.minHeight="50px";f.border="1px solid blue";f.whiteSpace="pre-line";f.overflowY="scroll";f=document.createElement("P");f.id="debug_output";f.style.margin="2px";c.appendChild(f);document.body.appendChild(c);
a.debugElement=f}if(null!=(f=document.getElementById("debug_output")))if(0==arguments.length)"undefined"!=typeof f.textContent?f.textContent="":f.innerHTML="";else{var c=(new Date).toTimeString().substr(3,5)+" ",b,g;for(b=0;b<arguments.length;b++){0<b&&(c+="; ");var e=arguments[b];if("object"==typeof e)if(null==e)c+="null";else{var l="";for(g in e){0<l.length&&(l+=", ");l=l+g+":";switch(typeof e[g]){case "string":case "number":case "boolean":l+=e[g];break;default:l+=typeof e[g]}if(1024<l.length){l=
l.substr(0,1E3)+"...";break}}0<l.length&&(c=c+"{"+l+"}")}else c+=e}1500<c.length&&(c=c.substr(0,1500)+" (more)");"undefined"!=typeof f.textContent?f.textContent=c+"\n"+f.textContent:f.innerHTML=c+"<br />"+f.innerHTML}};a.debugElement=null;a.addEventListener=a.addEventListener=function(a,c){return e.addEventListener("kmw."+a,c)};a.setupTouchDevice=function(){a.cancelInput=function(){a._ActiveElement=null;a.hideCaret();b.hideNow()};a.setBlur=function(c){"relatedTarget"in c&&c.relatedTarget&&("DIV"!=
c.relatedTarget.nodeName||-1==c.relatedTarget.className.indexOf("keymanweb-input"))?a.cancelInput():a.focusing||a.cancelInput()};a.setFocus=function(c){a.focusing=!0;a.focusTimer=window.setTimeout(function(){a.focusing=!1},1E3);var f=c;c?"object"==typeof c.touches&&(f=c.touches[0]):(f={clientX:0,clientY:0},f.target=a._LastActiveElement?a._LastActiveElement.kmw_ip:a.sortedInputs[0].kmw_ip);c=f.clientX;var d=f.clientY;var g=f.target;var n="SPAN"==g.nodeName?g.parentNode:null!=g.className&&0<=g.className.indexOf("keymanweb-input")?
g.firstChild:g;f=n.parentNode;a._ActiveElement!=f&&(a.hideCaret(),a._ActiveElement=f,f.focus());a._SetTargDir(f);a.useInternalKeyboard=!1;b.ready&&!b._Visible&&b._Show();if("DIV"==g.nodeName)d=e._GetAbsoluteX(n.firstChild),"rtl"==f.dir?(d+=n.firstChild.offsetWidth,n=c>d?0:1E5):n=c<d?0:1E5,a.setTextCaret(f,n),a.scrollInput(f);else{var l,g=n.childNodes[1];var h=0;var k=a.getText(f)._kmwLength();n=a.getTextCaret(f);var r=document.body.scrollTop;if("TEXTAREA"==f.base.nodeName){var q=Math.round(f.base.offsetHeight/
f.base.rows);for(l=0;16>l;l++){var t=e._GetAbsoluteY(g)-r;if(t>d&&n>h&&n!=k)k=n,n=Math.round((n+h)/2);else if(t<d-q&&n<k&&n!=h)h=n,n=Math.round((n+k)/2);else break;a.setTextCaret(f,n)}for(;e._GetAbsoluteY(g)-r>d&&n>h;)a.setTextCaret(f,--n);for(;e._GetAbsoluteY(g)-r<d-q&&n<k;)a.setTextCaret(f,++n)}if("rtl"==f.dir){for(l=0;16>l;l++){d=e._GetAbsoluteX(g);if(d<c&&n>h&&n!=k)k=n,n=Math.round((n+h)/2);else if(d>c&&n<k&&n!=h)h=n,n=Math.round((n+k)/2);else break;a.setTextCaret(f,n)}for(;e._GetAbsoluteX(g)<
c&&n>h;)a.setTextCaret(f,--n);for(;e._GetAbsoluteX(g)>c&&n<k;)a.setTextCaret(f,++n)}else{for(l=0;16>l;l++){d=e._GetAbsoluteX(g);if(d>c&&n>h&&n!=k)k=n,n=Math.round((n+h)/2);else if(d<c&&n<k&&n!=h)h=n,n=Math.round((n+k)/2);else break;a.setTextCaret(f,n)}for(;e._GetAbsoluteX(g)>c&&n>h;)a.setTextCaret(f,--n);for(;e._GetAbsoluteX(g)<c&&n<k;)a.setTextCaret(f,++n)}}c=a._ActiveKeyboard?a._ActiveKeyboard.KI:"";a._LastActiveElement&&null!=a._LastActiveElement._kmwAttachment.keyboard?(a._LastActiveElement._kmwAttachment.keyboard=
c,a._LastActiveElement._kmwAttachment.languageCode=a.getActiveLanguage()):(a.globalKeyboard=c,a.globalLanguageCode=a.getActiveLanguage());a._LastActiveElement=f;c=null==a._ActiveKeyboard?"":a._ActiveKeyboard.KI;null!=a._LastActiveElement._kmwAttachment.keyboard?a.setActiveKeyboard(a._LastActiveElement._kmwAttachment.keyboard,a._LastActiveElement._kmwAttachment.languageCode):a.setActiveKeyboard(a.globalKeyboard,a.globalLanguageCode);a._IsIEEditableIframe(f,1)&&a._IsMozillaEditableIframe(f,1)?(a._DisableInput=
0,a._JustActivatedKeymanWebUI||(a._DeadKeys=[],a._NotifyKeyboard(0,f,1)),a._JustActivatedKeymanWebUI||a._SelectionControl==f||(a._IsActivatingKeymanWebUI=0),a._JustActivatedKeymanWebUI=0,a._SelectionControl=f):a._DisableInput=1};a.caret=document.createElement("DIV");var d=a.caret.style;d.position="absolute";d.height="16px";d.width="2px";d.backgroundColor="blue";d.border="none";d.left=d.top="0px";d.display="block";d.visibility="hidden";d.zIndex="9998";a.showCaret=function(c){if(c&&c.firstChild&&!(3>
c.firstChild.childNodes.length)){var f=c.firstChild,d=a.caret.style,b=f.childNodes[1];a.caret.parentNode!=f&&f.appendChild(a.caret);d.left=b.offsetLeft+"px";d.top=b.offsetTop+"px";d.height=b.offsetHeight-1+"px";d.visibility="hidden";a.scrollBody(c);a.setScrollBar(c)}};a.setScrollBar=function(c){var a=c.childNodes[0],d=c.childNodes[1].style;(a.offsetWidth>c.offsetWidth||0>a.offsetLeft)&&"TEXTAREA"!=c.base.nodeName?(d.height="4px",d.width=c.offsetWidth/a.offsetWidth*100+"%",d.left=-a.offsetLeft/a.offsetWidth*
100+"%",d.top="0",d.visibility="visible"):a.offsetHeight>c.offsetHeight||0>a.offsetTop?(d.width="4px",d.height=c.offsetHeight/a.offsetHeight*100+"%",d.top=-a.offsetTop/a.offsetHeight*100+"%",d.left="0",d.visibility="visible"):d.visibility="hidden"};a.flashCaret=function(){if(k.touchable&&null!=a._ActiveElement){var c=a.caret.style;c.visibility="visible"!=c.visibility?"visible":"hidden"}};a.hideCaret=function(){var c=a._LastActiveElement;if(c&&null!=c.className&&0<=c.className.indexOf("keymanweb-input")){c.base.value=
a.getText(c);a.setText(c,null,1E5);var f=c.firstChild.style;"TEXTAREA"==c.base.nodeName?f.top="0":f.left="rtl"==c.base.dir?c.offsetWidth-c.firstChild.offsetWidth-8+"px":"0";a.caret.parentNode&&a.caret.parentNode.removeChild(a.caret);a.caret.style.visibility="hidden";1<c.childNodes.length&&(c.childNodes[1].style.visibility="hidden")}};a.timerId=window.setInterval(a.flashCaret,500);a.setText=function(c,f,d){if(c&&0<c.childNodes.length){var b=c.firstChild;var m=0;if(3<=b.childNodes.length){var e=b.childNodes[0],
b=b.childNodes[2];if(null===f){var h="string"==typeof e.textContent?e.textContent:e.innerText;f="string"==typeof b.textContent?b.textContent:b.innerText;f=h+f}0>d&&(d=0);m=f._kmwLength();if(null===d||d>m)d=m;h=f._kmwSubstr(0,d);f=f._kmwSubstr(d);"string"==typeof e.textContent?e.textContent=h:e.innerText=h;"string"==typeof b.textContent?b.textContent=f:b.innerText=f}}a.updateBaseElement(c,m)};a.updateBaseElement=function(c,f){c.base.value=a.getText(c);c.style.backgroundColor=0==f?"transparent":window.getComputedStyle(c.base,
null).backgroundColor;"iOS"==k.OS&&(c.base.style.visibility=0==f?"visible":"hidden")};a.getText=function(c){return null==c?"":"string"==typeof c.textContent?c.textContent:c.innerText};a.getTextBeforeCaret=function(c){if(c&&1<c.childNodes.length&&(c=c.firstChild,0<c.childNodes.length)){c=c.childNodes[0];if("textContent"in c)return c.textContent;if("innerText"in c)return c.innerText}return""};a.setTextBeforeCaret=function(c,f){if(c&&0<c.childNodes.length){var d=c.firstChild;var b=0;1<d.childNodes.length&&
(b=d.childNodes[0],d=d.childNodes[2],"TEXTAREA"!=c.base.nodeName&&(f=f.replace(/\s+$/," ")),"textContent"in b?b.textContent=f:"innerText"in b&&(b.innerText=f),b=f.length,"textContent"in d?b+=d.textContent.length:"innerText"in d&&(b+=d.innerText.length))}a.updateBaseElement(c,b);a.scrollInput(c)};a.getTextCaret=function(c){return a.getTextBeforeCaret(c)._kmwLength()};a.setTextCaret=function(c,f){a.setText(c,null,f);a.showCaret(c)};a.dragInput=function(c){c.preventDefault();c.stopPropagation();var f=
"object"==typeof c.targetTouches?c.targetTouches[0].target:c.target;if(null!=f){if(null==f.className||0>f.className.indexOf("keymanweb-input"))f=f.parentNode;if(null==f.className||0>f.className.indexOf("keymanweb-input"))f=f.parentNode;if(!(null==f.className||0>f.className.indexOf("keymanweb-input"))){var d="object"==typeof c.touches?c.touches[0].screenX:c.screenX,b="object"==typeof c.touches?c.touches[0].screenY:c.screenY;if("undefined"==typeof a.firstTouch||null==a.firstTouch)a.firstTouch={x:d,
y:b};else{var n=a.firstTouch.x,l=a.firstTouch.y;c=f.firstChild;if("TEXTAREA"==f.base.nodeName){if(d=parseInt(c.style.top,10),isNaN(d)&&(d=0),n=l-b,-4>n||4<n)c.style.top=(d<n?d-n:0)+"px",a.firstTouch.y=b}else{b=parseInt(c.style.left,10);isNaN(b)&&(b=0);var h=n-d;if(-4>h||4<h)n=0,l=e._GetAbsoluteX(f)+f.offsetWidth-c.offsetWidth-32,"rtl"==f.base.dir?n=16:l-=24,b-=h,b>n&&(b=n),b<l&&(b=l),c.style.left=b+"px",a.firstTouch.x=d}}a.setScrollBar(f)}}};a.scrollInput=function(c){if(c&&c.firstChild&&null!=c.className&&
!(0>c.className.indexOf("keymanweb-input"))){var f=c.firstChild;if(!(3>f.childNodes.length)){var d=f.childNodes[1],b=e._GetAbsoluteX(d),d=e._GetAbsoluteY(d),n=e._GetAbsoluteX(c),l=e._GetAbsoluteY(c),h=parseInt(f.style.left,10),k=parseInt(f.style.top,10),r=0,q=0;isNaN(h)&&(h=0);isNaN(k)&&(k=0);"TEXTAREA"==c.base.nodeName?(b=Math.round(c.offsetHeight/c.base.rows),d<l&&(q=d-l),d>l+c.offsetHeight-b&&(q=d-l-c.offsetHeight+b),0!=q&&(f.style.top=(k<q?k-q:0)+"px")):(b<n+8&&(r=b-n-12),b>n+c.offsetWidth-12&&
(r=b-n-c.offsetWidth+12),0!=r&&(f.style.left=(h<r?h-r:0)+"px"));a.showCaret(c)}}};a.scrollBody=function(c){if(c&&null!=c.className&&!(0>c.className.indexOf("keymanweb-input"))&&b.ready){c=c.firstChild.childNodes[1];var a=e._GetAbsoluteY(c),d=window.pageYOffset;a<d?c=a-d:(c=a-d-(window.innerHeight-b._Box.offsetHeight-c.offsetHeight-2),0>c&&(c=0));0!=c&&window.scrollTo(0,c+window.pageYOffset)}};a.updateInput=function(c){var a=c.style,d=c.base,b=window.getComputedStyle(d,null),n=parseInt(b.marginLeft,
10),l=parseInt(b.marginTop,10),h=e._GetAbsoluteX(d),p=e._GetAbsoluteY(d),r=c.offsetParent;r&&(h-=e._GetAbsoluteX(r),p-=e._GetAbsoluteY(r));isNaN(n)&&(n=0);isNaN(l)&&(l=0);a.left=h-n+"px";a.top=p-l+"px";"undefined"!=typeof b.MozBoxSizing&&(a.left=h+"px",a.top=p+"px");var n=d.offsetWidth,d=d.offsetHeight,l=parseInt(b.paddingLeft,10),h=parseInt(b.paddingRight,10),p=parseInt(b.paddingTop,10),r=parseInt(b.paddingBottom,10),q=parseInt(b.borderLeft,10),t=parseInt(b.borderRight,10),w=parseInt(b.borderTop,
10),z=parseInt(b.borderBottom,10),x="undefined";"undefined"!=typeof b.boxSizing?x=b.boxSizing:"undefined"!=typeof b.MozBoxSizing&&(x=b.MozBoxSizing);"content-box"==x&&(isNaN(l)||(n-=l),isNaN(h)||(n-=h),isNaN(q)||(n-=q),isNaN(t)||(n-=t),isNaN(p)||(d-=p),isNaN(r)||(d-=r),isNaN(w)||(d-=w),isNaN(z)||(d-=z));"Android"==k.OS&&("undefined"!=typeof b.MozBoxSizing?(a.paddingTop=p+1+"px",a.paddingLeft=l+"px","TEXTAREA"==c.base.nodeName?a.marginTop="1px":a.marginLeft="1px",n--,d--):(n++,d++));a.width=n+"px";
a.height=d+"px"};a.enableTouchElement=function(c){if("iframe"==c.tagName.toLowerCase())return!1;if(a.isKMWDisabled(c))return a.setupNonKMWTouchElement(c),!1;c.kmwInput=!0;c.removeEventListener("touchstart",a.nonKMWTouchHandler);if(c.kmw_ip){if(-1!=a.inputList.indexOf(c.kmw_ip))return!1;a.inputList.push(c.kmw_ip);console.log("Unexpected state - this element's simulated input DIV should have been removed from the page!");return!0}var d=document.createElement("DIV");d.base=d.base=c;d._kmwAttachment=
c._kmwAttachment;a.enableInputElement(d,!0);c.kmw_ip=d;c.disabled=!0;d.className="keymanweb-input";d.dir=d.base.dir;var b=document.createElement("DIV");var g=window.getComputedStyle(d.base,null);c=d.style;c.overflow="hidden";c.position="absolute";c.border="hidden";c.border="none";c.borderRadius="5px";var e=document.createElement("DIV");var l=e.style;l.position="absolute";l.height=l.width="4px";l.left=l.top="0";l.display="block";l.visibility="hidden";l.backgroundColor="#808080";l.borderRadius="2px";
l=document.createElement("SPAN");var h=document.createElement("SPAN");var p=document.createElement("SPAN");l.innerHTML=h.innerHTML=p.innerHTML="";l.className=h.className=p.className="keymanweb-font";b.appendChild(l);b.appendChild(p);b.appendChild(h);d.appendChild(b);d.appendChild(e);b=b.style;b.position="absolute";e=l.style;var r=h.style;p=p.style;e.border=r.border="none";e.height=r.height="100%";e.fontFamily=r.fontFamily=b.fontFamily=g.fontFamily;"input"!=d.base.nodeName.toLowerCase()||isNaN(parseInt(g.height,
10))||(e.lineHeight=r.lineHeight=g.height);p.border="1px solid red";p.visibility="hidden";p.marginLeft=p.marginRight="-1px";c.padding="8px";b.padding="0px 2px";b.backgroundColor="Android"==k.OS&&"transparent"==g.backgroundColor?"#fff":g.backgroundColor;d.tabIndex="0";d.style.msTouchAction="none";d.addEventListener("touchstart",a.setFocus);d.onmspointerdown=function(c){c.preventDefault();c.stopPropagation();return a.setFocus(c)};d.addEventListener("touchend",function(c){c.stopPropagation()});d.onmspointerup=
function(c){c.stopPropagation()};d.addEventListener("touchmove",a.dragInput,!1);d.onmspointermove=a.dragInput;d.onblur=a.setBlur;"textarea"==d.base.nodeName.toLowerCase()?l.style.whiteSpace=h.style.whiteSpace="pre-wrap":l.style.whiteSpace=h.style.whiteSpace="pre";d.base.parentNode.appendChild(d);a.updateInput(d);c=d.style;c.color=g.color;c.fontFamily=g.fontFamily;c.fontSize=g.fontSize;c.fontWeight=g.fontWeight;c.textDecoration=g.textDecoration;c.padding=g.padding;c.margin=g.margin;c.border=g.border;
c.borderRadius=g.borderRadius;"webkitTapHighlightColor"in c&&(c.webkitTapHighlightColor="rgba(0,0,0,0)");"textarea"==d.base.nodeName.toLowerCase()?(2==d.base.rows&&(l=parseInt(g.height,10)-parseInt(g.paddingTop,10)-parseInt(g.paddingBottom,10),g=parseInt(g.fontSize,10),g=Math.round(l/g),g>d.base.rows+1&&(d.base.rows=g)),b.width=c.width,b.minHeight=c.height):(b.minWidth=c.width,b.height=c.height);d.base.style.visibility="hidden";(function(c){c._kmwResizeHandler=function(d){window.setTimeout(function(){a.updateInput(c)},
1)};c.base.addEventListener("resize",c._kmwResizeHandler,!1)})(d);a.setText(d,d.base.value,null);return!0};a.disableTouchElement=function(c){if("iframe"!=c.tagName.toLowerCase()){if(c.kmw_ip){var d=a.inputList.indexOf(c.kmw_ip);-1!=d&&a.inputList.splice(d,1);c.style.visibility="visible";c.disabled=!1;c.removeEventListener("resize",c.kmw_ip._kmwResizeHandler);a.disableInputElement(c.kmw_ip);c.parentNode.removeChild(c.kmw_ip);delete c.kmw_ip}a.setupNonKMWTouchElement(c)}};a.nonKMWTouchHandler=function(c){a.focusing=
!1;clearTimeout(a.focusTimer);b.hideNow()};a.setupNonKMWTouchElement=function(c){c.addEventListener("touchstart",a.nonKMWTouchHandler,!1);a.isAttached(c)&&(c._kmwAttachment.touchEnabled=!1)}};a.enableInputElement=function(d,c){c=c?d.base:d;a.isKMWDisabled(c)||("iframe"==d.tagName.toLowerCase()?a._AttachToIframe(d):(c.className=c.className?c.className+" keymanweb-font":"keymanweb-font",a.inputList.push(d),e.attachDOMEvent(c,"focus",a._ControlFocus),e.attachDOMEvent(c,"blur",a._ControlBlur),d.onkeypress=
a._KeyPress,d.onkeydown=a._KeyDown,d.onkeyup=a._KeyUp))};a.disableInputElement=function(d,c){var b=c?d.base:d;if("iframe"==d.tagName.toLowerCase())a._DetachFromIframe(d);else{0<b.className.indexOf("keymanweb-font")&&!c&&(b.className=b.className.replace("keymanweb-font","").trim());var m=a.inputList.indexOf(d);-1<m&&a.inputList.splice(m,1);c||(e.detachDOMEvent(b,"focus",a._ControlFocus),e.detachDOMEvent(b,"blur",a._ControlBlur));d.onkeypress=null;d.onkeydown=null;d.onkeyup=null}c&&(a.inputList.push(b),
b.onkeypress=a._KeyPress,b.onkeydown=a._KeyDown,b.onkeyup=a._KeyUp)};a.getBaseFont=function(){var a=document.getElementsByTagName("INPUT"),c=document.getElementsByTagName("TEXTAREA"),b=0;0==a.length&&0==c.length?b=0:0<a.length&&0==c.length?b=1:0==a.length&&0<c.length?b=2:a[0].offsetTop<c[0].offsetTop?b=1:a[0].offsetTop>c[0].offsetTop?b=2:a[0].offsetLeft<c[0].offsetLeft?b=1:a[0].offsetLeft>c[0].offsetLeft&&(b=2);switch(b){case 0:case 1:e.getStyleValue(a[0],"font-family");case 2:var m=e.getStyleValue(c[0],
"font-family")}if("undefined"==typeof m||"monospace"==m)m="Arial,sans-serif";return m};a.setFocus=function(a){};a.timerID=null;a.getText=function(a){return""};a.setText=function(a,c,b){};a.getTextBeforeCaret=function(){return""};a.setTextBeforeCaret=function(a){};a.getTextCaret=function(a){return 0};a.setTextCaret=function(a,c){};a.hideCaret=function(){};a.flashCaret=function(){};a.updateInput=function(a){};a.addKeyboards=function(d){0==arguments.length?a.keymanCloudRequest("",!1):a.addKeyboardArray(arguments)};
a.addKeyboardArray=function(d){if(!a.initialized)for(var c=0;c<d.length;c++)a.deferredStubs.push(d[c]);else if(0!=d.length){var b,m="";a.cloudList=[];for(c=0;c<d.length;c++){if("string"==typeof d[c]&&0<d[c].length){var g=d[c].split("@");var e=[""];"english"==g[0].toLowerCase()&&(g[0]="us");1<g.length&&(e=g[1].split(","));for(b=0;b<e.length;b++){var l={id:g[0]};""!=e[b]&&(l.language=e[b]);2<g.length&&(l.version=g[2]);a.cloudList.push(l)}}if("object"==typeof d[c]&&null!=d[c])if("string"==typeof d[c].filename)a.addStub(d[c])||
alert("To use a custom keyboard, you must specify file name, keyboard name, language, language code and region code.");else if(e=d[c].language,"number"==typeof e.length)for(b=0;b<e.length;b++)a.cloudList.push({id:d[c].id,language:d[c].language[b].id});else a.cloudList.push({id:d[c].id,language:d[c].language.id})}if(0!=a.cloudList.length){l="&keyboardid=";for(c=0;c<a.cloudList.length;c++)d=a.cloudList[c],e=d.id,g=b="","string"==typeof d.language&&""!=d.language&&(b=d.language),"string"==typeof d.version&&
""!=d.version&&(g=d.version),""!=b?(e=e+"@"+b,""!=g&&(e=e+"@"+g)):""!=g&&(e=e+"@@"+g),l=l+m+e,m=",";a.keymanCloudRequest(l,!1)}}};a.keymanCloudRequest=function(b,c){var d="https://r.keymanweb.com/api/4.0/",m=e._CreateElement("SCRIPT"),d=d+(1<arguments.length&&c?"languages":"keyboards")+"?jsonp=tavultesoft.keymanweb.register";var g="&timerid="+window.setTimeout(function(){a.serverUnavailable(b)},1E4);m.charset="UTF-8";m.src=d+b+g;m.type="text/javascript";try{document.body.appendChild(m)}catch(n){document.getElementsByTagName("head")[0].appendChild(m)}};
a.addKeyboardsForLanguage=function(b){a.addLanguageKeyboards(arguments)};a.addLanguageKeyboards=function(b){var c,d=a.languageList,m;if(null==d){var g=0==a.languagesPending.length;for(c=0;c<b.length;c++)a.languagesPending.push(b[c]);g&&a.keymanCloudRequest("",!0)}else{var n="";for(c=0;c<b.length;c++){var l=b[c].toLowerCase();(m="$"==l.substr(-1,1))&&(l=l.substr(0,l.length-1));for(g=0;g<d.length;g++)if(l==d[g].name.toLowerCase()){""!=n&&(n+=",");n=n+"@"+d[g].id;m&&(n+="$");break}}""==n?e.alert("No keyboards are available for "+
b[0]+". Does it have another language name?"):a.keymanCloudRequest("&keyboardid="+n,!1)}};a.addStub=function(b){if("string"!=typeof b.id||"undefined"==typeof b.language)return!1;"string"!=typeof b.name&&(b.name=b.id.replace("_"," "),b.name=b.name.substr(0,1).toUpperCase()+b.name.substr(1));var c=b.language,d=[];"undefined"==typeof c.length?d[0]=c:d=c;for(var m={keyboardBaseUri:a.options.keyboards,fontBaseUri:a.options.fonts},c=0;c<d.length;c++)a.mergeStub(b,d[c],m);return!0};a.findStub=function(b,
c){var d,m=a._KeyboardStubs;for(d=0;d<m.length;d++)if(m[d].KI=="Keyboard_"+b&&m[d].KLC==c)return m[d];return null};a.regions="World;Africa;Asia;Europe;South America;North America;Oceania;Central America;Middle East".split(";");a.regionCodes="un af as eu sa na oc ca me".split(" ");a.mergeStub=function(b,c,f){var d=a.findStub(b.id,c.id);null==d&&(d={KI:"Keyboard_"+b.id,KLC:c.id},a._KeyboardStubs.push(d));var g=c.region,e=0;if("number"==typeof g)e=1>g||9<g?0:g-1;else if("string"==typeof g)for(var l=
2==g.length?a.regionCodes:a.regions,h=0;h<l.length;h++)if(g.toLowerCase()==l[h].toLowerCase()){e=h;break}"undefined"==typeof d.KL&&(d.KL=c.name);"undefined"==typeof d.KR&&(d.KR=a.regions[e]);"undefined"==typeof d.KRC&&(d.KRC=a.regionCodes[e]);"undefined"==typeof d.KN&&(d.KN=b.name);"undefined"==typeof d.KF&&(g=/^(([.]\/)|([.][.]\/)|(\/))|(:)/,d.KF=b.filename,g.test(d.KF)||(d.KF=f.keyboardBaseUri+d.KF));b=f.fontBaseUri;""!=a.options.fonts?(b=a.options.fonts,g=/^https?:/,g.test(b)||(b="//"==b.substr(0,
2)?a.protocol+b:"/"==b.substr(0,1)?a.rootPath+b.substr(1):a.rootPath+b)):a.options.fonts=b;"undefined"==typeof d.KFont&&"undefined"!=typeof c.font&&(f=d.KFont=c.font,f.files=f.source,f.path=b);"undefined"==typeof d.KOskFont&&"undefined"!=typeof c.oskFont&&(f=d.KOskFont=c.oskFont,f.files=f.source,f.path=b);a.doKeyboardRegistered(d.KI,d.KL,d.KN,d.KLC);1==a._KeyboardStubs.length&&"complete"==document.readyState&&(a._SetActiveKeyboard(d.KI,d.KLC),a.globalKeyboard=d.KI,a.globalLanguageCode=d.KLC)};a.registerLanguagesForKeyboard=
function(b,c,f){var d,g=0;var e="";if("undefined"!=typeof b)if("string"==typeof c.keyboardid&&(e=c.keyboardid.split(",")[f]),"number"==typeof b.length)if(1==b.length||"$"==e.substr(-1,1)||""==e)for(e=0;e<b.length;e++)a.registerLanguagesForKeyboard(b[e],c,f);else{for(e=0;e<b.length;e++){var l=b[e].id.toLowerCase();"us"==l&&(l="english");for(d=0;d<b[e].languages.length;d++)if(l==b[e].languages[d].name.toLowerCase()){g=e;break}}a.registerLanguagesForKeyboard(b[g],c,f)}else if(f=e.split("@")[1],"string"==
typeof f&&(f=f.replace(/\$$/,"")),g=b.languages,"undefined"!=typeof g)if("number"==typeof g.length)for(e=0;e<g.length;e++)"undefined"!=typeof f&&g[e].id!=f||a.mergeStub(b,g[e],c);else a.mergeStub(b,g,c)};a.register=function(b){var c=b.options;b.timerid&&window.clearTimeout(b.timerid);if("string"==typeof b.error)c="","string"==typeof b.keyboardid&&(c=b.keyboardid.substr(0,1).toUpperCase()+b.keyboardid.substr(1)),a.serverUnavailable(c+" keyboard not found.");else if("undefined"!=typeof c&&"undefined"!=
typeof c.context)if("keyboard"==c.context){var d=b.keyboard;if("number"==typeof d.length)for(b=0;b<d.length;b++)a.registerLanguagesForKeyboard(d[b],c,b);else a.registerLanguagesForKeyboard(d,c,0)}else"language"==c.context&&(a.languageList=b.languages,a.languagesPending&&a.addLanguageKeyboards(a.languagesPending),a.languagesPending=[])};a.serverUnavailable=function(b){e.alert(""==b?"Unable to connect to Keyman Cloud server!":b);a.warned=!0};a.removeKeyboards=function(b){if(0!=arguments.length){var c,
d,m=a._KeyboardStubs;for(c=0;c<arguments.length;c++)for(d=m.length-1;0<=d;d--)if("Keyboard_"+arguments[c]==m[d].KI&&1<m.length){m.splice(d,1);break}a._SetActiveKeyboard(m[0].KI,m[0].KLC,!0);a.doKeyboardUnregistered()}};if(document.selection){var h=navigator.appVersion;"undefined"==typeof document.createEventObject&&(0<=h.indexOf("MSIE 5.0")||0<=h.indexOf("MSIE 4.0")||0<=h.indexOf("MSIE 3.0"))?a.legacy=1:0<=h.indexOf("MSIE 6.0")?a._IE=6:0<=h.indexOf("MSIE 7.0")?a._IE=7:0<=h.indexOf("MSIE 8.0")&&(a._IE=
8);a._IE&&"BackCompat"==document.compatMode&&(a._IE=6)}b._BaseLayout="undefined"!==typeof window.KeymanWeb_BaseLayout?window.KeymanWeb_BaseLayout:"us";a._BrowserIsSafari=0<=navigator.userAgent.indexOf("AppleWebKit");a._GetEventObject=function(b){if(!b&&(b=window.event,!b)){var c=a._GetLastActiveElement();if(c){if(c=c.ownerDocument)c=c.parentWindow;if(!c)return null;b=c.event}}return b};a._push=function(a,c){a.push?a.push(c):a=a.concat(c);return a};a.attachToControl=a.attachToControl=function(b){a.isAttached(b)||
(a.isKMWInput(b)?(a.setupElementAttachment(b),a.isKMWDisabled(b)?k.touchable&&a.setupNonKMWTouchElement(b):k.touchable?a.enableTouchElement(b):a.enableInputElement(b)):k.touchable&&a.setupNonKMWTouchElement(b))};a.detachFromControl=a.detachFromControl=function(b){a.isAttached(b)&&(a.isKMWInput(b)&&(a.isKMWDisabled(b)||a._DisableControl(b)),a.clearElementAttachment(b))};a._AttachToIframe=function(b){try{var c=b.contentWindow.document;c&&(c.parentWindow?"on"==c.designMode.toLowerCase()||c.body.isContentEditable?
(e.attachDOMEvent(b,"focus",a._ControlFocus),e.attachDOMEvent(b,"blur",a._ControlBlur),e.attachDOMEvent(c,"keydown",a._KeyDown),e.attachDOMEvent(c,"keypress",a._KeyPress),e.attachDOMEvent(c,"keyup",a._KeyUp),a.legacy||(e.attachDOMEvent(c,"selectionchange",a._SelectionChange),a._SelectionChange())):a._SetupDocument(c):"on"==c.designMode.toLowerCase()?(e.attachDOMEvent(c,"focus",a._ControlFocus),e.attachDOMEvent(c,"blur",a._ControlBlur),e.attachDOMEvent(c,"keydown",a._KeyDown),e.attachDOMEvent(c,"keypress",
a._KeyPress),e.attachDOMEvent(c,"keyup",a._KeyUp)):a._SetupDocument(c))}catch(f){}};a._DetachFromIframe=function(b){try{var c=b.contentWindow.document;c&&(c.parentWindow?"on"==c.designMode.toLowerCase()||c.body.isContentEditable?(e.detachDOMEvent(b,"focus",a._ControlFocus),e.detachDOMEvent(b,"blur",a._ControlBlur),e.detachDOMEvent(c,"keydown",a._KeyDown),e.detachDOMEvent(c,"keypress",a._KeyPress),e.detachDOMEvent(c,"keyup",a._KeyUp),a.legacy||(e.detachDOMEvent(c,"selectionchange",a._SelectionChange),
a._SelectionChange())):a._ClearDocument(c):"on"==c.designMode.toLowerCase()?(e.detachDOMEvent(c,"focus",a._ControlFocus),e.detachDOMEvent(c,"blur",a._ControlBlur),e.detachDOMEvent(c,"keydown",a._KeyDown),e.detachDOMEvent(c,"keypress",a._KeyPress),e.detachDOMEvent(c,"keyup",a._KeyUp)):a._ClearDocument(c))}catch(f){}};a.GetEnabled=function(){return a._Enabled};a.SetEnabled=function(b){b=b?1:0;a._Enabled!=b&&(a._Enabled=b,!b&&a.HideInterface&&a.HideInterface())};a.disableControl=a.disableControl=function(b){a.isAttached(b)||
console.warn("KeymanWeb is not attached to element "+b);var c=b.className;0>c.indexOf("kmw-disabled")&&(b.className=c?c+" kmw-disabled":"kmw-disabled")};a.enableControl=a.enableControl=function(b){a.isAttached(b)||console.warn("KeymanWeb is not attached to element "+b);var c=b.className;0<=c.indexOf("kmw-disabled")&&(b.className=c.replace("kmw-disabled","").trim())};a._DisableControl=function(b){if(a.isAttached(b)){if(a._LastActiveElement==b||a._LastActiveElement==b.kmw_ip)a._LastActiveElement=null,
a.setActiveKeyboard(a.globalKeyboard,a.globalLanguageCode),a.osk._Hide();k.touchable?(a.disableTouchElement(b),a.setupNonKMWTouchElement(b),window.setTimeout(function(){a.listInputs();for(var c=0;c<a.sortedInputs.length;c++)a.sortedInputs[c].kmw_ip&&a.updateInput(a.sortedInputs[c].kmw_ip)},1)):a.listInputs();a.disableInputElement(b)}};a._EnableControl=function(b){a.isAttached(b)&&(k.touchable?(a.enableTouchElement(b),window.setTimeout(function(){a.listInputs();for(var c=0;c<a.sortedInputs.length;c++)a.sortedInputs[c].kmw_ip&&
a.updateInput(a.sortedInputs[c].kmw_ip)},1)):a.enableInputElement(b))};a.setKeyboardForControl=a.setKeyboardForControl=function(b,c,f){null!==c&&void 0!==c?0>c.indexOf("Keyboard_")&&""!=c&&(c="Keyboard_"+c):f=null;"iframe"==b.tagName.toLowerCase()?console.warn("'keymanweb.setKeyboardForControl' cannot set keyboard on iframes."):a.isAttached(b)?(b._kmwAttachment.keyboard=c,b._kmwAttachment.languageCode=f,a._LastActiveElement!=b&&a._LastActiveElement!=b.kmw_ip||!a._LastActiveElement||null!=c&&null!=
f&&a.setActiveKeyboard(c,f)):console.error("KeymanWeb is not attached to element "+b)};a.getKeyboardForControl=a.getKeyboardForControl=function(b){if(a.isAttached(b))return b._kmwAttachment.keyboard;console.error("KeymanWeb is not attached to element "+b);return null};a.focusLastActiveElement=a._FocusLastActiveElement=function(){a._LastActiveElement&&(a._JustActivatedKeymanWebUI=1,a._IsMozillaEditableIframe(a._LastActiveElement,0)?a._LastActiveElement.defaultView.focus():a._LastActiveElement.focus&&
a._LastActiveElement.focus())};a.getLastActiveElement=a._GetLastActiveElement=function(){return a._LastActiveElement};a.setActiveElement=a.setActiveElement=function(b,c){"string"==typeof b&&(b=document.getElementById(b));a._ActiveElement=a._LastActiveElement=b;1<arguments.length&&c&&(k.touchable?a.setFocus():a.focusLastActiveElement())};a.getUIState=a.getUIState=function(){var b={};b.activationPending=b.activationPending=a._IsActivatingKeymanWebUI;b.activated=b.activated=a._JustActivatedKeymanWebUI;
return b};a.activatingUI=function(b){a._IsActivatingKeymanWebUI=b?1:0};a._ControlFocus=function(d){if(!a._Enabled)return!0;d=a._GetEventObject(d);if(!d)return!0;if(d.target)d=d.target;else if(d.srcElement)d=d.srcElement;else return!0;if(k.touchable&&(null==d.className||0>d.className.indexOf("keymanweb-input")))return!0;var c=d.nodeName.toLowerCase();if("input"==c){if(c=d.type.toLowerCase(),"text"!=c&&"search"!=c)return!0}else if((k.touchable||!d.isContentEditable)&&"textarea"!=c)return!0;a._ActiveElement=
d;3==d.nodeType&&(d=d.parentNode);c=d;k.touchable&&(null==d.className||0>d.className.indexOf("keymanweb-input"))&&a.scrollBody(d);"IFRAME"==d.tagName&&(a._AttachToIframe(d),d=d.contentWindow.document);var f=a._LastActiveElement;a._LastActiveElement=d;var m=null==a._ActiveKeyboard?"":a._ActiveKeyboard.KI;null!=a._LastActiveElement._kmwAttachment.keyboard?a._JustActivatedKeymanWebUI?(a._LastActiveElement._kmwAttachment.keyboard=m,a._LastActiveElement._kmwAttachment.languageCode=a.getActiveLanguage()):
a.setActiveKeyboard(a._LastActiveElement._kmwAttachment.keyboard,a._LastActiveElement._kmwAttachment.languageCode):f&&(a._JustActivatedKeymanWebUI?(a.globalKeyboard=m,a.globalLanguageCode=a.getActiveLanguage()):a.setActiveKeyboard(a.globalKeyboard,a.globalLanguageCode));if(!a._IsIEEditableIframe(d,1)||!a._IsMozillaEditableIframe(d,1))return a._DisableInput=1,!0;a._DisableInput=0;a._JustActivatedKeymanWebUI||(a._DeadKeys=[],a._NotifyKeyboard(0,d,1));a._JustActivatedKeymanWebUI||a._SelectionControl==
d||(a._IsActivatingKeymanWebUI=0);a._JustActivatedKeymanWebUI=0;a._SelectionControl=d;d._KeymanWebSelectionStart=d._KeymanWebSelectionEnd=null;a._SetTargDir(d);a.doControlFocused(c,a._LastActiveElement);k.touchable?b._Enabled=1:b.ready&&(a.isCJK()&&(b._Enabled=1),b._Enabled?b._Show():b._Hide(!1));return!0};a._IsIEEditableIframe=function(a,c){var b,d=a&&(b=a.tagName)&&"body"==b.toLowerCase()&&(b=a.ownerDocument)&&b.parentWindow;return!c&&d||c&&(!d||a.isContentEditable)};a._IsMozillaEditableIframe=
function(a,c){var b;a=a&&(b=a.defaultView)&&b.frameElement;return!c&&a||c&&(!a||"on"==b.document.designMode.toLowerCase())};a._ControlBlur=function(d){if(!a._Enabled)return!0;d=a._GetEventObject(d);if(!d)return!0;if(d.target)var c=d.target;else if(d.srcElement)c=d.srcElement;else return!0;a._ActiveElement=null;k.touchable&&a.hideCaret();3==c.nodeType&&(c=c.parentNode);"IFRAME"==c.tagName&&(c=c.contentWindow.document);c.setSelectionRange&&(c._KeymanWebSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),
c._KeymanWebSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd));var f=a._ActiveKeyboard?a._ActiveKeyboard.KI:"";a._LastActiveElement&&null!=a._LastActiveElement._kmwAttachment.keyboard?(a._LastActiveElement._kmwAttachment.keyboard=f,a._LastActiveElement._kmwAttachment.languageCode=a.getActiveLanguage()):(a.globalKeyboard=f,a.globalLanguageCode=a.getActiveLanguage());a._LastActiveElement=c;a._JustActivatedKeymanWebUI=0;a._IsActivatingKeymanWebUI||a._NotifyKeyboard(0,c,0);d=a._GetEventObject(d);
a.doControlBlurred(c,d,a._IsActivatingKeymanWebUI);b.ready&&!a._IsActivatingKeymanWebUI&&b._Hide(!1);return!0};a.doControlBlurred=function(a,c,b){var d={};d.target=a;d.event=c;d.isActivating=b;return e.callEvent("kmw.controlblurred",d)};a.doControlFocused=function(a,c){var b={};b.target=a;b.activeControl=c;return e.callEvent("kmw.controlfocused",b)};a.doKeyboardRegistered=function(a,c,b,m){return e.callEvent("kmw.keyboardregistered",{internalName:a,language:c,keyboardName:b,languageCode:m})};a.doKeyboardUnregistered=
function(){return e.callEvent("kmw.keyboardregistered",{})};a.doKeyboardLoaded=function(a){var c={};c.keyboardName=a;return e.callEvent("kmw.keyboardloaded",c)};a.doBeforeKeyboardChange=function(a,c){var b={};b.internalName=a;b.languageCode=c;return e.callEvent("kmw.beforekeyboardchange",b)};a.doKeyboardChange=function(a,c,b){var d={};d.internalName=a;d.languageCode=c;d.indirect=2<arguments.length?b:!1;return e.callEvent("kmw.keyboardchange",d)};a.doUnloadOSK=function(){return e.callEvent("kmw.unloadosk",
{})};a.doLoadUI=function(){return e.callEvent("kmw.loaduserinterface",{})};a.doUnloadUI=function(){return e.callEvent("kmw.unloaduserinterface",{})};a._BubbledFocus=function(a){};window.addEventListener&&window.addEventListener("focus",a._BubbledFocus,!0);a._GetKeyEventProperties=function(b){var c={};b=a._GetEventObject(b);if(!b||!0===b.cancelBubble)return null;if(b.target)c.Ltarg=b.target;else if(b.srcElement)c.Ltarg=b.srcElement;else return null;3==c.Ltarg.nodeType&&(c.Ltarg=c.Ltarg.parentNode);
if(b.keyCode)c.Lcode=b.keyCode;else if(b.which)c.Lcode=b.which;else return null;c.Lmodifiers=(b.shiftKey?16:0)|(b.ctrlKey?32:0)|(b.altKey?64:0);c.LisVirtualKeyCode="undefined"!=typeof b.charCode&&null!=b.charCode&&(0==b.charCode||0!=(c.Lmodifiers&96));c.LisVirtualKey=c.LisVirtualKeyCode||"keypress"!=b.type;return c};a._SelectionChange=function(){if(a._IgnoreNextSelChange)a._IgnoreNextSelChange--;else{var b=document.selection;"control"!=b.type.toLowerCase()&&(b=b.createRange(),a._Selection&&a._Selection.isEqual(b)||
(a._Selection=b,a._DeadKeys=[]))}return!0};a._FindCaret=function(b){if(!b.createTextRange&&b.selectionStart){var c=document.createEvent("KeyboardEvent");if(c.initKeyEvent){c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,0,32);var d=a._KeyPress;a._KeyPress=function(c){};b.dispatchEvent(c);c=document.createEvent("KeyboardEvent");c.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,8,0);b.dispatchEvent(c);a._KeyPress=d}}};a._NotifyKeyboard=function(b,c,f){null!=a._ActiveKeyboard&&"function"==typeof a._ActiveKeyboard.KNS&&
a._ActiveKeyboard.KNS(b,c,f)};a._KeyDown=function(d){var c;a._KeyPressToSwallow=0;if(!a._Enabled||a._DisableInput||null==a._ActiveKeyboard)return!0;var f=e.eventTarget(d);if(k.touchable){if(f&&"undefined"!=typeof f.kmwInput&&0==f.kmwInput)return!0}else if(f&&0<=f.className.indexOf("kmw-disabled"))return!0;if(!b.ready)return!0;f=a._GetKeyEventProperties(d);if(null==f)return!0;switch(f.Lcode){case 8:a._DeadKeys=[];break;case 16:case 17:case 18:return a._NotifyKeyboard(f.Lcode,f.Ltarg,1),b._UpdateVKShift(f,
f.Lcode-15,1)}(c=f.Ltarg.ownerDocument)&&(c=c.selection)&&(33>f.Lcode||40<f.Lcode)&&c.createRange().select();!window.event&&a._VKMap_FF_IE["k"+f.Lcode]&&(f.Lcode=a._VKMap_FF_IE["k"+f.Lcode]);if(a._ActiveKeyboard.KM){if(8==f.Lcode)return a._KeyPressToSwallow=1,a.callKeyboardStartGroup(f.Ltarg,f)||a.KO(1,a._LastActiveElement,""),!1;a._KeyPressToSwallow=0}else{var m=0;(c=a._VKMap[b._BaseLayout])&&c["k"+f.Lcode]&&(f.Lcode=c["k"+f.Lcode]);"undefined"!=typeof a._ActiveKeyboard.KM||f.Lmodifiers&96||(c={Lcode:a._USKeyCodeToCharCode(f),
Ltarg:f.Ltarg,Lmodifiers:0,LisVirtualKey:0},a.callKeyboardStartGroup(c.Ltarg,c)&&(m=1));m=m||a.callKeyboardStartGroup(f.Ltarg,f);8==f.Lcode&&!m&&null!=f.Ltarg.className&&0<=f.Ltarg.className.indexOf("keymanweb-input")&&a.KO(1,a._LastActiveElement,"")}!m&&96<=f.Lcode&&111>=f.Lcode&&(m=106>f.Lcode?f.Lcode-48:f.Lcode-64,a.KO(0,f.Ltarg,String._kmwFromCharCode(m)),m=1);if(m)return a._FindCaret(f.Ltarg),d&&d.preventDefault&&d.preventDefault(),a._KeyPressToSwallow=d?d.keyCode:0,!1;a._KeyPressToSwallow=0;
return 8==f.Lcode&&null!=f.Ltarg.className&&0<=f.Ltarg.className.indexOf("keymanweb-input")?!1:!0};a.callKeyboardStartGroup=function(b,c){a._CachedSelectionStart=null;a._DeadkeyResetMatched();a.cachedContext.reset();return a._ActiveKeyboard.gs(b,c)};a._KeyPress=function(b){if(!a._Enabled||a._DisableInput||null==a._ActiveKeyboard)return!0;var c=a._GetKeyEventProperties(b);if(null==c||c.LisVirtualKey)return!0;if(!a._ActiveKeyboard.KM){if(!a._KeyPressToSwallow||32>c.Lcode||a._BrowserIsSafari&&63232<
c.Lcode&&63744>c.Lcode)return!0;if(b=a._GetEventObject(b))b.returnValue=!1;return!1}if(a._KeyPressToSwallow||a.callKeyboardStartGroup(c.Ltarg,c))return a._KeyPressToSwallow=0,b&&b.preventDefault&&b.preventDefault(),a._FindCaret(c.Ltarg),!1;a._KeyPressToSwallow=0;return!0};a._KeyUp=function(d){d=a._GetKeyEventProperties(d);if(null==d||!b.ready)return!0;switch(d.Lcode){case 13:if("TEXTAREA"==d.Ltarg.nodeName)break;"search"==d.Ltarg.type||"submit"==d.Ltarg.type?d.Ltarg.form.submit():a.moveToNext(!1);
return!0;case 16:case 17:case 18:return a._NotifyKeyboard(d.Lcode,d.Ltarg,0),b._UpdateVKShift(d,d.Lcode-15,1)}var c;(c=d.Ltarg.ownerDocument)&&(c=c.selection)&&"control"!=c.type&&(c=c.createRange(),a._Selection=c);return!1};a.moveToNext=function(b){var c,d=a.sortedInputs,m=a._ActiveElement;if(0!=d.length){k.touchable&&(m=m.base);for(c=0;c<d.length&&d[c]!=m;c++);c=b?c-1:c+1;c>=d.length&&(c-=d.length);0>c&&(c+=d.length);k.touchable?(a.focusing=!0,b=d[c].kmw_ip,"undefined"==typeof b?d[c].focus():(a._ActiveElement=
a._LastActiveElement=b,a.setTextCaret(b,1E4),a.scrollInput(b))):d[c].focus()}};a.moveToElement=function(a){"string"==typeof a&&(a=document.getElementById(a));k.touchable&&a.kmw_ip?a.kmw_ip.focus():a.focus()};a._SetActiveKeyboard=function(d,c,f){var m,g;if(2>arguments.length||!c)c="---";for(m=0;m<a._KeyboardStubs.length&&(d!=a._KeyboardStubs[m].KI||c!=a._KeyboardStubs[m].KLC&&"---"!=c);m++);k.touchable&&(""==d||null==d||m>=a._KeyboardStubs.length)&&(d=a._KeyboardStubs[0].KI,c=a._KeyboardStubs[0].KLC);
2<arguments.length&&f&&a.saveCurrentKeyboard(d,c);if(!a._ActiveStub||!a._ActiveKeyboard||a._ActiveKeyboard.KI!=d||a._ActiveStub.KI!=d||a._ActiveStub.KLC!=c||a.mustReloadKeyboard){if(a._ActiveKeyboard&&a._ActiveKeyboard.KI==d)for(g=0;g<a._KeyboardStubs.length;g++)if(a._KeyboardStubs[g].KI==d&&a._KeyboardStubs[g].KLC==c){a._ActiveStub=a._KeyboardStubs[g];b.appendStyleSheet();a.mustReloadKeyboard&&b._Load();return}a._ActiveKeyboard=null;a._ActiveStub=null;if(""==d)b._Hide(!1),a.isEmbedded||e.wait(!1);
else{for(g=0;g<a._Keyboards.length;g++)if(a._Keyboards[g].KI==d){a._ActiveKeyboard=a._Keyboards[g];a._SetTargDir(a._LastActiveElement);for(m=0;m<a._KeyboardStubs.length;m++)if(a._KeyboardStubs[m].KI==d&&(a._KeyboardStubs[m].KLC==c||"---"==c)){a._ActiveStub=a._KeyboardStubs[m];break}break}if(null==a._ActiveKeyboard){for(g=0;g<a._KeyboardStubs.length;g++)if(a._KeyboardStubs[g].KI==d&&(a._KeyboardStubs[g].KLC==c||"---"==c)){if(a.isCJK(a._KeyboardStubs[g])||k.touchable)b._Enabled=1;if(!a._KeyboardStubs[g].asyncLoader){b.ready&&
b._Hide(!1);var n=a._KeyboardStubs[g];n.asyncLoader={};var l=n.KN,h=n.KL,l=l.replace(/\s*keyboard\s*/i,"");a.isEmbedded||(n.asyncLoader.callback=function(c){a.isEmbedded||(e.wait(!1),e.alert(c||"Sorry, the "+l+" keyboard for "+h+" is not currently available.",function(){a.setActiveKeyboard("")}));0<g&&(c=a._KeyboardStubs[0],a._SetActiveKeyboard(c.KI,c.KLC,!0))},n.asyncLoader.timer=window.setTimeout(n.asyncLoader.callback,1E4));a.isEmbedded||e.wait("Installing keyboard<br/>"+l);window.setTimeout(function(){a.installKeyboard(n)},
0)}a._ActiveStub=a._KeyboardStubs[g];return}a._SetTargDir(a._LastActiveElement)}m=a._ActiveKeyboard;null!==m&&String.kmwEnableSupplementaryPlane(m&&(m.KS&&1==m.KS||"Hieroglyphic"==m.KN));b._Load()}}};a.installKeyboard=function(d){var c=e._CreateElement("SCRIPT");c.charset="UTF-8";c.type="text/javascript";var f=d.KF,m=d.KL,g=d.KN;c.addEventListener("error",function(){null!==d.asyncLoader.timer&&(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);a.isEmbedded||(d.asyncLoader.callback("Cannot find the "+
g+" keyboard for "+m+"."),console.log("Error:  cannot find the",g,"keyboard for",m,"at",f+"."));d.asyncLoader=null},!1);c.addEventListener("load",function(){null!==d.asyncLoader.timer&&(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);var c=a._getKeyboardByID(d.KI);c?d==a._ActiveStub&&(a.doBeforeKeyboardChange(c.KI,d.KLC),a._ActiveKeyboard=c,null!=a._LastActiveElement&&(a._JustActivatedKeymanWebUI=1,a._SetTargDir(a._LastActiveElement)),String.kmwEnableSupplementaryPlane(d&&(d.KS&&
1==d.KS||"Hieroglyphic"==c.KN)),a.saveCurrentKeyboard(c.KI,d.KLC),b._Load(),a.isEmbedded||e.wait(!1)):a.isEmbedded||(d.asyncLoader.callback("Error registering the "+g+" keyboard for "+m+"."),console.log("Error registering the",g,"keyboard for",m+"."));d.asyncLoader=null},!1);c.src=a.getKeyboardPath(f);try{document.body.appendChild(c)}catch(n){document.getElementsByTagName("head")[0].appendChild(c)}};a._getKeyboardByID=function(b){var c;for(c=0;c<a._Keyboards.length;c++)if(b==a._Keyboards[c].KI)return a._Keyboards[c];
return null};a.isCJK=function(b){var c=a._ActiveKeyboard,d="";0<arguments.length&&(c=b);c&&("undefined"!=typeof c.KLC?d=c.KLC:"undefined"!=typeof c.LanguageCode&&(d=c.LanguageCode));return"cmn"==d||"jpn"==d||"kor"==d};a.isCJK=a.isCJK;a.setActiveKeyboard=a.setActiveKeyboard=function(b,c){a.doBeforeKeyboardChange(b,c);a._SetActiveKeyboard(b,c,!0);null!=a._LastActiveElement&&a._FocusLastActiveElement();a.doKeyboardChange(b,c)};a.getActiveKeyboard=function(){return null==a._ActiveKeyboard?"":a._ActiveKeyboard.KI};
a.getActiveLanguage=a.getActiveLanguage=function(){return null==a._ActiveStub?"":a._ActiveStub.KLC};a.getKeyboard=function(b,c){var d;for(d=0;d<a._KeyboardStubs.length;d++){var m=a._GetKeyboardDetail(a._KeyboardStubs[d]);if(m.InternalName==b&&(2>arguments.length||m.LanguageCode==c))return m}return null};a.GetKeyboardDetail=function(b){for(var c=a.getKeyboards(),d=0;d<c.length;d++)if(c[d].InternalName==b)return c[d];return null};a._GetKeyboardDetail=function(a){var c={};c.Name=a.KN;c.InternalName=
a.KI;c.LanguageName=a.KL;c.LanguageCode=a.KLC;c.RegionName=a.KR;c.RegionCode=a.KRC;c.CountryName=a.KC;c.CountryCode=a.KCC;c.KeyboardID=a.KD;c.Font=a.KFont;c.OskFont=a.KOskFont;return c};a.getKeyboards=function(){var b=[],c;for(c=0;c<a._KeyboardStubs.length;c++){var f=a._KeyboardStubs[c];f=a._GetKeyboardDetail(f);b=a._push(b,f)}return b};a._WindowUnload=function(){a.doUnloadUI();b.ready&&b._Unload();a._LastActiveElement=0};e.attachDOMEvent(window,"load",function(a){document.body.scrollTop=0;"undefined"!=
typeof document.documentElement&&(document.documentElement.scrollTop=0)},!1);e.attachDOMEvent(window,"unload",a._WindowUnload,!1);a.isKMWInput=function(a){var c=a.tagName.toLowerCase();if("textarea"==c)return!0;if("input"==c&&"text"==a.type.toLowerCase()){if("text"==a.type||"search"==a.type)return!0}else if("iframe"==c&&!k.touchable)try{if(a.contentWindow.document)return!0}catch(f){}else if(a.isContentEditable&&!k.touchable)return!0;return!1};a.isKMWDisabled=function(a){var c=a.className;a.tagName.toLowerCase();
return a.readOnly||c&&0<=c.indexOf("kmw-disabled")?!0:!1};a.isAttached=function(a){return a._kmwAttachment?!0:!1};a.setupElementAttachment=function(a){a._kmwAttachment={keyboard:null,touchEnabled:k.touchable}};a.clearElementAttachment=function(a){a._kmwAttachment=null};a._GetDocumentEditables=function(a){var c=[];if(a.tagName){var b=a.tagName.toLowerCase();"input"!=b&&"textarea"!=b&&"iframe"!=b||c.concat(a)}else if("#text"==a.nodeName)return[];a.getElementsByTagName&&(c=c.concat(e.arrayFromNodeList(a.getElementsByTagName("INPUT")),
e.arrayFromNodeList(a.getElementsByTagName("TEXTAREA")),e.arrayFromNodeList(a.getElementsByTagName("IFRAME"))));a.querySelectorAll&&(c=c.concat(e.arrayFromNodeList(a.querySelectorAll("[contenteditable]"))));a.isContentEditable&&(c=c.concat(a));return c};a._SetupDocument=function(b){b=a._GetDocumentEditables(b);for(var c=0;c<b.length;c++)a.attachToControl(b[c])};a._ClearDocument=function(b){b=a._GetDocumentEditables(b);for(var c=0;c<b.length;c++)a.detachFromControl(b[c])};a.fixPath=function(a){if(0==
a.length)return a;var c=a.substr(a.length-1,1);return"/"==c||"\\"==c?a:a+"/"};a.init=a.init=function(d){var c;var f=function(c){if(0==c.length)return c;"/"!=c.substr(c.length-1,1)&&(c+="/");return"http"==c.replace(/^(http)s?:.*/,"$1")||"file"==c.replace(/^(file):.*/,"$1")?c:"//"==c.substr(0,2)?a.protocol+c:"/"==c.substr(0,1)?a.rootPath+c.substr(1):a.srcPath+c};var m=a.options;if("object"==typeof d&&null!==d)for(c in m)d.hasOwnProperty(c)&&(m[c]=d[c]);""!=m.root&&(a.rootPath=f(m.root));""==m.resources&&
(m.resources=a.srcPath);m.resources=f(m.resources);m.keyboards=f(m.keyboards);m.fonts=f(m.fonts);""==m.attachType&&(m.attachType=k.touchable?"manual":"auto");a.setDefaultDeviceOptions(m);if(!a.initialized)if("complete"!==document.readyState)window.setTimeout(function(){a.init(d)},50);else{a._MasterDocument=window.document;"Android"==k.OS&&(k.dpi=e.getDPI(),k.formFactor=screen.height<4*k.dpi||screen.width<4*k.dpi?"phone":"tablet");window.removeEventListener&&window.removeEventListener("focus",a._BubbledFocus,
!0);a.initialized=1;b.prepare();e.prepareWait();a.addKeyboardArray(a.deferredStubs);for(m=0;m<a.deferredKRS.length;m++)a.KRS(a.deferredKRS[m]);a.initializeUI();for(m=0;m<a.deferredKR.length;m++)a.KR(a.deferredKR[m]);a.isEmbedded||(a.appliedFont=a.baseFont=a.getBaseFont(),k.touchable&&(a.handleRotationEvents(),a.setupTouchDevice()),"manual"!=a.options.attachType&&a._SetupDocument(document.documentElement),a.listInputs(),k.touchable&&(b._Box.addEventListener("touchend",function(c){c.stopPropagation()},
!1),m=document.createElement("DIV"),f=m.style,f.width="100%",f.height=screen.width/2+"px",document.body.appendChild(m),"Android"==k.OS&&0<navigator.userAgent.indexOf("Chrome")?(a.hideOskWhileScrolling=function(a){if("undefined"!=typeof b._Box&&"undefined"!=typeof b._Box.style){c=a.target.parentNode;if("undefined"!=typeof c&&null!=c&&(0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-")||"undefined"!=typeof c.parentNode&&(c=c.parentNode,0<=c.className.indexOf("keymanweb-input")||
0<=c.className.indexOf("kmw-key-"))))return;b.hideNow()}},document.body.addEventListener("touchstart",a.hideOskWhileScrolling,!1)):(a.conditionallyHideOsk=function(){a.hideOnRelease&&!b.lgList&&b.hideNow();a.hideOnRelease=!1},a.hideOskIfOnBody=function(c){a.touchY=c.touches[0].screenY;a.hideOnRelease=!0},a.cancelHideIfScrolling=function(c){c=c.touches[0].screenY;var b=a.touchY;if(5<c-b||5>b-c)a.hideOnRelease=!1},document.body.addEventListener("touchstart",a.hideOskIfOnBody,!1),document.body.addEventListener("touchmove",
a.cancelHideIfScrolling,!1),document.body.addEventListener("touchend",a.conditionallyHideOsk,!1))),document.selection&&!a.legacy&&e.attachDOMEvent(document,"selectionchange",a._SelectionChange),a.restoreCurrentKeyboard(),m=document.querySelector("body"),"manual"!=a.options.attachType&&(a.mutationObserver=new MutationObserver(a._AutoAttachObserverCore),f={childList:!0,subtree:!0},a.mutationObserver.observe(m,f)),f={subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["class","readonly"]},
(new MutationObserver(a._EnablementMutationObserverCore)).observe(m,f),a.initialized=2)}};a._EnablementMutationObserverCore=function(b){for(var c=0;c<b.length;c++){var f=b[c],d=f.oldValue?0<=f.oldValue.indexOf("kmw-disabled"):!1,e=0<=f.target.className.indexOf("kmw-disabled");d&&!e?a._EnableControl(f.target):!d&&e&&a._DisableControl(f.target);e||"readonly"!=f.attributeName||(d=f.oldValue?null!=f.oldValue:!1,e=f.target.readOnly,d&&!e?a._EnableControl(f.target):!d&&e&&a._DisableControl(f.target))}};
a._AutoAttachObserverCore=function(b){for(var c=[],f=[],d=0;d<b.length;d++){for(var e=b[d],n=0;n<e.addedNodes.length;n++)c=c.concat(a._GetDocumentEditables(e.addedNodes[n]));for(n=0;n<e.removedNodes.length;n++)f=f.concat(a._GetDocumentEditables(e.removedNodes[n]))}for(b=0;b<c.length;b++)a.isKMWInput(c[b])&&a._MutationAdditionObserved(c[b]);for(b=0;b<f.length;b++)a.isKMWInput(f[b])&&a._MutationRemovalObserved(f[b]);if(c.length||f.length)k.touchable?k.touchable&&window.setTimeout(function(){a.listInputs();
for(var c=0;c<a.sortedInputs.length;c++)a.sortedInputs[c].kmw_ip&&a.updateInput(a.sortedInputs[c].kmw_ip)},1):a.listInputs()};a._MutationAdditionObserved=function(b){if("iframe"!=b.tagName.toLowerCase()||k.touchable)a.attachToControl(b);else{var c=function(){a.attachToControl(b)};b.addEventListener("load",c);"complete"==b.contentDocument.readyState&&c()}};a._MutationRemovalObserved=function(b){k.touchable&&a.disableTouchElement(b);a.disableInputElement(b);a.clearElementAttachment(b)};a.listInputs=
function(){var b,c=[],f=document.getElementsByTagName("INPUT"),m=document.getElementsByTagName("TEXTAREA");for(b=0;b<f.length;b++)switch(f[b].type){case "text":case "search":case "email":case "url":0>f[b].className.indexOf("kmw-disabled")&&c.push({ip:f[b],x:e._GetAbsoluteX(f[b]),y:e._GetAbsoluteY(f[b])})}for(b=0;b<m.length;b++)0>m[b].className.indexOf("kmw-disabled")&&c.push({ip:m[b],x:e._GetAbsoluteX(m[b]),y:e._GetAbsoluteY(m[b])});c.sort(function(c,a){return c.y!=a.y?c.y-a.y:c.x-a.x});f=[];for(b=
0;b<c.length;b++)f.push(c[b].ip);a.sortedInputs=f};a.initializeUI=function(){"function"==typeof a.ui.initialize?(a.ui.initialize(),b._Show()):window.setTimeout(a.initializeUI,1E3)};a.isPositionSynthesized=function(){return k.touchable};a._SelPos=function(b){var c,f=999>e._GetIEVersion();if(a.isPositionSynthesized())return a.getTextCaret(b);if(b._KeymanWebSelectionStart)return b._KeymanWebSelectionStart;if(b.setSelectionRange)return b.value.substr(0,b.selectionStart)._kmwLength();if((c=b.ownerDocument)&&
(c=c.defaultView)&&c.getSelection&&"on"==b.ownerDocument.designMode.toLowerCase()){if(b=c.getSelection(),3==b.focusNode.nodeType)return b.focusNode.substringData(0,b.focusOffset)._kmwLength()}else if(f){if("string"==typeof b.value)return c=a.getInputSelection(b),b.value.substr(0,c.start)._kmwLength();if(b=b.body?b:b.ownerDocument)c=b.selection;else return 0;b=c.createRange();b.moveStart("textedit",-1);return b.text._kmwLength()}return 0};a.getInputSelection=function(a){var c=0,b=0,d;if("number"==
typeof a.selectionStart&&"number"==typeof a.selectionEnd)c=a.selectionStart,b=a.selectionEnd;else if((d=document.selection.createRange())&&d.parentElement()==a){var e=a.value.length;var n=a.value.replace(/\r\n/g,"\n");b=a.createTextRange();b.moveToBookmark(d.getBookmark());a=a.createTextRange();a.collapse(!1);-1<b.compareEndPoints("StartToEnd",a)?c=b=e:(c=-b.moveStart("character",-e),c+=n.slice(0,c).split("\n").length-1,-1<b.compareEndPoints("EndToEnd",a)?b=e:(b=-b.moveEnd("character",-e),b+=n.slice(0,
b).split("\n").length-1))}return{start:c,end:b}};a._DeadkeyResetMatched=function(){var b,c=a._DeadKeys;for(b=0;b<c.length;b++)c[b].matched=0};a._DeadkeyDeleteMatched=function(){var b,c=a._DeadKeys;for(b=0;b<c.length;b++)c[b].matched&&c.splice(b,1)};a._DeadkeyAdjustPos=function(b,c){var f,d=a._DeadKeys;for(f=0;f<d.length;f++)d[f].p>b&&(d[f].p+=c)};a._SetTargDir=function(b){var c=null!=a._ActiveKeyboard&&a._ActiveKeyboard.KRTL?"rtl":"ltr";b&&(k.touchable?0==b.textContent.length&&(b.base.dir=b.dir=c,
a.setTextCaret(b,1E4)):"string"==typeof b.value?0==b.value.length&&(b.dir=c):"string"==typeof b.textContent&&0==b.textContent.length&&(b.dir=c))};a._ResetVKShift=function(){a._IsActivatingKeymanWebUI||b._UpdateVKShift&&b._UpdateVKShift(null,15,0)};a.addHotKey=a.addHotKey=function(b,c,f){for(var d=0;d<a._HotKeys.length;d++)if(a._HotKeys[d].Code==b&&a._HotKeys[d].Shift==c){a._HotKeys[d].Handler=f;return}a._HotKeys.push({Code:b,Shift:c,Handler:f})};a.removeHotKey=a.removeHotKey=function(b,c){for(var f=
0;f<a._HotKeys.length;f++)if(a._HotKeys[f].Code==b&&a._HotKeys[f].Shift==c){a._HotKeys.splice(f,1);break}};a._ProcessHotKeys=function(b){b||(b=window.event);if(b.keyCode)var c=b.keyCode;else if(b.which)c=b.which;else return 0;for(var f=(b.shiftKey?16:0)|(b.ctrlKey?32:0)|(b.altKey?64:0),d=0;d<a._HotKeys.length;d++)if(c==a._HotKeys[d].Code&&f==a._HotKeys[d].Shift)return a._HotKeys[d].Handler(),b.returnValue=0,b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1;return!0};e.attachDOMEvent(document,
"keyup",a._ProcessHotKeys,!1);a.saveCurrentKeyboard=function(a,c){e.saveCookie("KeymanWeb_Keyboard",{current:a+":"+c})};a.restoreCurrentKeyboard=function(){var b=a._KeyboardStubs,c=b.length;if(!(1>b.length)){var f=a.getSavedKeyboard();f.split(":");var m=f.split(":");2>m.length&&(m[1]="");for(f=0;f<c&&(b[f].KI!=m[0]||b[f].KLC!=m[1]&&""!=m[1]);f++);if(f<c||null==a._ActiveKeyboard)a._SetActiveKeyboard(m[0],m[1],!1),a.doKeyboardChange(m[0],m[1])}};a.getSavedKeyboard=a.getSavedKeyboard=function(){var b=
e.loadCookie("KeymanWeb_Keyboard");if("string"!=typeof b.current)return"Keyboard_us:eng";var c,f=a._KeyboardStubs;for(c=0;c<f.length;c++){var m=f[c].KI+":"+f[c].KLC;if(m==b.current)return m}for(c=0;c<f.length;c++)if(m=f[c].KI+":"+f[c].KLC,"Keyboard_us:eng"==m)return m;return 0<f.length?f[0].KI+":"+f[0].KLC:"Keyboard_us:eng"};e.attachDOMEvent(window,"focus",a._ResetVKShift,!1);e.attachDOMEvent(window,"blur",a._ResetVKShift,!1);String.kmwEnableSupplementaryPlane(!1)}();window.tavultesoft.keymanweb.initialized||function(){var a=window.tavultesoft.keymanweb,b=a.osk,e=a.util,k=e.device;b.keyCodes={K_BKSP:8,K_TAB:9,K_ENTER:13,K_SHIFT:16,K_CONTROL:17,K_ALT:18,K_PAUSE:19,K_CAPS:20,K_ESC:27,K_SPACE:32,K_PGUP:33,K_PGDN:34,K_END:35,K_HOME:36,K_LEFT:37,K_UP:38,K_RIGHT:39,K_DOWN:40,K_SEL:41,K_PRINT:42,K_EXEC:43,K_INS:45,K_DEL:46,K_HELP:47,K_0:48,K_1:49,K_2:50,K_3:51,K_4:52,K_5:53,K_6:54,K_7:55,K_8:56,K_9:57,K_A:65,K_B:66,K_C:67,K_D:68,K_E:69,K_F:70,K_G:71,K_H:72,K_I:73,K_J:74,
K_K:75,K_L:76,K_M:77,K_N:78,K_O:79,K_P:80,K_Q:81,K_R:82,K_S:83,K_T:84,K_U:85,K_V:86,K_W:87,K_X:88,K_Y:89,K_Z:90,K_NP0:96,K_NP1:97,K_NP2:98,K_NP3:99,K_NP4:100,K_NP5:101,K_NP6:102,K_NP7:103,K_NP8:104,K_NP9:105,K_NPSTAR:106,K_NPPLUS:107,K_SEPARATOR:108,K_NPMINUS:109,K_NPDOT:110,K_NPSLASH:111,K_F1:112,K_F2:113,K_F3:114,K_F4:115,K_F5:116,K_F6:117,K_F7:118,K_F8:119,K_F9:120,K_F10:121,K_F11:122,K_F12:123,K_NUMLOCK:144,K_SCROLL:145,K_LSHIFT:160,K_RSHIFT:161,K_LCONTROL:162,K_RCONTROL:163,K_LALT:164,K_RALT:165,
K_COLON:186,K_EQUAL:187,K_COMMA:188,K_HYPHEN:189,K_PERIOD:190,K_SLASH:191,K_BKQUOTE:192,K_LBRKT:219,K_BKSLASH:220,K_RBRKT:221,K_QUOTE:222,K_oE2:226,K_LOPT:50001,K_ROPT:50002,K_NUMERALS:50003,K_SYMBOLS:50004,K_CURRENCIES:50005,K_UPPER:50006,K_LOWER:50007,K_ALPHA:50008,K_SHIFTED:50009,K_ALTGR:50010,K_TABBACK:50011,K_TABFWD:50012};var h=[["0123456789",";=,-./`","[\\]'"],[")!@#$%^&*(",":+<_>?~",'{|}"']],d="K_BKQUOTE K_1 K_2 K_3 K_4 K_5 K_6 K_7 K_8 K_9 K_0 K_HYPHEN K_EQUAL K_* K_* K_* K_Q K_W K_E K_R K_T K_Y K_U K_I K_O K_P K_LBRKT K_RBRKT K_BKSLASH K_* K_* K_* K_A K_S K_D K_F K_G K_H K_J K_K K_L K_COLON K_QUOTE K_* K_* K_* K_* K_* K_oE2 K_Z K_X K_C K_V K_B K_N K_M K_COMMA K_PERIOD K_SLASH K_* K_* K_* K_* K_* K_SPACE".split(" ");
b._Box=null;b._DivVKbd=null;b._DivVKbdHelp=null;b._Visible=0;b._Enabled=1;b._VShift=[];b._VKeySpans=[];b._VKeyDown=null;b._VKbdContainer=null;b._VOriginalWidth=1;b._BaseLayout="us";b._BaseLayoutEuro={};b._BaseLayoutEuro.se="\u00a71234567890+\u00b4~~~QWERTYUIOP\u00c5\u00a8'~~~ASDFGHJKL\u00d6\u00c4~~~~~<ZXCVBNM,.-~~~~~ ";b._BaseLayoutEuro.uk="`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;'~~~~~\\ZXCVBNM,./~~~~~ ";b.lgTimer=null;b.lgKey=null;b.hkKey=null;b.spaceBar=null;b.lgList=null;b.frameColor="#ad4a28";
b.keyPending=null;b.fontFamily="";b.fontSize="1em";b.layout=null;b.layers=null;b.layerId="default";b.nextLayer="default";b.layerIndex=0;b.currentKey="";b.subkeyDelayTimer=null;b.popupPending=!1;b.popupVisible=!1;b.popupCallout=null;b.styleSheet=null;b.loadRetry=0;b.popupDelay=500;b.currentTarget=null;b.touchCount=0;b.touchX=0;b.deleting=0;b.x=99;b.y=0;b.width=1;b.height=1;b.rowHeight=1;b.nRows=1;b.vpScale=1;b.closeButton=null;b.resizeIcon=null;b.resizing=0;b.pinImg=null;b.userPositioned=0;b.dfltX=
"";b.dfltY="";b.noDrag=!1;b.keytip=null;b.touchY=0;b.addCallout=function(c){};b.addEventListener=function(c,a){return e.addEventListener("osk."+c,a)};b._TitleBarInterior=function(){var c=e._CreateElement("DIV"),f=c.style;f.paddingLeft="2px";f.cursor="move";f.background="#ad4a28";f.font="8pt Tahoma,Arial,sans-serif";f=e._CreateElement("DIV");f.className="kmw-title-bar-actions";f.onmousedown=b._CancelMouse;var d=e._CreateElement("DIV");d.className="kmw-close-button";d.onmousedown=b._CancelMouse;d.onclick=
function(){b._Hide(!0)};b.closeButton=d;f.appendChild(d);b.restorePosition=function(){b._Visible&&(a._FocusLastActiveElement(),b.loadCookie(),b.userPositioned=!1,b.saveCookie(),b._Show(),b.doResizeMove());b.pinImg&&(b.pinImg.style.display="none");window.event&&(window.event.returnValue=!1)};d=b.pinImg=e._CreateElement("DIV");d.className="kmw-pin-image";d.title="Pin the On Screen Keyboard to its default location on the active text box";d.onclick=b.restorePosition;d.onmousedown=b._CancelMouse;d.style.display=
"none";k.touchable||f.appendChild(d);c.appendChild(f);d=a._TitleElement=e._CreateElement("SPAN");d.className="kmw-title-bar-caption";d.innerHTML="KeymanWeb";c.appendChild(d);return c};b.isEnabled=b.isEnabled=function(){return b._Enabled};b.isVisible=b.isVisible=function(){return b._Visible};b.getRect=b.getRect=function(){var c={};b._DivVKbd?(c.left=c.left=e._GetAbsoluteX(b._DivVKbd),c.top=c.top=e._GetAbsoluteY(b._DivVKbd),c.width=c.width=e._GetAbsoluteX(b._DivVKbdHelp)-e._GetAbsoluteX(b._DivVKbd)+
b._DivVKbdHelp.offsetWidth,c.height=c.height=e._GetAbsoluteY(b._DivVKbdHelp)-e._GetAbsoluteY(b._DivVKbd)+b._DivVKbdHelp.offsetHeight):(c.left=c.left=e._GetAbsoluteX(b._Box),c.top=c.top=e._GetAbsoluteY(b._Box),c.width=c.width=e._GetAbsoluteX(b._Box)+b._Box.offsetWidth,c.height=c.height=e._GetAbsoluteY(b._Box)+b._Box.offsetHeight);return c};b.setRect=b.setRect=function(c){if(null!=b._Box&&"desktop"==k.formFactor){var a=b._Box,d=a.style;"left"in c&&(d.left=c.left-e._GetAbsoluteX(a)+a.offsetLeft+"px",
b.dfltX=d.left);"top"in c&&(d.top=c.top-e._GetAbsoluteY(a)+a.offsetTop+"px",b.dfltY=d.top);if(null!=b._DivVKbd){var g=b._DivVKbd,d=g.style;if("width"in c){var n=c.width-(a.offsetWidth-g.offsetWidth);n<.2*screen.width&&(n=.2*screen.width);n>.9*screen.width&&(n=.9*screen.width);d.width=n+"px";b.width=n}"height"in c&&(a=c.height-(a.offsetHeight-g.offsetHeight),a<.1*screen.height&&(a=.1*screen.height),a>.5*screen.height&&(a=.5*screen.height),d.height=a+"px",d.fontSize=a/8+"px",b.height=a);"nosize"in c&&
b.resizeIcon&&(b.resizeIcon.style.display=c.nosize?"none":"block")}"nomove"in c&&(b.noDrag=c.nomove,b.pinImg&&(b.pinImg.style.display=c.nomove||!b.userPositioned?"none":"block"));b.saveCookie()}};b.getPos=function(){var c=b._Box,a={};a.left=b._Visible?c.offsetLeft:b.x;a.top=b._Visible?c.offsetTop:b.y;return a};b.setPos=b.setPos=function(c){if("undefined"!=typeof b._Box&&!k.touchable){if(b.userPositioned){var a=c.left;c=c.top;"undefined"!=typeof a&&(a<-.8*b._Box.offsetWidth&&(a=-.8*b._Box.offsetWidth),
b.userPositioned&&(b._Box.style.left=a+"px",b.x=a));"undefined"!=typeof c&&(0>c&&(c=0),b.userPositioned&&(b._Box.style.top=c+"px",b.y=c))}b.pinImg&&(b.pinImg.style.display=b.userPositioned?"block":"none")}};b._VKeyGetTarget=function(c){c=a._GetEventObject(c);if(!c)return null;if(c.target)c=c.target;else if(c.srcElement)c=c.srcElement;else return null;3==c.nodeType&&(c=c.parentNode);"SPAN"==c.tagName&&(c=c.parentNode);return c};b.highlightKey=function(c,a){if(c&&""!=c.className&&!(0<=c.className.indexOf("kmw-key-row"))){var f=
c.className;null!=b.keytip&&0>f.indexOf("kmw-key-shift")&&0>f.indexOf("kmw-spacebar")&&0>c.id.indexOf("popup")?b.showKeyTip(c,a):a&&0>f.indexOf(" kmw-key-touched")?(c.className=f+" kmw-key-touched",b.showKeyTip(null,!1)):c.className=f.replace(" kmw-key-touched","")}};b.showSubKeys=function(c){if(null!=b.keyPending){var a=document.createElement("DIV"),d=b.getDefaultKeyObject();a.id="kmw-popup-keys";b.popupBaseKey=c;"phone"==k.formFactor&&b.prependBaseKey(c);var g=c.id.split("-");var n=g[g.length-1];
if("phone"==k.formFactor&&c.subKeys[0].id!=n){n={id:n,layer:""};1<g.length&&(n.layer=g[0]);for(g=0;g<c.childNodes.length&&!b.hasClass(c.childNodes[g],"kmw-key-text");g++);g<c.childNodes.length&&(n.text=c.childNodes[g].textContent);c.subKeys.splice(0,0,n)}g=a.style;g.bottom=parseInt(c.style.bottom,10)+parseInt(c.style.height,10)+4+"px";g.fontFamily=b.fontFamily;g.fontSize=e.getStyleValue(c,"font-size");g.visibility="hidden";var n=c.subKeys.length;var l=Math.min(Math.ceil(n/9),2);var h=Math.ceil(n/
l);1<l&&(g.width=h*c.offsetWidth+5*h+"px");for(g=0;g<n;g++){var p=c.subKeys[g];var r=document.createElement("DIV");for(var q in d)"string"!=typeof p[q]&&(p[q]=d[q]);r.className="kmw-key-square-ex";r.keyId=p.id;var t=r.style;var w=Math.floor(g/h);1<l&&0<w&&(t.marginTop="5px");r.width="undefined"!=typeof p.width?t.width=parseInt(p.width,10)*c.offsetWidth/100+"px":t.width=c.offsetWidth+"px";t.height=c.offsetHeight+"px";w=document.createElement("DIV");b.setButtonClass(p,w);w.id="string"==typeof p.layer&&
""!=p.layer?"popup-"+p.layer+"-"+p.id:"popup-default-"+p.id;w.key=p;var z=w.style;z.height=t.height;z.width=t.width;z.position="absolute";t=e._CreateElement("SPAN");t.className="kmw-key-text";null==p.text||""==p.text?(t.innerHTML="\u00a0","string"==typeof p.id&&/^U_[0-9A-F]{4}$/i.test(p.id)&&(t.innerHTML=String.fromCharCode(parseInt(p.id.substr(2),16)))):t.innerHTML=p.text;z=t.style;z.fontSize=b.fontSize;"string"==typeof p.font&&""!=p.font&&(z.fontFamily=p.font);"string"==typeof p.fontsize&&0!=p.fontsize&&
(z.fontSize=p.fontsize);w.appendChild(t);r.appendChild(w);a.appendChild(r)}b.showKeyTip(null,!1);b._Box.appendChild(a);g=a.style;d=e._GetAbsoluteX(c)+.5*(c.offsetWidth-a.offsetWidth);q=(e.landscapeView()?screen.height:screen.width)-a.offsetWidth;d>q&&(d=q);0>d&&(d=0);g.left=d+"px";b.popupCallout=b.addCallout(c);g.visibility="visible";a.shim=document.createElement("DIV");a.shim.id="kmw-popup-shim";b._Box.appendChild(a.shim);"phone"==k.formFactor&&(c=a.childNodes[0].firstChild,b.keyPending=c,b.highlightKey(c,
!0))}};b.prependBaseKey=function(c){if(c&&"undefined"!=typeof c.id){var a=c.id.split("-");var d=a[a.length-1],e=1<a.length?a[0]:"";if("undefined"!=typeof c.subKeys&&0<c.subKeys.length&&(c.subKeys[0].id!=d||c.subKeys[0].layer!=e)){d={id:d,layer:""};1<a.length&&(d.layer=a[0]);for(a=0;a<c.childNodes.length&&!b.hasClass(c.childNodes[a],"kmw-key-text");a++);a<c.childNodes.length&&(d.text=c.childNodes[a].textContent);c.subKeys.splice(0,0,d)}}};b.getVKDictionaryCode=function(c){if(!a._ActiveKeyboard.VKDictionary){var b=
[];if("string"==typeof a._ActiveKeyboard.KVKD)for(var d=a._ActiveKeyboard.KVKD.split(" "),e=0;e<d.length;e++)b[d[e]]=e+256;a._ActiveKeyboard.VKDictionary=b}return(c=a._ActiveKeyboard.VKDictionary[c])?c:0};b.selectLayer=function(c,a){var d=2>arguments.length?null:a;"number"==typeof d&&(d=b.getLayerId(d));if(!d)switch(c){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":d="shift";break;case "K_LCONTROL":case "K_RCONTROL":case "K_LCTRL":case "K_RCTRL":case "K_CTRL":d="ctrl";break;case "K_LMENU":case "K_RMENU":case "K_LALT":case "K_RALT":case "K_ALT":d=
"alt";break;case "K_ALTGR":d="ctrlalt";break;case "K_CURRENCIES":case "K_NUMERALS":case "K_SHIFTED":case "K_UPPER":case "K_LOWER":case "K_SYMBOLS":d="default"}if(!d||d==b.layerId&&"desktop"!=k.formFactor)return!1;b.updateLayer(d);b._Show();return!0};b.defaultKeyOutput=function(c,a,d){var f=0;if("U_"==c.substr(0,2)){if(f=String.fromCharCode(parseInt(c.substr(2,6),16)),32>=f||127<f&&160>f)f=0}else a>=b.keyCodes.K_0&&a<=b.keyCodes.K_9?f=h[d][0][a-b.keyCodes.K_0]:a>=b.keyCodes.K_A&&a<=b.keyCodes.K_Z?
f=String.fromCharCode(a+(d?0:32)):a>=b.keyCodes.K_COLON&&a<=b.keyCodes.K_BKQUOTE?f=h[d][1][a-b.keyCodes.K_COLON]:a>=b.keyCodes.K_LBRKT&&a<=b.keyCodes.K_QUOTE&&(f=h[d][2][a-b.keyCodes.K_LBRKT]);return f};b.clickKey=function(c){var d=a._LastActiveElement,m,e=c.id.split("-");if(2>e.length)return!0;"popup"==e[0]&&e.splice(0,1);if(null!=d){var n=e[0];e=e[1];var l=m=b.getModifierState(b.layerId);"undefined"!=typeof c.key&&(l=c.key.nextlayer);null==a._ActiveElement&&(a._ActiveElement=d);if("K_LOPT"==e||
"K_ROPT"==e)return b.optionKey(c,e,!0),!0;b.highlightKey(c,!1);if(b.selectLayer(e,l))return!0;l=d._KeymanWebSelectionStart;m=d._KeymanWebSelectionEnd;var h=a._Selection;a._IsActivatingKeymanWebUI=1;a._IgnoreNextSelChange=100;a._FocusLastActiveElement();a._IsMozillaEditableIframe(d,0)&&(d=d.documentElement);document.selection&&null!=h&&h.select();d._KeymanWebSelectionStart=l;d._KeymanWebSelectionEnd=m;a._IgnoreNextSelChange=0;a._CachedSelectionStart=null;a._DeadkeyDeleteMatched();l={Ltarg:d,Lmodifiers:0,
Lcode:b.keyCodes[e],LisVirtualKey:!0};"U_"==e.substr(0,2)&&(l.LisVirtualKey=!1);"undefined"==typeof l.Lcode&&(l.Lcode=b.getVKDictionaryCode(e),l.Lcode||(l.Lcode=1));m="undefined"==typeof c.key?null:c.key.layer;m=null==m?b.getModifierState(n):b.getModifierState(m);l.Lmodifiers=16*m;a._ActiveKeyboard&&a._ActiveKeyboard.KM?(n=c.firstChild.firstChild.wholeText,l.LisVirtualKey=!1,l.LisVirtualKeyCode=!1,l.vkCode=l.Lcode,l.Lcode!=b.keyCodes.K_SPACE&&(l.Lcode="string"==typeof n&&""!=n?n.charCodeAt(0):0,160==
l.Lcode&&(l.Lcode=0)),l.Lmodifiers=0):l.vkCode=l.Lcode;"undefined"==typeof a._ActiveKeyboard.KM&&(l.Lcode=a._USKeyCodeToCharCode(l),l.LisVirtualKey=!1);if(!a._ActiveKeyboard||0!=l.Lcode&&!a._ActiveKeyboard.gs(d,l))switch(l.Lcode=l.vkCode,e){case "K_BKSP":a.KO(1,a._LastActiveElement,"");break;case "K_TAB":a.moveToNext("shift"==b.layerId);break;case "K_TABBACK":a.moveToNext(!0);break;case "K_TABFWD":a.moveToNext(!1);break;case "K_ENTER":"TEXTAREA"==d.nodeName||"undefined"!=typeof d.base&&"TEXTAREA"==
d.base.nodeName?a.KO(0,d,"\n"):"INPUT"!=d.nodeName||"search"!=d.type&&"submit"!=d.type?"undefined"==typeof d.base||"search"!=d.base.type&&"submit"!=d.base.type?a.moveToNext(!1):(d.base.disabled=!1,d.base.form.submit()):d.form.submit();break;case "K_SPACE":a.KO(0,d," ");break;default:(n=b.defaultKeyOutput(e,l.Lcode,m))&&a.KO(0,d,n)}"undefined"!=typeof c.key&&null!==c.key.nextlayer&&(b.nextLayer=c.key.nextlayer);b.nextLayer!=b.layerId&&(b.layerId=b.nextLayer,b._Show());d._KeymanWebSelectionStart=null;
d._KeymanWebSelectionEnd=null}a._IsActivatingKeymanWebUI=0;return!0};b.getLayerId=function(c){var a="";if(0==c)return"default";c&1&&(a="shift");c&4&&(a="alt"+a);c&2&&(a="ctrl"+a);return a};b.getModifierState=function(c){var a=0;0<=c.indexOf("shift")&&(a+=1);0<=c.indexOf("ctrl")&&(a+=2);0<=c.indexOf("alt")&&(a+=4);return a};b.updateLayer=function(c){var a=b.layerId;var d=c.replace("shift","");d=d.replace("ctrl","");d=d.replace("alt","");if("default"==b.layerId||"numeric"==b.layerId||"symbol"==b.layerId||
"currency"==b.layerId||""!=d)a=c;else{d=b.getModifierState(a);a=a.replace("shift","");a=a.replace("ctrl","");a=a.replace("alt","");switch(c){case "shift":d^=1;break;case "ctrl":d^=2;break;case "alt":d^=4;break;default:a=c}"default"!=a&&(d&1&&(a="shift"+a),d&2&&(a="ctrl"+a),d&4&&(a="alt"+a))}""==a&&(a="default");b.layerId=a.replace("altctrl","ctrlalt");for(c=0;c<b.layers.length;c++)if(b.layerId==b.layers[c].id)return;b.layerId="default"};b.showLanguage=function(){var c="";if(a._ActiveStub){var d=a._ActiveStub.KL;
c=a._ActiveStub.KN}else d=a._ActiveLanguage?a._ActiveLanguage.KN:"English";try{var e=b.spaceBar.firstChild.firstChild;e.parentNode.className="undefined"==typeof e.parentNode.className||""==e.parentNode.className?"kmw-spacebar":e.parentNode.className+" kmw-spacebar";e.className="kmw-spacebar-caption";var c=c.replace(/\s*keyboard\s*/i,""),g="",g=c==d?d:d+" ("+c+")";e.innerHTML!=g&&(e.innerHTML=g)}catch(n){}};b.showLanguageMenu=function(){var c=a._KeyboardStubs;if(!(1>c.length)){var d=b.lgList=e._CreateElement("DIV");
b.lgList.id="kmw-language-menu";d.shim=e._CreateElement("DIV");d.shim.id="kmw-language-menu-background";d.shim.addEventListener("touchstart",function(c){c.preventDefault();b.hideLanguageList();if(2<c.touches.length){var a=c.touches[1].pageX;c=c.touches[1].pageY;a>b.spaceBar.offsetLeft&&a<b.spaceBar.offsetLeft+b.spaceBar.offsetWidth&&c>b.spaceBar.offsetTop&&c<b.spaceBar.offsetTop+b.spaceBar.offsetHeight&&b.showBuild()}},!1);document.body.appendChild(d.shim);var m=e._CreateElement("DIV"),g=m.style,
n=e._CreateElement("DIV");m.id="kmw-menu-scroll-container";n.id="kmw-menu-scroller";"WebkitOverflowScrolling"in g&&(g.WebkitOverflowScrolling="touch");m.appendChild(n);d.appendChild(m);var l,g=e._CreateElement("DIV");g.id="kmw-menu-index";for(l=1;26>=l;l++){var h=e._CreateElement("P");h.innerHTML=String.fromCharCode(l+64);g.appendChild(h)}g.addEventListener("touchstart",function(c){b.scrollToLanguage(c,m,n)},!1);g.addEventListener("touchend",function(c){c.stopPropagation();c.preventDefault()},!1);
d.appendChild(g);d.addEventListener("scroll",function(c){b.lgList.scrolling=!0},!1);m.addEventListener("scroll",function(c){1>m.scrollTop&&(m.scrollTop=1);m.scrollTop>m.scrollHeight-m.offsetHeight-1&&(m.scrollTop=m.scrollHeight-m.offsetHeight-1)},!1);b.lgList.activeLgNo=b.addLanguagesToMenu(n,c);b.lgList.visibility="hidden";document.body.appendChild(b.lgList);"Android"==k.OS&&"devicePixelRatio"in window&&(b.lgList.style.fontSize=2/window.devicePixelRatio+"em");"Android"==k.OS&&"tablet"==k.formFactor&&
"devicePixelRatio"in window&&(l=parseInt(e.getStyleValue(d,"width"),10),c=d.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"),l=parseInt(e.getStyleValue(m,"width"),10),c=m.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"),l=parseInt(e.getStyleValue(n,"width"),10),c=n.style,isNaN(l)||(c.width=c.maxWidth=2*l/window.devicePixelRatio+"px"));b.adjustLanguageMenu(0);c=Math.floor(d.offsetHeight/26);h=Math.round(100*c/(g.childNodes[1].offsetTop-g.childNodes[0].offsetTop))/
100;var p=.6<h?1:2;1.25<h&&(h=1.25);for(l=0;26>l;l++){var r=g.childNodes[l].style;2==p&&1==l%2?r.display="none":(r.fontSize=h*p+"em",r.lineHeight=c*p+"px")}l=m.offsetWidth;m.scrollHeight>m.offsetHeight+3?l+=g.offsetWidth:g.style.display="none";d.style.width=l+"px";b.lgList.visibility="";d=n.firstChild.offsetHeight*b.lgList.activeLgNo+1;m.scrollTop=d;m.scrollTop<d&&(m.scrollTop=m.scrollHeight-m.offsetHeight);m.scrollTop>m.scrollHeight-m.offsetHeight-1&&(m.scrollTop=m.scrollHeight-m.offsetHeight-1)}};
b.adjustLanguageMenu=function(c){var a=b.lgList,d=a.firstChild,g=d.firstChild,n=a.style,a=a.childNodes[1],h=window.innerHeight-b.lgKey.offsetHeight-16,g=(g.childNodes.length+c-1)*g.firstChild.firstChild.offsetHeight;"iOS"==k.OS&&("phone"==k.formFactor?(c=e.landscapeView()?36:0,h=(window.innerHeight-c-16)*e.getViewportScale()):"tablet"==k.formFactor&&(c=e.landscapeView()?16:0,h-=c));n.left=e._GetAbsoluteX(b.lgKey)+"px";g>h&&(g=h);n.height=g+"px";n.top=e._GetAbsoluteY(b._Box)+b._Box.offsetHeight-g+
window.pageYOffset-6+"px";n.bottom="auto";a.style.height=d.style.height=n.height};b.scrollToLanguage=function(c,a,b){c.stopImmediatePropagation();c.stopPropagation();c.preventDefault();if("P"==c.touches[0].target.nodeName){var d,f=0;c=c.touches[0].target.innerHTML.charCodeAt(0);var e=b.childNodes;try{for(d=0;d<e.length-1;d++){var m=e[d].firstChild.innerHTML.toUpperCase().charCodeAt(0);if(m>=c)break}}catch(p){}try{f=b.firstChild.offsetHeight*d+1,a.scrollTop=f}catch(p){f=0}try{a.scrollTop<f&&(a.scrollTop=
a.scrollHeight-a.offsetHeight),a.scrollTop>a.scrollHeight-a.offsetHeight-1&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)}catch(p){}}};b.addLanguagesToMenu=function(c,d){var f=d.length,g,n,h=[];for(n=0;n<f;n++){var u=d[n].KL;-1==h.indexOf(u)&&h.push(u)}h.sort();var p=Math.round(100/e.getViewportScale())/100;u=-1;for(g=0;g<h.length;g++){var r=e._CreateElement("DIV");r.className="kbd-list-closed";var q=e._CreateElement("P");q.kList=[];for(n=0;n<f;n++)d[n].KL==h[g]&&q.kList.push(d[n]);"iOS"==k.OS&&(q.style.fontSize=
p+"em");r.appendChild(q);c.appendChild(r);h[g]==a._ActiveStub.KL&&(u=g);if(1<q.kList.length)for(q.className="kbd-list",q.innerHTML=h[g]+"...",q.scrolled=!1,q.ontouchend=function(c){c.preventDefault();c.stopPropagation();c.target.scrolled?c.target.scrolled=!1:this.parentNode.className="kbd-list-closed"==this.parentNode.className?"kbd-list-open":"kbd-list-closed";b.adjustLanguageMenu("kbd-list-closed"==this.parentNode.className?0:this.kList.length)},q.addEventListener("touchstart",function(c){c.stopPropagation()},
!1),q.addEventListener("touchmove",function(c){c.target.scrolled=!0;c.stopPropagation()},!1),n=0;n<q.kList.length;n++){var t=e._CreateElement("P");t.className="kbd-list-entry";"iOS"==k.OS&&(t.style.fontSize=p+"em");b.addKeyboardToMenu(q.kList[n],t,!1);r.appendChild(t)}else q.innerHTML=h[g],q.className="kbd-single-entry",b.addKeyboardToMenu(q.kList[0],q,!0);g==u&&(q.className+=" current")}d=e._CreateElement("DIV");d.id="kmw-menu-footer";f=function(c){c.preventDefault();c.stopPropagation()};d.addEventListener("touchstart",
f,!1);d.addEventListener("touchmove",f,!1);d.addEventListener("touchend",f,!1);c.appendChild(d);return u};b.addKeyboardToMenu=function(c,d,e){d.kn=c.KI;d.kc=c.KLC;d.innerHTML=e?c.KL:c.KN.replace(" Keyboard","");c=function(c){c.stopPropagation();0>=this.className.indexOf("selected")&&(this.className+=" selected");b.lgList.scrolling=!1;b.lgList.y0=c.touches[0].pageY;return!0};e=function(c){c.stopImmediatePropagation();var a=b.lgList.childNodes[0],d=a.scrollHeight-a.offsetHeight;if("undefined"!=typeof c.pageY)var f=
c.pageY;else if("undefined"!=typeof c.touches)f=c.touches[0].pageY;else return;var e=f-b.lgList.y0;if(0>e)a.scrollTop>=d-1&&(c.preventDefault(),b.lgList.y0=f);else if(0<e)2>a.scrollTop&&(c.preventDefault(),b.lgList.y0=f);else return;if(-5>e||5<e)b.lgList.scrolling=!0,this.className=this.className.replace(/\s*selected/,""),b.lgList.y0=f;return!0};var f=function(c){c.preventDefault();"undefined"!=typeof c.stopImmediatePropagation?c.stopImmediatePropagation():c.stopPropagation();b.lgList.scrolling?this.className=
this.className.replace(/\s*selected/,""):(a.focusing=!0,a.focusTimer=window.setTimeout(function(){a.focusing=!1},1E3),b.lgList.style.display="none",a._SetActiveKeyboard(this.kn,this.kc,!0),a.doKeyboardChange(this.kn,this.kc),a._FocusLastActiveElement(),b.hideLanguageList(),b._Show());return!0};d.onmspointerdown=c;d.addEventListener("touchstart",c,!1);d.onmspointermove=e;d.addEventListener("touchmove",e,!1);d.onmspointerout=f;d.addEventListener("touchend",f,!1)};b.hideLanguageList=function(){b.lgList&&
(b.highlightKey(b.lgKey.firstChild,!1),b.lgList.style.visibility="hidden",window.setTimeout(function(){null!=b.lgList&&"undefined"!=typeof b.lgList&&(document.body.removeChild(b.lgList.shim),document.body.removeChild(b.lgList));b.lgList=null},500))};b._UpdateVKShift=function(c,a,d){var f=0,f=c?c.Lmodifiers/16:d?f|a:f&~a;b.layerId=b.getLayerId(f);b._Visible&&b._Show();return!0};b._CancelMouse=function(c){(c=a._GetEventObject(c))&&c.preventDefault&&c.preventDefault();c&&(c.cancelBubble=!0,c.returnValue=
!1);return!1};b.showLayer=function(c){if(a._ActiveKeyboard)for(var d=0;d<b.layers.length;d++)if(b.layers[d].id==c)return b.layerId=c,b._Show(),!0;return!1};b.getHeight=function(){if("function"==typeof a.getOskHeight)return a.getOskHeight();var c=Math.floor(Math.min(screen.availHeight,screen.availWidth)/2);if("phone"==k.formFactor)var b=Math.min(screen.height,screen.width),d=Math.max(screen.height,screen.width),c=e.portraitView()?Math.floor(Math.max(screen.availHeight,screen.availWidth)/3):d/b*c/1.6;
"iOS"==k.OS&&(c/=e.getViewportScale());"Android"==k.OS&&"phone"==k.formFactor&&"devicePixelRatio"in window&&/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(c*=window.devicePixelRatio);return c};b.getWidth=function(){if("function"==typeof a.getOskWidth)return a.getOskWidth();var c=screen.width;if("Android"==k.OS)try{c=document.documentElement.clientWidth}catch(f){c=screen.availWidth}return c};b.mouseOverMouseDownHandler=function(c){var a=e.eventTarget(c);null!==a&&"desktop"==k.formFactor&&("SPAN"==
a.nodeName&&(a=a.parentNode),"mousedown"==e.eventType(c)?(b.currentKey=a.id,b._CancelMouse(c),b.highlightKey(a,!0)):a.id==b.currentKey&&b.highlightKey(a,!0))};b.mouseUpMouseOutHandler=function(c){var a=e.eventTarget(c);null!==a&&"desktop"==k.formFactor&&("SPAN"==a.nodeName&&(a=a.parentNode),b.highlightKey(a,!1),"mouseup"==e.eventType(c)&&(a.id==b.currentKey&&b.clickKey(a),b.currentKey=""))};b.getDefaultKeyObject=function(){return{text:"",width:"100",pad:"15",sp:"0",layer:null,nextlayer:null}};b.deviceDependentLayout=
function(c,a){var d=e._CreateElement("DIV"),f=d.style,h=0;d.className="kmw-key-layer-group";switch(a){case "phone":case "tablet":h=b.getHeight(),f.height=h+"px"}if(null==c)return d;f.fontSize="undefined"==typeof c.fontsize||null==c.fontsize?"1em":c.fontsize;b.fontSize=f.fontSize;var l;var u=c.layer;var p=b.getDefaultKeyObject();p.fontsize=f.fontSize;for(var r=/\*\w+\*/,h=0;h<u.length;h++){var q=u[h];var t=q.row;for(l=t.length;0<l&&!(0<t[l-1].key.length);l--);l<t.length&&t.splice(l-t.length,t.length-
l)}var w=100/t.length;"desktop"==a&&(w=100/t.length);if("desktop"==a){var z=function(c){return c+"%"};var x=100}else z=function(c){return Math.round(c)+"px"},x=b.getWidth();k.touchable&&"ontouchstart"in window&&(d.addEventListener("touchstart",b.touch,!0),d.addEventListener("touchend",b.release,!1),d.addEventListener("touchmove",b.moveOver,!1));for(h=0;h<u.length;h++){q=u[h];q.aligned=!1;var G=e._CreateElement("DIV");t=G.style;G.className="kmw-key-layer";t.display=0==h?"block":"none";t.height=f.height;
t.fontFamily="font"in c?c.font:"";G.layer=G.nextLayer=q.id;"string"==typeof q.nextlayer&&(G.nextLayer=q.nextlayer);t=q.row;var D=0;for(l=0;l<t.length;l++){var J=0;var y=t[l];var A=y.key;for(y=0;y<A.length;y++){var v=A[y];if(null==v)--A.length;else{var I="string"==typeof v.width&&""!=v.width?parseInt(v.width,10):100;if(isNaN(I)||0==I)I=100;v.width=I.toString();var E="string"==typeof v.pad&&""!=v.pad?parseInt(v.pad,10):15;if(isNaN(E)||0==E)E=15;v.pad=E.toString();J+=I+E}}J>D&&(D=J)}D="desktop"==a?D+
5:D+15;for(l=0;l<t.length;l++){J=e._CreateElement("DIV");J.className="kmw-key-row";J.onmousedown=e.mouseDownPreventDefaultHandler;y=t[l];I=J.style;I.maxHeight=I.height=w+"%";A=y.key;for(y=0;y<A.length;y++){v=A[y];for(var K in p)"string"!=typeof v[K]&&(v[K]=p[K]);switch(v.sp){case "1":r.test(v.text)||""==v.text||(v.sp="3");break;case "2":r.test(v.text)||""==v.text||(v.sp="4")}}for(y=E=0;y<A.length-1;y++){v=Math.round(parseInt(A[y].width,10)*x/D);A[y].widthpc=v;var H=Math.round(parseInt(A[y].pad,10)*
x/D);A[y].padpc=H;E+=H+v}E+=Math.round(15*x/D);1==A.length&&0>parseInt(A[0].pad,10)?(v=Math.round(parseInt(A[0].width,10)*x/D),A[0].widthpc=v,E+=v,A[0].padpc=x-E):0<A.length&&(y=A.length-1,H=Math.round(parseInt(A[y].pad,10)*x/D),A[y].padpc=H,E+=H,A[y].widthpc=x-E);for(y=E=0;y<A.length;y++){v=A[y];H=e._CreateElement("DIV");H.keyId=v.id;H.className="kmw-key-square";var B=H.style;H.width=B.width=z(v.widthpc);"desktop"!=a?(B.left=z(E+A[y].padpc),B.bottom=I.bottom,B.height=I.height):B.marginLeft=z(v.padpc);
E=E+A[y].padpc+A[y].widthpc;var F=e._CreateElement("DIV");b.setButtonClass(v,F,c);"desktop"!=a&&(F.style.left=B.left,F.style.width=B.width);B=null;if(c.keyLabels||"desktop"==a){var C=b.keyCodes[v.id];switch(C){case 186:C=59;break;case 187:C=61;break;case 188:C=44;break;case 189:C=45;break;case 190:C=46;break;case 191:C=47;break;case 192:C=96;break;case 219:C=91;break;case 220:C=92;break;case 221:C=93;break;case 222:C=39;break;default:if(48>C||90<C)C=0}0<C&&(B=e._CreateElement("DIV"),B.className="kmw-key-label",
B.innerHTML=String.fromCharCode(C),F.appendChild(B))}F.id=q.id+"-"+v.id;F.key=v;if("undefined"!=typeof v.sk&&null!=v.sk)for(C=F.subKeys=v.sk,B=0;B<C.length;B++){if("1"==C[B].sp||"2"==C[B].sp)C[B].text=b.renameSpecialKey(C[B].text)}else F.subKeys=null;k.touchable||(F.onmouseover=F.onmousedown=b.mouseOverMouseDownHandler,F.onmouseup=F.onmouseout=b.mouseUpMouseOutHandler);B=e._CreateElement("SPAN");C=B.style;null==v.text||""==v.text?(B.innerHTML="\u00a0","string"==typeof v.id&&/^U_[0-9A-F]{4}$/i.test(v.id)&&
(B.innerHTML=String.fromCharCode(parseInt(v.id.substr(2),16)))):B.innerHTML=v.text;B.className="kmw-key-text";if("1"==v.sp||"2"==v.sp)B.innerHTML=b.renameSpecialKey("*Tab*"==v.text&&1==h?"*TabLeft*":v.text);"font"in v&&(C.fontFamily=v.font);"fontsize"in v&&(C.fontSize=v.fontsize);F.appendChild(B);H.appendChild(F);"undefined"!=typeof v.sk&&null!=v.sk&&(v=e._CreateElement("DIV"),v.className="kmw-key-popup-icon",F.appendChild(v));J.appendChild(H)}G.appendChild(J)}d.appendChild(G)}return d};b.renameSpecialKey=
function(c){for(var a="*Shift* *Enter* *Tab* *BkSp* *Menu* *Hide* *Alt* *Ctrl* *Caps* *ABC* *abc* *123* *Symbol* *Currency* *Shifted* *AltGr* *TabLeft*".split(" "),b=[8,5,6,4,11,10,25,1,3,16,17,19,21,20,8,2,7],d=0;d<a.length;d++)if(c==a[d])return String.fromCharCode(57344+b[d]);return c};b.clearPopup=function(){var c=document.getElementById("kmw-popup-keys");null!=c&&(c.shim&&b._Box.removeChild(c.shim),c.parentNode.removeChild(c));b.popupCallout&&b._Box.removeChild(b.popupCallout);b.popupCallout=
null;b.subkeyDelayTimer&&(window.clearTimeout(b.subkeyDelayTimer),b.subkeyDelayTimer=null);b.popupBaseKey=null};b.touch=function(c){var d=c.changedTouches[0].target,e=b.keyTarget(d);b.touchX=c.changedTouches[0].pageX;b.currentTarget=e;var g=document.getElementById("kmw-popup-keys");if(!(g&&"visible"==g.style.visibility||b.popupVisible)){b.touchCount=c.touches.length;if(e&&0<=e.className.indexOf("key-hidden")||0<=d.className.indexOf("kmw-key-row"))e=b.findNearestKey(c,d);null!=e&&(c=e.id.split("-")[1],
b.highlightKey(e,!0),"K_LOPT"==c||"K_ROPT"==c?(window.setTimeout(function(){b.clickKey(e)},0),b.keyPending=null):"K_BKSP"==c?(a.KO(1,a._LastActiveElement,""),b.deleting=window.setTimeout(b.repeatDelete,500),b.keyPending=null):(b.keyPending?(b.highlightKey(b.keyPending,!1),b.clickKey(b.keyPending),b.clearPopup(),b.touchCount--):b.touchHold(e),b.keyPending=e))}};b.release=function(c){var a=document.getElementById("kmw-popup-keys"),d=b.currentTarget;if(a&&"visible"==a.style.visibility||b.popupVisible){if(0<
c.touches.length)return;if(null==d||0>d.id.indexOf("popup")&&d.id!=b.popupBaseKey.id)b.highlightKey(b.keyPending,!1),b.clearPopup(),b.keyPending=null}d&&d.id&&b.optionKey(c,d.id,!1);d=c.changedTouches[0].pageX;d=2>d&&5<b.touchX||d>window.innerWidth-2&&b.touchX<window.innerWidth-5;a=b.touchCount;0<b.touchCount&&b.touchCount--;b.keyPending?(b.highlightKey(b.keyPending,!1),0>b.keyPending.className.indexOf("hidden")&&0<a&&!d&&b.clickKey(b.keyPending),b.clearPopup(),b.keyPending=null):(a=c.changedTouches[0],
d=b.keyTarget(a.target),d||(d=document.elementFromPoint(a.clientX,a.clientY),d=b.findNearestKey(c,d)),b.highlightKey(d,!1));b.deleting&&window.clearTimeout(b.deleting);b.deleting=0};b.moveOver=function(a){a.preventDefault();a.cancelBubble=!0;"function"==typeof a.stopImmediatePropagation?a.stopImmediatePropagation():"function"==typeof a.stopPropagation&&a.stopPropagation();if(!(1<a.touches.length||0==b.touchCount)){var c="object"==typeof a.touches?a.touches[0].clientX:a.clientX,d="object"==typeof a.touches?
a.touches[0].clientY:a.clientY,e=document.elementFromPoint(c,d),h=b.keyPending,l=b.keyTarget(e);if(l&&0<=l.className.indexOf("key-hidden")||e&&!l&&0<=e.className.indexOf("key-row"))l=b.findNearestKey(a,e);l&&"string"==typeof l.id&&0>l.id.indexOf("BKSP")&&(b.deleting&&window.clearTimeout(b.deleting),b.deleting=0);if(b.popupVisible)null==l?(h&&b.highlightKey(h,!1),b.keyPending=null):l==b.popupBaseKey?(b.hasClass(l,"kmw-key-touched")||b.highlightKey(l,!0),b.keyPending=l):(h&&b.highlightKey(h,!1),b.keyPending=
null);else{(e=document.getElementById("kmw-popup-keys"))&&"visible"==e.style.visibility&&"phone"==k.formFactor&&l==b.popupBaseKey&&(l=e.childNodes[0].firstChild);b.currentTarget=l;h&&l&&l.id!=h.id&&b.highlightKey(h,!1);b.highlightSubKeys(l,c,d);if(e&&"visible"==e.style.visibility){if(l&&0>l.id.indexOf("popup")&&l!=b.popupBaseKey)return;l&&l==b.popupBaseKey&&0>l.className.indexOf("kmw-key-touched")&&b.highlightKey(l,!0)}else h&&a.touches[0].pageY<Math.max(5,b._Box.offsetTop-.25*b._Box.offsetHeight)&&
(b.highlightKey(h,!1),b.showKeyTip(null,!1),b.keyPending=null);l&&b.keyPending&&(b.keyPending=l);b.keyPending&&(h!=l||0>l.className.indexOf("kmw-key-touched"))&&b.highlightKey(l,!0);h&&l&&l!=h&&""!=l.id&&b.touchHold(l)}}};b.hasClass=function(a,b){b=" "+b+" ";return 0<=(" "+a.className+" ").replace(/[\n\t\r\f]/g," ").indexOf(b)};b.keyTarget=function(a){try{if(a){if(b.hasClass(a,"kmw-key"))return a;if(a.parentNode&&b.hasClass(a.parentNode,"kmw-key"))return a.parentNode;if(a.firstChild&&b.hasClass(a.firstChild,
"kmw-key"))return a.firstChild}}catch(f){}return null};b.findNearestKey=function(a,b){if(!a||"undefined"==typeof a.changedTouches||0==a.changedTouches.length)return null;for(a=a.changedTouches[0].pageX;b&&0>b.className.indexOf("key-row");)b=b.parentNode;if(!b)return null;var c,d=0,f=24,e=1E5;for(c=0;c<b.childNodes.length;c++)if(!(0<=b.childNodes[c].firstChild.className.indexOf("key-hidden"))){var h=b.childNodes[c].firstChild.offsetLeft;var k=h+b.childNodes[c].firstChild.offsetWidth;h-=a;0<=h&&h<e&&
(d=c,e=h);h=a-k;0<=h&&h<e&&(d=c,e=h)}return 1E5>e&&(b=b.childNodes[d].firstChild,h=b.offsetLeft,k=h+b.offsetWidth,40<b.offsetWidth&&(f=.6*b.offsetWidth),0<=h-a&&h-a<f||0<=a-k&&a-k<f)?b:null};b.repeatDelete=function(){b.deleting&&(a.KO(1,a._LastActiveElement,""),b.deleting=window.setTimeout(b.repeatDelete,100))};b.setButtonClass=function(a,d,m){var c=0,f="default shift shift-on special special-on    deadkey blank hidden".split(" ");"string"==typeof a.dk&&"1"==a.dk&&(c=8);"string"==typeof a.sp&&(c=
parseInt(a.sp,10));if(0>c||10<c)c=0;m=m||b.layout;d.className=4<m.layer[0].row.length&&"phone"==e.device.formFactor?"kmw-key kmw-5rows kmw-key-"+f[c]:"kmw-key kmw-key-"+f[c]};b.buildDefaultLayout=function(c,b){var f=b;var h=a.dfltLayout;"object"!=typeof h[f]&&(f="desktop");f=e.deepCopy(h[f]);var h=f.layer,n=c.BK,l=c.K102,k,p=/\*\w+\*/,r="default shift ctrl ctrlshift alt altshift ctrlalt ctrlaltshift".split(" ");for(c=0;8>c;c++){0<c&&(h[c]=e.deepCopy(h[0]));h[c].id=r[c];h[c].nextlayer=r[c];for(k=0;k<
h[c].row.length;k++){var q=h[c].row[k];var t=q.key;for(q=0;q<t.length;q++){var w=t[q];switch(w.id){case "K_SHIFT":case "K_LSHIFT":case "K_RSHIFT":1==(c&1)&&(w.sp="2");"desktop"!=b&&0<c&&(w.nextlayer="default");break;case "K_CONTROL":case "K_LCTRL":case "K_LCONTROL":case "K_RCTRL":case "K_RCONTROL":2==(c&2)&&(w.sp="2");break;case "K_ALT":case "K_LALT":case "K_RALT":4==(c&4)&&(w.sp="2")}}}if("undefined"==typeof l||!l)for(k=0;k<h[c].row.length;k++)for(q=0;q<h[c].row[k].key.length;q++)"K_oE2"==h[c].row[k].key[q].id&&
("desktop"==b?(h[c].row[k].key.splice(q,1),h[c].row[k].key[0].width="200"):h[c].row[k].key[q].sp="10")}for(c=0;c<h.length;c++){var z=h[c],x=null,G="",l=z.row;for(k=0;k<l.length;k++)for(t=l[k].key,q=0;q<t.length;q++){w=t[q];var D=d.indexOf(w.id);"undefined"!=typeof n&&0<=D&&D+65*c<n.length&&(w.text=n[D+65*c]);""==w.text&&"K_SPACE"!=w.id&&130>D+65*c&&(w.text="`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "[D+
65*c]);"undefined"==typeof w.text&&(w.text="");"K_SHIFT"==w.id&&(x=w);p.test(w.text)||(G+=w.text)}z.valid=0<G.trim().length;z.shiftKey=x;if("desktop"!=b&&0<c&&null!=x)switch(x.sp="2",x.sk=null,h[c].id){case "ctrl":x.text="*Ctrl*";break;case "alt":x.text="*Alt*";break;case "ctrlalt":x.text="*AltGr*"}}for(c=0;8>c;c++)for(l=h[c].row,k=0;k<l.length;k++)for(t=l[k].key,q=0;q<t.length;q++)if(w=t[q],null!=w.sk){for(n=0;8>n;n++)for(b=0;b<w.sk.length;b++)if(w.sk[b].nextlayer==r[n]){h[n].valid||w.sk.splice(b,
1);break}0==w.sk.length&&(w.sk=null)}return f};b._GenerateVisualKeyboard=function(c,d,m){d=e._CreateElement("DIV");if("object"!=typeof m||null==m)m=b.buildDefaultLayout(c,k.formFactor);b.layout=m;b.layers=m.layer;b.fontFamily="font"in m?m.font:"";m.keyLabels=a._ActiveKeyboard&&"undefined"!=typeof a._ActiveKeyboard.KDU&&a._ActiveKeyboard.KDU;c=b.deviceDependentLayout(m,k.formFactor);b.ddOSK=!0;b.keyMap=c;d.appendChild(c);b._DivVKbdHelp=b._DivVKbd=d;b._Box.className=k.formFactor+" "+k.OS.toLowerCase()+
" kmw-osk-frame";d.className=k.formFactor+" kmw-osk-inner-frame";"desktop"==k.formFactor&&b._Box.appendChild(b.controlBar());b._Box.appendChild(d);"desktop"==k.formFactor?b._Box.appendChild(b.resizeBar()):b.adjustHeights()};a.BuildVisualKeyboard=a.buildOSK=function(c,d,e,h){d=a._ActiveKeyboard;var f="undefined"==typeof e?"desktop":e;h="undefined"==typeof h?"default":h;if(null!=c)for(c=c.toLowerCase().replace("keyboard_",""),e=0;e<a._Keyboards.length;e++)if(c==a._Keyboards[e].KI.toLowerCase().replace("keyboard_",
"")){d=a._Keyboards[e];break}if(!d)return null;e=d.KVKL;c=null;var m=d.KV;"object"==typeof e&&("object"==typeof e[f]&&null!=e[f]?c=e[f]:"phone"==f&&"object"==typeof e.tablet&&null!=e.tablet?c=e.tablet:"tablet"==f&&"object"==typeof e.phone&&null!=e.phone?c=e.phone:"object"==typeof e.desktop&&null!=e.desktop&&(c=e.desktop));null==c&&null!=m&&(c=b.buildDefaultLayout(m,f));null!=c&&(c.keyLabels="undefined"!=typeof d.KDU&&d.KDU);m=b.deviceDependentLayout(c,f);m.className=f+"-static kmw-osk-inner-frame";
if(null!=c){var g,k;for(e=0;e<c.layer.length;e++){d=m.childNodes[e];for(g=0;g<d.childNodes.length;g++)for(f=d.childNodes[g],k=0;k<f.childNodes.length;k++){var r=f.childNodes[k];r.style.height="100%"}d.style.display="number"==typeof h?e==h&&0<=h?"block":"none":"string"==typeof h?c.layer[e].id==h?"block":"none":0==e?"block":"none"}}else m.innerHTML="<p style='color:#c40; font-size:0.5em;margin:10px;'>No "+f+" layout is defined for "+d.KN+".</p>";m.style.border="1px solid #ccc";return m};b.adjustHeights=
function(){if(b._Box&&b._Box.firstChild&&b._Box.firstChild.firstChild&&b._Box.firstChild.firstChild.childNodes){var a=b._Box.firstChild.firstChild.childNodes,d=a[0].childNodes.length,m=b.getHeight(),h=Math.floor(m/(0==d?1:d)),n,l,u;var p=1;"Android"==k.OS&&"devicePixelRatio"in window&&(h/=window.devicePixelRatio);m=d*h;d=b._Box;h=d.style;h.height=h.maxHeight=m+3+"px";d=d.firstChild.firstChild;h=d.style;h.height=h.maxHeight=m+3+"px";"phone"==k.formFactor&&(p=.6);"iOS"==k.OS&&(p/=e.getViewportScale());
h.fontSize=p+"em";var r="iOS"==k.OS&&"phone"==k.formFactor&&e.landscapeView();for(p=0;p<a.length;p++){d=a[p].childNodes.length;h=Math.floor(m/(0==d?1:d));var q=Math.round(.15*h);a[p].style.height=m+3+"px";for(n=0;n<d;n++){var t=a[p].childNodes[n].style;t.bottom=(d-n-1)*h+1+"px";t.maxHeight=t.height=h+"px";var w=a[p].childNodes[n].childNodes;var z=w.length;for(l=0;l<z;l++){var x=w[l];for(u=0;u<x.childNodes.length&&!b.hasClass(x.childNodes[u],"kmw-key");u++);var G=x.childNodes[u].style;G.bottom=t.bottom;
G.height=G.minHeight=h-q+"px";r&&0<u&&(x.childNodes[0].style.fontSize="6px")}}}}};b.controlBar=function(){var c=e._CreateElement("DIV"),d="";c.id="keymanweb_title_bar";c.className="kmw-title-bar";c.onmousedown=b._VMoveMouseDown;a._ActiveKeyboard&&(d=a._ActiveKeyboard.KN);var m=e._CreateElement("SPAN");m.className="kmw-title-bar-caption";m.innerHTML=d;c.appendChild(m);d=b.closeButton=e._CreateElement("DIV");d.id="kmw-close-button";d.className="kmw-title-bar-image";d.onmousedown=b._CancelMouse;d.onclick=
function(){b._Hide(!0)};c.appendChild(d);d=b.helpImg=e._CreateElement("DIV");d.id="kmw-help-image";d.className="kmw-title-bar-image";d.title="KeymanWeb Help";d.onclick=function(){e.callEvent("osk.helpclick",{});window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=b._CancelMouse;c.appendChild(d);d=b.configImg=e._CreateElement("DIV");d.id="kmw-config-image";d.className="kmw-title-bar-image";d.title="KeymanWeb Configuration Options";d.onclick=function(){e.callEvent("osk.configclick",{});
window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=b._CancelMouse;c.appendChild(d);d=b.pinImg=e._CreateElement("DIV");d.id="kmw-pin-image";d.className="kmw-title-bar-image";d.title="Pin the On Screen Keyboard to its default location on the active text box";d.onclick=function(){b.loadCookie();b.userPositioned=!1;b.saveCookie();b._Show();b.doResizeMove();b.pinImg&&(b.pinImg.style.display="none");window.event&&(window.event.returnValue=!1);return!1};d.onmousedown=b._CancelMouse;c.appendChild(d);
return c};b.showBuild=function(){e.alert("KeymanWeb Version "+a.version+"."+a.build+'<br /><br /><span style="font-size:0.8em">Copyright &copy; 2017 SIL International</span>')};b.resizeBar=function(){var a=e._CreateElement("DIV");a.className="kmw-footer";a.onmousedown=b._CancelMouse;var d=e._CreateElement("DIV");d.className="kmw-footer-caption";d.innerHTML='<a href="https://keyman.com/developer/keymanweb/">KeymanWeb</a>';d.id="keymanweb-osk-footer-caption";e.attachDOMEvent(d,"dblclick",function(a){a&&
a.shiftKey&&b.showBuild()},!1);"onselectstart"in d&&(d.onselectstart=e.selectStartHandler);a.appendChild(d);d=e._CreateElement("DIV");d.className="kmw-footer-resize";d.onmousedown=b._VResizeMouseDown;d.onmouseover=d.onmouseout=b._VResizeMouseOut;a.appendChild(d);b.resizeIcon=d;return a};b._VKbdMouseOver=function(c){a._IsActivatingKeymanWebUI=1};b._VKbdMouseOut=function(c){a._IsActivatingKeymanWebUI=0};b._VResizeMouseOver=b._VResizeMouseOut=function(c){c=a._GetEventObject(c);if(!c)return!1;c&&c.preventDefault&&
c.preventDefault();var d=b.getRect();b.width=d.width;b.height=d.height;c.cancelBubble=!0;return!1};b._VResizeMouseDown=function(c){a._JustActivatedKeymanWebUI=1;c=a._GetEventObject(c);if(!c)return!0;b.resizing=1;if(c.pageX){var d=c.pageX;var e=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);b._ResizeMouseX=d;b._ResizeMouseY=e;document.onmousemove!=b._VResizeMouseMove&&document.onmousemove!=b._VMoveMouseMove&&(b._VPreviousMouseMove=document.onmousemove,
b._VPreviousMouseUp=document.onmouseup);b._VPreviousCursor=document.body.style.cursor;b._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;b._VOriginalWidth=b._DivVKbd.offsetWidth;b._VOriginalHeight=b._DivVKbd.offsetHeight;document.onmousemove=b._VResizeMouseMove;document.onmouseup=b._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="se-resize");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};b._VResizeMouseMove=function(c){c=a._GetEventObject(c);
if(!c)return!0;b.resizing=1;if(b._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return b._VResizeMoveMouseUp(c);if(c.pageX){var d=c.pageX;var e=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);d=b._VOriginalWidth+d-b._ResizeMouseX;e=b._VOriginalHeight+e-b._ResizeMouseY;d<.2*screen.width&&(d=.2*screen.width);e<.1*screen.height&&(e=.1*screen.height);d>.9*screen.width&&(d=.9*screen.width);e>.5*screen.height&&(d=.5*screen.height);
b._DivVKbd.style.width=d+"px";b._DivVKbd.style.height=e+"px";b._DivVKbd.style.fontSize=e/8+"px";c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};b._VMoveMouseDown=function(c){a._JustActivatedKeymanWebUI=1;c=a._GetEventObject(c);if(!c)return!0;b.resizing=1;if(c.pageX){var d=c.pageX;var e=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);document.onmousemove!=b._VResizeMouseMove&&document.onmousemove!=b._VMoveMouseMove&&(b._VPreviousMouseMove=
document.onmousemove,b._VPreviousMouseUp=document.onmouseup);b._VPreviousCursor=document.body.style.cursor;b._VPreviousMouseButton="undefined"==typeof c.which?c.button:c.which;b._VMoveX=d-b._Box.offsetLeft;b._VMoveY=e-b._Box.offsetTop;a.isCJK()&&(b.pinImg.style.left="15px");document.onmousemove=b._VMoveMouseMove;document.onmouseup=b._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="move");c&&c.preventDefault&&c.preventDefault();c.cancelBubble=!0;return!1};b._VMoveMouseMove=
function(c){c=a._GetEventObject(c);if(!c||b.noDrag)return!0;b.resizing=1;b.userPositioned=!0;b.pinImg.style.display="block";if(b._VPreviousMouseButton!=("undefined"==typeof c.which?c.button:c.which))return b._VResizeMoveMouseUp(c);if(c.pageX){var d=c.pageX;var e=c.pageY}else c.clientX&&(d=c.clientX+document.body.scrollLeft,e=c.clientY+document.body.scrollTop);b._Box.style.left=d-b._VMoveX+"px";b._Box.style.top=e-b._VMoveY+"px";c&&c.preventDefault&&c.preventDefault();d=b.getRect();b.width=d.width;
b.height=d.height;c.cancelBubble=!0;return!1};b._VResizeMoveMouseUp=function(c){c=a._GetEventObject(c);if(!c)return!0;b.resizing=0;b.currentKey=null;document.onmousemove=b._VPreviousMouseMove;document.onmouseup=b._VPreviousMouseUp;document.body.style.cursor&&(document.body.style.cursor=b._VPreviousCursor);a._FocusLastActiveElement();c&&c.preventDefault&&c.preventDefault();a._JustActivatedKeymanWebUI=0;a._IsActivatingKeymanWebUI=0;b._DivVKbd&&(b._VOriginalWidth=b._DivVKbd.offsetWidth,b._VOriginalHeight=
b._DivVKbd.offsetHeight);b.doResizeMove();c.cancelBubble=!0;b.saveCookie();return!1};b.userLocated=function(){return b.userPositioned};b.show=function(a){0<arguments.length?(b._Enabled=a)?b._Show():b._Hide(!0):b._Visible?b._Hide(!0):b._Show()};b.doShow=function(a){return e.callEvent("osk.show",a)};b.doHide=function(a){return e.callEvent("osk.hide",a)};b.doResizeMove=function(a){return e.callEvent("osk.resizemove",a)};b._Show=function(c,d){if(null!=b._Box&&null!=a._ActiveElement&&(k.touchable||null!=
a._ActiveKeyboard&&b._Enabled)){var f=b._Box.style;k.touchable&&""==f.bottom&&(f.visibility="hidden");if(b.ddOSK){var h,n=-1,l=b._DivVKbd.childNodes[0].childNodes;for(h=0;h<l.length;h++)l[h].layer==b.layerId?(l[h].style.display="block",b.nextLayer=b.layerId,b.layerIndex=n=h,"string"==typeof b.layers[h].nextlayer&&(b.nextLayer=b.layers[h].nextlayer)):l[h].style.display="none";k.touchable&&(f.position="fixed",f.left=f.bottom="0px",f.height=f.maxHeight=b._Box.firstChild.firstChild.style.height,f.border=
"none",f.borderTop="1px solid gray",b._Enabled=1,b._Visible=1,"phone"==k.formFactor?b._DivVKbd.style.fontSize="120%":"Android"==k.OS&&"tablet"==k.formFactor&&300>parseInt(f.height,10)?b._DivVKbd.style.fontSize="120%":b._DivVKbd.style.fontSize="200%",b.lgKey=b.getSpecialKey(n,"K_LOPT"),b.hkKey=b.getSpecialKey(n,"K_ROPT"),"iOS"==k.OS&&"phone"==k.formFactor&&b.adjustHeights());b.spaceBar=b.getSpecialKey(n,"K_SPACE")}f.display="block";b.showLanguage();"desktop"==k.formFactor&&(f.position="absolute",f.display=
"block",f.left="0px",b.loadCookie(),0<=c?(f.left=c+"px",f.top=d+"px"):b.userPositioned?(f.left=b.x+"px",f.top=b.y+"px"):(c=a._ActiveElement,""!=b.dfltX?f.left=b.dfltX:"undefined"!=typeof c&&null!=c&&(f.left=e._GetAbsoluteX(c)+"px"),""!=b.dfltY?f.top=b.dfltY:"undefined"!=typeof c&&null!=c&&(f.top=e._GetAbsoluteY(c)+c.offsetHeight+"px")),b._Enabled=1,b._Visible=1,b._DivVKbd&&(b.width=b._DivVKbd.offsetWidth,b.height=b._DivVKbd.offsetHeight),b.saveCookie(),c=b.pinImg,"undefined"!=typeof c&&null!=c&&(c.style.display=
b.userPositioned?"block":"none"));"hidden"==f.visibility&&window.setTimeout(function(){b._Box.style.visibility="visible"},0);k.touchable||(f={},f.x=b._Box.offsetLeft,f.y=b._Box.offsetTop,f.userLocated=b.userPositioned,b.doShow(f))}};b.adjustRowLengths=function(a){if(!(0<=a)){var c=b._DivVKbd.childNodes[0].childNodes;if(!(0>a||a>=c.length||c[a].aligned)&&"block"==c[a].style.display){var d=b._DivVKbd.childNodes[0].offsetWidth-6;"Windows"==k.OS&&(d-=e.landscapeView()?4:40);var h,n=c[a].childNodes;for(h=
0;h<n.length;h++){var l=n[h].childNodes;var u=l.length;var p=l[u-2].offsetLeft+l[u-2].offsetWidth;l=l[u-1];l.style.width=d-p+"px"}c[a].aligned=!0}}};b.resetRowLengths=function(){var a,d=b._DivVKbd.childNodes[0].childNodes,e=-1;for(a=0;a<d.length;a++)"block"==d[a].style.display&&(e=a),d[a].aligned=!1;return e};b.getSpecialKey=function(a,d){var c=b._DivVKbd.childNodes[0].childNodes;if(0<=a&&a<c.length)for(a=c[a].childNodes,c=a[a.length-1].childNodes,a=0;a<c.length;a++)if(c[a].keyId==d)return c[a];return null};
b.hide=function(){b._Enabled=0;b._Hide(!0)};b._Hide=function(c){b._Box&&"block"==b._Box.style.display&&b._DivVKbd&&(b.width=b._DivVKbd.offsetWidth,b.height=b._DivVKbd.offsetHeight);if(c)b._Enabled=a.isCJK()||k.touchable?1:0,b.saveCookie();else if("desktop"==k.formFactor&&0<=document.body.className.indexOf("osk-always-visible"))return;b._Visible=0;if(b._Box&&k.touchable&&0<b._Box.offsetHeight){var d=b._Box.style;d.transition="string"==typeof d.MozBoxSizing?"opacity 0.8s linear":d.msTransition=d.WebkitTransition=
"opacity 0.5s linear 0";window.setTimeout(function(){var a=b._Box.style;b._Visible?a.transition=a.msTransition=a.MozTransition=a.WebkitTransition="":(a.opacity="0",b._Box.addEventListener("transitionend",b.hideNow,!1),b._Box.addEventListener("webkitTransitionEnd",b.hideNow,!1))},200)}else b._Box&&(b._Box.style.display="none");d={};d.HiddenByUser=c;b.doHide(d);c&&a._FocusLastActiveElement()};b.hideNow=function(){b._Box.removeEventListener("transitionend",b.hideNow,!1);b._Box.removeEventListener("webkitTransitionEnd",
b.hideNow,!1);var a=b._Box.style;a.display="none";a.opacity="1";b._Visible=0;a.transition=a.msTransition=a.mozTransition=a.WebkitTransition="";b.hkKey&&"undefined"!=typeof b.hkKey&&b.highlightKey(b.hkKey.firstChild,!1)};b.prepare=function(){a.initialized?(b.ready||(b._Box=e._CreateElement("DIV"),document.body.appendChild(b._Box),e.linkStyleSheet(a.getStyleSheetPath("kmwosk.css")),e.attachDOMEvent(b._Box,"mousedown",function(){a._IsActivatingKeymanWebUI=1}),k.touchable&&(e.attachDOMEvent(b._Box,"touchstart",
function(c){a._IsActivatingKeymanWebUI=1;c.preventDefault();c.stopPropagation()}),e.attachDOMEvent(b._Box,"touchend",function(a){a.preventDefault();a.stopPropagation()}),e.attachDOMEvent(b._Box,"touchmove",function(a){a.preventDefault();a.stopPropagation()}),e.attachDOMEvent(b._Box,"touchcancel",function(a){a.preventDefault();a.stopPropagation()}),b.vpScale=e.getViewportScale())),b.loadCookie(),b.ready=!0):window.setTimeout(b.prepare,200)};b._Load=function(){if(null==b._Box)99<=b.loadRetry||(window.setTimeout(b._Load,
100),b.loadRetry++);else{b.loadRetry=0;a._TitleElement&&(a._TitleElement.innerHTML="KeymanWeb");b._Visible=0;b.layerId="default";var c=b._Box.style;c.zIndex="9999";c.display="none";c.width="auto";c.position="desktop"==k.formFactor?"absolute":"fixed";"phone"==k.formFactor&&(c.fontSize="1.6em");b._DivVKbd=b._DivVKbdHelp=null;b._Box.innerHTML="";b._Box.onmouseover=b._VKbdMouseOver;b._Box.onmouseout=b._VKbdMouseOut;if(null!=a._ActiveKeyboard||k.touchable){var d=null;var h=null,c="";b._Box.className="";
if(null!=a._ActiveKeyboard){d=a._ActiveKeyboard.KV;c=a._ActiveKeyboard.KH;var g=a._ActiveKeyboard.KVKL;"undefined"!=typeof g&&null!=g&&(h=g[k.formFactor],"undefined"==typeof h||null==h)&&("phone"==k.formFactor?h=g.tablet:"tablet"==k.formFactor&&(h=g.phone),"undefined"==typeof h||null==h)&&(h=g.desktop)}if(null!=d&&null!=d.BK){g=d.BK;for(var n=!0,l=0;l<g.length;l++)if(0<g[l].length){n=!1;break}n&&(d=null)}null!=d||""==c||k.touchable?(null==d&&(d={F:"Tahoma",BK:"`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ "}),
b._GenerateVisualKeyboard(d,c,h)):(b.ddOSK=!1,d=e._CreateElement("DIV"),d.className="kmw-title-bar",d.appendChild(b._TitleBarInterior()),d.onmousedown=b._VMoveMouseDown,b._Box.appendChild(d),d=e._CreateElement("DIV"),d.className="kmw-osk-static",d.innerHTML=c,b._Box.appendChild(d),a._ActiveKeyboard.KHF&&a._ActiveKeyboard.KHF(b._Box));a._TitleElement&&(a._TitleElement.innerHTML="<span style='font-weight:bold'>"+a._ActiveKeyboard.KN+"</span> - "+a._TitleElement.innerHTML,a._TitleElement.className="",
a._TitleElement.style.color="#fff")}else d=e._CreateElement("DIV"),d.className="kmw-title-bar",d.appendChild(b._TitleBarInterior()),d.onmousedown=b._VMoveMouseDown,b._Box.appendChild(d),d=e._CreateElement("DIV"),d.className="kmw-osk-none",b._Box.appendChild(d);b.createKeyTip();c=b._Box.firstChild;d=" kmw-keyboard-"+(a._ActiveKeyboard?a._ActiveKeyboard.KI.replace("Keyboard_",""):"");"keymanweb_title_bar"==c.id&&(c=c.nextSibling);c.className="kmw-osk-inner-frame"+d;b.appendStyleSheet();b._Enabled&&
b._Show()}};b.appendStyleSheet=function(){if(null!=a._ActiveStub){b.styleSheet&&e.removeStyleSheet(b.styleSheet);var c=a._ActiveStub,d=c.KFont,c=c.KOskFont;e.addFontFaceStyleSheet(d);e.addFontFaceStyleSheet(c);a.alignInputs(!1);var h=b.addFontStyle(d,c);null!=a._ActiveKeyboard&&"string"==typeof a._ActiveKeyboard.KCSS&&(h+=a._ActiveKeyboard.KCSS);b.styleSheet=e.addStyleSheet(h);b.waitForFonts(d,c)&&a.alignInputs(!0)}};b.addFontStyle=function(c,b){var d=a.baseFont;"undefined"!=typeof c&&"undefined"!=
typeof c.family&&(d=c.family);var d=d.replace(/\u0022/g,""),e=new RegExp("s?"+d+",?"),f=a.appliedFont.replace(/\u0022/g,""),f=f.replace(e,""),f=f.replace(/,$/,""),f='"'+(""==f?d:d+","+f).replace(/\,\s?/g,'","')+'"',d=".keymanweb-font{\nfont-family:"+f+" !important;\n}\n";"undefined"!=typeof b?d=d+'.kmw-key-text{\nfont-family:"'+b.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n':"undefined"!=typeof c&&(d=d+'.kmw-key-text{\nfont-family:"'+c.family.replace(/\u0022/g,"").replace(/,/g,'","')+
'";\n}\n');a.appliedFont=f;return d};b._Unload=function(){b._VShift=b._DivVKbd=b._VKeySpans=b._Box=0};b.saveCookie=function(){var a=e.loadCookie("KeymanWeb_OnScreenKeyboard"),d=b.getPos();a.visible=b._Enabled?1:0;a.userSet=b.userPositioned?1:0;a.left=d.left;a.top=d.top;b._DivVKbd&&(a.width=b.width,a.height=b.height);e.saveCookie("KeymanWeb_OnScreenKeyboard",a)};b.loadCookie=function(){var a=e.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof a||null==a)return b.userPositioned=!1;b._Enabled=
e.toNumber(a.visible,!0);b.userPositioned=e.toNumber(a.userSet,!1);b.x=e.toNumber(a.left,-1);b.y=e.toNumber(a.top,-1);var d=e.toNumber(a.width,.3*screen.width),a=e.toNumber(a.height,.15*screen.height);d<.2*screen.width&&(d=.2*screen.width);a<.1*screen.height&&(a=.1*screen.height);d>.9*screen.width&&(d=.9*screen.width);a>.5*screen.height&&(d=.5*screen.height);b._DivVKbd&&(b._DivVKbd.style.width=d+"px",b._DivVKbd.style.height=a+"px",b._DivVKbd.style.fontSize=a/8+"px");-1!=b.x&&-1!=b.y&&b._Box||(b.userPositioned=
!1);b.x<window.pageXOffset-.8*d&&(b.x=window.pageXOffset-.8*d);0>b.y&&(b.x=-1,b.y=-1,b.userPositioned=!1);b.userPositioned&&b._Box&&b.setPos({left:b.x,top:b.y});return!0}}();window.tavultesoft.keymanweb.initialized||function(){var a=window.tavultesoft.keymanweb,b=a.osk,e=a.util,k=e.device;a.isEmbedded=!1;a.setDefaultDeviceOptions=function(a){""==a.attachType&&(a.attachType=k.touchable?"manual":"auto")};e.wait=function(b){var d=a.waiting;if("undefined"!=typeof d&&null!=d&&!a.warned){var c=d.firstChild.childNodes;b?(d.pending=!0,window.setTimeout(function(){d.pending&&(window.scrollTo(0,0),c[0].style.display="none",c[1].className="kmw-wait-text",c[1].innerHTML=b,c[2].style.display=
"block",d.style.display="block")},1E3)):d.pending&&(c[1].innerHTML="",d.pending=!1,d.style.display="none")}};a.getStyleSheetPath=function(a){return e.getOption("resources")+"osk/"+a};a.getKeyboardPath=function(b){return(/^(([.]\/)|([.][.]\/)|(\/))|(:)/.test(b)?"":a.options.keyboards)+b};a.KC_=function(b,d,c){var e,h="";var g=c.body?c:c.ownerDocument;if(k.touchable)h=a.getTextBeforeCaret(c);else if(a.legacy)h=c.value;else if(g&&(e=g.defaultView)&&e.getSelection&&("on"==g.designMode.toLowerCase()||
"true"==c.contentEditable||"plaintext-only"==c.contentEditable||""===c.contentEditable))c=e.getSelection(),3==c.focusNode.nodeType&&(h=c.focusNode.substringData(0,c.focusOffset));else if(c.setSelectionRange){if(c._KeymanWebSelectionStart)h=c._KeymanWebSelectionStart;else{if(null===a._CachedSelectionStart||c.selectionStart!==a._LastCachedSelection)a._LastCachedSelection=c.selectionStart,a._CachedSelectionStart=c.value._kmwCodeUnitToCodePoint(c.selectionStart),a._CachedSelectionEnd=c.value._kmwCodeUnitToCodePoint(c.selectionEnd);
h=a._CachedSelectionStart}h=c.value._kmwSubstr(0,h)}else g&&(e=g.selection)&&(c=e.createRange(),c.moveStart("character",-2*b),h=c.text);h._kmwLength()<b&&(h=Array(b-h._kmwLength()+1).join("\ufffe")+h);return h._kmwSubstr(-b)._kmwSubstr(0,d)};a.alignInputs=function(b){if(k.touchable)for(var d=0;d<a.inputList.length;d++)b?(a.updateInput(a.inputList[d]),a.inputList[d].style.visibility="visible",0<a.inputList[d].base.textContent.length&&(a.inputList[d].base.style.visibility="hidden")):(a.inputList[d].style.visibility=
"hidden",a.inputList[d].base.style.visibility="visible")};b.highlightSubKeys=function(a,d,c){if(null!=a&&null!=a.subKeys){var f,h=document.getElementById("kmw-popup-keys");5<b.touchY-c&&null==h&&(b.subkeyDelayTimer&&window.clearTimeout(b.subkeyDelayTimer),b.showSubKeys(a),h=document.getElementById("kmw-popup-keys"));for(f=0;f<a.subKeys.length;f++)try{var g=h.childNodes[f].firstChild;var n=e._GetAbsoluteX(g);var l=e._GetAbsoluteY(g);var k=n+g.offsetWidth;var p=l+g.offsetHeight;var r=d>n&&d<k&&c>l&&
c<p;b.highlightKey(g,r);r&&b.highlightKey(a,!1)}catch(q){}}};b.optionKey=function(e,d,c){c&&(0<=d.indexOf("K_LOPT")?b.showLanguageMenu():0<=d.indexOf("K_ROPT")&&(a._IsActivatingKeymanWebUI=0,b._Hide(!0),a.hideCaret(),a._LastActiveElement=0))};b.createKeyTip=function(){"phone"==k.formFactor&&(null==b.keytip&&(b.keytip=e._CreateElement("DIV"),b.keytip.className="kmw-keytip",b.keytip.id="kmw-keytip",b.keytip.style.pointerEvents="none",b.keytip.appendChild(e._CreateElement("CANVAS")),b.keytip.appendChild(e._CreateElement("SPAN")),
b.keytip.key=null,b.keytip.state=!1),b._Box.appendChild(b.keytip))};b.showKeyTip=function(a,d){var c=b.keytip;if(null!=c&&(a!=c.key||d!=c.state)){var f=document.getElementById("kmw-popup-keys"),f=f&&"visible"==f.style.visibility;if(d&&!f){for(var h=e._GetAbsoluteY(b._Box),g=b._Box.offsetHeight,f=e._GetAbsoluteX(a),n=e._GetAbsoluteY(a),l=a.offsetWidth,k=a.offsetHeight,p=a.firstChild,r=c.style,q=c.childNodes[1],t=q.style,w=0,z=c.firstChild,x=0;x<a.childNodes.length&&(p=a.childNodes[x],!b.hasClass(p,
"kmw-key-text"));x++);z.width=1.6*l;z.height=2.3*k;r.top="auto";r.bottom=h+g-n-k+"px";r.textAlign="center";r.overflow="visible";r.fontFamily=e.getStyleValue(p,"font-family");r.width=z.width+"px";r.height=z.height+"px";h=e.getStyleInt(p,"font-size");0!=h&&(r.fontSize=1.8*h+"px");q.textContent=p.textContent;t.display="block";t.position="absolute";t.textAlign="center";t.width="100%";t.top="2%";t.bottom="auto";p=(z.width-l)/2;f<p?(w=-1,f+=p):f>window.innerWidth-l-p&&(w=1,f-=p);b.drawPreview(z,l,k,w);
r.left=f-p+"px";r.display="block"}else c.style.display="none";c.key=a;c.state=d}};b.drawPreview=function(a,b,c,e){c=a.getContext("2d");var d=(a.width-b)/2,f=a.height,h=0,l=d,u=b+d;b+=2*d;var p=.5*f,r=.6*f,q=8;"Android"==k.OS&&(q=3);switch(e){case -1:l-=d;u-=d;b-=d;break;case 1:h+=d,l+=d,u+=d}c.clearRect(0,0,a.width,a.height);"Android"==k.OS?(l=u=(l+u)/2,c.fillStyle="#999"):c.fillStyle="#ffffff";c.lineWidth="1";c.strokeStyle="#cccccc";c.save();c.beginPath();c.moveTo(h+q,0);c.arcTo(b,0,b,q,q);"Android"==
k.OS?(c.arcTo(b,p,u,r,q),c.arcTo(u,r,l,r,q)):(c.arcTo(b,p,u,r,q),c.arcTo(u,r,u-q,f,q),c.arcTo(u,f,l,f,q),c.arcTo(l,f,l,r-q,q));c.arcTo(l,r,h,p-q,q);c.arcTo(h,p,h,q,q);c.arcTo(h,0,h+q,0,q);c.fill();c.stroke();c.restore()};b.addCallout=function(a){if("phone"!=k.formFactor||"iOS"!=k.OS)return null;var d=e._CreateElement("DIV"),c=d.style;d.id="kmw-popup-callout";b._Box.appendChild(d);var f=a.offsetLeft,h=a.offsetWidth,g=a.offsetHeight;c.top=a.offsetTop-6+"px";c.left=f+"px";c.width=h+"px";c.height=g+6+
"px";return d};b.touchHold=function(a){b.subkeyDelayTimer&&(window.clearTimeout(b.subkeyDelayTimer),b.subkeyDelayTimer=null);"undefined"!=typeof a.subKeys&&null!=a.subKeys&&(b.subkeyDelayTimer=window.setTimeout(function(){b.clearPopup();b.showSubKeys(a)},b.popupDelay))};a.handleRotationEvents=function(){"iOS"==k.OS&&e.attachDOMEvent(window,"orientationchange",a.rotateDevice);"Android"==k.OS&&(b.wasVisible=b.isVisible,"onmozorientationchange"in screen?e.attachDOMEvent(screen,"mozorientationchange",
b.hideNow):e.attachDOMEvent(window,"orientationchange",b.hideNow),e.attachDOMEvent(window,"resize",function(){a.alignInputs(!0);b.hideLanguageList();b._Load();b.wasVisible&&b._Show()}))};a.rotateDevice=function(a){b.hideLanguageList();b._Visible&&(b.adjustHeights(),"phone"==k.formFactor&&"Android"==k.OS&&window.setTimeout(function(){window.scrollTo(0,1)},1E3))};b.waitForFonts=function(b,d){if("undefined"==typeof b&&"undefined"==typeof d||"undefined"==typeof b.files&&"undefined"==typeof d.files)return!0;
var c=e.checkFontDescriptor(b),f=e.checkFontDescriptor(d);if(c&&f)return!0;a.fontCheckTimer=window.setInterval(function(){e.checkFontDescriptor(b)&&e.checkFontDescriptor(d)&&(window.clearInterval(a.fontCheckTimer),a.fontCheckTimer=null,a.alignInputs(!0))},100);window.setTimeout(function(){a.fontCheckTimer&&(window.clearInterval(a.fontCheckTimer),a.fontCheckTimer=null,a.alignInputs(!0))},5E3);return!1}}();window.tavultesoft.keymanweb.initialized||function(){var a=window.tavultesoft.keymanweb,b=a.util,e=a.osk,k=b.device;a.TSS_LAYER=33;a.TSS_PLATFORM=31;a._BeepObjects=[];a._BeepTimeout=0;a.KSF=a.KSF=function(){a._IgnoreNextSelChange=1};a.KT=a.KT=function(b,d){a.cachedContext.reset();var c=a._LastActiveElement;var e=!1;if(null!=c){e=c._KeymanWebSelectionStart;var h=c._KeymanWebSelectionEnd;var g=a._Selection;a._IsActivatingKeymanWebUI=1;a._IgnoreNextSelChange=100;a._FocusLastActiveElement();a._IsMozillaEditableIframe(c,
0)&&(c=c.documentElement);document.selection&&null!=g&&g.select();c._KeymanWebSelectionStart=e;c._KeymanWebSelectionEnd=h;a._IgnoreNextSelChange=0;null!=b&&a.KO(0,c,b);"undefined"!==typeof d&&null!==d&&a.KDO(0,c,d);c._KeymanWebSelectionStart=null;c._KeymanWebSelectionEnd=null;e=!0}return e};a.KR=a.KR=function(b){if(a.initialized){var d,c=a._ActiveStub;if(!(c&&"KI"in c)||c.KI!=b.KI)for(d=0;d<a._KeyboardStubs.length;d++){c=a._KeyboardStubs[d];if(b.KI==c.KI)break;c=null}null==a._ActiveStub&&null!=c&&
(a._ActiveStub=c);for(d=0;d<a._Keyboards.length;d++)if(b.KI==a._Keyboards[d].KI)return;a._Keyboards=a._push(a._Keyboards,b);a.doKeyboardLoaded(b.KI)}else a.deferredKR.push(b)};a.KRS=a.KRS=function(b){var d;if(!a.initialized)return a.deferredKRS.push(b),null;null==a.dfltStub&&(a.dfltStub=b);"undefined"==typeof b.KLC&&(b.KLC="");"undefined"==typeof b.KL&&(b.KL="undefined");for(d=0;d<a._KeyboardStubs.length;d++)if(a._KeyboardStubs[d].KI==b.KI&&(""==b.KLC||a._KeyboardStubs[d].KLC==b.KLC))return 1;a._KeyboardStubs=
a._push(a._KeyboardStubs,b);a.doKeyboardRegistered(b.KI,b.KL,b.KN,b.KLC);return null};a.KC=a.KC=function(b,d,c){var e=a.cachedContext.get(b,d);if(null!==e)return e;c=a.KC_(b,d,c);a.cachedContext.set(b,d,c);return c};a.KN=a.KN=function(a,b){a=this.KC(a+1,1,b);return!1===a?!0:"\ufffe"===a};a.KCM=a.KCM=function(a,b,c,e){a=this.KC(a,e,b);if(!1!==a&&a===c)return!0;this._DeadkeyResetMatched();return!1};a.KIK=a.KIK=function(b){return a._ActiveKeyboard.KM?!b.LisVirtualKey:a._USKeyCodeToCharCode(b)?!0:!1};
a.KKM=a.KKM=function(a,b,c){var d=0,e=173==a.Lcode?189:a.Lcode;255<a.vkCode&&(e=a.vkCode);if(a.LisVirtualKey||255<e){if(16384==(b&16384)||255<e)d=c==e&&(b&127)==a.Lmodifiers}else 0==(b&16384)&&(d=e==c);d||this._DeadkeyResetMatched();return 0!=d};a.KKI=a.KKI=function(a){var b={};b.vk=a.LisVirtualKey;b.code=a.Lcode;b.modifiers=a.Lmodifiers;return b};a.KDM=a.KDM=function(b,d,c){if(0==a._DeadKeys.length)return!1;b=a._SelPos(d)-b;for(d=0;d<a._DeadKeys.length;d++)if(a._DeadKeys[d].p==b&&a._DeadKeys[d].d==
c)return a._DeadKeys[d].matched=1,!0;this._DeadkeyResetMatched();return!1};a.KBR=a.KBR=function(){a.cachedContext.reset();var b;for(b=a._BeepTimeout=0;b<a._BeepObjects.length;b++)a._BeepObjects[b].e.style.backgroundColor=a._BeepObjects[b].c;a._BeepObjects=[]};a.KB=a.KB=function(b){a.cachedContext.reset();b.body&&(b=b.body);if(b.style&&"undefined"!=typeof b.style.backgroundColor){for(var d=0;d<a._BeepObjects.length;d++)if(a._BeepObjects[d].e==b)return;a._BeepObjects=a._push(a._BeepObjects,{e:b,c:b.style.backgroundColor});
b.style.backgroundColor="#000000";0==a._BeepTimeout&&(a._BeepTimeout=1,window.setTimeout(a.KBR,50))}};a.KA=a.KA=function(b,d,c){if(""==d)return!1;d=c._kmwIndexOf(d);a._AnyIndices[b]=d;return 0<=d};a.KO=a.KO=function(b,d,c){var e;a.cachedContext.reset();if("oninserttext"in a)a.oninserttext(b,c);var h=d.body?d:d.ownerDocument;var g;if(0<=d.className.indexOf("keymanweb-input")){var k=a.getTextBeforeCaret(d);k=0<b?k._kmwSubstr(0,k._kmwLength()-b)+c:k+c;a.setTextBeforeCaret(d,k)}else{if(a.legacy)d.value=
0<b?d.value._kmwSubstr(0,d.value._kmwLength()-b)+c:d.value+c;else if(h&&(g=h.defaultView)&&g.getSelection&&("on"==h.designMode.toLowerCase()||"true"==d.contentEditable||"plaintext-only"==d.contentEditable||""===d.contentEditable)){var l="on"==h.designMode.toLowerCase();l&&(e=a._CacheCommands(h));g=g.getSelection();k=g.focusNode.nodeValue?g.focusNode.substringData(0,g.focusOffset)._kmwLength():0;g.isCollapsed||g.deleteFromDocument();var u=g.getRangeAt(0);0<b&&(u.setStart(g.focusNode,g.focusOffset-
g.focusNode.nodeValue.substr(0,g.focusOffset)._kmwSubstr(-b).length),u.deleteContents());if(0<c._kmwLength())if(3==g.focusNode.nodeType){u=g.focusOffset;g.focusNode.insertData(g.focusOffset,c);try{g.extend(g.focusNode,u+c.length)}catch(r){g.focusNode.parentNode.scrollIntoView(),g.extend(g.focusNode,u+c.length)}}else{var p=h.createTextNode(c);u.insertNode(p);g.extend(p,c.length)}l&&a._CacheCommandsReset(h,e,null);g.collapseToEnd();0<=b&&(a._DeadkeyDeleteMatched(),a._DeadkeyAdjustPos(k,-b+c._kmwLength()))}else if(h&&
(g=h.selection)){if(h.body.isContentEditable||"on"==h.designMode.toLowerCase())e=a._CacheCommands(h);u=g.createRange();""!=u.text?(g.clear(),b=0):u.collapse(!0);0<b?(u.moveStart("character",-2*b),l=u.text._kmwSubstr(-b),u.collapse(!1),u.moveStart("character",-l.length)):b=0;u.text=c;if(h.body.isContentEditable||"on"==h.designMode.toLowerCase())u.moveStart("character",-c.length),a._CacheCommandsReset(h,e,u.select),u.moveStart("character",c.length),u.select();0<=b&&(a._DeadkeyDeleteMatched(),a._DeadkeyAdjustPos(k,
-b+c._kmwLength()));a._Selection=g.createRange();a._Selection.select();a._Selection.scrollIntoView()}else d.setSelectionRange&&(null!=d._KeymanWebSelectionStart?(k=d._KeymanWebSelectionStart,e=d._KeymanWebSelectionEnd):(k=d.value._kmwCodeUnitToCodePoint(d.selectionStart),e=d.value._kmwCodeUnitToCodePoint(d.selectionEnd)),"textarea"==d.type.toLowerCase()&&"undefined"!=typeof d.scrollTop&&(u=d.scrollTop,l=d.scrollLeft),0>b?(d.value=d.value._kmwSubstring(0,k)+c+d.value._kmwSubstring(e),b=0):d.value=
k<b?c+d.value._kmwSubstring(e):d.value._kmwSubstring(0,k-b)+c+d.value._kmwSubstring(e),0<=b&&(a._DeadkeyDeleteMatched(),a._DeadkeyAdjustPos(k,-b+c._kmwLength())),"undefined"!=typeof u&&(d.scrollTop=u,d.scrollLeft=l),b=k-b+c._kmwLength(),b=d.value._kmwCodePointToCodeUnit(b),d.setSelectionRange(b,b),d._KeymanWebSelectionStart=null,d._KeymanWebSelectionEnd=null);"function"==typeof a.refreshElementContent&&a.refreshElementContent(d)}};a.KDO=a.KDO=function(b,d,c){a.cachedContext.reset();var e={};0<=b&&
a.KO(b,d,"");e.p=a._SelPos(d);e.d=c;a._DeadKeys=a._push(a._DeadKeys,e)};a.KIO=a.KIO=function(b,d,c,e){a.cachedContext.reset();a._AnyIndices[c-1]<d._kmwLength()&&a.KO(b,e,d._kmwCharAt(a._AnyIndices[c-1]))};a._CacheCommands=function(b){var d=[["backcolor",1],["fontname",1],["fontsize",1],["forecolor",1],["bold",0],["italic",0],["strikethrough",0],["subscript",0],["superscript",0],["underline",0]];b.defaultView&&a._push(d,["hilitecolor",1]);for(var c=0;c<d.length;c++)a._push(d[c],d[c][1]?b.queryCommandValue(d[c][0]):
b.queryCommandState(d[c][0]));return d};a._CacheCommandsReset=function(a,b,c){for(var d=0;d<b.length;d++)b[d][1]?a.queryCommandValue(b[d][0])!=b[d][2]&&(c&&c(),a.execCommand(b[d][0],!1,b[d][2])):a.queryCommandState(b[d][0])!=b[d][2]&&(c&&c(),a.execCommand(b[d][0],!1,null))};a.KIFS=a.KIFS=function(b,d,c){c=!0;if(b==a.TSS_LAYER)c=e.layerId===d;else if(b==a.TSS_PLATFORM){var f=d.split(" ");for(b=0;b<f.length;b++){d=f[b].toLowerCase();switch(d){case "touch":case "hardware":k.touchable!=("touch"==d)&&
(c=!1)}switch(d){case "windows":case "android":case "ios":case "macosx":case "linux":k.OS.toLowerCase()!=d&&(c=!1)}switch(d){case "tablet":case "phone":case "desktop":k.formFactor!=d&&(c=!1)}switch(d){case "web":"native"==k.browser&&(c=!1);break;case "native":case "ie":case "chrome":case "firefox":case "safari":case "opera":k.browser!=d&&(c=!1)}}}return c};a.KSETS=function(b,d,c){a.cachedContext.reset();return b==a.TSS_LAYER?e.showLayer(d):!1};a.KLOAD=function(e,d,c){a.cachedContext.reset();e=b.loadCookie("KeymanWeb_"+
e+"_Option_"+d);return"undefined"!=typeof e[d]?unescape(e[d]):c};a.KSAVE=function(e,d){a.cachedContext.reset();var c=a._ActiveKeyboard;if(!c||"undefined"==typeof c.KI||""==c.KI)return!1;e="KeymanWeb_"+c.KI+"_Option_"+e;d=escape(d);b.saveCookie(e,d);return!0};a.GetLastActiveElement=function(){return a._LastActiveElement};a.FocusLastActiveElement=function(){a._FocusLastActiveElement()};a.HideHelp=function(){e._Hide(!0)};a.ShowHelp=function(a,b){e._Show(a,b)};a.ShowPinnedHelp=function(){e.userPositioned=
!0;e._Show(-1,-1)};a.cachedContext={_cache:[],reset:function(){this._cache=[]},get:function(a,b){return"undefined"==typeof this._cache[a]||"undefined"==typeof this._cache[a][b]?null:this._cache[a][b]},set:function(a,b,c){"undefined"==typeof this._cache[a]&&(this._cache[a]=[]);this._cache[a][b]=c}}}();window.tavultesoft.keymanweb.initialized||function(){var a=window.tavultesoft.keymanweb,b=a._VKMap_FF_IE={};b.k61=187;b.k59=186;a._VKMap_Opera_IE={};a._VKMap_Safari_IE={};b=a._VKMap={};b.se={};b.se.k220=192;b.se.k187=189;b.se.k219=187;b.se.k221=219;b.se.k186=221;b.se.k191=220;b.se.k192=186;b.se.k189=191;b.uk={};b.uk.k223=192;b.uk.k192=222;b.uk.k222=226;b.uk.k220=220;var b={},e={};b.k192=96;b.k49=49;b.k50=50;b.k51=51;b.k52=52;b.k53=53;b.k54=54;b.k55=55;b.k56=56;b.k57=57;b.k48=48;b.k189=45;b.k187=61;
b.k81=113;b.k87=119;b.k69=101;b.k82=114;b.k84=116;b.k89=121;b.k85=117;b.k73=105;b.k79=111;b.k80=112;b.k219=91;b.k221=93;b.k220=92;b.k65=97;b.k83=115;b.k68=100;b.k70=102;b.k71=103;b.k72=104;b.k74=106;b.k75=107;b.k76=108;b.k186=59;b.k222=39;b.k90=122;b.k88=120;b.k67=99;b.k86=118;b.k66=98;b.k78=110;b.k77=109;b.k188=44;b.k190=46;b.k191=47;e.k192=126;e.k49=33;e.k50=64;e.k51=35;e.k52=36;e.k53=37;e.k54=94;e.k55=38;e.k56=42;e.k57=40;e.k48=41;e.k189=95;e.k187=43;e.k81=81;e.k87=87;e.k69=69;e.k82=82;e.k84=84;
e.k89=89;e.k85=85;e.k73=73;e.k79=79;e.k80=80;e.k219=123;e.k221=125;e.k220=124;e.k65=65;e.k83=83;e.k68=68;e.k70=70;e.k71=71;e.k72=72;e.k74=74;e.k75=75;e.k76=76;e.k186=58;e.k222=34;e.k90=90;e.k88=88;e.k67=67;e.k86=86;e.k66=66;e.k78=78;e.k77=77;e.k188=60;e.k190=62;e.k191=63;a._USCharCode=[b,e];a._USKeyCodeToCharCode=function(b){return a._USCharCode[b.Lmodifiers&16?1:0]["k"+b.Lcode]}}();window.tavultesoft.keymanweb.initialized||(window.tavultesoft.keymanweb.dfltLayout={desktop:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"1",key:[{id:"K_BKQUOTE"},{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"130"}]},{id:"2",key:[{id:"K_TAB",text:"*Tab*",sp:"1",width:"130"},{id:"K_Q"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},
{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{id:"K_BKSLASH"}]},{id:"3",key:[{id:"K_CAPS",text:"*Caps*",sp:"1",width:"165"},{id:"K_A"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"165"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"130"},{id:"K_oE2"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},
{id:"K_RSHIFT",text:"*Shift*",sp:"1",width:"130"}]},{id:"5",key:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"170"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_SPACE",text:"",width:"770"},{id:"K_ALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_RCONTROL",text:"*Ctrl*",sp:"1",width:"170"}]}]}]},tablet:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},
{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},
{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrlalt"}]},{id:"K_LOPT",text:"*Menu*",sp:"1",width:"150"},{id:"K_SPACE",text:"",width:"570"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"150"},{id:"K_ENTER",text:"*Enter*",
sp:"1",width:"200"}]}]}]},phone:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},
{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},
{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrlalt"}]},{id:"K_LOPT",text:"*Menu*",width:"150",sp:"1"},{id:"K_SPACE",width:"570",text:""},{id:"K_BKSP",text:"*BkSp*",width:"150",sp:"1"},{id:"K_ENTER",text:"*Enter*",width:"200",sp:"1"}]}]}]}});(function(){var a=window.tavultesoft.keymanweb,b=window.setInterval(function(){"complete"===document.readyState&&(window.clearInterval(b),a.init(null))},10)})();
