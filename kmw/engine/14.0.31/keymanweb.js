/*
 https://github.com/paulmillr/es6-shim
 @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
   and contributors,  MIT License
 es6-shim: v0.35.4
 see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 Details and documentation:
 https://github.com/paulmillr/es6-shim/
 https://mths.be/codepointat v0.2.0 by @mathias  http://mths.be/startswith v0.2.0 by @mathias */
String.kmwFromCharCode=function(f){var h=[],l;for(l=0;l<arguments.length;l++){var q=Number(arguments[l]);if(!isFinite(q)||0>q||1114111<q||Math.floor(q)!==q)throw new RangeError("Invalid code point "+q);65536>q?h.push(q):(q-=65536,h.push((q>>10)+55296),h.push(q%1024+56320))}return String.fromCharCode.apply(void 0,h)};
String.prototype.kmwCharCodeAt=function(f){var h=String(this),l=0;if(0>f||f>=h.length)return NaN;for(var q=0;q<f;q++)if(l=h.kmwNextChar(l),null===l)return NaN;f=h.charCodeAt(l);return 55296<=f&&56319>=f&&h.length>l+1&&(h=h.charCodeAt(l+1),56320<=h&&57343>=h)?(f-55296<<10)+(h-56320)+65536:f};String.prototype.kmwIndexOf=function(f,h){var l=String(this);f=l.indexOf(f,h);if(0>f)return f;for(var q=h=0;null!==q&&q<f;q=l.kmwNextChar(q))h++;return h};
String.prototype.kmwLastIndexOf=function(f,h){var l=String(this);f=l.lastIndexOf(f,h);if(0>f)return f;for(var q=h=0;null!==q&&q<f;q=l.kmwNextChar(q))h++;return h};String.prototype.kmwLength=function(){var f=String(this);if(0==f.length)return 0;for(var h=0,l=0;null!==l;h++)l=f.kmwNextChar(l);return h};String.prototype.kmwSlice=function(f,h){var l=String(this);f=l.kmwCodePointToCodeUnit(f);h=l.kmwCodePointToCodeUnit(h);return null===f||null===h?"":l.slice(f,h)};
String.prototype.kmwSubstr=function(f,h){var l=String(this);0>f&&(f=l.kmwLength()+f);0>f&&(f=0);var q=l.kmwCodePointToCodeUnit(f),e=q;if(null===q)return"";if(2>arguments.length)e=l.length;else for(var a=0;a<h;a++)e=l.kmwNextChar(e);return null===e?l.substring(q):l.substring(q,e)};
String.prototype.kmwSubstring=function(f,h){var l=String(this);if("undefined"==typeof h)f=l.kmwCodePointToCodeUnit(f),h=l.length;else{if(f>h){var q=f;f=h;h=q}f=l.kmwCodePointToCodeUnit(f);h=l.kmwCodePointToCodeUnit(h)}if(isNaN(f)||null===f)f=0;if(isNaN(h)||null===h)h=l.length;return l.substring(f,h)};
String.prototype.kmwNextChar=function(f){var h=String(this);if(null===f||0>f||f>=h.length-1)return null;var l=h.charCodeAt(f);return 55296<=l&&56319>=l&&h.length>f+1&&(l=h.charCodeAt(f+1),56320<=l&&57343>=l)?f==h.length-2?null:f+2:f+1};String.prototype.kmwPrevChar=function(f){var h=String(this);if(null==f||0>=f||f>h.length)return null;var l=h.charCodeAt(f-1);return 56320<=l&&57343>=l&&1<f&&(h=h.charCodeAt(f-2),55296<=h&&56319>=h)?f-2:f-1};
String.prototype.kmwCodePointToCodeUnit=function(f){if(null===f)return null;var h=String(this),l=0;if(0>f){l=h.length;for(var q=0;q>f;q--)l=h.kmwPrevChar(l);return l}if(f==h.kmwLength())return h.length;for(q=0;q<f;q++)l=h.kmwNextChar(l);return l};String.prototype.kmwCodeUnitToCodePoint=function(f){var h=String(this);return null===f?null:0==f?0:0>f?h.substr(f).kmwLength():h.substr(0,f).kmwLength()};String.prototype.kmwCharAt=function(f){var h=String(this);return 0<=f?h.kmwSubstr(f,1):""};
String.prototype.kmwBMPNextChar=function(f){var h=String(this);return 0>f||f>=h.length-1?null:f+1};String.prototype.kmwBMPPrevChar=function(f){var h=String(this);return 0>=f||f>h.length?null:f-1};String.prototype.kmwBMPCodePointToCodeUnit=function(f){return f};String.prototype.kmwBMPCodeUnitToCodePoint=function(f){return f};String.prototype.kmwBMPLength=function(){return String(this).length};
String.prototype.kmwBMPSubstr=function(f,h){var l=String(this);return-1<f?l.substr(f,h):l.substr(l.length+f,-f)};
String.kmwEnableSupplementaryPlane=function(f){var h=String.prototype;String._kmwFromCharCode=f?String.kmwFromCharCode:String.fromCharCode;h._kmwCharAt=f?h.kmwCharAt:h.charAt;h._kmwCharCodeAt=f?h.kmwCharCodeAt:h.charCodeAt;h._kmwIndexOf=f?h.kmwIndexOf:h.indexOf;h._kmwLastIndexOf=f?h.kmwLastIndexOf:h.lastIndexOf;h._kmwSlice=f?h.kmwSlice:h.slice;h._kmwSubstring=f?h.kmwSubstring:h.substring;h._kmwSubstr=f?h.kmwSubstr:h.kmwBMPSubstr;h._kmwLength=f?h.kmwLength:h.kmwBMPLength;h._kmwNextChar=f?h.kmwNextChar:
h.kmwBMPNextChar;h._kmwPrevChar=f?h.kmwPrevChar:h.kmwBMPPrevChar;h._kmwCodePointToCodeUnit=f?h.kmwCodePointToCodeUnit:h.kmwBMPCodePointToCodeUnit;h._kmwCodeUnitToCodePoint=f?h.kmwCodeUnitToCodePoint:h.kmwBMPCodeUnitToCodePoint};var com;
(function(f){(function(f){(function(f){var h=function(){function a(d,c){this.p=d;this.d=c;this.o=a.ordinalSeed++}a.prototype.match=function(a,c){return this.p==a&&this.d==c};a.prototype.set=function(){this.matched=1};a.prototype.reset=function(){this.matched=0};a.prototype.before=function(a){return this.o<a.o};a.prototype.clone=function(){var d=new a(this.p,this.d);d.o=this.o;return d};a.ordinalSeed=0;a.sortFunc=function(a,c){return a.p!=c.p?c.p-a.p:c.o-a.o};return a}();f.Deadkey=h;var e=function(){function a(){this.dks=
[]}a.prototype.toSortedArray=function(){this.dks=this.dks.sort(h.sortFunc);return[].concat(this.dks)};a.prototype.clone=function(){var d=new a,c=this.toSortedArray();d.dks=[];c.forEach(function(a){d.dks.push(a.clone())});return d};a.prototype.isMatch=function(a,c,b){if(0==this.dks.length)return!1;c=a-c;for(a=0;a<this.dks.length;a++)if(this.dks[a].match(c,b)&&!this.dks[a].matched)return this.dks[a].set(),!0;this.resetMatched();return!1};a.prototype.add=function(a){this.dks=this.dks.concat(a)};a.prototype.remove=
function(a){a=this.dks.indexOf(a);this.dks.splice(a,1)};a.prototype.clear=function(){this.dks=[]};a.prototype.resetMatched=function(){for(var a=0,c=this.dks;a<c.length;a++)c[a].reset()};a.prototype.deleteMatched=function(){for(var a=0;a<this.dks.length;a++)this.dks[a].matched&&this.dks.splice(a--,1)};a.prototype.adjustPositions=function(a,c){if(0!=c)for(var b=0,d=this.dks;b<d.length;b++){var k=d[b];k.p>a&&(k.p+=c)}};a.prototype.count=function(){return this.dks.length};return a}();f.DeadkeyTracker=
e})(f.text||(f.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));(function(f){(function(f){(function(f){var h=function(){return function(){}}();f.KeyEvent=h})(f.text||(f.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
var __extends=this&&this.__extends||function(){var f=function(h,l){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var a in e)e.hasOwnProperty(a)&&(f[a]=e[a])};return f(h,l)};return function(h,l){function q(){this.constructor=h}f(h,l);h.prototype=null===l?Object.create(l):(q.prototype=l.prototype,new q)}}();
(function(f){(function(f){var h;(function(f){var e=function(){function a(a,b,c){this.insert=a;this.deleteLeft=b;this.deleteRight=c||0}a.nil=new a("",0,0);return a}();f.TextTransform=e;var a=function(){function a(b,c,d,e){var g=this.token=a.tokenSeed++;this.keystroke=b;this.transform=c;this.alternates=e;this.preInput=d;this.transform.id=this.token;e&&e.forEach(function(a){a.sample.id=g})}a.tokenSeed=0;return a}();f.Transcription=a;var d=function(){function b(){this._dks=new h.DeadkeyTracker}b.prototype.deadkeys=
function(){return this._dks};b.prototype.hasDeadkeyMatch=function(a,b){return this.deadkeys().isMatch(this.getDeadkeyCaret(),a,b)};b.prototype.insertDeadkeyBeforeCaret=function(a){a=new f.Deadkey(this.getDeadkeyCaret(),a);this.deadkeys().add(a)};b.prototype.adjustDeadkeys=function(a){this.deadkeys().adjustPositions(this.getDeadkeyCaret(),a)};b.prototype.setDeadkeys=function(a){this._dks=a.clone()};b.prototype.buildTransformFrom=function(a){for(var b=this.getText(),c=a.getText(),d=a.getDeadkeyCaret(),
g=this.getDeadkeyCaret(),n=0;n<d&&c._kmwCharAt(n)==b._kmwCharAt(n);n++);a=d-n;n=b._kmwSubstr(n,g-n);b=b._kmwLength()-g;c=c._kmwLength()-d;return new e(n,a,c-b)};b.prototype.buildTranscriptionFrom=function(b,d,p){var g=this.buildTransformFrom(b);return new a(d,g,c.from(b),p)};b.prototype.restoreTo=function(a){this.setTextBeforeCaret(a.getTextBeforeCaret());this.setTextAfterCaret(a.getTextAfterCaret());this._dks=a._dks.clone()};b.prototype.apply=function(a){a.deleteRight&&this.setTextAfterCaret(this.getTextAfterCaret()._kmwSubstr(a.deleteRight));
a.deleteLeft&&this.deleteCharsBeforeCaret(a.deleteLeft);a.insert&&this.insertTextBeforeCaret(a.insert);this._dks.clear()};b.prototype.setTextBeforeCaret=function(a){this.deleteCharsBeforeCaret(this.getTextBeforeCaret()._kmwLength());this.insertTextBeforeCaret(a)};b.prototype.saveProperties=function(){};b.prototype.restoreProperties=function(){};return b}();f.OutputTarget=d;var c=function(a){function b(b,c){var d=a.call(this)||this;d.text=b?b:"";b=d.text._kmwLength();d.caretIndex=c?c:b;return d}__extends(b,
a);b.from=function(a){var c=a.getTextBeforeCaret(),d=c._kmwLength();c=new b(c+a.getTextAfterCaret(),d);c.setDeadkeys(a.deadkeys());return c};b.prototype.getElement=function(){return null};b.prototype.clearSelection=function(){};b.prototype.invalidateSelection=function(){};b.prototype.hasSelection=function(){return!0};b.prototype.getDeadkeyCaret=function(){return this.caretIndex};b.prototype.setDeadkeyCaret=function(a){if(0>a||a>this.text._kmwLength())throw Error("Provided caret index is out of range.");
this.caretIndex=a};b.prototype.getTextBeforeCaret=function(){return this.text.kmwSubstr(0,this.caretIndex)};b.prototype.getTextAfterCaret=function(){return this.text.kmwSubstr(this.caretIndex)};b.prototype.getText=function(){return this.text};b.prototype.deleteCharsBeforeCaret=function(a){0<=a&&(a>this.caretIndex&&(a=this.caretIndex),this.text=this.text.kmwSubstr(0,this.caretIndex-a)+this.getTextAfterCaret(),this.caretIndex-=a)};b.prototype.insertTextBeforeCaret=function(a){this.text=this.getTextBeforeCaret()+
a+this.getTextAfterCaret();this.caretIndex+=a.kmwLength()};b.prototype.setTextAfterCaret=function(a){this.text=this.getTextBeforeCaret()+a};return b}(d);f.Mock=c})(h=f.text||(f.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));(function(f){(function(f){var h=function(){return function(f,e,a){this.interface=f;this.keyboard=e;this.touchEnabled=a||!1}}();f.AttachmentInfo=h})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f,h){"function"===typeof define&&define.amd?define(h):"object"===typeof exports?module.exports=h():f.returnExports=h()})(this,function(){var f=Function.call.bind(Function.apply),h=Function.call.bind(Function.call),l=Array.isArray,q=Object.keys,e=function(a){try{return a(),!1}catch(y){return!0}},a=function(a){try{return a()}catch(y){return!1}},d=function(a){return function(){return!f(a,this,arguments)}}(e),c=function(){return!e(function(){return Object.defineProperty({},"x",{get:function(){}})})},
b=!!Object.defineProperty&&c(),g="foo"===function(){}.name,k=Function.call.bind(Array.prototype.forEach),p=Function.call.bind(Array.prototype.reduce),u=Function.call.bind(Array.prototype.filter),z=Function.call.bind(Array.prototype.some),n=function(a,c,d,g){!g&&c in a||(b?Object.defineProperty(a,c,{configurable:!0,enumerable:!1,writable:!0,value:d}):a[c]=d)},w=function(a,b,c){k(q(b),function(d){n(a,d,b[d],!!c)})},t=Function.call.bind(Object.prototype.toString),H="function"===typeof/abc/?function(a){return"function"===
typeof a&&"[object Function]"===t(a)}:function(a){return"function"===typeof a},x={getter:function(a,c,d){if(!b)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,c,{configurable:!0,enumerable:!1,get:d})},proxy:function(a,c,d){if(!b)throw new TypeError("getters require true ES5 support");var y=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(d,c,{configurable:y.configurable,enumerable:y.enumerable,get:function(){return a[c]},set:function(b){a[c]=b}})},redefine:function(a,
c,d){if(b){var y=Object.getOwnPropertyDescriptor(a,c);y.value=d;Object.defineProperty(a,c,y)}else a[c]=d},defineByDescriptor:function(a,c,d){b?Object.defineProperty(a,c,d):"value"in d&&(a[c]=d.value)},preserveToString:function(a,b){b&&H(b.toString)&&n(a,"toString",b.toString.bind(b),!0)}},B=Object.create||function(a,b){var c=function(){};c.prototype=a;var d=new c;"undefined"!==typeof b&&q(b).forEach(function(a){x.defineByDescriptor(d,a,b[a])});return d},M=function(b,c){return Object.setPrototypeOf?
a(function(){var a=function ra(a){a=new b(a);Object.setPrototypeOf(a,ra.prototype);return a};Object.setPrototypeOf(a,b);a.prototype=B(b.prototype,{constructor:{value:a}});return c(a)}):!1},r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw Error("unable to locate global object");}(),F=r.isFinite,Ca=Function.call.bind(String.prototype.indexOf),Fa=Function.apply.bind(Array.prototype.indexOf),qa=Function.call.bind(Array.prototype.concat),
P=Function.call.bind(String.prototype.slice),U=Function.call.bind(Array.prototype.push),Q=Function.apply.bind(Array.prototype.push),Ga=Function.call.bind(Array.prototype.shift),D=Math.max,N=Math.min,J=Math.floor,I=Math.abs,X=Math.exp,ja=Math.log,ka=Math.sqrt,sa=Function.call.bind(Object.prototype.hasOwnProperty),ea=function(){},E=r.Map,Xb=E&&E.prototype["delete"],la=E&&E.prototype.get,ma=E&&E.prototype.has,db=E&&E.prototype.set,A=r.Symbol||{},Ha=A.species||"@@species",K=Number.isNaN||function(a){return a!==
a},Ia=Number.isFinite||function(a){return"number"===typeof a&&F(a)},fa=H(Math.sign)?Math.sign:function(a){a=Number(a);return 0===a||K(a)?a:0>a?-1:1},ha=function(a){a=Number(a);return-1>a||K(a)?NaN:0===a||Infinity===a?a:-1===a?-Infinity:0===1+a-1?a:a*(ja(1+a)/(1+a-1))},eb=function(a){return"[object Arguments]"===t(a)},Yb=function(a){return null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Array]"!==t(a)&&"[object Function]"===t(a.callee)},Ja=eb(arguments)?eb:Yb,C={primitive:function(a){return null===
a||"function"!==typeof a&&"object"!==typeof a},string:function(a){return"[object String]"===t(a)},regex:function(a){return"[object RegExp]"===t(a)},symbol:function(a){return"function"===typeof r.Symbol&&"symbol"===typeof a}},v=function(a,b,c){var d=a[b];n(a,b,c,!0);x.preserveToString(a[b],d)},na="function"===typeof A&&"function"===typeof A["for"]&&C.symbol(A()),R=C.symbol(A.iterator)?A.iterator:"_es6-shim iterator_";r.Set&&"function"===typeof(new r.Set)["@@iterator"]&&(R="@@iterator");r.Reflect||
n(r,"Reflect",{},!0);var Y=r.Reflect,Ka=String,La="undefined"!==typeof document&&document?document.all:null,V=null==La?function(a){return null==a}:function(a){return null==a&&a!==La},m={Call:function(a,b){var c=2<arguments.length?arguments[2]:[];if(!m.IsCallable(a))throw new TypeError(a+" is not a function");return f(a,b,c)},RequireObjectCoercible:function(a,b){if(V(a))throw new TypeError(b||"Cannot call method on "+a);return a},TypeIsObject:function(a){return void 0===a||null===a||!0===a||!1===a?
!1:"function"===typeof a||"object"===typeof a||a===La},ToObject:function(a,b){return Object(m.RequireObjectCoercible(a,b))},IsCallable:H,IsConstructor:function(a){return m.IsCallable(a)},ToInt32:function(a){return m.ToNumber(a)>>0},ToUint32:function(a){return m.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===t(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){a=m.ToNumber(a);return K(a)?0:0!==a&&Ia(a)?(0<a?1:-1)*J(I(a)):a},ToLength:function(a){a=
m.ToInteger(a);return 0>=a?0:a>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a},SameValue:function(a,b){return a===b?0===a?1/a===1/b:!0:K(a)&&K(b)},SameValueZero:function(a,b){return a===b||K(a)&&K(b)},IsIterable:function(a){return m.TypeIsObject(a)&&("undefined"!==typeof a[R]||Ja(a))},GetIterator:function(a){if(Ja(a))return new Z(a,"value");var b=m.GetMethod(a,R);if(!m.IsCallable(b))throw new TypeError("value is not an iterable");a=m.Call(b,a);if(!m.TypeIsObject(a))throw new TypeError("bad iterator");
return a},GetMethod:function(a,b){a=m.ToObject(a)[b];if(!V(a)){if(!m.IsCallable(a))throw new TypeError("Method not callable: "+b);return a}},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var c=m.GetMethod(a,"return");if(void 0!==c){try{var d=m.Call(c,a)}catch(ra){var y=ra}if(!b){if(y)throw y;if(!m.TypeIsObject(d))throw new TypeError("Iterator's return method returned a non-object.");}}},IteratorNext:function(a){var b=1<arguments.length?a.next(arguments[1]):a.next();if(!m.TypeIsObject(b))throw new TypeError("bad iterator");
return b},IteratorStep:function(a){a=m.IteratorNext(a);return m.IteratorComplete(a)?!1:a},Construct:function(a,b,c,d){c="undefined"===typeof c?a:c;if(!d&&Y.construct)return Y.construct(a,b,c);d=c.prototype;m.TypeIsObject(d)||(d=Object.prototype);d=B(d);a=m.Call(a,d,b);return m.TypeIsObject(a)?a:d},SpeciesConstructor:function(a,b){a=a.constructor;if(void 0===a)return b;if(!m.TypeIsObject(a))throw new TypeError("Bad constructor");a=a[Ha];if(V(a))return b;if(!m.IsConstructor(a))throw new TypeError("Bad @@species");
return a},CreateHTML:function(a,b,c,d){a=m.ToString(a);var y="<"+b;""!==c&&(d=m.ToString(d).replace(/"/g,"&quot;"),y+=" "+c+'="'+d+'"');return y+">"+a+"</"+b+">"},IsRegExp:function(a){if(!m.TypeIsObject(a))return!1;var b=a[A.match];return"undefined"!==typeof b?!!b:C.regex(a)},ToString:function(a){return Ka(a)}};if(b&&na){var ta=function(a){if(C.symbol(A[a]))return A[a];var b=A["for"]("Symbol."+a);Object.defineProperty(A,a,{configurable:!1,enumerable:!1,writable:!1,value:b});return b};if(!C.symbol(A.search)){var fb=
ta("search"),gb=String.prototype.search;n(RegExp.prototype,fb,function(a){return m.Call(gb,a,[this])});v(String.prototype,"search",function(a){var b=m.RequireObjectCoercible(this);if(!V(a)){var c=m.GetMethod(a,fb);if("undefined"!==typeof c)return m.Call(c,a,[b])}return m.Call(gb,b,[m.ToString(a)])})}if(!C.symbol(A.replace)){var hb=ta("replace"),ib=String.prototype.replace;n(RegExp.prototype,hb,function(a,b){return m.Call(ib,a,[this,b])});v(String.prototype,"replace",function(a,b){var c=m.RequireObjectCoercible(this);
if(!V(a)){var d=m.GetMethod(a,hb);if("undefined"!==typeof d)return m.Call(d,a,[c,b])}return m.Call(ib,c,[m.ToString(a),b])})}if(!C.symbol(A.split)){var jb=ta("split"),kb=String.prototype.split;n(RegExp.prototype,jb,function(a,b){return m.Call(kb,a,[this,b])});v(String.prototype,"split",function(a,b){var c=m.RequireObjectCoercible(this);if(!V(a)){var d=m.GetMethod(a,jb);if("undefined"!==typeof d)return m.Call(d,a,[c,b])}return m.Call(kb,c,[m.ToString(a),b])})}var lb=C.symbol(A.match),Zb=lb&&function(){var a=
{};a[A.match]=function(){return 42};return 42!=="a".match(a)}();if(!lb||Zb){var mb=ta("match"),nb=String.prototype.match;n(RegExp.prototype,mb,function(a){return m.Call(nb,a,[this])});v(String.prototype,"match",function(a){var b=m.RequireObjectCoercible(this);if(!V(a)){var c=m.GetMethod(a,mb);if("undefined"!==typeof c)return m.Call(c,a,[b])}return m.Call(nb,b,[m.ToString(a)])})}}var ob=function(a,c,d){x.preserveToString(c,a);Object.setPrototypeOf&&Object.setPrototypeOf(a,c);b?k(Object.getOwnPropertyNames(a),
function(b){b in ea||d[b]||x.proxy(a,b,c)}):k(Object.keys(a),function(b){b in ea||d[b]||(c[b]=a[b])});c.prototype=a.prototype;x.redefine(a.prototype,"constructor",c)},$b=function(){return this},oa=function(a){b&&!sa(a,Ha)&&x.getter(a,Ha,$b)},S=function(a,b){b=b||function(){return this};n(a,R,b);!a[R]&&C.symbol(R)&&(a[R]=b)},pb=function(a,c,d){b?Object.defineProperty(a,c,{configurable:!0,enumerable:!0,writable:!0,value:d}):a[c]=d;if(!m.SameValue(a[c],d))throw new TypeError("property is nonconfigurable");
},Ma=function(a,b,c,d){if(!m.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+b.name);a=b.prototype;m.TypeIsObject(a)||(a=c);c=B(a);for(var y in d)sa(d,y)&&n(c,y,d[y],!0);return c};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var ac=String.fromCodePoint;v(String,"fromCodePoint",function(a){return m.Call(ac,this,arguments)})}var qb={fromCodePoint:function(a){for(var b=[],c,d=0,g=arguments.length;d<g;d++){c=Number(arguments[d]);if(!m.SameValue(c,m.ToInteger(c))||0>c||
1114111<c)throw new RangeError("Invalid code point "+c);65536>c?U(b,String.fromCharCode(c)):(c-=65536,U(b,String.fromCharCode((c>>10)+55296)),U(b,String.fromCharCode(c%1024+56320)))}return b.join("")},raw:function(a){var b=m.ToObject(a,"bad callSite");b=m.ToObject(b.raw,"bad raw value");var c=m.ToLength(b.length);if(0>=c)return"";for(var d=[],g=0,k;g<c;){k=m.ToString(g);k=m.ToString(b[k]);U(d,k);if(g+1>=c)break;k=g+1<arguments.length?arguments[g+1]:"";k=m.ToString(k);U(d,k);g+=1}return d.join("")}};
String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&v(String,"raw",qb.raw);w(String,qb);var bc=function Da(a,b){if(1>b)return"";if(b%2)return Da(a,b-1)+a;a=Da(a,b/2);return a+a},aa={repeat:function(a){var b=m.ToString(m.RequireObjectCoercible(this));a=m.ToInteger(a);if(0>a||Infinity<=a)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return bc(b,a)},startsWith:function(a){var b=m.ToString(m.RequireObjectCoercible(this));if(m.IsRegExp(a))throw new TypeError('Cannot call method "startsWith" with a regex');
var c=m.ToString(a),d;1<arguments.length&&(d=arguments[1]);d=D(m.ToInteger(d),0);return P(b,d,d+c.length)===c},endsWith:function(a){var b=m.ToString(m.RequireObjectCoercible(this));if(m.IsRegExp(a))throw new TypeError('Cannot call method "endsWith" with a regex');var c=m.ToString(a),d=b.length,g;1<arguments.length&&(g=arguments[1]);g="undefined"===typeof g?d:m.ToInteger(g);d=N(D(g,0),d);return P(b,d-c.length,d)===c},includes:function(a){if(m.IsRegExp(a))throw new TypeError('"includes" does not accept a RegExp');
var b=m.ToString(a),c;1<arguments.length&&(c=arguments[1]);return-1!==Ca(this,b,c)},codePointAt:function(a){var b=m.ToString(m.RequireObjectCoercible(this)),c=m.ToInteger(a),d=b.length;if(0<=c&&c<d){a=b.charCodeAt(c);if(55296>a||56319<a||c+1===d)return a;b=b.charCodeAt(c+1);return 56320>b||57343<b?a:1024*(a-55296)+(b-56320)+65536}}};String.prototype.includes&&!1!=="a".includes("a",Infinity)&&v(String.prototype,"includes",aa.includes);if(String.prototype.startsWith&&String.prototype.endsWith){var cc=
e(function(){return"/a/".startsWith(/a/)}),dc=a(function(){return!1==="abc".startsWith("a",Infinity)});cc&&dc||(v(String.prototype,"startsWith",aa.startsWith),v(String.prototype,"endsWith",aa.endsWith))}na&&(a(function(){var a=/a/;a[A.match]=!1;return"/a/".startsWith(a)})||v(String.prototype,"startsWith",aa.startsWith),a(function(){var a=/a/;a[A.match]=!1;return"/a/".endsWith(a)})||v(String.prototype,"endsWith",aa.endsWith),a(function(){var a=/a/;a[A.match]=!1;return"/a/".includes(a)})||v(String.prototype,
"includes",aa.includes));w(String.prototype,aa);var ec=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g,rb=function(){return m.ToString(m.RequireObjectCoercible(this)).replace(ec,"")},sb=/[\u0085\u200b\ufffe]/g,tb=/^[-+]0x[0-9a-f]+$/i;n(String.prototype,"trim",rb,!0);
var ba=function(a){return{value:a,done:0===arguments.length}},Na=function(a){m.RequireObjectCoercible(a);this._s=m.ToString(a);this._i=0};Na.prototype.next=function(){var a=this._s,b=this._i;if("undefined"===typeof a||b>=a.length)return this._s=void 0,ba();var c=a.charCodeAt(b);55296>c||56319<c||b+1===a.length?c=1:(c=a.charCodeAt(b+1),c=56320>c||57343<c?1:2);this._i=b+c;return ba(a.substr(b,c))};S(Na.prototype);S(String.prototype,function(){return new Na(this)});var ua={from:function(a){var b;1<arguments.length&&
(b=arguments[1]);var c;if("undefined"===typeof b)var d=!1;else{if(!m.IsCallable(b))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(c=arguments[2]);d=!0}var g;if("undefined"!==typeof(Ja(a)||m.GetMethod(a,R))){var y=m.IsConstructor(this)?Object(new this):[];var k=m.GetIterator(a);for(g=0;;){var p=m.IteratorStep(k);if(!1===p)break;p=p.value;try{d&&(p="undefined"===typeof c?b(p,g):h(b,c,p,g)),y[g]=p}catch(fc){throw m.IteratorClose(k,!0),fc;
}g+=1}k=g}else for(p=m.ToObject(a),k=m.ToLength(p.length),y=m.IsConstructor(this)?Object(new this(k)):Array(k),g=0;g<k;++g){var n=p[g];d&&(n="undefined"===typeof c?b(n,g):h(b,c,n,g));pb(y,g,n)}y.length=k;return y},of:function(){for(var a=arguments.length,b=l(this)||!m.IsCallable(this)?Array(a):m.Construct(this,[a]),c=0;c<a;++c)pb(b,c,arguments[c]);b.length=a;return b}};w(Array,ua);oa(Array);var Z=function(a,b){this.i=0;this.array=a;this.kind=b};w(Z.prototype,{next:function(){var a=this.i,b=this.array;
if(!(this instanceof Z))throw new TypeError("Not an ArrayIterator");if("undefined"!==typeof b)for(var c=m.ToLength(b.length);a<c;){c=this.kind;var d;"key"===c?d=a:"value"===c?d=b[a]:"entry"===c&&(d=[a,b[a]]);this.i=a+1;return ba(d)}this.array=void 0;return ba()}});S(Z.prototype);Array.of===ua.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}()||v(Array,"of",ua.of);var Ra={copyWithin:function(a,b){var c=m.ToObject(this),
d=m.ToLength(c.length),g=m.ToInteger(a),y=m.ToInteger(b);g=0>g?D(d+g,0):N(g,d);y=0>y?D(d+y,0):N(y,d);var k;2<arguments.length&&(k=arguments[2]);k="undefined"===typeof k?d:m.ToInteger(k);k=0>k?D(d+k,0):N(k,d);d=N(k-y,d-g);k=1;y<g&&g<y+d&&(k=-1,y+=d-1,g+=d-1);for(;0<d;)y in c?c[g]=c[y]:delete c[g],y+=k,g+=k,--d;return c},fill:function(a){var b;1<arguments.length&&(b=arguments[1]);var c;2<arguments.length&&(c=arguments[2]);var d=m.ToObject(this),g=m.ToLength(d.length);b=m.ToInteger("undefined"===typeof b?
0:b);c=m.ToInteger("undefined"===typeof c?g:c);b=0>b?D(g+b,0):N(b,g);for(c=0>c?g+c:c;b<g&&b<c;++b)d[b]=a;return d},find:function(a){var b=m.ToObject(this),c=m.ToLength(b.length);if(!m.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var d=1<arguments.length?arguments[1]:null,g=0,y;g<c;g++)if(y=b[g],d){if(h(a,d,y,g,b))return y}else if(a(y,g,b))return y},findIndex:function(a){var b=m.ToObject(this),c=m.ToLength(b.length);if(!m.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");
for(var d=1<arguments.length?arguments[1]:null,g=0;g<c;g++)if(d){if(h(a,d,b[g],g,b))return g}else if(a(b[g],g,b))return g;return-1},keys:function(){return new Z(this,"key")},values:function(){return new Z(this,"value")},entries:function(){return new Z(this,"entry")}};Array.prototype.keys&&!m.IsCallable([1].keys().next)&&delete Array.prototype.keys;Array.prototype.entries&&!m.IsCallable([1].entries().next)&&delete Array.prototype.entries;Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&
Array.prototype[R]&&(w(Array.prototype,{values:Array.prototype[R]}),C.symbol(A.unscopables)&&(Array.prototype[A.unscopables].values=!0));if(g&&Array.prototype.values&&"values"!==Array.prototype.values.name){var gc=Array.prototype.values;v(Array.prototype,"values",function(){return m.Call(gc,this,arguments)});n(Array.prototype,R,Array.prototype.values,!0)}w(Array.prototype,Ra);0>1/[!0].indexOf(!0,-0)&&n(Array.prototype,"indexOf",function(a){var b=Fa(this,arguments);return 0===b&&0>1/b?0:b},!0);S(Array.prototype,
function(){return this.values()});Object.getPrototypeOf&&S(Object.getPrototypeOf([].values()));var hc=function(){return a(function(){return 0===Array.from({length:-1}).length})}(),ic=function(){var a=Array.from([0].entries());return 1===a.length&&l(a[0])&&0===a[0][0]&&0===a[0][1]}();hc&&ic||v(Array,"from",ua.from);if(!function(){return a(function(){return Array.from([0],void 0)})}()){var ub=Array.from;v(Array,"from",function(a){return 1<arguments.length&&"undefined"!==typeof arguments[1]?m.Call(ub,
this,arguments):h(ub,this,a)})}var jc=-(Math.pow(2,32)-1),ca=function(b,c){var d={length:jc};d[c?(d.length>>>0)-1:0]=!0;return a(function(){h(b,d,function(){throw new RangeError("should not reach here");},[]);return!0})};if(!ca(Array.prototype.forEach)){var kc=Array.prototype.forEach;v(Array.prototype,"forEach",function(a){return m.Call(kc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.map)){var lc=Array.prototype.map;v(Array.prototype,"map",function(a){return m.Call(lc,0<=this.length?
this:[],arguments)},!0)}if(!ca(Array.prototype.filter)){var mc=Array.prototype.filter;v(Array.prototype,"filter",function(a){return m.Call(mc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.some)){var nc=Array.prototype.some;v(Array.prototype,"some",function(a){return m.Call(nc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.every)){var oc=Array.prototype.every;v(Array.prototype,"every",function(a){return m.Call(oc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.reduce)){var pc=
Array.prototype.reduce;v(Array.prototype,"reduce",function(a){return m.Call(pc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.reduceRight,!0)){var qc=Array.prototype.reduceRight;v(Array.prototype,"reduceRight",function(a){return m.Call(qc,0<=this.length?this:[],arguments)},!0)}var rc=8!==Number("0o10"),sc=2!==Number("0b10"),tc=z("\u0085\u200b\ufffe",function(a){return 0===Number(a+0+a)});if(rc||sc||tc){var W=Number,vb=/^0b[01]+$/i,wb=/^0o[0-7]+$/i,uc=vb.test.bind(vb),vc=wb.test.bind(wb),
wc=function(a){if("function"===typeof a.valueOf){var b=a.valueOf();if(C.primitive(b))return b}if("function"===typeof a.toString&&(b=a.toString(),C.primitive(b)))return b;throw new TypeError("No default value");},xc=sb.test.bind(sb),yc=tb.test.bind(tb),va=function(){var b=function(c){var d=0<arguments.length?C.primitive(c)?c:wc(c,"number"):0;if("string"===typeof d)if(d=m.Call(rb,d),uc(d))d=parseInt(P(d,2),2);else if(vc(d))d=parseInt(P(d,2),8);else if(xc(d)||yc(d))d=NaN;var g=this,y=a(function(){W.prototype.valueOf.call(g);
return!0});return g instanceof b&&!y?new W(d):W(d)};return b}();ob(W,va,{});w(va,{NaN:W.NaN,MAX_VALUE:W.MAX_VALUE,MIN_VALUE:W.MIN_VALUE,NEGATIVE_INFINITY:W.NEGATIVE_INFINITY,POSITIVE_INFINITY:W.POSITIVE_INFINITY});Number=va;x.redefine(r,"Number",va)}var xb=Math.pow(2,53)-1;w(Number,{MAX_SAFE_INTEGER:xb,MIN_SAFE_INTEGER:-xb,EPSILON:2.220446049250313E-16,parseInt:r.parseInt,parseFloat:r.parseFloat,isFinite:Ia,isInteger:function(a){return Ia(a)&&m.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&
I(a)<=Number.MAX_SAFE_INTEGER},isNaN:K});n(Number,"parseInt",r.parseInt,Number.parseInt!==r.parseInt);1===[,1].find(function(){return!0})&&v(Array.prototype,"find",Ra.find);0!==[,1].findIndex(function(){return!0})&&v(Array.prototype,"findIndex",Ra.findIndex);var yb=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),wa=function(a,c){b&&yb(a,c)&&Object.defineProperty(a,c,{enumerable:!1})},zc=function(){var a=Number(this),b=arguments.length,c=b-a;c=Array(0>c?0:c);for(var d=a;d<b;++d)c[d-
a]=arguments[d];return c},zb=function(a){return function(b,c){b[c]=a[c];return b}},Ac=function(a,b){var c=q(Object(b)),d;m.IsCallable(Object.getOwnPropertySymbols)&&(d=u(Object.getOwnPropertySymbols(Object(b)),yb(b)));return p(qa(c,d||[]),zb(b),a)},Ab={assign:function(a,b){var c=m.ToObject(a,"Cannot convert undefined or null to object");return p(m.Call(zc,1,arguments),Ac,c)},is:function(a,b){return m.SameValue(a,b)}};Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});
try{Object.assign(a,"xy")}catch(G){return"y"===a[1]}}()&&v(Object,"assign",Ab.assign);w(Object,Ab);if(b){var Bc={setPrototypeOf:function(a,b){var c=function(a,b){if(!m.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!m.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b);h(d,a,b);return a};try{var d=a.getOwnPropertyDescriptor(a.prototype,b).set;h(d,{},null)}catch(ra){if(a.prototype!=={}[b])return;d=function(a){this[b]=a};c.polyfill=
c(c({},null),a.prototype)instanceof a}return c}(Object,"__proto__")};w(Object,Bc)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var a=Object.create(null),b=Object.getPrototypeOf,c=Object.setPrototypeOf;Object.getPrototypeOf=function(c){c=b(c);return c===a?null:c};Object.setPrototypeOf=function(b,d){return c(b,null===d?a:d)};Object.setPrototypeOf.polyfill=!1}();if(e(function(){return Object.keys("foo")})){var Cc=
Object.keys;v(Object,"keys",function(a){return Cc(m.ToObject(a))});q=Object.keys}if(e(function(){return Object.keys(/a/g)})){var Dc=Object.keys;v(Object,"keys",function(a){if(C.regex(a)){var b=[],c;for(c in a)sa(a,c)&&U(b,c);return b}return Dc(a)});q=Object.keys}if(Object.getOwnPropertyNames&&e(function(){return Object.getOwnPropertyNames("foo")})){var Ec="object"===typeof window?Object.getOwnPropertyNames(window):[],Bb=Object.getOwnPropertyNames;v(Object,"getOwnPropertyNames",function(a){a=m.ToObject(a);
if("[object Window]"===t(a))try{return Bb(a)}catch(G){return qa([],Ec)}return Bb(a)})}if(Object.getOwnPropertyDescriptor&&e(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Fc=Object.getOwnPropertyDescriptor;v(Object,"getOwnPropertyDescriptor",function(a,b){return Fc(m.ToObject(a),b)})}if(Object.seal&&e(function(){return Object.seal("foo")})){var Gc=Object.seal;v(Object,"seal",function(a){return m.TypeIsObject(a)?Gc(a):a})}if(Object.isSealed&&e(function(){return Object.isSealed("foo")})){var Hc=
Object.isSealed;v(Object,"isSealed",function(a){return m.TypeIsObject(a)?Hc(a):!0})}if(Object.freeze&&e(function(){return Object.freeze("foo")})){var Ic=Object.freeze;v(Object,"freeze",function(a){return m.TypeIsObject(a)?Ic(a):a})}if(Object.isFrozen&&e(function(){return Object.isFrozen("foo")})){var Jc=Object.isFrozen;v(Object,"isFrozen",function(a){return m.TypeIsObject(a)?Jc(a):!0})}if(Object.preventExtensions&&e(function(){return Object.preventExtensions("foo")})){var Kc=Object.preventExtensions;
v(Object,"preventExtensions",function(a){return m.TypeIsObject(a)?Kc(a):a})}if(Object.isExtensible&&e(function(){return Object.isExtensible("foo")})){var Lc=Object.isExtensible;v(Object,"isExtensible",function(a){return m.TypeIsObject(a)?Lc(a):!1})}if(Object.getPrototypeOf&&e(function(){return Object.getPrototypeOf("foo")})){var Mc=Object.getPrototypeOf;v(Object,"getPrototypeOf",function(a){return Mc(m.ToObject(a))})}var Nc=b&&function(){var a=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");
return a&&m.IsCallable(a.get)}();b&&!Nc&&x.getter(RegExp.prototype,"flags",function(){if(!m.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var a="";this.global&&(a+="g");this.ignoreCase&&(a+="i");this.multiline&&(a+="m");this.unicode&&(a+="u");this.sticky&&(a+="y");return a});var Oc=b&&a(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Pc=na&&b&&function(){var a=/./;a[A.match]=!1;return RegExp(a)===a}(),Cb=a(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),
Qc=Cb&&a(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Cb||!Qc){var Db=RegExp.prototype.toString;n(RegExp.prototype,"toString",function(){var a=m.RequireObjectCoercible(this);if(C.regex(a))return h(Db,a);var b=Ka(a.source);a=Ka(a.flags);return"/"+b+"/"+a},!0);x.preserveToString(RegExp.prototype.toString,Db)}if(b&&(!Oc||Pc)){var Rc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Eb=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},
Sc=function(){return this.source},Tc=m.IsCallable(Eb.get)?Eb.get:Sc,Fb=RegExp,Sa=function(){return function Ea(a,b){var c=m.IsRegExp(a);return this instanceof Ea||!c||"undefined"!==typeof b||a.constructor!==Ea?C.regex(a)?(c=m.Call(Tc,a),a="undefined"===typeof b?m.Call(Rc,a):b,new Ea(c,a)):new Fb(a,b):a}}();ob(Fb,Sa,{$input:!0});RegExp=Sa;x.redefine(r,"RegExp",Sa)}if(b){var Ta={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};k(q(Ta),function(a){a in RegExp&&!(Ta[a]in RegExp)&&
x.getter(RegExp,Ta[a],function(){return RegExp[a]})})}oa(RegExp);var xa=1/Number.EPSILON,ya=Math.pow(2,-23),Uc=Math.pow(2,127)*(2-ya),Ua=Math.pow(2,-126),ia=Math.E,za=Math.LOG2E,Vc=Math.LOG10E,Gb=Number.prototype.clz;delete Number.prototype.clz;var L={acosh:function(a){var b=Number(a);if(K(b)||1>a)return NaN;if(1===b)return 0;if(Infinity===b)return b;a=1/(b*b);if(2>b)return ha(b-1+ka(1-a)*b);b/=2;return ha(b+ka(1-a)*b-1)+1/za},asinh:function(a){var b=Number(a);if(0===b||!F(b))return b;a=I(b);var c=
a*a;b=fa(b);return 1>a?b*ha(a+c/(ka(c+1)+1)):b*(ha(a/2+ka(1+1/c)*a/2-1)+1/za)},atanh:function(a){a=Number(a);if(0===a)return a;if(-1===a)return-Infinity;if(1===a)return Infinity;if(K(a)||-1>a||1<a)return NaN;var b=I(a);return fa(a)*ha(2*b/(1-b))/2},cbrt:function(a){a=Number(a);if(0===a)return a;var b=0>a;b&&(a=-a);if(Infinity===a)var c=Infinity;else c=X(ja(a)/3),c=(a/(c*c)+2*c)/3;return b?-c:c},clz32:function(a){a=m.ToUint32(Number(a));return 0===a?32:Gb?m.Call(Gb,a):31-J(ja(a+.5)*za)},cosh:function(a){a=
Number(a);if(0===a)return 1;if(K(a))return NaN;if(!F(a))return Infinity;a=X(I(a)-1);return ia/2*(a+1/(a*ia*ia))},expm1:function(a){a=Number(a);if(-Infinity===a)return-1;if(!F(a)||0===a)return a;if(.5<I(a))return X(a)-1;for(var b=a,c=0,d=1;c+b!==c;)c+=b,d+=1,b*=a/d;return c},hypot:function(a,b){for(var c=0,d=0,g=0;g<arguments.length;++g){var k=I(Number(arguments[g]));d<k?(c*=d/k*(d/k),c+=1,d=k):c+=0<k?k/d*(k/d):k}return Infinity===d?Infinity:d*ka(c)},log2:function(a){return ja(a)*za},log10:function(a){return ja(a)*
Vc},log1p:ha,sign:fa,sinh:function(a){a=Number(a);if(!F(a)||0===a)return a;var b=I(a);if(1>b)return b=Math.expm1(b),fa(a)*b*(1+1/(b+1))/2;b=X(b-1);return fa(a)*(b-1/(b*ia*ia))*(ia/2)},tanh:function(a){a=Number(a);return K(a)||0===a?a:20<=a?1:-20>=a?-1:(Math.expm1(a)-Math.expm1(-a))/(X(a)+X(-a))},trunc:function(a){a=Number(a);return 0>a?-J(-a):J(a)},imul:function(a,b){a=m.ToUint32(a);b=m.ToUint32(b);var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},fround:function(a){var b=
Number(a);if(0===b||Infinity===b||-Infinity===b||K(b))return b;a=fa(b);b=I(b);if(b<Ua)return a*(b/Ua/ya+xa-xa)*Ua*ya;var c=(1+ya/Number.EPSILON)*b;b=c-(c-b);return b>Uc||K(b)?Infinity*a:a*b}};w(Math,L);n(Math,"sinh",L.sinh,Infinity===Math.sinh(710));n(Math,"cosh",L.cosh,Infinity===Math.cosh(710));n(Math,"log1p",L.log1p,-1E-17!==Math.log1p(-1E-17));n(Math,"asinh",L.asinh,Math.asinh(-1E7)!==-Math.asinh(1E7));n(Math,"asinh",L.asinh,Infinity===Math.asinh(1E300));n(Math,"atanh",L.atanh,0===Math.atanh(1E-300));
n(Math,"tanh",L.tanh,-2E-17!==Math.tanh(-2E-17));n(Math,"acosh",L.acosh,Infinity===Math.acosh(Number.MAX_VALUE));n(Math,"acosh",L.acosh,!(8>I(1-Math.acosh(1+Number.EPSILON)/Math.sqrt(2*Number.EPSILON))/Number.EPSILON));n(Math,"cbrt",L.cbrt,!(8>I(1-Math.cbrt(1E-300)/1E-100)/Number.EPSILON));n(Math,"sinh",L.sinh,-2E-17!==Math.sinh(-2E-17));var Hb=Math.expm1(10);n(Math,"expm1",L.expm1,22025.465794806718<Hb||22025.465794806718>Hb);var Wc=Math.round,Xc=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+
Number.EPSILON/3.99),Yc=[xa+1,2*xa-1].every(function(a){return Math.round(a)===a});n(Math,"round",function(a){var b=J(a);return.5>a-b?b:-1===b?-0:b+1},!Xc||!Yc);x.preserveToString(Math.round,Wc);var Ib=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=L.imul,x.preserveToString(Math.imul,Ib));2!==Math.imul.length&&v(Math,"imul",function(a,b){return m.Call(Ib,Math,arguments)});var Aa=function(){var a=r.setTimeout;if("function"===typeof a||"object"===typeof a){m.IsPromise=function(a){return m.TypeIsObject(a)&&
"undefined"!==typeof a._promise?!0:!1};var b=function(a){if(!m.IsConstructor(a))throw new TypeError("Bad promise constructor");var b=this;b.resolve=void 0;b.reject=void 0;b.promise=new a(function(a,c){if(void 0!==b.resolve||void 0!==b.reject)throw new TypeError("Bad Promise implementation!");b.resolve=a;b.reject=c});if(!m.IsCallable(b.resolve)||!m.IsCallable(b.reject))throw new TypeError("Bad promise constructor");},c;"undefined"!==typeof window&&m.IsCallable(window.postMessage)&&(c=function(){var a=
[];window.addEventListener("message",function(b){b.source===window&&"zero-timeout-message"===b.data&&(b.stopPropagation(),0!==a.length&&Ga(a)())},!0);return function(b){U(a,b);window.postMessage("zero-timeout-message","*")}});var d=function(){var a=r.Promise,b=a&&a.resolve&&a.resolve();return b&&function(a){return b.then(a)}},g=m.IsCallable(r.setImmediate)?r.setImmediate:"object"===typeof process&&process.nextTick?process.nextTick:d()||(m.IsCallable(c)?c():function(b){a(b,0)}),k=function(a){return a},
p=function(a){throw a;},n={},e=function(a,b,c){g(function(){if(b===n)a(c);else{try{var d=a(c);var g=b.resolve}catch(Va){d=Va,g=b.reject}g(d)}})},u=function(a,b){var c=a._promise,d=c.reactionLength;if(0<d&&(e(c.fulfillReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,1<d))for(var g=1,k=0;g<d;g++,k+=3)e(c[k+0],c[k+2],b),a[k+0]=void 0,a[k+1]=void 0,a[k+2]=void 0;c.result=b;c.state=1;c.reactionLength=0},f=function(a,b){var c=
a._promise,d=c.reactionLength;if(0<d&&(e(c.rejectReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,1<d))for(var g=1,k=0;g<d;g++,k+=3)e(c[k+1],c[k+2],b),a[k+0]=void 0,a[k+1]=void 0,a[k+2]=void 0;c.result=b;c.state=2;c.reactionLength=0},z=function(a){var b=!1;return{resolve:function(c){if(!b){b=!0;if(c===a)return f(a,new TypeError("Self resolution"));if(!m.TypeIsObject(c))return u(a,c);try{var d=c.then}catch(Zc){return f(a,
Zc)}if(!m.IsCallable(d))return u(a,c);g(function(){var b=d,g=z(a),k=g.resolve;g=g.reject;try{t(b,c,k,g)}catch($c){g($c)}})}},reject:function(c){if(!b)return b=!0,f(a,c)}}},t=function(a,b,c,d){a===H?h(a,b,c,d,n):h(a,b,c,d)},l=function(){var a=function(b){if(!(this instanceof a))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!m.IsCallable(b))throw new TypeError("not a valid resolver");var c=Ma(this,a,q,{_promise:{result:void 0,
state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),d=z(c),g=d.reject;try{b(d.resolve,g)}catch(Va){g(Va)}return c};return a}();var q=l.prototype;var x=function(a,b,c,d){var g=!1;return function(k){g||(g=!0,b[a]=k,0===--d.count&&(k=c.resolve,k(b)))}};w(l,{all:function(a){if(!m.TypeIsObject(this))throw new TypeError("Promise is not object");var c=new b(this),d;try{var g=m.GetIterator(a);a=d={iterator:g,done:!1};for(var k=a.iterator,y=[],
p={count:1},n,e,u=0;;){try{n=m.IteratorStep(k);if(!1===n){a.done=!0;break}e=n.value}catch(Xa){throw a.done=!0,Xa;}y[u]=void 0;var G=this.resolve(e),f=x(u,y,c,p);p.count+=1;t(G.then,G,f,c.reject);u+=1}if(0===--p.count){var w=c.resolve;w(y)}return c.promise}catch(Xa){k=Xa;if(d&&!d.done)try{m.IteratorClose(g,!0)}catch(bd){k=bd}g=c.reject;g(k);return c.promise}},race:function(a){if(!m.TypeIsObject(this))throw new TypeError("Promise is not object");var c=new b(this),d;try{var g=m.GetIterator(a);a=d={iterator:g,
done:!1};for(var k=a.iterator,y,p,n;;){try{y=m.IteratorStep(k);if(!1===y){a.done=!0;break}p=y.value}catch(Wa){throw a.done=!0,Wa;}n=this.resolve(p);t(n.then,n,c.resolve,c.reject)}return c.promise}catch(Wa){k=Wa;if(d&&!d.done)try{m.IteratorClose(g,!0)}catch(ad){k=ad}g=c.reject;g(k);return c.promise}},reject:function(a){if(!m.TypeIsObject(this))throw new TypeError("Bad promise constructor");var c=new b(this),d=c.reject;d(a);return c.promise},resolve:function(a){if(!m.TypeIsObject(this))throw new TypeError("Bad promise constructor");
if(m.IsPromise(a)&&a.constructor===this)return a;var c=new b(this),d=c.resolve;d(a);return c.promise}});w(q,{"catch":function(a){return this.then(null,a)},then:function(a,c){if(!m.IsPromise(this))throw new TypeError("not a promise");var d=m.SpeciesConstructor(this,l);d=2<arguments.length&&arguments[2]===n&&d===l?n:new b(d);var g=m.IsCallable(a)?a:k,y=m.IsCallable(c)?c:p,u=this._promise;if(0===u.state){if(0===u.reactionLength)u.fulfillReactionHandler0=g,u.rejectReactionHandler0=y,u.reactionCapability0=
d;else{var G=3*(u.reactionLength-1);u[G+0]=g;u[G+1]=y;u[G+2]=d}u.reactionLength+=1}else if(1===u.state)u=u.result,e(g,d,u);else if(2===u.state)u=u.result,e(y,d,u);else throw new TypeError("unexpected Promise state");return d.promise}});n=new b(l);var H=q.then;return l}}();r.Promise&&(delete r.Promise.accept,delete r.Promise.defer,delete r.Promise.prototype.chain);if("function"===typeof Aa){w(r,{Promise:Aa});var cd=M(r.Promise,function(a){return a.resolve(42).then(function(){})instanceof a}),dd=!e(function(){return r.Promise.reject(42).then(null,
5).then(null,ea)}),ed=e(function(){return r.Promise.call(3,ea)}),fd=function(a){var b=a.resolve(5);b.constructor={};a=a.resolve(b);try{a.then(null,ea).then(null,ea)}catch(Da){return!0}return b===a}(r.Promise),gd=b&&function(){var a=0,b=Object.defineProperty({},"then",{get:function(){a+=1}});Promise.resolve(b);return 1===a}(),Ya=function(a){var b=new Promise(a);a(3,function(){});this.then=b.then;this.constructor=BadResolverPromise_1};Ya.prototype=Promise.prototype;Ya.all=Promise.all;var hd=a(function(){return!!Ya.all([1,
2])});cd&&dd&&ed&&!fd&&gd&&!hd||(Promise=Aa,v(r,"Promise",Aa));if(1!==Promise.all.length){var id=Promise.all;v(Promise,"all",function(a){return m.Call(id,this,arguments)})}if(1!==Promise.race.length){var jd=Promise.race;v(Promise,"race",function(a){return m.Call(jd,this,arguments)})}if(1!==Promise.resolve.length){var kd=Promise.resolve;v(Promise,"resolve",function(a){return m.Call(kd,this,arguments)})}if(1!==Promise.reject.length){var ld=Promise.reject;v(Promise,"reject",function(a){return m.Call(ld,
this,arguments)})}wa(Promise,"all");wa(Promise,"race");wa(Promise,"resolve");wa(Promise,"reject");oa(Promise)}var Jb=function(a){var b=q(p(a,function(a,b){a[b]=!0;return a},{}));return a.join(":")===b.join(":")},md=Jb(["z","a","bb"]),nd=Jb(["z",1,"a","3",2]);if(b){var da=function(a,b){return b||md?V(a)?"^"+m.ToString(a):"string"===typeof a?"$"+a:"number"===typeof a?nd?a:"n"+a:"boolean"===typeof a?"b"+a:null:null},Ba=function(){return Object.create?Object.create(null):{}},Za=function(a,b,c){if(l(c)||
C.string(c))k(c,function(a){if(!m.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");b.set(a[0],a[1])});else if(c instanceof a)h(a.prototype.forEach,c,function(a,c){b.set(c,a)});else{if(!V(c)){var d=b.set;if(!m.IsCallable(d))throw new TypeError("bad map");var g=m.GetIterator(c)}if("undefined"!==typeof g)for(;;){a=m.IteratorStep(g);if(!1===a)break;a=a.value;try{if(!m.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");h(d,b,a[0],a[1])}catch(Oa){throw m.IteratorClose(g,
!0),Oa;}}}},Kb=function(a,b,c){if(l(c)||C.string(c))k(c,function(a){b.add(a)});else if(c instanceof a)h(a.prototype.forEach,c,function(a){b.add(a)});else{if(!V(c)){var d=b.add;if(!m.IsCallable(d))throw new TypeError("bad set");var g=m.GetIterator(c)}if("undefined"!==typeof g)for(;;){a=m.IteratorStep(g);if(!1===a)break;a=a.value;try{h(d,b,a)}catch(Oa){throw m.IteratorClose(g,!0),Oa;}}}},pa={Map:function(){var a={},b=function(a,b){this.key=a;this.value=b;this.prev=this.next=null};b.prototype.isRemoved=
function(){return this.key===a};var c=function(a,b){if(!m.TypeIsObject(a)||!a._es6map)throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+m.ToString(a));},d=function(a,b){c(a,"[[MapIterator]]");this.i=this.head=a._head;this.kind=b};d.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var a=this.i,b=this.kind,c=this.head;if("undefined"===typeof this.i)return ba();for(;a.isRemoved()&&a!==c;)a=a.prev;for(;a.next!==
c;)if(a=a.next,!a.isRemoved())return b="key"===b?a.key:"value"===b?a.value:[a.key,a.value],this.i=a,ba(b);this.i=void 0;return ba()}};S(d.prototype);var g=function Qa(){if(!(this instanceof Qa))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var a=Ma(this,Qa,k,{_es6map:!0,_head:null,_map:E?new E:null,_size:0,_storage:Ba()}),c=new b(null,null);c.next=c.prev=c;a._head=c;0<arguments.length&&Za(Qa,a,arguments[0]);return a};var k=g.prototype;
x.getter(k,"size",function(){if("undefined"===typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size});w(k,{get:function(a){c(this,"get");var b=da(a,!0);if(null!==b){if(a=this._storage[b])return a.value}else if(this._map){if(a=la.call(this._map,a))return a.value}else for(var d=b=this._head;(d=d.next)!==b;)if(m.SameValueZero(d.key,a))return d.value},has:function(a){c(this,"has");var b=da(a,!0);if(null!==b)return"undefined"!==typeof this._storage[b];if(this._map)return ma.call(this._map,
a);for(var d=b=this._head;(d=d.next)!==b;)if(m.SameValueZero(d.key,a))return!0;return!1},set:function(a,d){c(this,"set");var g=this._head,k=g,y=da(a,!0);if(null!==y){if("undefined"!==typeof this._storage[y])return this._storage[y].value=d,this;var p=this._storage[y]=new b(a,d);k=g.prev}else this._map&&(ma.call(this._map,a)?la.call(this._map,a).value=d:(p=new b(a,d),db.call(this._map,a,p),k=g.prev));for(;(k=k.next)!==g;)if(m.SameValueZero(k.key,a))return k.value=d,this;p=p||new b(a,d);m.SameValue(-0,
a)&&(p.key=0);p.next=this._head;p.prev=this._head.prev;p.prev.next=p;p.next.prev=p;this._size+=1;return this},"delete":function(b){c(this,"delete");var d=this._head,g=d,k=da(b,!0);if(null!==k){if("undefined"===typeof this._storage[k])return!1;g=this._storage[k].prev;delete this._storage[k]}else if(this._map){if(!ma.call(this._map,b))return!1;g=la.call(this._map,b).prev;Xb.call(this._map,b)}for(;(g=g.next)!==d;)if(m.SameValueZero(g.key,b))return g.key=a,g.value=a,g.prev.next=g.next,g.next.prev=g.prev,
--this._size,!0;return!1},clear:function(){c(this,"clear");this._map=E?new E:null;this._size=0;this._storage=Ba();for(var b=this._head,d,g=b.next;(d=g)!==b;)d.key=a,d.value=a,g=d.next,d.next=d.prev=b;b.next=b.prev=b},keys:function(){c(this,"keys");return new d(this,"key")},values:function(){c(this,"values");return new d(this,"value")},entries:function(){c(this,"entries");return new d(this,"key+value")},forEach:function(a){c(this,"forEach");for(var b=1<arguments.length?arguments[1]:null,d=this.entries(),
g=d.next();!g.done;g=d.next())b?h(a,b,g.value[1],g.value[0],this):a(g.value[1],g.value[0],this)}});S(k,k.entries);return g}(),Set:function(){var a=function(a,b){if(!m.TypeIsObject(a)||!a._es6set||"undefined"===typeof a._storage)throw new TypeError("Set.prototype."+b+" called on incompatible receiver "+m.ToString(a));},b=function Pa(){if(!(this instanceof Pa))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var a=Ma(this,Pa,c,{_es6set:!0,
"[[SetData]]":null,_storage:Ba()});if(!a._es6set)throw new TypeError("bad set");0<arguments.length&&Kb(Pa,a,arguments[0]);return a};var c=b.prototype;var d=function(a){if(!a["[[SetData]]"]){var b=new pa.Map;a["[[SetData]]"]=b;k(q(a._storage),function(a){if("^null"===a)a=null;else if("^undefined"!==a){var c=a.charAt(0);a="$"===c?P(a,1):"n"===c?+P(a,1):"b"===c?"btrue"===a:+a}else a=void 0;b.set(a,a)});a["[[SetData]]"]=b}a._storage=null};x.getter(b.prototype,"size",function(){a(this,"size");if(this._storage)return q(this._storage).length;
d(this);return this["[[SetData]]"].size});w(b.prototype,{has:function(b){a(this,"has");var c;if(this._storage&&null!==(c=da(b)))return!!this._storage[c];d(this);return this["[[SetData]]"].has(b)},add:function(b){a(this,"add");var c;if(this._storage&&null!==(c=da(b)))return this._storage[c]=!0,this;d(this);this["[[SetData]]"].set(b,b);return this},"delete":function(b){a(this,"delete");var c;if(this._storage&&null!==(c=da(b)))return b=sa(this._storage,c),delete this._storage[c]&&b;d(this);return this["[[SetData]]"]["delete"](b)},
clear:function(){a(this,"clear");this._storage&&(this._storage=Ba());this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){a(this,"values");d(this);return new g(this["[[SetData]]"].values())},entries:function(){a(this,"entries");d(this);return new g(this["[[SetData]]"].entries())},forEach:function(b){a(this,"forEach");var c=1<arguments.length?arguments[1]:null,g=this;d(g);this["[[SetData]]"].forEach(function(a,d){c?h(b,c,d,d,g):b(d,d,g)})}});n(b.prototype,"keys",b.prototype.values,!0);
S(b.prototype,b.prototype.values);var g=function(a){this.it=a};g.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}};S(g.prototype);return b}()};r.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(r.Set=pa.Set);if(r.Map||r.Set){a(function(){return 2===(new Map([[1,2]])).get(1)})||(r.Map=function G(){if(!(this instanceof G))throw new TypeError('Constructor Map requires "new"');
var a=new E;0<arguments.length&&Za(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,r.Map.prototype);return a},r.Map.prototype=B(E.prototype),n(r.Map.prototype,"constructor",r.Map,!0),x.preserveToString(r.Map,E));var Lb=new Map,Mb=function(){var a=new Map([[1,0],[2,0],[3,0],[4,0]]);a.set(-0,a);return a.get(0)===a&&a.get(-0)===a&&a.has(0)&&a.has(-0)}(),od=Lb.set(1,2)===Lb;Mb&&od||v(Map.prototype,"set",function(a,b){h(db,this,0===a?0:a,b);return this});Mb||(w(Map.prototype,{get:function(a){return h(la,
this,0===a?0:a)},has:function(a){return h(ma,this,0===a?0:a)}},!0),x.preserveToString(Map.prototype.get,la),x.preserveToString(Map.prototype.has,ma));var $a=new Set,Nb=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(a){a["delete"](0);a.add(-0);return!a.has(0)}($a),pd=$a.add(1)===$a;if(!Nb||!pd){var Ob=Set.prototype.add;Set.prototype.add=function(a){h(Ob,this,0===a?0:a);return this};x.preserveToString(Set.prototype.add,Ob)}if(!Nb){var Pb=Set.prototype.has;Set.prototype.has=
function(a){return h(Pb,this,0===a?0:a)};x.preserveToString(Set.prototype.has,Pb);var Qb=Set.prototype["delete"];Set.prototype["delete"]=function(a){return h(Qb,this,0===a?0:a)};x.preserveToString(Set.prototype["delete"],Qb)}var Rb=M(r.Map,function(a){var b=new a([]);b.set(42,42);return b instanceof a}),qd=Object.setPrototypeOf&&!Rb;try{var Sb=!(r.Map()instanceof r.Map)}catch(y){Sb=y instanceof TypeError}if(0!==r.Map.length||qd||!Sb)r.Map=function G(){if(!(this instanceof G))throw new TypeError('Constructor Map requires "new"');
var a=new E;0<arguments.length&&Za(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,G.prototype);return a},r.Map.prototype=E.prototype,n(r.Map.prototype,"constructor",r.Map,!0),x.preserveToString(r.Map,E);var rd=M(r.Set,function(a){var b=new a([]);b.add(42,42);return b instanceof a}),sd=Object.setPrototypeOf&&!rd;try{var Tb=!(r.Set()instanceof r.Set)}catch(y){Tb=y instanceof TypeError}if(0!==r.Set.length||sd||!Tb){var ab=r.Set;r.Set=function G(){if(!(this instanceof G))throw new TypeError('Constructor Set requires "new"');
var a=new ab;0<arguments.length&&Kb(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,G.prototype);return a};r.Set.prototype=ab.prototype;n(r.Set.prototype,"constructor",r.Set,!0);x.preserveToString(r.Set,ab)}var bb=new r.Map,td=!a(function(){return bb.keys().next().done});("function"!==typeof r.Map.prototype.clear||0!==(new r.Set).size||0!==bb.size||"function"!==typeof r.Map.prototype.keys||"function"!==typeof r.Set.prototype.keys||"function"!==typeof r.Map.prototype.forEach||"function"!==
typeof r.Set.prototype.forEach||d(r.Map)||d(r.Set)||"function"!==typeof bb.keys().next||td||!Rb)&&w(r,{Map:pa.Map,Set:pa.Set},!0);r.Set.prototype.keys!==r.Set.prototype.values&&n(r.Set.prototype,"keys",r.Set.prototype.values,!0);S(Object.getPrototypeOf((new r.Map).keys()));S(Object.getPrototypeOf((new r.Set).keys()));if(g&&"has"!==r.Set.prototype.has.name){var ud=r.Set.prototype.has;v(r.Set.prototype,"has",function(a){return h(ud,this,a)})}}w(r,pa);oa(r.Map);oa(r.Set)}var T=function(a){if(!m.TypeIsObject(a))throw new TypeError("target must be an object");
},O={apply:function(){return m.Call(m.Call,null,arguments)},construct:function(a,b){if(!m.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var c=2<arguments.length?arguments[2]:a;if(!m.IsConstructor(c))throw new TypeError("new.target must be a constructor.");return m.Construct(a,b,c,"internal")},deleteProperty:function(a,c){T(a);if(b){var d=Object.getOwnPropertyDescriptor(a,c);if(d&&!d.configurable)return!1}return delete a[c]},has:function(a,b){T(a);return b in a}};Object.getOwnPropertyNames&&
Object.assign(O,{ownKeys:function(a){T(a);var b=Object.getOwnPropertyNames(a);m.IsCallable(Object.getOwnPropertySymbols)&&Q(b,Object.getOwnPropertySymbols(a));return b}});Object.preventExtensions&&Object.assign(O,{isExtensible:function(a){T(a);return Object.isExtensible(a)},preventExtensions:function(a){T(a);return!e(function(){return Object.preventExtensions(a)})}});if(b){var Ub=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(!d)return a=Object.getPrototypeOf(a),null===a?void 0:Ub(a,
b,c);if("value"in d)return d.value;if(d.get)return m.Call(d.get,c)},Vb=function(a,b,c,d){var g=Object.getOwnPropertyDescriptor(a,b);if(!g){a=Object.getPrototypeOf(a);if(null!==a)return Vb(a,b,c,d);g={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in g?g.writable&&m.TypeIsObject(d)?Object.getOwnPropertyDescriptor(d,b)?Y.defineProperty(d,b,{value:c}):Y.defineProperty(d,b,{value:c,writable:!0,enumerable:!0,configurable:!0}):!1:g.set?(h(g.set,d,c),!0):!1};Object.assign(O,{defineProperty:function(a,
b,c){T(a);return!e(function(){return Object.defineProperty(a,b,c)})},getOwnPropertyDescriptor:function(a,b){T(a);return Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){T(a);return Ub(a,b,2<arguments.length?arguments[2]:a)},set:function(a,b,c){T(a);return Vb(a,b,c,3<arguments.length?arguments[3]:a)}})}if(Object.getPrototypeOf){var vd=Object.getPrototypeOf;O.getPrototypeOf=function(a){T(a);return vd(a)}}Object.setPrototypeOf&&O.getPrototypeOf&&Object.assign(O,{setPrototypeOf:function(a,b){T(a);
if(null!==b&&!m.TypeIsObject(b))throw new TypeError("proto must be an object or null");if(b===Y.getPrototypeOf(a))return!0;if(Y.isExtensible&&!Y.isExtensible(a))return!1;var c;a:{for(c=b;c;){if(a===c){c=!0;break a}c=O.getPrototypeOf(c)}c=!1}if(c)return!1;Object.setPrototypeOf(a,b);return!0}});var wd=function(b,c){m.IsCallable(r.Reflect[b])?a(function(){r.Reflect[b](1);r.Reflect[b](NaN);r.Reflect[b](!0);return!0})&&v(r.Reflect,b,c):n(r.Reflect,b,c)};Object.keys(O).forEach(function(a){wd(a,O[a])});
var cb=r.Reflect.getPrototypeOf;g&&cb&&"getPrototypeOf"!==cb.name&&v(r.Reflect,"getPrototypeOf",function(a){return h(cb,r.Reflect,a)});r.Reflect.setPrototypeOf&&a(function(){r.Reflect.setPrototypeOf(1,{});return!0})&&v(r.Reflect,"setPrototypeOf",O.setPrototypeOf);r.Reflect.defineProperty&&(a(function(){var a=!r.Reflect.defineProperty(1,"test",{value:1}),b="function"!==typeof Object.preventExtensions||!r.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return a&&b})||v(r.Reflect,"defineProperty",
O.defineProperty));r.Reflect.construct&&(a(function(){var a=function(){};return r.Reflect.construct(function(){},[],a)instanceof a})||v(r.Reflect,"construct",O.construct));if("Invalid Date"!==String(new Date(NaN))){var xd=Date.prototype.toString;v(Date.prototype,"toString",function(){var a=+this;return a!==a?"Invalid Date":m.Call(xd,this)})}var Wb={anchor:function(a){return m.CreateHTML(this,"a","name",a)},big:function(){return m.CreateHTML(this,"big","","")},blink:function(){return m.CreateHTML(this,
"blink","","")},bold:function(){return m.CreateHTML(this,"b","","")},fixed:function(){return m.CreateHTML(this,"tt","","")},fontcolor:function(a){return m.CreateHTML(this,"font","color",a)},fontsize:function(a){return m.CreateHTML(this,"font","size",a)},italics:function(){return m.CreateHTML(this,"i","","")},link:function(a){return m.CreateHTML(this,"a","href",a)},small:function(){return m.CreateHTML(this,"small","","")},strike:function(){return m.CreateHTML(this,"strike","","")},sub:function(){return m.CreateHTML(this,
"sub","","")},sup:function(){return m.CreateHTML(this,"sup","","")}};k(Object.keys(Wb),function(a){var b=String.prototype[a];if(m.IsCallable(b)){b=h(b,"",' " ');var c=qa([],b.match(/"/g)).length;b=b!==b.toLowerCase()||2<c}else b=!0;b&&v(String.prototype,a,Wb[a])});var yd=function(){if(!na)return!1;var a="object"===typeof JSON&&"function"===typeof JSON.stringify?JSON.stringify:null;if(!a)return!1;if("undefined"!==typeof a(A())||"[null]"!==a([A()]))return!0;var b={a:A()};b[A()]=!0;return"{}"!==a(b)?
!0:!1}(),zd=a(function(){return na?"{}"===JSON.stringify(Object(A()))&&"[{}]"===JSON.stringify([Object(A())]):!0});if(yd||!zd){var Ad=JSON.stringify;v(JSON,"stringify",function(a){if("symbol"!==typeof a){var b;1<arguments.length&&(b=arguments[1]);var c=[a];if(l(b))c.push(b);else{var d=m.IsCallable(b)?b:null;c.push(function(a,b){a=d?h(d,this,a,b):b;if("symbol"!==typeof a)return C.symbol(a)?zb({})(a):a})}2<arguments.length&&c.push(arguments[2]);return Ad.apply(this,c)}})}return r});
(function(f){f=f.keyman||(f.keyman={});f=f.environment||(f.environment={});f.VERSION="14.0";f.BUILD=31})(com||(com={}));(function(f){f.keyman||(f.keyman={})})(com||(com={}));
(function(f){f=f.keyman||(f.keyman={});(f.text||(f.text={})).Codes={modifierCodes:{LCTRL:1,RCTRL:2,LALT:4,RALT:8,SHIFT:16,CTRL:32,ALT:64,CAPS:256,NO_CAPS:512,NUM_LOCK:1024,NO_NUM_LOCK:2048,SCROLL_LOCK:4096,NO_SCROLL_LOCK:8192,VIRTUAL_KEY:16384},modifierBitmasks:{ALL:127,ALT_GR_SIM:5,CHIRAL:31,IS_CHIRAL:15,NON_CHIRAL:112},stateBitmasks:{ALL:16128,CAPS:768,NUM_LOCK:3072,SCROLL_LOCK:12288},keyCodes:{K_BKSP:8,K_TAB:9,K_ENTER:13,K_SHIFT:16,K_CONTROL:17,K_ALT:18,K_PAUSE:19,K_CAPS:20,K_ESC:27,K_SPACE:32,
K_PGUP:33,K_PGDN:34,K_END:35,K_HOME:36,K_LEFT:37,K_UP:38,K_RIGHT:39,K_DOWN:40,K_SEL:41,K_PRINT:42,K_EXEC:43,K_INS:45,K_DEL:46,K_HELP:47,K_0:48,K_1:49,K_2:50,K_3:51,K_4:52,K_5:53,K_6:54,K_7:55,K_8:56,K_9:57,K_A:65,K_B:66,K_C:67,K_D:68,K_E:69,K_F:70,K_G:71,K_H:72,K_I:73,K_J:74,K_K:75,K_L:76,K_M:77,K_N:78,K_O:79,K_P:80,K_Q:81,K_R:82,K_S:83,K_T:84,K_U:85,K_V:86,K_W:87,K_X:88,K_Y:89,K_Z:90,K_NP0:96,K_NP1:97,K_NP2:98,K_NP3:99,K_NP4:100,K_NP5:101,K_NP6:102,K_NP7:103,K_NP8:104,K_NP9:105,K_NPSTAR:106,K_NPPLUS:107,
K_SEPARATOR:108,K_NPMINUS:109,K_NPDOT:110,K_NPSLASH:111,K_F1:112,K_F2:113,K_F3:114,K_F4:115,K_F5:116,K_F6:117,K_F7:118,K_F8:119,K_F9:120,K_F10:121,K_F11:122,K_F12:123,K_NUMLOCK:144,K_SCROLL:145,K_LSHIFT:160,K_RSHIFT:161,K_LCONTROL:162,K_RCONTROL:163,K_LALT:164,K_RALT:165,K_COLON:186,K_EQUAL:187,K_COMMA:188,K_HYPHEN:189,K_PERIOD:190,K_SLASH:191,K_BKQUOTE:192,K_LBRKT:219,K_BKSLASH:220,K_RBRKT:221,K_QUOTE:222,K_oE2:226,K_OE2:226,K_LOPT:50001,K_ROPT:50002,K_NUMERALS:50003,K_SYMBOLS:50004,K_CURRENCIES:50005,
K_UPPER:50006,K_LOWER:50007,K_ALPHA:50008,K_SHIFTED:50009,K_ALTGR:50010,K_TABBACK:50011,K_TABFWD:50012},codesUS:[["0123456789",";=,-./`","[\\]'"],[")!@#$%^&*(",":+<_>?~",'{|}"']]}})(com||(com={}));
(function(f){(function(h){(function(l){var q=function(){return function(){}}();l.LegacyKeyEvent=q;q=function(){function e(){this.stateKeys={K_CAPS:!1,K_NUMLOCK:!1,K_SCROLL:!1};this.modStateFlags=0;this.swallowKeypress=!1}e.prototype.defaultKeyOutput=function(a,d,c,b){var g=a.kName,k=a.Lcode,p=a.Ltarg,e=p.getElement(),z=f.keyman.singleton,n=z.domManager,w=z.keyboardManager.activeKeyboard,t=z.interface.activeTargetOutput instanceof l.Mock,q="",x=!1,B=e&&"undefined"!=typeof e.base;0==d?x=!0:d==l.Codes.modifierCodes.SHIFT?
(x=!0,d=1):t||console.warn("KMW only defines default key output for the 'default' and 'shift' layers!");if(B||c)switch((B=l.Codes.keyCodes[g])||(B=k),B){case l.Codes.keyCodes.K_BKSP:if(b)return"\b";z.interface.defaultBackspace(p);return"";case l.Codes.keyCodes.K_TAB:b||n.moveToNext(d);break;case l.Codes.keyCodes.K_TABBACK:b||n.moveToNext(!0);break;case l.Codes.keyCodes.K_TABFWD:b||n.moveToNext(!1);break;case l.Codes.keyCodes.K_ENTER:if("TEXTAREA"==e.nodeName||"undefined"!=typeof e.base&&"TEXTAREA"==
e.base.nodeName)return"\n";if(c){if(z.isEmbedded)return"\n";if(h.dom.Utils.instanceof(e,"HTMLInputElement"))var M=e;else"undefined"!=typeof e.base&&h.dom.Utils.instanceof(e.base,"HTMLInputElement")&&(M=e.base);b||(!M||"search"!=M.type&&"submit"!=M.type?n.moveToNext(!1):(M.disabled=!1,M.form.submit()))}break;case l.Codes.keyCodes.K_SPACE:return" "}else if(8==a.Lcode){if(b)return"\b";z.interface.defaultBackspace();return""}if(a.Lcode>=l.Codes.keyCodes.K_NP0&&a.Lcode<=l.Codes.keyCodes.K_NPSLASH&&w&&
!w.KM)return q=String._kmwFromCharCode(106>a.Lcode?a.Lcode-48:a.Lcode-64);if(g&&"U_"==g.substr(0,2))a=parseInt(g.substr(2,6),16),0<=a&&31>=a||128<=a&&159>=a?t||console.log("Suppressing Unicode control code: U_00"+a.toString(16)):q=String.kmwFromCharCode(a);else if(x)try{k>=l.Codes.keyCodes.K_0&&k<=l.Codes.keyCodes.K_9?q=l.Codes.codesUS[d][0][k-l.Codes.keyCodes.K_0]:k>=l.Codes.keyCodes.K_A&&k<=l.Codes.keyCodes.K_Z?q=String.fromCharCode(k+(d?0:32)):k>=l.Codes.keyCodes.K_COLON&&k<=l.Codes.keyCodes.K_BKQUOTE?
q=l.Codes.codesUS[d][1][k-l.Codes.keyCodes.K_COLON]:k>=l.Codes.keyCodes.K_LBRKT&&k<=l.Codes.keyCodes.K_QUOTE&&(q=l.Codes.codesUS[d][2][k-l.Codes.keyCodes.K_LBRKT])}catch(r){t||console.error("Error detected with default mapping for key:  code = "+k+", shift state = "+(1==d?"shift":"default"))}return q};e.getOutputTarget=function(a){var d=f.keyman.singleton;if(!a&&!d.isHeadless&&(a=d.domManager.getLastActiveElement(),!a))return null;if(a._kmwAttachment&&a._kmwAttachment.interface)return a._kmwAttachment.interface;
throw Error("OSK could not find element output target data!");};e.prototype._GetClickEventProperties=function(a,d){var c=f.keyman.singleton,b=c.keyboardManager.activeKeyboard,g=c.util.device.formFactor,k=a.layer||a.displayLayer||"",p=a.id.toUpperCase(),u=this.getModifierState(k);a={Ltarg:e.getOutputTarget(d),Lmodifiers:u,Lstates:0,Lcode:l.Codes.keyCodes[p],LisVirtualKey:!0,vkCode:0,kName:p,kLayer:k,kbdLayer:a.displayLayer,kNextLayer:a.nextlayer};switch(p){case "K_CAPS":case "K_NUMLOCK":case "K_SCROLL":this.stateKeys[p]=
!this.stateKeys[p]}this.commonClickEventPreprocessing(a);!b||!b.KM||b.KVKL&&"desktop"!=g?a.vkCode=a.Lcode:a.Lcode!=l.Codes.keyCodes.K_SPACE&&(a.vkCode=a.Lcode,this.setMnemonicCode(a,-1!=k.indexOf("shift"),this.stateKeys.K_CAPS));"undefined"==typeof b.KM&&(a.Lcode=c.keyMapManager._USKeyCodeToCharCode(a),a.LisVirtualKey=!1);return a};e.prototype.commonClickEventPreprocessing=function(a){a.Lstates|=this.stateKeys.K_CAPS?l.Codes.modifierCodes.CAPS:l.Codes.modifierCodes.NO_CAPS;a.Lstates|=this.stateKeys.K_NUMLOCK?
l.Codes.modifierCodes.NUM_LOCK:l.Codes.modifierCodes.NO_NUM_LOCK;a.Lstates|=this.stateKeys.K_SCROLL?l.Codes.modifierCodes.SCROLL_LOCK:l.Codes.modifierCodes.NO_SCROLL_LOCK;"U_"==a.kName.substr(0,2)&&(a.LisVirtualKey=!1);"undefined"==typeof a.Lcode&&(a.Lcode=this.getVKDictionaryCode(a.kName),a.Lcode||(a.Lcode=1));(a.Lmodifiers&l.Codes.modifierBitmasks.ALT_GR_SIM)==l.Codes.modifierBitmasks.ALT_GR_SIM&&h.osk.Layouts.emulatesAltGr()&&(a.Lmodifiers&=~l.Codes.modifierBitmasks.ALT_GR_SIM,a.Lmodifiers|=l.Codes.modifierCodes.RALT)};
e.prototype.processKeystroke=function(a,d,c,b){var g=f.keyman.singleton,k=g.keyboardManager.activeKeyboard,p=g.interface,e=g.keyMapManager;g.isEmbedded||c||"firefox"!=g.util.device.browser||!e.browserMap.FF["k"+a.Lcode]||(a.Lcode=e.browserMap.FF["k"+a.Lcode]);var h;this.swallowKeypress=!1;k&&0!=a.Lcode&&(h=p.processKeystroke(c?g.util.device:g.util.physicalDevice,d,a));h||(a.Lcode=a.vkCode||a.Lcode,p.activeTargetOutput=d,c=l.Mock.from(d),b=this.defaultKeyOutput(a,a.Lmodifiers,!0,b),p.activeTargetOutput=
null,b?("\b"==b?p.defaultBackspace(d):p.output(0,d,b),h=new l.RuleBehavior,h.transcription=d.buildTranscriptionFrom(c,a)):8==a.Lcode&&(h=new l.RuleBehavior,h.transcription=d.buildTranscriptionFrom(c,a)));return h};e.prototype.processKeyEvent=function(a,d){var c=f.keyman.singleton,b=a.Ltarg,g=!!d;"boolean"==typeof d&&(d=null);var k=c.util.device.formFactor,p=c.keyMapManager;this.swallowKeypress=!1;g&&!c.isEmbedded&&(c.domManager.initActiveElement(a.Ltarg.getElement()),c.osk.vkbd.highlightKey(d,!1));
if("K_LOPT"==a.kName||"K_ROPT"==a.kName)return c.osk.vkbd.optionKey(d,a.kName,!0),!0;if(("desktop"==k||c.keyboardManager.layoutIsDesktopBased())&&g&&this.selectLayer(a.kName,a.kNextLayer)||!g&&this.doModifierPress(a,!g))return!0;c.isEmbedded||g||"firefox"!=c.util.device.browser||!p.browserMap.FF["k"+a.Lcode]||(a.Lcode=p.browserMap.FF["k"+a.Lcode]);if(!c.modelManager.enabled||("K_BKSP"!=a.kName&&a.Lcode!=l.Codes.keyCodes.K_BKSP||!c.modelManager.tryRevertSuggestion())&&("K_SPACE"!=a.kName&&a.Lcode!=
l.Codes.keyCodes.K_SPACE||!c.modelManager.tryAcceptSuggestion("space"))){g&&!c.isEmbedded&&(c.uiManager.setActivatingUI(!0),f.keyman.DOMEventHandlers.states._IgnoreNextSelChange=100,c.domManager.focusLastActiveElement(),f.keyman.DOMEventHandlers.states._IgnoreNextSelChange=0);var e=l.Mock.from(b);k=this.processKeystroke(a,b,g,!1);a.kNextLayer&&this.selectLayer(a.kName,a.kNextLayer);if(null!=k){p=void 0;if(a.keyDistribution&&a.kbdLayer){var z=c.osk.vkbd.layout;p=[];for(var n=0,w=a.keyDistribution;n<
w.length;n++){var t=w[n],q=l.Mock.from(e),x=z.getLayer(a.kbdLayer).getKey(t.keyId);if(x){if(x=this._GetClickEventProperties(x,a.Ltarg.getElement()),q=this.processKeystroke(x,q,g,!0))q=q.transcription.transform,q.id=k.transcription.token,p.push({sample:q,p:t.p})}else console.warn("Potential fat-finger key could not be found in layer!")}}k.beep&&c.domManager.doBeep(b);for(var B in k.setStore)switch(Number.parseInt(B)){case l.KeyboardInterface.TSS_LAYER:c.osk.vkbd.showLayer(k.setStore[B]);break;case l.KeyboardInterface.TSS_PLATFORM:console.error("Rule attempted to perform illegal operation - 'platform' may not be changed.");
break;default:console.warn("Unknown store affected by keyboard rule: "+B)}g=k.transcription.transform;(""!=g.insert||0<g.deleteLeft||0<g.deleteRight)&&b.getElement()==h.DOMEventHandlers.states.activeElement&&(h.DOMEventHandlers.states.changed=!0);k.transcription.alternates=p;c.modelManager.predict(k.transcription);b.getElement()&&c["interface"].doInputEvent(b.getElement());this.swallowKeypress=d&&8!=a.Lcode?0!=a.Lcode:!1;8==a.Lcode&&(this.swallowKeypress=!1);return!1}this.swallowKeypress=!1;g&&!c.isEmbedded&&
c.uiManager.setActivatingUI(!1);return!c.isEmbedded||a.Lcode!=l.Codes.keyCodes.K_TAB&&a.Lcode!=l.Codes.keyCodes.K_TABBACK&&a.Lcode!=l.Codes.keyCodes.K_TABFWD?null==k:!1}};e.prototype.clickKey=function(a,d,c,b){c=f.keyman.singleton;var g=c.domManager.getLastActiveElement();if(null!=g){var k=e.getOutputTarget(g);c.domManager.initActiveElement(g);c.osk.vkbd.highlightKey(a,!1);k.invalidateSelection();k.deadkeys().deleteMatched();g=this._GetClickEventProperties(a.key.spec,g);c.modelManager.enabled&&(g.source=
d,g.keyDistribution=b);return this.processKeyEvent(g,a)}return!0};e.prototype.setMnemonicCode=function(a,d,c){if(a.Lcode!=l.Codes.keyCodes.K_SPACE){var b=new l.KeyEvent,g;for(g in a)b[g]=a[g];b.kName="K_xxxx";b.Ltarg=null;d=this.defaultKeyOutput(b,d?16:0,!1,!0);a.vkCode=a.Lcode;d?a.Lcode=d.charCodeAt(0):delete a.Lcode}c&&(65<=a.Lcode&&90>=a.Lcode||97<=a.Lcode&&122>=a.Lcode)&&(a.Lmodifiers^=16,a.Lcode^=32)};e.prototype.getModifierState=function(a){var d=0;0<=a.indexOf("shift")&&(d|=l.Codes.modifierCodes.SHIFT);
var c=!1;0<=a.indexOf("leftctrl")&&(d|=l.Codes.modifierCodes.LCTRL,c=!0);0<=a.indexOf("rightctrl")&&(d|=l.Codes.modifierCodes.RCTRL,c=!0);0<=a.indexOf("ctrl")&&!c&&(d|=l.Codes.modifierCodes.CTRL);c=!1;0<=a.indexOf("leftalt")&&(d|=l.Codes.modifierCodes.LALT,c=!0);0<=a.indexOf("rightalt")&&(d|=l.Codes.modifierCodes.RALT,c=!0);0<=a.indexOf("alt")&&!c&&(d|=l.Codes.modifierCodes.ALT);return d};e.prototype.getVKDictionaryCode=function(a){var d=f.keyman.singleton.keyboardManager.activeKeyboard;if(!d.VKDictionary){var c=
[];if("string"==typeof d.KVKD)for(var b=d.KVKD.split(" "),g=0;g<b.length;g++)c[b[g].toUpperCase()]=g+256;d.VKDictionary=c}return(a=d.VKDictionary[a.toUpperCase()])?a:0};e.prototype._UpdateVKShift=function(a,d,c){var b=0,g=f.keyman.singleton,k=["CAPS","NUM_LOCK","SCROLL_LOCK"],p=["K_CAPS","K_NUMLOCK","K_SCROLL"];if(a)for(b=a.Lmodifiers,d=a.Lstates,g.keyboardManager.isChiral()&&h.osk.Layouts.emulatesAltGr()&&(this.modStateFlags&l.Codes.modifierBitmasks.ALT_GR_SIM)==l.Codes.modifierBitmasks.ALT_GR_SIM&&
(b|=l.Codes.modifierBitmasks.ALT_GR_SIM,b&=~l.Codes.modifierCodes.RALT),a=0;a<k.length;a++)d&l.Codes.stateBitmasks[k[a]]&&(this.stateKeys[p[a]]=d&l.Codes.modifierCodes[k[a]]);else if(c)for(b|=d,a=0;a<k.length;a++)d&l.Codes.stateBitmasks[k[a]]&&(this.stateKeys[p[a]]=!0);else for(b&=~d,a=0;a<k.length;a++)d&l.Codes.stateBitmasks[k[a]]&&(this.stateKeys[p[a]]=!1);g.osk.vkbd&&g.osk.vkbd.showLayer(this.getLayerId(b));g.osk._Visible&&g.osk._Show();return!0};e.prototype.getLayerId=function(a){return h.osk.Layouts.getLayerId(a)};
e.prototype.selectLayer=function(a,d){var c=2>arguments.length?null:d,b=f.keyman.singleton.keyboardManager.isChiral();"number"==typeof c&&(c=this.getLayerId(16*c));if(!c)switch(a){case "K_LSHIFT":case "K_RSHIFT":case "K_SHIFT":c="shift";break;case "K_LCONTROL":case "K_LCTRL":if(b){c="leftctrl";break}case "K_RCONTROL":case "K_RCTRL":if(b){c="rightctrl";break}case "K_CTRL":c="ctrl";break;case "K_LMENU":case "K_LALT":if(b){c="leftalt";break}case "K_RMENU":case "K_RALT":if(b){c="rightalt";break}case "K_ALT":c=
"alt";break;case "K_ALTGR":c=b?"leftctrl-rightalt":"ctrl-alt";break;case "K_CURRENCIES":case "K_NUMERALS":case "K_SHIFTED":case "K_UPPER":case "K_LOWER":case "K_SYMBOLS":c="default"}if(!c)return!1;this.updateLayer(c);f.keyman.singleton.osk._Show();return!0};e.prototype.updateLayer=function(a){var d=f.keyman.singleton,c=d.osk.vkbd;if(c){var b=c.layerId,g=b;if(a==b&&"desktop"!=d.util.device.formFactor)return!1;var k=a;if("desktop"==d.util.device.formFactor){var p="leftctrl rightctrl ctrl leftalt rightalt alt shift".split(" ");
for(d=0;d<p.length;d++)k=k.replace(p[d]+"-",""),k=k.replace(p[d],"");if("default"==b||"numeric"==b||"symbol"==b||"currency"==b||""!=k)g=a;else{b=this.getModifierState(g);for(d=0;d<p.length;d++)g=g.replace(p[d]+"-",""),g=g.replace(p[d],"");switch(a){case "shift":b^=l.Codes.modifierCodes.SHIFT;break;case "leftctrl":b^=l.Codes.modifierCodes.LCTRL;break;case "rightctrl":b^=l.Codes.modifierCodes.RCTRL;break;case "ctrl":b^=l.Codes.modifierCodes.CTRL;break;case "leftalt":b^=l.Codes.modifierCodes.LALT;break;
case "rightalt":b^=l.Codes.modifierCodes.RALT;break;case "alt":b^=l.Codes.modifierCodes.ALT;break;default:g=a}"default"!=g&&(g=""==g?this.getLayerId(b):this.getLayerId(b)+"-"+g)}""==g&&(g="default")}else g=a;c&&(c.showLayer(g)||c.showLayer("default"))}};e.prototype._GetEventKeyCode=function(a){return a.keyCode?a.keyCode:a.which?a.which:null};e.prototype.doModifierPress=function(a,d){var c=f.keyman.singleton,b=a.Ltarg;switch(a.Lcode){case 8:b.deadkeys().clear();break;case 16:case 17:case 18:case 20:case 144:case 145:return c["interface"].notifyKeyboard(a.Lcode,
b,d?1:0),c.util.device.touchable?!0:this._UpdateVKShift(a,a.Lcode-15,1)}a.LmodifierChange&&(c["interface"].notifyKeyboard(0,b,1),this._UpdateVKShift(a,0,1));return!1};e.prototype._GetKeyEventProperties=function(a,d){var c=f.keyman.singleton;d=new l.KeyEvent;a=c._GetEventObject(a);if(!0===a.cancelBubble)return null;var b=c.util.eventTarget(a);if(null==b)return null;3==b.nodeType&&(b=b.parentNode);d.Ltarg=e.getOutputTarget(b);d.Lcode=this._GetEventKeyCode(a);if(null==d.Lcode)return null;b=this.modStateFlags;
var g=!1,k=!1;var p=l.Codes.keyCodes;switch(d.Lcode){case p.K_CTRL:case p.K_LCTRL:case p.K_RCTRL:case p.K_CONTROL:case p.K_LCONTROL:case p.K_RCONTROL:g=!0;break;case p.K_LMENU:case p.K_RMENU:case p.K_ALT:case p.K_LALT:case p.K_RALT:k=!0}p=0|(a.getModifierState("Shift")?16:0);var u=l.Codes.modifierCodes;a.getModifierState("Control")&&(p|=0!=a.location&&g?1==a.location?u.LCTRL:u.RCTRL:b&3);a.getModifierState("Alt")&&(p|=0!=a.location&&k?1==a.location?u.LALT:u.RALT:b&12);d.Lstates=0;d.Lstates|=a.getModifierState("CapsLock")?
u.CAPS:u.NO_CAPS;d.Lstates|=a.getModifierState("NumLock")?u.NUM_LOCK:u.NO_NUM_LOCK;d.Lstates|=a.getModifierState("ScrollLock")||a.getModifierState("Scroll")?u.SCROLL_LOCK:u.NO_SCROLL_LOCK;p|=d.Lstates;d.LmodifierChange=this.modStateFlags!=p;this.modStateFlags=p;g=u.RALT|u.LCTRL;(b&g)==g&&(p&g)!=g&&(p&=~g);p&u.RALT&&(p&=~u.LCTRL);b=l.Codes.modifierBitmasks;c.keyboardManager.isChiral()?(d.Lmodifiers=p&b.CHIRAL,h.osk.Layouts.emulatesAltGr()&&(d.Lmodifiers&b.ALT_GR_SIM)==b.ALT_GR_SIM&&(d.Lmodifiers^=
b.ALT_GR_SIM,d.Lmodifiers|=u.RALT)):d.Lmodifiers=p&16|(p&(u.LCTRL|u.RCTRL)?32:0)|(p&(u.LALT|u.RALT)?64:0);(b=c.keyboardManager.activeKeyboard)&&b.KM&&this.setMnemonicCode(d,a.getModifierState("Shift"),a.getModifierState("CapsLock"));d.LisVirtualKey="undefined"!=typeof a.charCode&&null!=a.charCode&&(0==a.charCode||0!=(d.Lmodifiers&111))||"keypress"!=a.type;a=c.keyMapManager;b&&!b.KM&&((c=a.languageMap[f.keyman.osk.Layouts._BaseLayout])&&c["k"+d.Lcode]&&(d.Lcode=c["k"+d.Lcode]),"undefined"!=typeof b.KM||
d.Lmodifiers&96||(d={Lcode:a._USKeyCodeToCharCode(d),Ltarg:d.Ltarg,Lmodifiers:0,LisVirtualKey:!1,vkCode:d.Lcode,Lstates:d.Lstates,kName:""}));return d};e.prototype.keyDown=function(a){this.swallowKeypress=!1;var d=this._GetKeyEventProperties(a,!0);if(null==d)return!0;(d=!this.processKeyEvent(d))&&a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation());return!d};e.prototype.keyUp=function(a){a=this._GetKeyEventProperties(a,!1);return null==a?!0:this.doModifierPress(a,!1)};e.prototype.keyPress=
function(a){var d=f.keyman.singleton,c=this._GetKeyEventProperties(a);if(null==c||c.LisVirtualKey)return!0;if(!d.keyboardManager.activeKeyboard.KM){if(!this.swallowKeypress||32>c.Lcode||d._BrowserIsSafari&&63232<c.Lcode&&63744>c.Lcode)return!0;if(a=d._GetEventObject(a))a.returnValue=!1;return!1}if(this.swallowKeypress||d["interface"].processKeystroke(d.util.physicalDevice,c.Ltarg,c))return this.swallowKeypress=!1,a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation()),!1;this.swallowKeypress=
!1;return!0};return e}();l.Processor=q})(h.text||(h.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){var h=function(){function a(){this._DisableInput=!1;this._IgnoreNextSelChange=0;this._IgnoreBlurFocus=!1;this._SelectionControl=this._Selection=null}a.prototype.setFocusTimer=function(){this.focusing=!0;this.focusTimer=window.setTimeout(function(){this.focusing=!1}.bind(this),1E3)};return a}();f.CommonDOMStates=h;var q=function(){function a(d){this.setFocus=function(a){}.bind(this);this.setBlur=function(a){}.bind(this);this._ControlFocus=function(c){var b=this.keyman.util.device,
d=this.keyman.osk;c=this.keyman._GetEventObject(c);c=this.keyman.util.eventTarget(c);if(null==c)return!0;c.body&&(c=c.body);if(b.touchable&&(null==c.className||0>c.className.indexOf("keymanweb-input")))return!0;c.nodeName.toLowerCase();if(c.ownerDocument&&c instanceof c.ownerDocument.defaultView.HTMLInputElement){var k=c.type.toLowerCase();if("text"!=k&&"search"!=k)return!0}else if(!(c.ownerDocument&&"on"==c.ownerDocument.designMode||!b.touchable&&c.isContentEditable||c.ownerDocument&&c instanceof
c.ownerDocument.defaultView.HTMLTextAreaElement))return!0;e.states.activeElement=c;3==c.nodeType&&(c=c.parentNode);k=c;(null==c.className||0>c.className.indexOf("keymanweb-input"))&&this instanceof e&&this.scrollBody(c);c.ownerDocument&&c instanceof c.ownerDocument.defaultView.HTMLIFrameElement&&(this.keyman.domManager._AttachToIframe(c),c=c.contentWindow.document.body);var p=a.states.lastActiveElement;a.states.lastActiveElement=c;this.keyman.uiManager.justActivated?this._BlurKeyboardSettings():this._FocusKeyboardSettings(p?
!1:!0);if(this._CommonFocusHelper(c))return!0;c.ownerDocument&&c instanceof c.ownerDocument.defaultView.HTMLElement&&this.keyman.domManager._SetTargDir(c);this.doControlFocused(k,a.states.lastActiveElement);b.touchable?d._Enabled=!0:d.ready&&(this.keyman.keyboardManager.isCJK()&&(d._Enabled=!0),d._Enabled?d._Show():d._Hide(!1));return!0}.bind(this);this._ControlBlur=function(c){c=this.keyman._GetEventObject(c);var b=this.keyman.util.eventTarget(c);if(null==b)return!0;b.body&&(b=b.body);if(a.states._IgnoreBlurFocus)return c.cancelBubble=
!0,c.stopPropagation(),!0;f.dom.Utils.instanceof(a.states.activeElement,"TouchAliasElement")&&a.states.activeElement.hideCaret();a.states.activeElement=null;3==b.nodeType&&(b=b.parentNode);b.ownerDocument&&b instanceof b.ownerDocument.defaultView.HTMLIFrameElement&&(b=b.contentWindow.document);this._BlurKeyboardSettings();a.states.lastActiveElement=b;this.keyman.uiManager.justActivated=!1;var d=this.keyman.uiManager.isActivating;d||this.keyman["interface"].notifyKeyboard(0,f.text.Processor.getOutputTarget(b),
0);this.doControlBlurred(b,c,d);this.keyman.osk.ready&&!d&&this.keyman.osk._Hide(!1);this.doChangeEvent(b);this.keyman.interface.resetContext();return!0}.bind(this);this._SelectionChange=function(){a.states._IgnoreNextSelChange&&a.states._IgnoreNextSelChange--;return!0}.bind(this);this._KeyDown=function(c){var b=this.keyman.keyboardManager.activeKeyboard,d=this.keyman.osk,k=this.keyman.util;if(a.states._DisableInput||null==b)return!0;b=k.eventTarget(c);if(k.device.touchable){if(b&&"undefined"!=typeof b.kmwInput&&
0==b.kmwInput)return!0}else if(b&&0<=b.className.indexOf("kmw-disabled"))return!0;return d.ready?this.keyman.textProcessor.keyDown(c):!0}.bind(this);this._KeyPress=function(c){return a.states._DisableInput||null==this.keyman.keyboardManager.activeKeyboard?!0:this.keyman.textProcessor.keyPress(c)}.bind(this);this._KeyUp=function(a){var b=this.keyman.textProcessor,c=this.keyman.osk,d=b._GetKeyEventProperties(a,!1);if(null==d||!c.ready)return!0;c=d.Ltarg.getElement();if(13==d.Lcode){var p=!1;d.Ltarg instanceof
c.ownerDocument.defaultView.HTMLTextAreaElement&&(p=!0);c.base&&c.base instanceof c.base.ownerDocument.defaultView.HTMLTextAreaElement&&(p=!0);if(!p)return c instanceof c.ownerDocument.defaultView.HTMLInputElement&&("search"==c.type||"submit"==c.type?c.form.submit():this.keyman.domManager.moveToNext(!1)),!0}return b.keyUp(a)}.bind(this);this.keyman=d}a.prototype.doControlFocused=function(a,c){var b={};b.target=a;b.activeControl=c;return this.keyman.util.callEvent("kmw.controlfocused",b)};a.prototype.doControlBlurred=
function(a,c,b){var d={};d.target=a;d.event=c;d.isActivating=b;return this.keyman.util.callEvent("kmw.controlblurred",d)};a.prototype._BlurKeyboardSettings=function(d,c){var b=this.keyman.keyboardManager.activeKeyboard?this.keyman.keyboardManager.activeKeyboard.KI:"",g=this.keyman.keyboardManager.getActiveLanguage();void 0!==d&&void 0!==c&&(b=d,g=c);(d=a.states.lastActiveElement)&&null!=d._kmwAttachment.keyboard?(d._kmwAttachment.keyboard=b,d._kmwAttachment.languageCode=g):(this.keyman.globalKeyboard=
b,this.keyman.globalLanguageCode=g)};a.prototype._FocusKeyboardSettings=function(d){var c=a.states.lastActiveElement;c&&null!=c._kmwAttachment.keyboard?this.keyman.keyboardManager.setActiveKeyboard(c._kmwAttachment.keyboard,c._kmwAttachment.languageCode):d||this.keyman.keyboardManager.setActiveKeyboard(this.keyman.globalKeyboard,this.keyman.globalLanguageCode);this.keyman.modelManager&&this.keyman.modelManager.invalidateContext()};a.prototype._CommonFocusHelper=function(d){var c=this.keyman.uiManager;
if(d.ownerDocument&&d instanceof d.ownerDocument.defaultView.HTMLIFrameElement&&(!this.keyman.domManager._IsIEEditableIframe(d,1)||!this.keyman.domManager._IsMozillaEditableIframe(d,1)))return a.states._DisableInput=!0;a.states._DisableInput=!1;c.justActivated||(d&&f.text.Processor.getOutputTarget(d)&&f.text.Processor.getOutputTarget(d).deadkeys().clear(),this.keyman["interface"].notifyKeyboard(0,f.text.Processor.getOutputTarget(d),1));c.justActivated||a.states._SelectionControl==d||(c.isActivating=
!1);c.justActivated=!1;a.states._SelectionControl=d;return!1};a.prototype.doChangeEvent=function(d){if(a.states.changed){if("function"==typeof Event)var c=new Event("change",{bubbles:!0,cancelable:!1});else c=document.createEvent("HTMLEvents"),c.initEvent("change",!0,!1);d.base&&d.base.kmw_ip&&(d=d.base);d.dispatchEvent(c)}a.states.changed=!1};a.states=new h;return a}();f.DOMEventHandlers=q;var e=function(a){function d(c){c=a.call(this,c)||this;c.setFocus=function(a){q.states.setFocusTimer();a&&f.dom.Utils.instanceof(a,
"TouchEvent")?a=a.touches[0]:(a={clientX:0,clientY:0},a.target=q.states.lastActiveElement?q.states.lastActiveElement.kmw_ip:this.keyman.domManager.sortedInputs[0].kmw_ip);this.setFocusWithTouch(a)}.bind(c);c.setBlur=function(a){this.keyman.interface.resetContext();if("relatedTarget"in a&&a.relatedTarget&&(a=a.relatedTarget,this.doChangeEvent(a),"DIV"!=a.nodeName||-1==a.className.indexOf("keymanweb-input"))){this.cancelInput();return}q.states.focusing||this.cancelInput()}.bind(c);c.dragInput=function(a){a.preventDefault();
a.stopPropagation();var b=f.dom.Utils.instanceof(a,"TouchEvent")?a.targetTouches[0].target:a.target;if(null!=b){if(null==b.className||0>b.className.indexOf("keymanweb-input"))b=b.parentNode;if(null==b.className||0>b.className.indexOf("keymanweb-input"))b=b.parentNode;if(!(null==b.className||0>b.className.indexOf("keymanweb-input"))){if(f.dom.Utils.instanceof(a,"TouchEvent")){var c=a.touches[0].screenX;var d=a.touches[0].screenY}else c=a.screenX,d=a.screenY;if("undefined"==typeof this.firstTouch||
null==this.firstTouch)this.firstTouch={x:c,y:d};else{var e=this.firstTouch.x,h=this.firstTouch.y;a=b.firstChild;if("TEXTAREA"==b.base.nodeName){if(c=parseInt(a.style.top,10),isNaN(c)&&(c=0),e=h-d,-4>e||4<e)a.style.top=(c<e?c-e:0)+"px",this.firstTouch.y=d}else{d=parseInt(a.style.left,10);isNaN(d)&&(d=0);var n=e-c;if(-4>n||4<n)e=0,h=f.dom.Utils.getAbsoluteX(b)+b.offsetWidth-a.offsetWidth-32,"rtl"==b.base.dir?e=16:h-=24,d-=n,d>e&&(d=e),d<h&&(d=h),a.style.left=d+"px",this.firstTouch.x=c}}this.setScrollBar(b)}}}.bind(c);
return c}__extends(d,a);d.prototype.setFocusWithTouch=function(a){var b=this.keyman.osk,c=a.clientX,d=a.clientY,p=a.target;var e=p&&f.dom.Utils.instanceof(p,"HTMLSpanElement")?p.parentNode:p&&null!=p.className&&0<=p.className.indexOf("keymanweb-input")?p.firstChild:p;a=e.parentNode;if(q.states.activeElement!=a){var h=q.states.activeElement;h&&h.hideCaret();q.states.activeElement=a;a.focus()}this.keyman.domManager._SetTargDir(a);b.ready&&!b._Visible&&b._Show();if(p&&f.dom.Utils.instanceof(p,"TouchAliasElement"))d=
f.dom.Utils.getAbsoluteX(e.firstChild),"rtl"==a.dir?(d+=e.firstChild.offsetWidth,b=c>d?0:1E5):b=c<d?0:1E5,a.setTextCaret(b),a.scrollInput();else{var n;e=e.childNodes[1];p=0;h=a.getText()._kmwLength();b=a.getTextCaret();var w=document.body.scrollTop;if(a.base instanceof a.base.ownerDocument.defaultView.HTMLTextAreaElement){var t=Math.round(a.base.offsetHeight/a.base.rows);for(n=0;16>n;n++){var l=f.dom.Utils.getAbsoluteY(e)-w;if(l>d&&b>p&&b!=h)h=b,b=Math.round((b+p)/2);else if(l<d-t&&b<h&&b!=p)p=b,
b=Math.round((b+h)/2);else break;a.setTextCaret(b)}for(;f.dom.Utils.getAbsoluteY(e)-w>d&&b>p;)a.setTextCaret(--b);for(;f.dom.Utils.getAbsoluteY(e)-w<d-t&&b<h;)a.setTextCaret(++b)}l="rtl"==a.dir?function(a,b){return a<b}:function(a,b){return a>b};for(n=0;16>n;n++){d=f.dom.Utils.getAbsoluteX(e);if(l(d,c)&&b>p&&b!=h)h=b,b=Math.round((b+p)/2);else if(!l(d,c)&&b<h&&b!=p)p=b,b=Math.round((b+h)/2);else break;a.setTextCaret(b)}for(;l(f.dom.Utils.getAbsoluteX(e),c)&&b>p;)a.setTextCaret(--b);for(;!l(f.dom.Utils.getAbsoluteX(e),
c)&&b<h;)a.setTextCaret(++b)}this._BlurKeyboardSettings();q.states.lastActiveElement=a;a.showCaret();this._FocusKeyboardSettings(!1);this._CommonFocusHelper(a)};d.prototype.cancelInput=function(){q.states.activeElement&&q.states.activeElement.hideCaret&&q.states.activeElement.hideCaret();q.states.activeElement=null;this.keyman.osk.hideNow()};d.prototype.setScrollBar=function(a){var b=a.childNodes[0],c=a.childNodes[1].style;(b.offsetWidth>a.offsetWidth||0>b.offsetLeft)&&"TEXTAREA"!=a.base.nodeName?
(c.height="4px",c.width=a.offsetWidth/b.offsetWidth*100+"%",c.left=-b.offsetLeft/b.offsetWidth*100+"%",c.top="0",c.visibility="visible"):b.offsetHeight>a.offsetHeight||0>b.offsetTop?(c.width="4px",c.height=a.offsetHeight/b.offsetHeight*100+"%",c.top=-b.offsetTop/b.offsetHeight*100+"%",c.left="0",c.visibility="visible"):c.visibility="hidden"};d.prototype.scrollBody=function(a){var b=this.keyman.osk;if(a&&null!=a.className&&!(0>a.className.indexOf("keymanweb-input"))&&b.ready){a=a.firstChild.childNodes[1];
var c=f.dom.Utils.getAbsoluteY(a),d=window.pageYOffset;c<d?b=c-d:(b=c-d-(window.innerHeight-b._Box.offsetHeight-a.offsetHeight-2),0>b&&(b=0));0!=b&&window.scrollTo(0,b+window.pageYOffset)}};return d}(q);f.DOMTouchHandlers=e})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(f){var h=function(){function e(a){if(void 0===a||null===a)this.components=[].concat(e.DEVELOPER_VERSION_FALLBACK.components);else if(Array.isArray(a)){if(2>a.length)throw Error("Version string must have at least a major and minor component!");this.components=[].concat(a)}else{a=a.split(".");var d=[];if(2>a.length)throw Error("Version string must have at least a major and minor component!");for(var c=0;c<a.length;c++){var b=parseInt(a[c],10);if(isNaN(b))throw Error("Version string components must be numerical!");
d.push(b)}this.components=d}}Object.defineProperty(e.prototype,"major",{get:function(){return this.components[0]},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"minor",{get:function(){return this.components[1]},enumerable:!0,configurable:!0});e.prototype.toString=function(){return this.components.join(".")};e.prototype.equals=function(a){return 0==this.compareTo(a)};e.prototype.precedes=function(a){return 0>this.compareTo(a)};e.prototype.compareTo=function(a){var d=this.components.length<
a.components.length,c=this.components.length<a.components.length?this.components.length:a.components.length,b;for(b=0;b<c;b++){var g=this.components[b]-a.components[b];if(0!=g)return g}a=d?a.components:this.components;do{if(0<a[b])return d?-1:1;b++}while(b<a.length);return 0};e.DEVELOPER_VERSION_FALLBACK=new e([9,0,0]);e.NO_DEFAULT_KEYCAPS=new e([12,0]);e.MAC_POSSIBLE_IPAD_ALIAS=new e([10,15]);return e}();f.Version=h})(f.utils||(f.utils={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(f){var h=function(){return function(e){this.popupCanvasBackgroundColor="Android"==e.OS?"#999":"dark"==e.colorScheme?"#0f1319":"#ffffff"}}();f.StyleConstants=h})(f.utils||(f.utils={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){var h=function(){function h(){this.detected=!1;this.touchable=!!("ontouchstart"in window);this.OS="";this.formFactor="desktop";this.dyLandscape=this.dyPortrait=0;this.version="0";this.orientation=window.orientation;this.browser=""}h.prototype.getDPI=function(){var e=document.createElement("DIV"),a=e.style,d=96;if("complete"!==document.readyState)return d;e.id="calculateDPI";a.position="absolute";a.display="block";a.visibility="hidden";a.left="10px";a.top="10px";a.width="1in";
a.height="10px";document.body.appendChild(e);d="undefined"==typeof window.devicePixelRatio?e.offsetWidth:e.offsetWidth*window.devicePixelRatio;document.body.removeChild(e);return d};h.prototype.detect=function(){var e=h._GetIEVersion(),a=!1;if(navigator&&navigator.userAgent){var d=navigator.userAgent;if(0<=d.indexOf("iPad"))this.OS="iOS",this.formFactor="tablet",this.dyPortrait=this.dyLandscape=0;else if(0<=d.indexOf("iPhone"))this.OS="iOS",this.formFactor="phone",this.dyPortrait=this.dyLandscape=
25;else if(0<=d.indexOf("Android")){this.OS="Android";this.formFactor="phone";this.dyPortrait=75;this.dyLandscape=25;try{this.version=d.match(/(?:Android\s+)(\d+\.\d+\.\d+)/)[1]}catch(c){}}else 0<=d.indexOf("Linux")?this.OS="Linux":0<=d.indexOf("Macintosh")?(d=/Intel Mac OS X (10(?:[_\.]\d+)+)/i.exec(d),1<d.length&&d[1]&&(a=d[1].replace("_","."),a=new f.utils.Version(a),a=0>=f.utils.Version.MAC_POSSIBLE_IPAD_ALIAS.compareTo(a),this.OS="MacOSX")):0<=d.indexOf("Windows NT")&&(this.OS="Windows",0<=d.indexOf("Touch")&&
(this.formFactor="phone"),"number"==typeof navigator.msMaxTouchPoints&&0<navigator.msMaxTouchPoints&&(this.touchable=!0))}"tablet"==this.formFactor&&400>Math.min(screen.width,screen.height)&&(this.formFactor="phone");"phone"==this.formFactor&&720<Math.max(screen.width,screen.height)&&"iOS"!=this.OS&&(this.formFactor="tablet");d="Win32"==navigator.platform||"MacIntel"==navigator.platform;"iOS"!=this.OS||"ongesturestart"in window||d||(this.OS="Android");this.browser="web";if(999>e)this.browser="ie";
else{if("iOS"==this.OS||"macosx"==this.OS.toLowerCase())this.browser="safari";/Firefox|Chrome|OPR|Safari|Edge/.test(navigator.userAgent)&&(0<=navigator.userAgent.indexOf("Firefox")&&"onmozorientationchange"in screen?this.browser="firefox":0<=navigator.userAgent.indexOf("OPR")?this.browser="opera":0<=navigator.userAgent.indexOf(" Edge/")?this.browser="edge":0<=navigator.userAgent.indexOf("Chrome")?this.browser="chrome":0<=navigator.userAgent.indexOf("Safari")&&(this.browser="safari"))}a&&"safari"==
this.browser&&window.TouchEvent&&(this.OS="iOS",this.formFactor="tablet",this.dyPortrait=this.dyLandscape=0,e=screen.height/screen.width,1>e&&(e=1/e),1.6<e&&(this.formFactor="phone",this.dyPortrait=this.dyLandscape=25));this.colorScheme=this.prefersDarkMode()?"dark":"light";this.detected=!0};h._GetIEVersion=function(){var e="";"userAgent"in navigator&&(e=navigator.userAgent);if("selection"in document){var a=navigator.appVersion;var d=a.indexOf("MSIE ");if(0<=d){if("BackCompat"==document.compatMode)return 6;
a=a.substr(d+5);d=a.indexOf(".");if(0<d)return parseInt(a.substr(0,d),10)}}d=e.indexOf("Trident/");if(0>d)return 999;e=e.substr(d+8);d=e.indexOf(".");return 0<d?parseInt(e.substr(0,d),10)+4:999};h.prototype.prefersDarkMode=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches};Object.defineProperty(h.prototype,"styles",{get:function(){this._styles||(this.detected||this.detect(),this._styles=new f.utils.StyleConstants(this));return this._styles},enumerable:!0,
configurable:!0});return h}();f.Device=h})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(h){var l=function(){function e(){}e.getAbsoluteX=function(a){if(!a)return 0;var d=a.offsetLeft?a.offsetLeft:0;var c=a;if(c.offsetParent){for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetLeft;var b=c.ownerDocument;"fixed"==c.style.position&&b&&b.scrollingElement&&(d+=b.scrollingElement.scrollLeft)}return c&&c.ownerDocument&&a.ownerDocument!=window.document&&(a=c.ownerDocument)&&a.defaultView&&a.defaultView.frameElement?d+e.getAbsoluteX(a.defaultView.frameElement)-
a.documentElement.scrollLeft:d};e.getAbsoluteY=function(a){if(!a)return 0;var d=a.offsetTop?a.offsetTop:0;var c=a;if(c.ownerDocument&&c instanceof c.ownerDocument.defaultView.HTMLElement){for(;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop;var b=c.ownerDocument;"fixed"==c.style.position&&b&&b.scrollingElement&&(d+=b.scrollingElement.scrollTop)}return c&&c.ownerDocument&&a.ownerDocument!=window.document&&(a=c.ownerDocument)&&a.defaultView&&a.defaultView.frameElement?d+e.getAbsoluteY(a.defaultView.frameElement):
d};e.instanceof=function(a,d){if("TouchAliasElement"==d)return this.instanceof(a,"HTMLDivElement")?void 0!==a.base:!1;var c;if(!a)return!1;if(a.Window)return"Window"==d;a.defaultView?c=a.defaultView[d]:a.ownerDocument?c=a.ownerDocument.defaultView[d]:a.target&&(this.instanceof(a.target,"Window")?c=a.target[d]:this.instanceof(a.target,"Document")?c=a.target.defaultView[d]:this.instanceof(a.target,"HTMLElement")&&(c=a.target.ownerDocument.defaultView[d]));return c?a instanceof c:!1};e.forceScroll=function(a){if(f&&
f.keyman&&f.keyman.DOMEventHandlers&&!f.keyman.singleton.isEmbedded){var d=f.keyman.DOMEventHandlers,c=a.selectionStart,b=a.selectionEnd;d.states._IgnoreBlurFocus=!0;a.blur();a.focus();d.states._IgnoreBlurFocus=!1;a.selectionStart=c;a.selectionEnd=b}};return e}();h.Utils=l})(h.dom||(h.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(h){h.constructTouchAlias=function(e){var a=document.createElement("div"),d=new l,c;for(c in d)a.hasOwnProperty(c)||(a[c]=d[c]);e?a.initWithBase(e):a.init();return a};var l=function(){function e(){this.base=null;this.__activeCaret=!1}e.getDevice=function(){if(!e.device){var a=new f.keyman.Device;a.detect();e.device=a}return e.device};e.getOS=function(){return this.getDevice().OS};e.prototype.isMultiline=function(){return this.base&&"TEXTAREA"==this.base.nodeName};
e.prototype.initCaret=function(){this.__caretDiv=document.createElement("DIV");var a=this.__caretDiv.style;a.position="absolute";a.height="16px";a.width="2px";a.backgroundColor="blue";a.border="none";a.left=a.top="0px";a.display="block";a.visibility="hidden";a.zIndex="9998";this.__caretTimerId=window.setInterval(this.flashCaret.bind(this),500)};e.prototype.init=function(){this.className="keymanweb-input";var a=this.__scrollDiv=document.createElement("div"),d=this.style;d.overflow="hidden";d.position=
"absolute";d.border="hidden";d.border="none";d.borderRadius="5px";var c=this.__scrollBar=document.createElement("div"),b=c.style;b.position="absolute";b.height=b.width="4px";b.left=b.top="0";b.display="block";b.visibility="hidden";b.backgroundColor="#808080";b.borderRadius="2px";this.__preCaret=document.createElement("span");this.__postCaret=document.createElement("span");this.__caretSpan=document.createElement("span");this.__preCaret.innerHTML=this.__postCaret.innerHTML=this.__caretSpan.innerHTML=
"";this.__preCaret.className=this.__postCaret.className=this.__caretSpan.className="keymanweb-font";a.appendChild(this.__preCaret);a.appendChild(this.__caretSpan);a.appendChild(this.__postCaret);this.appendChild(a);this.appendChild(c);a=a.style;a.position="absolute";c=this.__preCaret.style;b=this.__postCaret.style;var g=this.__caretSpan.style;c.border=b.border="none";c.height=b.height="100%";g.border="1px solid red";g.visibility="hidden";g.marginLeft=g.marginRight="-1px";d.padding="8px";a.padding=
"0px 2px";this.tabIndex=0;this.style.msTouchAction="none";a.minWidth=d.width;a.height=d.height;this.initCaret()};e.prototype.initWithBase=function(a){this.base=a;this.init();this.base.kmw_ip=this;a.disabled=!0;var d=window.getComputedStyle(a,null),c=this.__scrollDiv.style,b=this.__preCaret.style,g=this.__postCaret.style;this.dir=a.dir;b.fontFamily=g.fontFamily=c.fontFamily=d.fontFamily;"input"!=a.nodeName.toLowerCase()||isNaN(parseInt(d.height,10))||(b.lineHeight=g.lineHeight=d.height);"Android"==
e.getOS()&&"transparent"==d.backgroundColor?c.backgroundColor="#fff":c.backgroundColor=d.backgroundColor;"textarea"==this.base.nodeName.toLowerCase()?b.whiteSpace=g.whiteSpace="pre-wrap":b.whiteSpace=g.whiteSpace="pre";this.base.parentNode.appendChild(this);this.updateInput();b=this.style;b.color=d.color;b.fontFamily=d.fontFamily;b.fontSize=d.fontSize;b.fontWeight=d.fontWeight;b.textDecoration=d.textDecoration;b.padding=d.padding;b.margin=d.margin;b.border=d.border;b.borderRadius=d.borderRadius;"webkitTapHighlightColor"in
b&&(b.webkitTapHighlightColor="rgba(0,0,0,0)");a instanceof a.ownerDocument.defaultView.HTMLTextAreaElement?(2==a.rows&&(g=parseInt(d.height,10)-parseInt(d.paddingTop,10)-parseInt(d.paddingBottom,10),d=parseInt(d.fontSize,10),d=Math.round(g/d),d>a.rows+1&&(a.rows=d)),c.width=b.width,c.minHeight=b.height):(c.minWidth=b.width,c.height=b.height);a.style.visibility="hidden";(function(a){a.__resizeHandler=function(){window.setTimeout(function(){a.updateInput()},1)};a.base.addEventListener("resize",a.__resizeHandler,
!1);a.base.addEventListener("orientationchange",a.__resizeHandler,!1)})(this);this.setText(a instanceof a.ownerDocument.defaultView.HTMLTextAreaElement||a instanceof a.ownerDocument.defaultView.HTMLInputElement?a.value:a.textContent,null)};e.prototype.setText=function(a,d){if(null===a){var c=this.__preCaret.textContent;a=this.__postCaret.textContent;a=c+a}0>d&&(d=0);c=a._kmwLength();if(null===d||void 0===d||d>c)d=c;c=a._kmwSubstr(0,d);a=a._kmwSubstr(d);this.__preCaret.textContent=c;this.__postCaret.textContent=
a;this.updateBaseElement()};e.prototype.getTextBeforeCaret=function(){return this.__preCaret.textContent};e.prototype.getTextAfterCaret=function(){return this.__postCaret.textContent};e.prototype.setTextBeforeCaret=function(a){this.isMultiline()||(a=a.replace(/\s+$/," "));this.__preCaret.textContent=a;this.updateBaseElement();this.scrollInput()};e.prototype.getTextCaret=function(){return this.getTextBeforeCaret()._kmwLength()};e.prototype.setTextCaret=function(a){this.setText(null,a);this.showCaret()};
e.prototype.updateBaseElement=function(){if(this.base){var a=this.base.ownerDocument.defaultView;this.base instanceof a.HTMLInputElement||this.base instanceof a.HTMLTextAreaElement?this.base.value=this.getText():this.base.textContent=this.getText();a=this.getText()._kmwLength();this.style.backgroundColor=0==a?"transparent":window.getComputedStyle(this.base,null).backgroundColor;"iOS"==e.getOS()&&(this.base.style.visibility=0==a?"visible":"hidden")}};e.prototype.flashCaret=function(){if(this.__activeCaret){var a=
this.__caretDiv.style;a.visibility="visible"!=a.visibility?"visible":"hidden"}};e.prototype.showCaret=function(){var a=this.__scrollDiv,d=this.__caretDiv.style,c=this.__caretSpan;this.__caretDiv.parentNode!=a&&a.appendChild(this.__caretDiv);d.left=c.offsetLeft+"px";d.top=c.offsetTop+"px";d.height=c.offsetHeight-1+"px";d.visibility="hidden";this.__activeCaret=!0;this.scrollBody();this.setScrollBar()};e.prototype.hideCaret=function(){if(this.base instanceof this.base.ownerDocument.defaultView.HTMLTextAreaElement||
this.base instanceof this.base.ownerDocument.defaultView.HTMLInputElement)this.base.value=this.getText();this.setText(null,1E5);var a=this.__scrollDiv.style;this.isMultiline()?a.top="0":a.left="rtl"==this.base.dir?this.offsetWidth-this.__scrollDiv.offsetWidth-8+"px":"0";this.__caretDiv.parentNode&&this.__caretDiv.parentNode.removeChild(this.__caretDiv);this.__caretDiv.style.visibility="hidden";this.__scrollBar.style.visibility="hidden";this.__activeCaret=!1};e.prototype.getText=function(){return this.textContent};
e.prototype.updateInput=function(){if(this.base){var a=this.style,d=this.base,c=window.getComputedStyle(d,null),b=parseInt(c.marginLeft,10),g=parseInt(c.marginTop,10),k=h.Utils.getAbsoluteX(d),p=h.Utils.getAbsoluteY(d),f=this.offsetParent;f&&(k-=h.Utils.getAbsoluteX(f),p-=h.Utils.getAbsoluteY(f));isNaN(b)&&(b=0);isNaN(g)&&(g=0);a.left=k-b+"px";a.top=p-g+"px";"undefined"!=typeof c.MozBoxSizing&&(a.left=k+"px",a.top=p+"px");b=d.offsetWidth;d=d.offsetHeight;g=parseInt(c.paddingLeft,10);k=parseInt(c.paddingRight,
10);p=parseInt(c.paddingTop,10);f=parseInt(c.paddingBottom,10);var z=parseInt(c.borderLeft,10),n=parseInt(c.borderRight,10),w=parseInt(c.borderTop,10),t=parseInt(c.borderBottom,10),l="undefined";"undefined"!=typeof c.boxSizing?l=c.boxSizing:"undefined"!=typeof c.MozBoxSizing&&(l=c.MozBoxSizing);"content-box"==l&&(isNaN(g)||(b-=g),isNaN(k)||(b-=k),isNaN(z)||(b-=z),isNaN(n)||(b-=n),isNaN(p)||(d-=p),isNaN(f)||(d-=f),isNaN(w)||(d-=w),isNaN(t)||(d-=t));"Android"==e.getOS()&&("undefined"!=typeof c.MozBoxSizing?
(a.paddingTop=p+1+"px",a.paddingLeft=g+"px",this.isMultiline()?a.marginTop="1px":a.marginLeft="1px",b--,d--):(b++,d++));a.width=b+"px";a.height=d+"px"}};e.prototype.scrollInput=function(){var a=this.__scrollDiv,d=this.__caretSpan,c=h.Utils.getAbsoluteX(d);d=h.Utils.getAbsoluteY(d);var b=h.Utils.getAbsoluteX(this),g=h.Utils.getAbsoluteY(this),k=parseInt(a.style.left,10),p=parseInt(a.style.top,10),e=0,f=0;isNaN(k)&&(k=0);isNaN(p)&&(p=0);this.isMultiline()?(c=Math.round(this.offsetHeight/this.base.rows),
d<g&&(f=d-g),d>g+this.offsetHeight-c&&(f=d-g-this.offsetHeight+c),0!=f&&(a.style.top=(p<f?p-f:0)+"px")):(c<b+8&&(e=c-b-12),c>b+this.offsetWidth-12&&(e=c-b-this.offsetWidth+12),0!=e&&(a.style.left=(k<e?k-e:0)+"px"));this.showCaret()};e.prototype.scrollBody=function(){var a=0;if(window.keyman){var d=window.keyman.osk;d&&d._Box&&(a=d._Box.offsetHeight)}d=this.__caretSpan;var c=h.Utils.getAbsoluteY(d),b=window.pageYOffset;c<b?a=c-b:(a=c-b-(window.innerHeight-a-d.offsetHeight-2),0>a&&(a=0));0!=a&&window.scrollTo(0,
a+window.pageYOffset)};e.prototype.setScrollBar=function(){var a=this.__scrollDiv,d=this.__scrollBar.style;(a.offsetWidth>this.offsetWidth||0>a.offsetLeft)&&!this.isMultiline()?(d.height="4px",d.width=this.offsetWidth/a.offsetWidth*100+"%",d.left=-a.offsetLeft/a.offsetWidth*100+"%",d.top="0",d.visibility="visible"):a.offsetHeight>this.offsetHeight||0>a.offsetTop?(d.width="4px",d.height=this.offsetHeight/a.offsetHeight*100+"%",d.top=-a.offsetTop/a.offsetHeight*100+"%",d.left="0",d.visibility="visible"):
d.visibility="hidden"};return e}()})(h.dom||(h.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(h){var l=function(e){function a(a){var c=e.call(this)||this;c.root=a;c._cachedSelectionStart=-1;return c}__extends(a,e);a.prototype.getElement=function(){return this.root};a.prototype.clearSelection=function(){var a=this.getCaret();this.root.value=this.root.value._kmwSubstring(0,a)+this.root.value._kmwSubstring(this.processedSelectionEnd);this.setCaret(a)};a.prototype.hasSelection=function(){return!0};a.prototype.invalidateSelection=function(){this._cachedSelectionStart=
-1};a.prototype.getCaret=function(){this.root.selectionStart!=this._cachedSelectionStart&&(this._cachedSelectionStart=this.root.selectionStart,this.processedSelectionStart=this.root.value._kmwCodeUnitToCodePoint(this.root.selectionStart),this.processedSelectionEnd=this.root.value._kmwCodeUnitToCodePoint(this.root.selectionEnd));return this.processedSelectionStart};a.prototype.getDeadkeyCaret=function(){return this.getCaret()};a.prototype.setCaret=function(a){this.setSelection(a,a)};a.prototype.setSelection=
function(a,c){var b=this.root.value._kmwCodePointToCodeUnit(a),d=this.root.value._kmwCodePointToCodeUnit(c);this.root.setSelectionRange(b,d);this.processedSelectionStart=a;this.processedSelectionEnd=c;h.Utils.forceScroll(this.root)};a.prototype.getTextBeforeCaret=function(){return this.getText()._kmwSubstring(0,this.getCaret())};a.prototype.setTextBeforeCaret=function(a){this.getCaret();var c=a._kmwLength();this.root.value=a+this.getText()._kmwSubstring(this.processedSelectionStart);this.setCaret(c)};
a.prototype.setTextAfterCaret=function(a){var c=this.getCaret();this.root.value=this.getTextBeforeCaret()+a;this.setCaret(c)};a.prototype.getTextAfterCaret=function(){this.getCaret();return this.getText()._kmwSubstring(this.processedSelectionEnd)};a.prototype.getText=function(){return this.root.value};a.prototype.deleteCharsBeforeCaret=function(a){if(0<a){var c=this.getTextBeforeCaret(),b=this.getCaret();a>b&&(a=b);this.adjustDeadkeys(-a);this.setTextBeforeCaret(c.kmwSubstring(0,this.getCaret()-a));
this.setCaret(b-a)}};a.prototype.insertTextBeforeCaret=function(a){if(a){var c=this.getCaret(),b=this.getTextBeforeCaret(),d=this.getText()._kmwSubstring(this.processedSelectionStart);this.adjustDeadkeys(a._kmwLength());this.root.value=b+a+d;this.setCaret(c+a._kmwLength())}};return a}(f.text.OutputTarget);h.Input=l})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(h){var l=function(e){function a(a){var c=e.call(this)||this;c.root=a;c._cachedSelectionStart=-1;return c}__extends(a,e);a.prototype.getElement=function(){return this.root};a.prototype.clearSelection=function(){var a=this.getCaret();this.root.value=this.root.value._kmwSubstring(0,a)+this.root.value._kmwSubstring(this.processedSelectionEnd);this.setCaret(a)};a.prototype.hasSelection=function(){return!0};a.prototype.invalidateSelection=function(){this._cachedSelectionStart=
-1};a.prototype.getCaret=function(){this.root.selectionStart!=this._cachedSelectionStart&&(this._cachedSelectionStart=this.root.selectionStart,this.processedSelectionStart=this.root.value._kmwCodeUnitToCodePoint(this.root.selectionStart),this.processedSelectionEnd=this.root.value._kmwCodeUnitToCodePoint(this.root.selectionEnd));return this.processedSelectionStart};a.prototype.getDeadkeyCaret=function(){return this.getCaret()};a.prototype.setCaret=function(a){this.setSelection(a,a)};a.prototype.setSelection=
function(a,c){var b=this.root.value._kmwCodePointToCodeUnit(a),d=this.root.value._kmwCodePointToCodeUnit(c);this.root.setSelectionRange(b,d);this.processedSelectionStart=a;this.processedSelectionEnd=c;h.Utils.forceScroll(this.root)};a.prototype.getTextBeforeCaret=function(){return this.getText()._kmwSubstring(0,this.getCaret())};a.prototype.setTextBeforeCaret=function(a){this.getCaret();var c=a._kmwLength();this.root.value=a+this.getText()._kmwSubstring(this.processedSelectionStart);this.setCaret(c)};
a.prototype.setTextAfterCaret=function(a){var c=this.getCaret();this.root.value=this.getTextBeforeCaret()+a;this.setCaret(c)};a.prototype.getTextAfterCaret=function(){this.getCaret();return this.getText()._kmwSubstring(this.processedSelectionEnd)};a.prototype.getText=function(){return this.root.value};a.prototype.deleteCharsBeforeCaret=function(a){if(0<a){var c=this.getTextBeforeCaret(),b=this.getCaret();a>b&&(a=b);this.adjustDeadkeys(-a);this.setTextBeforeCaret(c.kmwSubstring(0,this.getCaret()-a));
this.setCaret(b-a)}};a.prototype.insertTextBeforeCaret=function(a){if(a){var c=this.getCaret(),b=this.getTextBeforeCaret(),d=this.getText()._kmwSubstring(this.processedSelectionStart);this.adjustDeadkeys(a._kmwLength());this.root.value=b+a+d;this.setCaret(c+a._kmwLength())}};return a}(f.text.OutputTarget);h.TextArea=l})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(h){var l=function(){return function(a,c){this.node=a;this.offset=c}}(),e=function(){return function(a,c){this.start=a;this.end=c}}(),a=function(a){function c(b){if(b.isContentEditable){var c=a.call(this)||this;c.root=b}else throw"Specified element is not already content-editable!";return c}__extends(c,a);c.prototype.getElement=function(){return this.root};c.prototype.hasSelection=function(){var a=this.root.ownerDocument.getSelection(),c=function(a,b){return 3!=
b.nodeType?null:0!=(b.compareDocumentPosition(a)&8)};return this.root!=a.anchorNode&&!this.root.contains(a.anchorNode)&&!c(this.root,a.anchorNode)||this.root!=a.focusNode&&!this.root.contains(a.focusNode)&&!c(this.root,a.anchorNode)?!1:!0};c.prototype.clearSelection=function(){if(this.hasSelection()){var a=this.root.ownerDocument.getSelection();a.isCollapsed||a.deleteFromDocument()}else console.warn("Attempted to clear an unowned Selection!")};c.prototype.invalidateSelection=function(){};c.prototype.getCarets=
function(){var a=this.root.ownerDocument.getSelection(),c=a.anchorNode.compareDocumentPosition(a.focusNode);if(a.isCollapsed)return c=new l(a.anchorNode,a.anchorOffset),new e(c,c);var d=new l(a.anchorNode,a.anchorOffset);a=new l(a.focusNode,a.focusOffset);d.node==a.node&&(c=0<a.offset-d.offset?2:4);return c&2?new e(d,a):new e(a,d)};c.prototype.getDeadkeyCaret=function(){return this.getTextBeforeCaret().kmwLength()};c.prototype.getTextBeforeCaret=function(){if(this.hasSelection()){var a=this.getCarets().start;
return 3!=a.node.nodeType?"":a.node.textContent.substr(0,a.offset)}};c.prototype.getTextAfterCaret=function(){if(this.hasSelection()){var a=this.getCarets().end;return 3!=a.node.nodeType?"":a.node.textContent.substr(a.offset)}};c.prototype.getText=function(){return this.root.innerText};c.prototype.deleteCharsBeforeCaret=function(a){if(this.hasSelection()&&!(0>=a)){var b=this.getCarets().start;a>b.offset&&(a=b.offset);if(3!=b.node.nodeType)console.warn("Deletion of characters requested without available context!");
else{var c=this.root.ownerDocument.createRange(),d=b.offset-b.node.nodeValue.substr(0,b.offset)._kmwSubstr(-a).length;c.setStart(b.node,d);c.setEnd(b.node,b.offset);this.adjustDeadkeys(-a);c.deleteContents()}}};c.prototype.insertTextBeforeCaret=function(a){if(this.hasSelection()){var b=this.getCarets().start,c=a._kmwLength(),d=this.root.ownerDocument.getSelection();if(0!=c){this.adjustDeadkeys(c);c=this.root.ownerDocument.createRange();if(3==b.node.nodeType){var e=b.node;e.insertData(b.offset,a);
c.setStart(e,b.offset+a.length)}else{e=b.node.ownerDocument.createTextNode(a);var f=this.root.ownerDocument.createRange();f.setStart(b.node,b.offset);f.collapse(!0);f.insertNode(e);c.setStart(e,a.length)}c.collapse(!0);d.removeAllRanges();try{d.addRange(c)}catch(n){b.node.parentElement.scrollIntoView(),d.addRange(c)}d.collapseToEnd()}}};c.prototype.setTextAfterCaret=function(a){if(this.hasSelection()){var b=this.getCarets().end,c=a._kmwLength();this.root.ownerDocument.getSelection();0!=c&&(3==b.node.nodeType?
(c=b.node,c.replaceData(b.offset,c.length,a)):(a=b.node.ownerDocument.createTextNode(a),c=this.root.ownerDocument.createRange(),c.setStart(b.node,b.offset),c.collapse(!0),c.insertNode(a)))}};return c}(f.text.OutputTarget);h.ContentEditable=a})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(h){var l=function(){return function(a,b){this.node=a;this.offset=b}}(),e=function(){return function(a,b){this.start=a;this.end=b}}(),a=function(){return function(a,b){this.cmd=a;this.stateType=b}}(),d=function(c){function b(a){var b=c.call(this)||this;b.root=a;if(a.contentWindow&&a.contentWindow.document&&"on"==a.contentWindow.document.designMode)b.doc=a.contentWindow.document,b.docRoot=a.contentWindow.document.documentElement;else throw"Specified IFrame is not in design-mode!";
return b}__extends(b,c);b.prototype.getElement=function(){return this.root};b.prototype.hasSelection=function(){this.doc.getSelection();document.getSelection();return!0};b.prototype.clearSelection=function(){if(this.hasSelection()){var a=this.doc.getSelection();a.isCollapsed||a.deleteFromDocument()}else console.warn("Attempted to clear an unowned Selection!")};b.prototype.invalidateSelection=function(){};b.prototype.getCarets=function(){var a=this.doc.getSelection(),b=a.anchorNode.compareDocumentPosition(a.focusNode);
if(a.isCollapsed)return b=new l(a.anchorNode,a.anchorOffset),new e(b,b);var c=new l(a.anchorNode,a.anchorOffset);a=new l(a.focusNode,a.focusOffset);c.node==a.node&&(b=0<a.offset-c.offset?2:4);return b&2?new e(c,a):new e(a,c)};b.prototype.getDeadkeyCaret=function(){return this.getTextBeforeCaret().kmwLength()};b.prototype.getTextBeforeCaret=function(){if(this.hasSelection()){var a=this.getCarets().start;return 3!=a.node.nodeType?"":a.node.textContent.substr(0,a.offset)}};b.prototype.getTextAfterCaret=
function(){if(this.hasSelection()){var a=this.getCarets().end;return 3!=a.node.nodeType?"":a.node.textContent.substr(a.offset)}};b.prototype.getText=function(){return this.docRoot.innerText};b.prototype.deleteCharsBeforeCaret=function(a){if(this.hasSelection()&&!(0>=a)){var b=this.getCarets().start;a>b.offset&&(a=b.offset);if(3!=b.node.nodeType)console.warn("Deletion of characters requested without available context!");else{var c=this.doc.createRange(),d=b.offset-b.node.nodeValue.substr(0,b.offset)._kmwSubstr(-a).length;
c.setStart(b.node,d);c.setEnd(b.node,b.offset);this.adjustDeadkeys(-a);c.deleteContents()}}};b.prototype.insertTextBeforeCaret=function(a){if(this.hasSelection()){var b=this.getCarets().start,c=a._kmwLength(),d=this.doc.getSelection();if(0!=c){this.adjustDeadkeys(c);c=this.root.ownerDocument.createRange();if(3==b.node.nodeType){var g=b.node;g.insertData(b.offset,a);c.setStart(g,b.offset+a.length)}else{g=this.doc.createTextNode(a);var n=this.doc.createRange();n.setStart(b.node,b.offset);n.collapse(!0);
n.insertNode(g);c.setStart(g,a.length)}c.collapse(!0);d.removeAllRanges();try{d.addRange(c)}catch(w){b.node.parentElement.scrollIntoView(),d.addRange(c)}d.collapseToEnd()}}};b.prototype.setTextAfterCaret=function(a){if(this.hasSelection()){var b=this.getCarets().end,c=a._kmwLength();this.doc.getSelection();0!=c&&(3==b.node.nodeType?(c=b.node,c.replaceData(b.offset,c.length,a)):(a=b.node.ownerDocument.createTextNode(a),c=this.root.ownerDocument.createRange(),c.setStart(b.node,b.offset),c.collapse(!0),
c.insertNode(a)))}};b.prototype.saveProperties=function(){var b=[new a("backcolor",1),new a("fontname",1),new a("fontsize",1),new a("forecolor",1),new a("bold",0),new a("italic",0),new a("strikethrough",0),new a("subscript",0),new a("superscript",0),new a("underline",0)];this.doc.defaultView&&b.push(new a("hilitecolor",1));for(var c=0;c<b.length;c++){var d=b[c];d.cache=1==d.stateType?this.doc.queryCommandValue(d.cmd):this.doc.queryCommandState(d.cmd)}this.commandCache=b};b.prototype.restoreProperties=
function(a){this.commandCache||console.error("No command cache exists to restore!");for(var b=0;b<this.commandCache.length;b++){var c=this.commandCache[b];1==c.stateType?this.doc.queryCommandValue(c.cmd)!=c.cache&&(a&&a(),this.doc.execCommand(c.cmd,!1,c.cache)):this.doc.queryCommandState(c.cmd)!=c.cache&&(a&&a(),this.doc.execCommand(c.cmd,!1,null))}};return b}(f.text.OutputTarget);h.DesignIFrame=d})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(h){var l=function(e){function a(a){var c=e.call(this)||this;c.root=a;return c}__extends(a,e);a.prototype.getElement=function(){return this.root};a.prototype.clearSelection=function(){};a.prototype.invalidateSelection=function(){};a.prototype.hasSelection=function(){return!0};a.prototype.getDeadkeyCaret=function(){return this.root.getTextCaret()};a.prototype.getTextBeforeCaret=function(){return this.root.getTextBeforeCaret()};a.prototype.getTextAfterCaret=function(){return this.root.getTextAfterCaret()};
a.prototype.getText=function(){return this.root.getText()};a.prototype.deleteCharsBeforeCaret=function(a){if(0<a){var c=this.getTextBeforeCaret();this.getDeadkeyCaret()<a&&(a=this.getDeadkeyCaret());this.adjustDeadkeys(-a);this.root.setTextBeforeCaret(c.kmwSubstring(0,this.root.getTextCaret()-a))}};a.prototype.insertTextBeforeCaret=function(a){this.adjustDeadkeys(a._kmwLength());this.root.setTextBeforeCaret(this.root.getTextBeforeCaret()+a)};a.prototype.setTextAfterCaret=function(a){this.root.setText(this.getTextBeforeCaret()+
a,this.getTextBeforeCaret()._kmwLength())};return a}(f.text.OutputTarget);h.TouchAlias=l})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(f){f.wrapElement=function(h){return f.Utils.instanceof(h,"HTMLInputElement")?new f.Input(h):f.Utils.instanceof(h,"HTMLTextAreaElement")?new f.TextArea(h):f.Utils.instanceof(h,"TouchAliasElement")?new f.TouchAlias(h):f.Utils.instanceof(h,"HTMLIFrameElement")&&h.contentWindow&&h.contentWindow.document&&"on"==h.contentWindow.document.designMode?new f.DesignIFrame(h):h.isContentEditable?new f.ContentEditable(h):null}})(f.dom||(f.dom={}))})(f.keyman||(f.keyman={}))})(com||
(com={}));
(function(f){(function(h){var l=function(){function e(a){this.e=a;this.c=a.style.backgroundColor}e.prototype.reset=function(){this.e.style.backgroundColor=this.c};return e}(),q=function(){function e(a){this.inputList=[];this.sortedInputs=[];this._BeepObjects=[];this._BeepTimeout=0;this.nonKMWTouchHandler=function(a){h.DOMEventHandlers.states.focusing=!1;clearTimeout(h.DOMEventHandlers.states.focusTimer);this.keyman.osk.hideNow()}.bind(this);this._EnablementMutationObserverCore=function(a){for(var c=0;c<
a.length;c++){var b=a[c],d=b.oldValue?0<=b.oldValue.indexOf("kmw-disabled"):!1,k=0<=b.target.className.indexOf("kmw-disabled");d&&!k?this._EnableControl(b.target):!d&&k&&this._DisableControl(b.target);!k&&"readonly"==b.attributeName&&(d=b.oldValue?null!=b.oldValue:!1,k=b.target,k instanceof k.ownerDocument.defaultView.HTMLInputElement||k instanceof k.ownerDocument.defaultView.HTMLTextAreaElement)&&(k=k.readOnly,d&&!k?this._EnableControl(b.target):!d&&k&&this._DisableControl(b.target))}}.bind(this);
this._AutoAttachObserverCore=function(a){for(var c=[],b=[],d=0;d<a.length;d++){for(var k=a[d],p=0;p<k.addedNodes.length;p++)c=c.concat(this._GetDocumentEditables(k.addedNodes[p]));for(p=0;p<k.removedNodes.length;p++)b=b.concat(this._GetDocumentEditables(k.removedNodes[p]))}for(a=0;a<c.length;a++)this.isKMWInput(c[a])&&this._MutationAdditionObserved(c[a]);for(a=0;a<b.length;a++)this.isKMWInput(b[a])&&this._MutationRemovalObserved(b[a]);if(c.length||b.length)if(!this.keyman.util.device.touchable)this.listInputs();
else if(this.keyman.util.device.touchable){var e=this;window.setTimeout(function(){e.listInputs();for(var a=0;a<this.sortedInputs.length;a++)this.sortedInputs[a].kmw_ip&&this.sortedInputs[a].kmw_ip.updateInput()}.bind(this),1)}}.bind(this);this._MutationAdditionObserved=function(a){if(a instanceof a.ownerDocument.defaultView.HTMLIFrameElement&&!this.keyman.util.device.touchable){var c=this;a.addEventListener("load",function(){window.setTimeout(function(){c.attachToControl(a)},1)})}else this.attachToControl(a)};
this._MutationRemovalObserved=function(a){this.keyman.util.device.touchable&&this.disableTouchElement(a);this.disableInputElement(a);this.clearElementAttachment(a)};this.enableControl=function(a){this.isAttached(a)||console.warn("KeymanWeb is not attached to element "+a);var c=a.className;0<=c.indexOf("kmw-disabled")&&(a.className=c.replace("kmw-disabled","").trim())};this._WindowLoad=function(a){document.body.scrollTop=0;"undefined"!=typeof document.documentElement&&(document.documentElement.scrollTop=
0)}.bind(this);this._WindowUnload=function(){this.keyman.uiManager.doUnload();this.keyman.osk.ready&&(this.keyman.osk.shutdown(),this.keyman.osk._Unload());this.clearLastActiveElement()}.bind(this);this.init=function(a){var c,b=this.keyman.osk;var d=this.keyman.util;var k=d.device,p=function(a){if(0==a.length)return a;"/"!=a.substr(a.length-1,1)&&(a+="/");return"http"==a.replace(/^(http)s?:.*/,"$1")||"file"==a.replace(/^(file):.*/,"$1")?a:"//"==a.substr(0,2)?this.keyman.protocol+a:"/"==a.substr(0,
1)?this.keyman.rootPath+a.substr(1):this.keyman.srcPath+a}.bind(this);var f=this.keyman.options;if("object"==typeof a&&null!==a)for(c in f)a.hasOwnProperty(c)&&(f[c]=a[c]);""!=f.root&&(this.keyman.rootPath=p(f.root));""==f.resources&&(f.resources=this.keyman.srcPath);f.resources=p(f.resources);f.keyboards=p(f.keyboards);f.fonts=p(f.fonts);""==f.attachType&&(f.attachType="auto");this.keyman.setDefaultDeviceOptions(f);if(this.keyman.initialized)return Promise.resolve();var h=this.keyman,n=this;if("complete"!==
document.readyState)return new Promise(function(b){window.setTimeout(function(){n.init(a).then(function(){b()})},50)});h.modelManager.init();this.keyman._MasterDocument=window.document;"Android"==k.OS&&(f=k.getDPI(),k.formFactor=screen.height<4*f||screen.width<4*f?"phone":"tablet");this.keyman.setInitialized(1);b.prepare();d.prepareWait();this.keyman.keyboardManager.registerDeferredStubs();this.initializeUI();this.keyman.keyboardManager.registerDeferredKeyboards();if(this.keyman.isEmbedded)return this.keyman.keyboardManager.setDefaultKeyboard()||
console.error("No keyboard stubs exist - cannot initialize keyboard!"),Promise.resolve();this.keyman.appliedFont=this.keyman.baseFont=this.getBaseFont();k.touchable&&this.keyman.handleRotationEvents();"manual"!=this.keyman.options.attachType&&this._SetupDocument(document.documentElement);this.listInputs();k.touchable&&(b._Box.addEventListener("touchend",function(a){a.stopPropagation()},!1),d=document.createElement("DIV"),f=d.style,f.width="100%",f.height=screen.width/2+"px",document.body.appendChild(d),
"Android"==k.OS&&0<navigator.userAgent.indexOf("Chrome")?(this.keyman.hideOskWhileScrolling=function(a){if("undefined"!=typeof b._Box&&"undefined"!=typeof b._Box.style){c=a.target.parentNode;if("undefined"!=typeof c&&null!=c&&(0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-")||"undefined"!=typeof c.parentNode&&(c=c.parentNode,0<=c.className.indexOf("keymanweb-input")||0<=c.className.indexOf("kmw-key-"))))return;b.hideNow()}},this.keyman.util.attachDOMEvent(document.body,
"touchstart",this.keyman.hideOskWhileScrolling,!1)):(this.keyman.conditionallyHideOsk=function(){h.hideOnRelease&&!b.lgList&&b.hideNow();h.hideOnRelease=!1},this.keyman.hideOskIfOnBody=function(a){h.touchY=a.touches[0].screenY;h.hideOnRelease=!0},this.keyman.cancelHideIfScrolling=function(a){a=a.touches[0].screenY;var b=h.touchY;if(5<a-b||5>b-a)h.hideOnRelease=!1},this.keyman.util.attachDOMEvent(document.body,"touchstart",this.keyman.hideOskIfOnBody,!1),this.keyman.util.attachDOMEvent(document.body,
"touchmove",this.keyman.cancelHideIfScrolling,!1),this.keyman.util.attachDOMEvent(document.body,"touchend",this.keyman.conditionallyHideOsk,!1)));this.keyman.keyboardManager.restoreCurrentKeyboard();MutationObserver?(k=document.querySelector("body"),"manual"!=this.keyman.options.attachType&&(d={childList:!0,subtree:!0},this.attachmentObserver=new MutationObserver(this._AutoAttachObserverCore),this.attachmentObserver.observe(k,d)),d={subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["class",
"readonly"]},this.enablementObserver=new MutationObserver(this._EnablementMutationObserverCore),this.enablementObserver.observe(k,d)):console.warn("Your browser is outdated and does not support MutationObservers, a web feature needed by KeymanWeb to support dynamically-added elements.");this.keyman.util.attachDOMEvent(document.body,"focus",e.suppressFocusCheck,!0);this.keyman.util.attachDOMEvent(document.body,"blur",e.suppressFocusCheck,!0);this.keyman.setInitialized(2);return Promise.resolve()}.bind(this);
this.keyman=a;a.util.device.touchable&&(this.touchHandlers=new h.DOMTouchHandlers(a));this.nonTouchHandlers=new h.DOMEventHandlers(a)}e.prototype.shutdown=function(){try{this.enablementObserver&&this.enablementObserver.disconnect();this.attachmentObserver&&this.attachmentObserver.disconnect();for(var a=0,d=this.inputList;a<d.length;a++)this.disableInputElement(d[a]);this.keyman.util.detachDOMEvent(document.body,"focus",e.suppressFocusCheck,!0);this.keyman.util.detachDOMEvent(document.body,"blur",
e.suppressFocusCheck,!0)}catch(c){console.error("Error occurred during shutdown"),console.error(c)}};e.prototype.doBeep=function(a){var d=f.keyman.singleton;if("beepKeyboard"in d)d.beepKeyboard();else if(d=a.getElement(),a instanceof h.dom.DesignIFrame&&(d=a.docRoot),d&&d.style&&"undefined"!=typeof d.style.backgroundColor){for(a=0;a<this._BeepObjects.length;a++)if(this._BeepObjects[a].e==d)return;this._BeepObjects=f.keyman.singleton._push(this._BeepObjects,new l(d));d.style.backgroundColor="#000000";
0==this._BeepTimeout&&(this._BeepTimeout=1,window.setTimeout(this.beepReset.bind(this),50))}};e.prototype.beepReset=function(){f.keyman.singleton.interface.resetContextCache();var a;for(a=this._BeepTimeout=0;a<this._BeepObjects.length;a++)this._BeepObjects[a].reset();this._BeepObjects=[]};e.prototype.getHandlers=function(a){return(a=a.base?a.base._kmwAttachment:a._kmwAttachment)?a.touchEnabled?this.touchHandlers:this.nonTouchHandlers:this.keyman.touchAliasing};e.prototype.enableTouchElement=function(a){if("iframe"==
a.tagName.toLowerCase())return!1;if(this.isKMWDisabled(a))return this.setupNonKMWTouchElement(a),!1;a.kmwInput=!0;a.removeEventListener("touchstart",this.nonKMWTouchHandler);if(a.kmw_ip){if(-1!=this.inputList.indexOf(a.kmw_ip))return!1;this.inputList.push(a.kmw_ip);console.log("Unexpected state - this element's simulated input DIV should have been removed from the page!");return!0}var d=h.dom.constructTouchAlias(a);this.isAttached(d)?d._kmwAttachment.interface=h.dom.wrapElement(d):this.setupElementAttachment(d);
a._kmwAttachment=d._kmwAttachment;this.enableInputElement(d,!0);var c=this.touchHandlers;d.addEventListener("touchstart",c.setFocus);d.onmspointerdown=function(a){a.preventDefault();a.stopPropagation();return c.setFocus(a)};d.addEventListener("touchend",function(a){a.stopPropagation()});d.onmspointerup=function(a){a.stopPropagation()};d.addEventListener("touchmove",c.dragInput,!1);d.onmspointermove=c.dragInput;d.onblur=c.setBlur;return!0};e.prototype.disableTouchElement=function(a){if("iframe"!=a.tagName.toLowerCase()){if(a.kmw_ip){var d=
this.inputList.indexOf(a.kmw_ip);-1!=d&&this.inputList.splice(d,1);a.style.visibility="visible";a.disabled=!1;a.removeEventListener("resize",a.kmw_ip._kmwResizeHandler);this.disableInputElement(a.kmw_ip);a._kmwAttachment.interface=h.dom.wrapElement(a);a.parentNode&&a.parentNode.removeChild(a.kmw_ip);delete a.kmw_ip}this.setupNonKMWTouchElement(a)}};e.prototype.setupNonKMWTouchElement=function(a){this.keyman.util.attachDOMEvent(a,"touchstart",this.nonKMWTouchHandler,!1);this.isAttached(a)&&(a._kmwAttachment.touchEnabled=
!1)};e.prototype.enableInputElement=function(a,d){var c=d?a.base:a;this.isKMWDisabled(c)||(a instanceof a.ownerDocument.defaultView.HTMLIFrameElement?this._AttachToIframe(a):(d||this.setupElementAttachment(a),c.className=c.className?c.className+" keymanweb-font":"keymanweb-font",this.inputList.push(a),this.keyman.util.attachDOMEvent(c,"focus",this.getHandlers(a)._ControlFocus),this.keyman.util.attachDOMEvent(c,"blur",this.getHandlers(a)._ControlBlur),a.onkeypress=this.getHandlers(a)._KeyPress,a.onkeydown=
this.getHandlers(a)._KeyDown,a.onkeyup=this.getHandlers(a)._KeyUp))};e.prototype.disableInputElement=function(a,d){if(a){var c=d?a.base:a;if(a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLIFrameElement||a instanceof HTMLIFrameElement)this._DetachFromIframe(a);else{0<c.className.indexOf("keymanweb-font")&&!d&&(c.className=c.className.replace("keymanweb-font","").trim());var b=this.inputList.indexOf(a);-1<b&&this.inputList.splice(b,1);d||(this.keyman.util.detachDOMEvent(c,
"focus",this.getHandlers(a)._ControlFocus),this.keyman.util.detachDOMEvent(c,"blur",this.getHandlers(a)._ControlBlur));a.onkeypress=null;a.onkeydown=null;a.onkeyup=null}d&&(this.inputList.push(c),c.onkeypress=this.getHandlers(a)._KeyPress,c.onkeydown=this.getHandlers(a)._KeyDown,c.onkeyup=this.getHandlers(a)._KeyUp);d=this.getLastActiveElement();if(d==a||d==a.kmw_ip)this.clearLastActiveElement(),this.keyman.osk._Hide(!1)}};e.prototype.isKMWDisabled=function(a){var d=a.className;return a.readOnly||
d&&0<=d.indexOf("kmw-disabled")?!0:!1};e.prototype.attachToControl=function(a){var d=this.keyman.util.device.touchable;if(!this.isAttached(a)||a instanceof a.ownerDocument.defaultView.HTMLIFrameElement)this.isKMWInput(a)?this.isKMWDisabled(a)?d&&this.setupNonKMWTouchElement(a):d&&!this.keyman.isEmbedded?this.enableTouchElement(a):this.enableInputElement(a):d&&this.setupNonKMWTouchElement(a)};e.prototype.detachFromControl=function(a){if(this.isAttached(a)||a instanceof a.ownerDocument.defaultView.HTMLIFrameElement)this.isKMWInput(a)&&
(this.isKMWDisabled(a)||this._DisableControl(a)),this.clearElementAttachment(a)};e.prototype.isAttached=function(a){return a._kmwAttachment?!0:!1};e.prototype.isKMWInput=function(a){var d=this.keyman.util.device.touchable;if(a instanceof a.ownerDocument.defaultView.HTMLTextAreaElement)return!0;if(a instanceof a.ownerDocument.defaultView.HTMLInputElement){if("text"==a.type||"search"==a.type)return!0}else if(a instanceof a.ownerDocument.defaultView.HTMLIFrameElement&&!d)try{if(a.contentWindow&&a.contentWindow.document)return!0}catch(c){console.warn("Error during attachment to / detachment from iframe: "),
console.warn(c)}else if(a.isContentEditable&&!d)return!0;return!1};e.prototype.setupElementAttachment=function(a){if(!a._kmwAttachment){var d=h.dom.wrapElement(a);d||h.dom.Utils.instanceof(a,"HTMLIFrameElement")||console.warn("Could not create processing interface for newly-attached element!");a._kmwAttachment=new h.AttachmentInfo(d,null,this.keyman.util.device.touchable)}};e.prototype.clearElementAttachment=function(a){a._kmwAttachment=null};e.prototype._AttachToIframe=function(a){var d=this.keyman.util;
try{var c=a.contentWindow.document;c&&("on"==c.designMode.toLowerCase()?("firefox"==d.device.browser?(d.attachDOMEvent(c,"focus",this.getHandlers(a)._ControlFocus),d.attachDOMEvent(c,"blur",this.getHandlers(a)._ControlBlur)):(d.attachDOMEvent(c.body,"focus",this.getHandlers(a)._ControlFocus),d.attachDOMEvent(c.body,"blur",this.getHandlers(a)._ControlBlur)),d.attachDOMEvent(c.body,"keydown",this.getHandlers(a)._KeyDown),d.attachDOMEvent(c.body,"keypress",this.getHandlers(a)._KeyPress),d.attachDOMEvent(c.body,
"keyup",this.getHandlers(a)._KeyUp),this.setupElementAttachment(a),c.body._kmwAttachment=a._kmwAttachment):this._SetupDocument(c.body))}catch(b){}};e.prototype._DetachFromIframe=function(a){var d=this.keyman.util;try{var c=a.contentWindow.document;c&&("on"==c.designMode.toLowerCase()?("firefox"==d.device.browser?(d.detachDOMEvent(c,"focus",this.getHandlers(a)._ControlFocus),d.detachDOMEvent(c,"blur",this.getHandlers(a)._ControlBlur)):(d.detachDOMEvent(c.body,"focus",this.getHandlers(a)._ControlFocus),
d.detachDOMEvent(c.body,"blur",this.getHandlers(a)._ControlBlur)),d.detachDOMEvent(c.body,"keydown",this.getHandlers(a)._KeyDown),d.detachDOMEvent(c.body,"keypress",this.getHandlers(a)._KeyPress),d.detachDOMEvent(c.body,"keyup",this.getHandlers(a)._KeyUp),c.body._kmwAttachment=null):this._ClearDocument(c.body))}catch(b){}};e.prototype._GetDocumentEditables=function(a){var d=this.keyman.util,c=[];if(a.ownerDocument&&a instanceof a.ownerDocument.defaultView.HTMLElement){var b=a.ownerDocument.defaultView;
a instanceof b.HTMLInputElement||a instanceof b.HTMLTextAreaElement?c.push(a):a instanceof b.HTMLIFrameElement&&c.push(a)}a.getElementsByTagName&&(c=c.concat(d.arrayFromNodeList(a.getElementsByTagName("INPUT")),d.arrayFromNodeList(a.getElementsByTagName("TEXTAREA")),d.arrayFromNodeList(a.getElementsByTagName("IFRAME"))));a.querySelectorAll&&(c=c.concat(d.arrayFromNodeList(a.querySelectorAll("[contenteditable]"))));a.ownerDocument&&a instanceof a.ownerDocument.defaultView.HTMLElement&&a.isContentEditable&&
c.push(a);return c};e.prototype._SetupDocument=function(a){a=this._GetDocumentEditables(a);for(var d=0;d<a.length;d++)this.attachToControl(a[d])};e.prototype._ClearDocument=function(a){a=this._GetDocumentEditables(a);for(var d=0;d<a.length;d++)this.detachFromControl(a[d])};e.prototype._SetTargDir=function(a){var d=this.keyman.keyboardManager.isRTL()?"rtl":"ltr";a&&(this.keyman.util.device.touchable?0==a.textContent.length&&(a.base.dir=a.dir=d,a.setTextCaret(1E4)):a instanceof a.ownerDocument.defaultView.HTMLInputElement||
a instanceof a.ownerDocument.defaultView.HTMLTextAreaElement?0==a.value.length&&(a.dir=d):"string"==typeof a.textContent&&0==a.textContent.length&&(a.dir=d))};e.prototype._DisableControl=function(a){if(this.isAttached(a)||a instanceof a.ownerDocument.defaultView.HTMLIFrameElement)this.keyman.util.device.touchable?(this.disableTouchElement(a),this.setupNonKMWTouchElement(a),window.setTimeout(function(){this.listInputs();for(var a=0;a<this.sortedInputs.length;a++)this.sortedInputs[a].kmw_ip&&this.sortedInputs[a].kmw_ip.updateInput(this.sortedInputs[a].kmw_ip)}.bind(this),
1)):this.listInputs(),this.disableInputElement(a)};e.prototype._EnableControl=function(a){if(this.isAttached(a))if(this.keyman.util.device.touchable){this.enableTouchElement(a);var d=this.keyman;window.setTimeout(function(){d.domManager.listInputs();for(var a=0;a<this.sortedInputs.length;a++)this.sortedInputs[a].kmw_ip&&this.sortedInputs[a].kmw_ip.updateInput(this.sortedInputs[a].kmw_ip)}.bind(this),1)}else this.enableInputElement(a)};e.prototype.listInputs=function(){var a,d=[],c=document.getElementsByTagName("input"),
b=document.getElementsByTagName("textarea");for(a=0;a<c.length;a++)switch(c[a].type){case "text":case "search":case "email":case "url":0>c[a].className.indexOf("kmw-disabled")&&d.push({ip:c[a],x:h.dom.Utils.getAbsoluteX(c[a]),y:h.dom.Utils.getAbsoluteY(c[a])})}for(a=0;a<b.length;a++)0>b[a].className.indexOf("kmw-disabled")&&d.push({ip:b[a],x:h.dom.Utils.getAbsoluteX(b[a]),y:h.dom.Utils.getAbsoluteY(b[a])});d.sort(function(a,b){return a.y!=b.y?a.y-b.y:a.x-b.x});c=[];for(a=0;a<d.length;a++)c.push(d[a].ip);
this.sortedInputs=c};e.prototype.disableControl=function(a){this.isAttached(a)||console.warn("KeymanWeb is not attached to element "+a);var d=a.className;0>d.indexOf("kmw-disabled")&&(a.className=d?d+" kmw-disabled":"kmw-disabled")};e.prototype.setKeyboardForControl=function(a,d,c){null!==d&&void 0!==d?0>d.indexOf("Keyboard_")&&""!=d&&(d="Keyboard_"+d):c=null;if(a instanceof a.ownerDocument.defaultView.HTMLIFrameElement)console.warn("'keymanweb.setKeyboardForControl' cannot set keyboard on iframes.");
else if(this.isAttached(a)){a._kmwAttachment.keyboard=d;a._kmwAttachment.languageCode=c;var b=this.getLastActiveElement();!b||b!=a&&b!=a.kmw_ip||(null!=d&&null!=c?this.keyman.keyboardManager.setActiveKeyboard(d,c):this.keyman.keyboardManager.setActiveKeyboard(this.keyman.globalKeyboard,this.keyman.globalLanguageCode))}else console.error("KeymanWeb is not attached to element "+a)};e.prototype.getKeyboardForControl=function(a){if(this.isAttached(a))return a._kmwAttachment.keyboard;console.error("KeymanWeb is not attached to element "+
a);return null};e.prototype.getLanguageForControl=function(a){if(this.isAttached(a))return a._kmwAttachment.languageCode;console.error("KeymanWeb is not attached to element "+a);return null};e.prototype.focusLastActiveElement=function(){var a=this.getLastActiveElement();a&&(this.keyman.uiManager.justActivated=!0,a.ownerDocument&&a instanceof a.ownerDocument.defaultView.HTMLIFrameElement&&this.keyman.domManager._IsMozillaEditableIframe(a,0)?a.ownerDocument.defaultView.focus():a.focus&&a.focus())};
e.prototype.getLastActiveElement=function(){return h.DOMEventHandlers.states.lastActiveElement};e.prototype.clearLastActiveElement=function(){h.DOMEventHandlers.states.lastActiveElement=null};e.prototype.getActiveElement=function(){return h.DOMEventHandlers.states.activeElement};e.prototype._setActiveElement=function(a){h.DOMEventHandlers.states.activeElement=a};e.prototype.setActiveElement=function(a,d){"string"==typeof a&&(a=document.getElementById(a));if(this.keyman.isEmbedded)this.isAttached(a)||
this.attachToControl(a);else if(!this.isAttached(a)){console.warn("Cannot set an element KMW is not attached to as the active element.");return}a=a.kmw_ip?a.kmw_ip:a;this.keyman.isEmbedded||this.keyman.touchAliasing._BlurKeyboardSettings();h.DOMEventHandlers.states.activeElement!=a&&this.keyman.interface.resetContext();h.DOMEventHandlers.states.activeElement=h.DOMEventHandlers.states.lastActiveElement=a;this.keyman.isEmbedded||this.keyman.touchAliasing._FocusKeyboardSettings(!1);1<arguments.length&&
d&&(this.keyman.util.device.touchable?this.keyman.touchAliasing.setFocusWithTouch({clientX:0,clientY:0,target:a}):this.focusLastActiveElement())};e.prototype.initActiveElement=function(a){null==h.DOMEventHandlers.states.activeElement&&(h.DOMEventHandlers.states.activeElement=a)};e.prototype.moveToNext=function(a){var d,c=this.sortedInputs,b=this.getActiveElement(),g=this.keyman.util.device.touchable;if(0!=c.length){g&&(b=b.base);for(d=0;d<c.length&&c[d]!=b;d++);d=a?d-1:d+1;d=d>=c.length?d-c.length:
d;d=0>d?d+c.length:d;g?(h.DOMEventHandlers.states.focusing=!0,a=c[d].kmw_ip,"undefined"==typeof a?c[d].focus():(this.keyman.domManager.setActiveElement(a),a.setTextCaret(1E4),a.scrollInput(),a.focus())):c[d].focus()}};e.prototype.moveToElement=function(a){"string"==typeof a&&(a=document.getElementById(a));this.keyman.util.device.touchable&&a.kmw_ip?a.kmw_ip.focus():a.focus()};e.prototype._IsIEEditableIframe=function(a,d){var c,b=a&&(c=a.tagName)&&"body"==c.toLowerCase()&&(c=a.ownerDocument)&&c.parentWindow;
return!d&&b||d&&(!b||a.isContentEditable)};e.prototype._IsMozillaEditableIframe=function(a,d){var c;a=a&&(c=a.defaultView)&&c.frameElement;return!d&&a||d&&(!a||"on"==c.document.designMode.toLowerCase())};e.prototype.getBaseFont=function(){var a=this.keyman.util,d=document.getElementsByTagName("input"),c=document.getElementsByTagName("textarea"),b=0;if(0==d.length&&0==c.length)b=0;else if(0<d.length&&0==c.length)b=1;else if(0==d.length&&0<c.length)b=2;else{var g=d[0],k=c[0];g.offsetTop<k.offsetTop?
b=1:g.offsetTop>k.offsetTop?b=2:g.offsetLeft<k.offsetLeft?b=1:g.offsetLeft>k.offsetLeft&&(b=2)}switch(b){case 0:case 1:a.getStyleValue(d[0],"font-family");case 2:var p=a.getStyleValue(c[0],"font-family")}if("undefined"==typeof p||"monospace"==p)p="Arial,sans-serif";return p};e.prototype.initializeUI=function(){this.keyman.ui&&this.keyman.ui.initialize instanceof Function?(this.keyman.ui.initialize(),this.keyman.osk._Show()):this.keyman.isEmbedded||window.setTimeout(this.initializeUI.bind(this),1E3)};
e.suppressFocusCheck=function(a){h.DOMEventHandlers.states._IgnoreBlurFocus&&(a.stopPropagation(),a.cancelBubble=!0);return!0};return e}();h.DOMManager=q})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){var l=function(){function f(a,d,c,b){this.Pelem=a;this.Peventname=d.toLowerCase();this.Phandler=c;this.PuseCapture=b}f.prototype.equals=function(a){return this.Pelem==a.Pelem&&this.Peventname==a.Peventname&&this.Phandler==a.Phandler&&this.PuseCapture==a.PuseCapture};return f}(),q=function(){function e(a){this.linkedStylesheets=[];this.events={};this.currentEvents=[];this.domEvents=[];this.embeddedFonts=[];this._GetAbsolute=this.getAbsolute;this.selectStartHandler=function(){return!1};
this._CancelMouse=function(a){(a=f.keyman.singleton._GetEventObject(a))&&a.preventDefault&&a.preventDefault();a&&(a.cancelBubble=!0,a.returnValue=!1);return!1};this.createElement=this._CreateElement;this.initDevices();this.keyman=a}e.prototype.getLanguageCodes=function(a){return-1==a.indexOf("-")?[a]:a.split("-")};e.prototype.initDevices=function(){this.device=new h.Device;this.physicalDevice=new h.Device;this.activeDevice=this.device;this.device.detect();"desktop"==this.device.formFactor&&(this.device.touchable=
!1);this.physicalDevice=new h.Device;this.physicalDevice.touchable=!1;this.physicalDevice.browser=this.device.browser;this.physicalDevice.formFactor="desktop";this.physicalDevice.OS=this.device.OS};e.prototype.arrayFromNodeList=function(a){for(var d=[],c=0;c<a.length;c++)d.push(a[c]);return d};e.prototype.addEventListener=function(a,d){this.removeEventListener(a,d);this.events[a].push(d);return!0};e.prototype.removeEventListener=function(a,d){"undefined"==typeof this.events[a]&&(this.events[a]=[]);
for(var c=0;c<this.events[a].length;c++)if(this.events[a][c]==d)return this.events[a].splice(c,1),!0;return!1};e.prototype.callEvent=function(a,d){if("undefined"==typeof this.events[a])return!0;if(-1!=this.currentEvents.indexOf(a))return!1;this.currentEvents.push(a);for(var c=0;c<this.events[a].length;c++){var b=this.events[a][c],g=!1;try{g=b(d)}catch(k){console.error(k),g=!1}if(!1===g)return this.currentEvents.pop(),!1}this.currentEvents.pop();return!0};e.prototype.attachDOMEvent=function(a,d,c,
b){this.detachDOMEvent(a,d,c,b);a.addEventListener(d,c,b?!0:!1);a=new l(a,d,c,b);this.domEvents.push(a)};e.prototype.detachDOMEvent=function(a,d,c,b){a.removeEventListener(d,c,b);a=new l(a,d,c,b);for(d=0;d<this.domEvents.length;d++)if(this.domEvents[d].equals(a)){this.domEvents.splice(d,1);break}};e.prototype.getOption=function(a,d){return a in this.keyman.options?this.keyman.options[a]:1<arguments.length?d:""};e.prototype.hasClass=function(a,d){d=" "+d+" ";return 0<=(" "+a.className+" ").replace(/[\n\t\r\f]/g,
" ").indexOf(d)};e.prototype.setOption=function(a,d){this.keyman.options[a]=d};e.prototype.getAbsoluteX=function(a){return h.dom.Utils.getAbsoluteX(a)};e.prototype.getAbsoluteY=function(a){return h.dom.Utils.getAbsoluteY(a)};e.prototype.getAbsolute=function(a){return{x:this.getAbsoluteX(a),y:this.getAbsoluteY(a)}};e.prototype.mouseDownPreventDefaultHandler=function(a){a&&a.preventDefault()};e.prototype._CreateElement=function(a){a=document.createElement(a);"undefined"!=typeof a.onselectstart?a.onselectstart=
this.selectStartHandler:(a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.UserSelect="none",a.style.WebkitUserSelect="none");return a};e.prototype.getIEVersion=function(){return h.Device._GetIEVersion()};e.prototype.getFontSizeStyle=function(a){var d="string"==typeof a?a:a.style.fontSize;return-1!=d.indexOf("em")?(a=parseFloat(d.substr(0,d.indexOf("em"))),{val:a,absolute:!1}):-1!=d.indexOf("px")?(a=parseFloat(d.substr(0,d.indexOf("px"))),{val:a,absolute:!0}):-1!=d.indexOf("pt")?
(a=parseFloat(d.substr(0,d.indexOf("pt"))),{val:4*a/3,absolute:!0}):-1!=d.indexOf("%")?(a=parseFloat(d.substr(0,d.indexOf("%"))),{val:a/100,absolute:!1}):isNaN(a=Number(d))?(console.error("Could not properly parse specified fontsize info: '"+d+"'."),null):{val:4*a/3,absolute:!0}};e.prototype.getStyleValue=function(a,d){try{if(a&&"undefined"!=typeof window.getComputedStyle)return window.getComputedStyle(a,"").getPropertyValue(d)}catch(c){}return""};e.prototype.getStyleInt=function(a,d,c){a=parseInt(this.getStyleValue(a,
d),10);return isNaN(a)?"number"==typeof c?c:0:a};e.prototype.isTouchDevice=function(){return this.device.touchable};e.prototype.portraitView=function(){return!this.landscapeView()};e.prototype.landscapeView=function(){if("undefined"!=typeof window.orientation)var a=window.orientation;else"undefined"!=typeof window.screen.orientation&&(a=window.screen.orientation.angle);return void 0!==a?1==Math.abs(a/90):!1};e.prototype.getViewportScale=function(){try{if(screen.width>document.documentElement.clientWidth)return 1;
var a=screen.width;this.landscapeView()?screen.width<screen.height&&(a=screen.height):screen.width>screen.height&&(a=screen.height);return Math.round(100*a/window.innerWidth)/100}catch(d){return 1}};e.prototype.barHeight=function(){var a=0;"phone"==this.device.formFactor&&(a=screen.height/2-window.innerHeight-(this.landscapeView()?this.device.dyLandscape:this.device.dyPortrait));return a};e.prototype._EncodeEntities=function(a){return a.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")};
e.prototype.createShim=function(){console.warn("The util.createShim function is deprecated, as its old functionality is no longer needed.  It and references to its previously-produced shims may be safely removed.")};e.prototype.showShim=function(a,d,c){console.warn("The util.showShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};e.prototype.hideShim=function(a){console.warn("The util.hideShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.")};
e.prototype.rgba=function(a,d,c,b,g){a="transparent";try{a="rgba("+d+","+c+","+b+","+g+")"}catch(k){a="rgb("+d+","+c+","+b+")"}return a};e.prototype.addStyleSheet=function(a){var d=document.createElement("style");d.type="text/css";d.appendChild(document.createTextNode(a));a=document.getElementsByTagName("HEAD");0<a.length?a[0].appendChild(d):document.body.appendChild(d);this.linkedStylesheets.push(d);return d};e.prototype.removeStyleSheet=function(a){if(null==a||"object"!=typeof a||"STYLE"!=a.nodeName||
"undefined"==typeof a.parentNode||null==a.parentNode)return!1;a.parentNode.removeChild(a);return!0};e.prototype.linkStyleSheet=function(a){var d=document.getElementsByTagName("head");if(0<d.length){var c=document.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=a;this.linkedStylesheets.push(c);d[0].appendChild(c)}};e.prototype.addFontFaceStyleSheet=function(a){if("undefined"!=typeof a&&("undefined"==typeof a.files&&(a.files=a.source),"undefined"!=typeof a.files)){var d,c="",b="",
g="",k="",p=[];for(d=0;d<this.embeddedFonts.length;d++)if(this.embeddedFonts[d]==a.family)return;"string"==typeof a.files?p[0]=a.files:p=a.files;for(d=0;d<p.length;d++)0<p[d].toLowerCase().indexOf(".otf")&&(c=p[d]),0<p[d].toLowerCase().indexOf(".ttf")&&(c=p[d]),0<p[d].toLowerCase().indexOf(".woff")&&(b=p[d]),0<p[d].toLowerCase().indexOf(".eot")&&(g=p[d]),0<p[d].toLowerCase().indexOf(".svg")&&(k=p[d]);""!=c&&0>c.indexOf("/")&&(c=this.keyman.options.fonts+c);""!=b&&0>b.indexOf("/")&&(b=this.keyman.options.fonts+
b);""!=g&&0>g.indexOf("/")&&(g=this.keyman.options.fonts+g);""!=k&&0>k.indexOf("/")&&(k=this.keyman.options.fonts+k);d="@font-face {\nfont-family:"+a.family+";\nfont-style:normal;\nfont-weight:normal;\n";if(9<=h.Device._GetIEVersion())if("iOS"==this.device.OS)if(""!=c)c=this.unCached(c),d=d+"src:url('"+c+"') format('truetype');";else return;else{g=[];"Android"==this.device.OS?(""!=k&&g.push("url('"+k+"') format('svg')"),""!=b&&g.push("url('"+b+"') format('woff')"),""!=c&&g.push("url('"+c+"') format('truetype')")):
(""!=b&&g.push("url('"+b+"') format('woff')"),""!=c&&g.push("url('"+c+"') format('truetype')"),""!=k&&g.push("url('"+k+"') format('svg')"));if(0==g.length)return;d+="src:"+g.join(",")+";"}else if(""!=g)d=d+"src:url('"+g+"');";else return;this.addStyleSheet(d+"\n}\n");this.embeddedFonts.push(a.family)}};e.prototype.unCached=function(a){return a};e.prototype.loadCookie=function(a){var d={};if(0<arguments.length){var c=this.loadCookie(),b;for(b in c)if(b==a)for(var g=decodeURIComponent(c[b]).split(";"),
k=0;k<g.length;k++){var p=g[k].split("=");d[p[0]]=1<p.length?p[1]:""}}else if("undefined"!=typeof document.cookie&&""!=document.cookie)for(c=document.cookie.split(/;\s*/),k=0;k<c.length;k++)g=c[k].split("="),2==g.length&&(d[g[0]]=g[1]);return d};e.prototype.saveCookie=function(a,d){var c="",b;for(b in d)c=c+b+"="+d[b]+";";d=(new Date((new Date).valueOf()+2592E6)).toUTCString();document.cookie=a+"="+encodeURIComponent(c)+"; path=/; expires="+d};e.prototype.toNumber=function(a,d){a=parseInt(a,10);return isNaN(a)?
d:a};e.prototype.toFloat=function(a,d){a=parseFloat(a);return isNaN(a)?d:a};e.prototype.nzString=function(a,d){var c="";1<arguments.length&&(c=d);return"undefined"==typeof a||null==a||0==a||""==a?c:""+a};e.prototype.deepCopy=function(a,d){d=d||{};for(var c in a)"object"===typeof a[c]?(d[c]=a[c].constructor===Array?[]:{},this.deepCopy(a[c],d[c])):d[c]=a[c];return d};e.prototype.eventTarget=function(a){return a?a.target?a.target:a.srcElement?a.srcElement:window.event?window.event.srcElement:null:null};
e.prototype.eventType=function(a){return a&&a.type?a.type:window.event?window.event.type:""};e.prototype.alert=function(a,d){var c=this.waiting,b=c.firstChild.childNodes;b[0].style.display="block";b[1].className="kmw-alert-text";b[1].innerHTML=a;b[2].style.display="none";c.style.display="block";c.dismiss=1<arguments.length?d:null};e.prototype.wait=function(a){};e.prototype.prepareWait=function(){var a=document.createElement("DIV"),d=document.createElement("DIV"),c=document.createElement("DIV"),b=
document.createElement("DIV"),g=document.createElement("DIV");a.className="kmw-wait-background";d.className="kmw-wait-box";a.dismiss=null;c.className="kmw-wait-text";b.className="kmw-wait-graphic";g.className="kmw-alert-close";d.onmousedown=d.onclick=function(b){"block"==g.style.display&&(a.style.display="none",a.dismiss&&a.dismiss())};d.addEventListener("touchstart",d.onclick,!1);a.onmousedown=a.onclick=function(a){a.preventDefault();a.stopPropagation()};a.addEventListener("touchstart",a.onclick,
!1);d.appendChild(g);d.appendChild(c);d.appendChild(b);a.appendChild(d);document.body.appendChild(a);this.waiting=a};e.prototype.shutdown=function(){this.events={};for(var a=0,d=this.domEvents;a<d.length;a++){var c=d[a];this.detachDOMEvent(c.Pelem,c.Peventname,c.Phandler,c.PuseCapture)}this.waiting.parentNode.removeChild(this.waiting);a=0;for(d=this.linkedStylesheets;a<d.length;a++)c=d[a],c.remove?c.remove():c.parentNode&&c.parentNode.removeChild(c)};e.prototype.myPath=function(a){var d,c=document.getElementsByTagName("script");
for(d=0;d<c.length;d++){var b=c[d];if(0<=b.src.indexOf(a))return b.src.substr(0,b.src.lastIndexOf("/")+1)}return""};e.prototype.prependProtocol=function(a){return/^https?:/.test(a)?a:"//"==a.substr(0,2)?this.keyman.protocol+a:"/"==a.substr(0,1)?this.keyman.protocol+"/"+a:this.keyman.protocol+"//"+a};e.prototype.testString=function(a){var d=a.family;if("sample"in a&&"string"==typeof a.sample)return"BESbswy"+a.sample;var c="TamilWeb TibetanWeb LatinWeb CherokeeWeb EgyptianWeb SinhalaWeb KhmerWeb ArabicWeb BurmeseWeb LaoWeb OriyaWeb GeezWeb".split(" "),
b="\u0bbe\u0bf5 \u0f7f\u0fd0 \u02b0\u02a4 \u13d0\u13c9 \ua723\uf7d3 \u0dd8\u0da3 \u17d6\u178e \u0639\u06b3 \u1038\u1024 \u0ec0\u0edd \u0b03\u0b06 \u1361\u132c".split(" ");for(a=0;a<c.length;a++)if(d==c[a])return"BESbswy"+b[a];return"BESbswy"};e.prototype.checkFont=function(a){var d=a.family,c=document.createElement("DIV"),b=c.style,g=document.createElement("P"),k=document.createElement("P"),p=document.createElement("SPAN"),f=p.style,e=document.createElement("SPAN"),n=e.style;b.position="absolute";
b.top="10px";b.left="10px";b.visibility="hidden";document.body.appendChild(c);c.appendChild(g);c.appendChild(k);g.appendChild(p);k.appendChild(e);p.setAttribute("style","font-family:monospace !important");n.fontFamily=d+",monospace";f.fontSize=n.fontSize="24px";p.innerHTML=e.innerHTML=this.testString(a);p.offsetWidth!=e.offsetWidth&&(p.setAttribute("style","font-family:sans-serif !important"),n.fontFamily=d+",sans-serif",p.offsetWidth!=e.offsetWidth&&(p.setAttribute("style","font-family:serif !important"),
n.fontFamily=d+",serif"));a=p.offsetWidth!=e.offsetWidth;g.removeChild(p);k.removeChild(e);c.removeChild(g);c.removeChild(k);document.body.removeChild(c);return a};e.prototype.checkFontDescriptor=function(a){return"undefined"==typeof a||"string"!=typeof a.family?!0:this.checkFont(a)};return e}();h.Util=q})(f.keyman||(f.keyman={}))})(com||(com={}));var Util=com.keyman.Util;
(function(f){(function(h){(function(l){var q=function(){return function(){}}();l.KeyInformation=q;(function(){return function(){}})();(function(){return function(){}})();(function(){return function(){}})();(function(){return function(){}})();(function(){return function(){}})();(function(){return function(){}})();var e=function(){function a(){}a.prototype.reset=function(){this._cache=[]};a.prototype.get=function(a,b){return"undefined"==typeof this._cache[a]||"undefined"==typeof this._cache[a][b]?null:
this._cache[a][b]};a.prototype.set=function(a,b,c){"undefined"==typeof this._cache[a]&&(this._cache[a]=[]);this._cache[a][b]=c};return a}(),a=function(){function a(){}a.prototype.reset=function(){this._cache=[]};a.prototype.get=function(a,b){return"undefined"==typeof this._cache[a]||"undefined"==typeof this._cache[a][b]?null:this._cache[a][b]};a.prototype.set=function(a,b,c){"undefined"==typeof this._cache[a]&&(this._cache[a]=[]);this._cache[a][b]=c};return a}(),d=function(){return function(){this.setStore=
{}}}();l.RuleBehavior=d;var c=function(){function b(){this.cachedContext=new e;this.cachedContextEx=new a;this._AnyIndices=[];this.GetLastActiveElement=this.getLastActiveElement;this.FocusLastActiveElement=this.focusLastActiveElement;this.HideHelp=this.hideHelp;this.ShowHelp=this.showHelp;this.ShowPinnedHelp=this.showPinnedHelp}b.prototype.saveFocus=function(){f.keyman.singleton.isHeadless||(h.DOMEventHandlers.states._IgnoreNextSelChange=1)};b.prototype.notifyKeyboard=function(a,b,c){var d=f.keyman.singleton.keyboardManager.activeKeyboard;
null!=d&&"function"==typeof d.KNS&&d.KNS(a,b,c)};b.prototype.insertText=function(a,b){var c=f.keyman.singleton;this.resetContextCache();var d=this.activeTargetOutput?this.activeTargetOutput:l.Processor.getOutputTarget();return null!=d?(c.isHeadless||(c.uiManager.setActivatingUI(!0),h.DOMEventHandlers.states._IgnoreNextSelChange=100,c.domManager.focusLastActiveElement(),h.DOMEventHandlers.states._IgnoreNextSelChange=0),null!=a&&this.output(0,d,a),"undefined"!==typeof b&&null!==b&&this.deadkeyOutput(0,
d,b),d.invalidateSelection(),!0):!1};b.prototype.registerKeyboard=function(a){f.keyman.singleton.keyboardManager._registerKeyboard(a)};b.prototype.registerStub=function(a){return f.keyman.singleton.keyboardManager._registerStub(a)};b.prototype.context=function(a,b,c){var d=this.cachedContext.get(a,b);if(null!==d)return d;c=this.KC_(a,b,c);this.cachedContext.set(a,b,c);return c};b.prototype.KC_=function(a,b,c){c=c.getTextBeforeCaret();c._kmwLength()<a&&(c=Array(a-c._kmwLength()+1).join("\ufffe")+c);
return c._kmwSubstr(-a)._kmwSubstr(0,b)};b.prototype.nul=function(a,b){return"\ufffe"===this.context(a+1,1,b)};b.prototype.contextMatch=function(a,b,c,d){if(this.context(a,d,b)===c)return!0;b.deadkeys().resetMatched();return!1};b.prototype._BuildExtendedContext=function(a,b,c){var d=this.cachedContextEx.get(a,b);if(null!==d)return d;d=this.cachedContextEx.get(a,a);if(null===d){var g=c.deadkeys().toSortedArray(),k=0;for(d={valContext:[],deadContext:[]};d.valContext.length<a;){var p=c.getDeadkeyCaret()-
k;0<g.length&&g[0].p>p?g.splice(0,1):0<g.length&&g[0].p==p?(d.deadContext[a-d.valContext.length-1]=g[0],d.valContext=[g[0].d].concat(d.valContext),g.splice(0,1)):(p=this.context(++k,1,c),d.valContext=[p].concat(d.valContext))}this.cachedContextEx.set(a,a,d)}c=d;c.valContext=c.valContext.slice(0,b);for(d=0;d<c.valContext.length;d++)"\ufffe"==c[d]&&(c.valContext.splice(0,1),c.deadContext.splice(0,1));0==c.valContext.length&&(c.valContext=["\ufffe"],c.deadContext=[]);this.cachedContextEx.set(a,b,c);
return c};b.prototype.fullContextMatch=function(a,b,c){var d=this._BuildExtendedContext(a,c.length,b);a=d.valContext;d=d.deadContext;for(var g=!1,k=0;k<c.length;k++)if("string"==typeof c[k]){if(c[k]!==a[k]){g=!0;break}}else{var p=c[k];switch(p.t){case "d":p.d!==a[k]?g=!0:d[k].set();break;case "a":var f=this.any(k,"string"==typeof a[k]?a[k]:{t:"d",d:a[k]},p.a);p.n?p.n&&(f||"\ufffe"!==a[k])&&(g=!0):f?void 0!==d[k]&&d[k].set():g=!0;break;case "i":p=this._Index(p.i,p.o);void 0!==p&&("string"==typeof p?
p:p.d)!==a[k]?g=!0:void 0!==d[k]&&d[k].set();break;case "c":a[p.c-1]!==a[k]?g=!0:void 0!==d[k]&&d[k].set();break;case "n":"\ufffe"!=a[k]&&(g=!0);break;default:throw Error("Unexpected object in fullContextMatch specification: "+p);}}g&&(b.deadkeys().resetMatched(),this._AnyIndices=[]);return!g};b.prototype.isKeypress=function(a){var b=f.keyman.singleton;return b.keyboardManager.activeKeyboard.KM?!a.LisVirtualKey:b.keyMapManager._USKeyCodeToCharCode(a)?!0:!1};b.prototype.keyMatch=function(a,b,c){var d=
!1,g=173==a.Lcode?189:a.Lcode,k=f.keyman.singleton.keyboardManager.getKeyboardModifierBitmask(),p=f.keyman.text.Codes,e=k&p.modifierBitmasks.ALL;k&=p.stateBitmasks.ALL;255<a.vkCode&&(g=a.vkCode);if(a.LisVirtualKey||255<g){if(16384==(b&16384)||255<g)d=(d=c==g&&(b&e)==a.Lmodifiers)&&this.stateMatch(a,b&k)}else 0==(b&16384)&&(d=g==c);d||this.activeTargetOutput.deadkeys().resetMatched();return d};b.prototype.stateMatch=function(a,b){return(b&a.Lstates)==b};b.prototype.keyInformation=function(a){var b=
new q;b.vk=a.LisVirtualKey;b.code=a.Lcode;b.modifiers=a.Lmodifiers;return b};b.prototype.deadkeyMatch=function(a,b,c){return b.hasDeadkeyMatch(a,c)};b.prototype.beep=function(a){this.resetContextCache();this.ruleBehavior.beep=!0};b.prototype._ExplodeStore=function(a){if("string"==typeof a){var b=f.keyman.singleton.keyboardManager.getActiveKeyboardTag();if(b.stores[a])return b.stores[a];for(var c=[],d=0;d<a._kmwLength();d++)c.push(a._kmwCharAt(d));return b.stores[a]=c}return a};b.prototype.any=function(a,
b,c){if(""==b)return!1;c=this._ExplodeStore(c);for(var d=-1,g=0;g<c.length;g++)if("string"==typeof c[g]){if(c[g]==b){d=g;break}}else if(c[g].d===b.d){d=g;break}this._AnyIndices[a]=d;return 0<=d};b.prototype._Index=function(a,b){a=this._ExplodeStore(a);if(this._AnyIndices[b-1]<a.length)return a[this._AnyIndices[b-1]];console.warn("Unmatched contextual index() statement detected in rule with index "+b+"!");return""};b.prototype.indexOutput=function(a,b,c,d){this.resetContextCache();b=this._Index(b,
c);if(""!==b)if("string"==typeof b)this.output(a,d,b);else if(b.t)switch(b.t){case "b":this.beep(d);break;case "d":this.deadkeyOutput(a,d,b.d);break;default:throw Error("Unexpected object in fullContextMatch specification: "+b);}else this.deadkeyOutput(a,d,b.d)};b.prototype.deleteContext=function(a,b){if(0<a){var c=this._BuildExtendedContext(a,a,b);for(var d=0,g=0;g<c.valContext.length;g++){var k=c.deadContext[g];k?(b.deadkeys().remove(k),a--):"\ufffe"==c.valContext[g]&&d++}c=c.valContext.length-
d;a>c&&(a=c)}b.deadkeys().resetMatched();this.output(a,b,"")};b.prototype.output=function(a,b,c){this.resetContextCache();var d=f.keyman.singleton;if("oninserttext"in d&&!(b instanceof l.Mock))d.oninserttext(a,c);b.saveProperties();b.clearSelection();b.deadkeys().deleteMatched();0<=a&&b.deleteCharsBeforeCaret(a);b.insertTextBeforeCaret(c);b.restoreProperties();"function"==typeof d.refreshElementContent&&d.refreshElementContent(b.getElement())};b.prototype.deadkeyOutput=function(a,b,c){this.resetContextCache();
0<=a&&this.output(a,b,"");b.insertDeadkeyBeforeCaret(c)};b.prototype.ifStore=function(a,c,d){d=f.keyman.singleton;var g=!0;if(a==b.TSS_LAYER)g=d.osk.vkbd.layerId===c;else if(a==b.TSS_PLATFORM){var k=c.split(" ");for(a=0;a<k.length;a++)switch(c=k[a].toLowerCase(),c){case "touch":case "hardware":d.util.activeDevice.touchable!=("touch"==c)&&(g=!1);break;case "macos":case "mac":c="macosx";case "macosx":case "windows":case "android":case "ios":case "linux":d.util.activeDevice.OS.toLowerCase()!=c&&(g=!1);
break;case "tablet":case "phone":case "desktop":d.util.device.formFactor!=c&&(g=!1);break;case "web":"native"==d.util.device.browser&&(g=!1);break;case "native":case "ie":case "chrome":case "firefox":case "safari":case "edge":case "opera":d.util.device.browser!=c&&(g=!1);break;default:g=!1}}return g};b.prototype.setStore=function(a,c,d){this.resetContextCache();if(a==b.TSS_LAYER)this.ruleBehavior.setStore[a]=c;else return!1};b.prototype.loadStore=function(a,b,c){var d=f.keyman.singleton;this.resetContextCache();
a=d.util.loadCookie("KeymanWeb_"+a+"_Option_"+b);return"undefined"!=typeof a[b]?decodeURIComponent(a[b]):c};b.prototype.saveStore=function(a,b){var c=f.keyman.singleton;this.resetContextCache();var d=c.keyboardManager.activeKeyboard;if(!d||"undefined"==typeof d.KI||""==d.KI)return!1;a="KeymanWeb_"+d.KI+"_Option_"+a;b=encodeURIComponent(b);c.util.saveCookie(a,b);return!0};b.prototype.resetContextCache=function(){this.cachedContext.reset();this.cachedContextEx.reset()};b.prototype.doInputEvent=function(a){var b;
"function"==typeof window.InputEvent&&(b=new window.InputEvent("input",{bubbles:!0,cancelable:!1}));a.base&&a.base.kmw_ip&&(a=a.base);a&&b&&a.dispatchEvent(b)};b.prototype.defaultBackspace=function(a){a||(a=this.activeTargetOutput?this.activeTargetOutput:l.Processor.getOutputTarget());this.output(1,a,"");a.getElement()&&this.doInputEvent(a.getElement())};b.prototype.processKeystroke=function(a,b,c){var g=f.keyman.singleton;if(!b)throw"No target specified for keyboard output!";b.invalidateSelection();
b.deadkeys().resetMatched();this.resetContextCache();var k=l.Mock.from(b);this.ruleBehavior=new d;g.util.activeDevice=a;this.activeTargetOutput=b;a=g.keyboardManager.activeKeyboard.gs(b,c);this.activeTargetOutput=null;if(!a)return null;this.ruleBehavior.transcription=b.buildTranscriptionFrom(k,c);b=this.ruleBehavior;this.ruleBehavior=null;return b};b.prototype.getLastActiveElement=function(){return l.Processor.getOutputTarget()};b.prototype.focusLastActiveElement=function(){var a=f.keyman.singleton;
a.isHeadless||a.domManager.focusLastActiveElement()};b.prototype.hideHelp=function(){var a=f.keyman.singleton;a.isHeadless||a.osk._Hide(!0)};b.prototype.showHelp=function(a,b){var c=f.keyman.singleton;c.isHeadless||c.osk._Show(a,b)};b.prototype.showPinnedHelp=function(){var a=f.keyman.singleton;a.isHeadless||(a.osk.userPositioned=!0,a.osk._Show(-1,-1))};b.prototype.resetContext=function(){var a=f.keyman.singleton;!a.isHeadless&&a.osk.vkbd&&(a.osk.vkbd.layerId="default");var b=this.activeTargetOutput?
this.activeTargetOutput:l.Processor.getOutputTarget();b&&b.deadkeys().clear();this.resetContextCache();this.resetVKShift();a.modelManager&&a.modelManager.invalidateContext();a.isHeadless||a.osk._Show()};b.prototype.setNumericLayer=function(){var a=f.keyman.singleton,b;if(!a.isHeadless){var c=a.osk.vkbd;for(b=0;b<c.layers.length;b++)"numeric"==c.layers[b].id&&(c.layerId="numeric",a.osk._Show())}};b.prototype.resetVKShift=function(){var a=f.keyman.singleton,b=f.keyman.singleton.textProcessor;a.isHeadless||
a.uiManager.isActivating||!a.osk.vkbd||b._UpdateVKShift&&b._UpdateVKShift(null,15,0)};b.TSS_LAYER=33;b.TSS_PLATFORM=31;return b}();l.KeyboardInterface=c})(h.text||(h.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){var l=function(){function a(a,c){this.id=a;this.language=c}a.prototype.toString=function(){var a=this.id;this.language?(a=a+"@"+this.language,this.version&&(a=a+"@"+this.version)):this.version&&(a=a+"@@"+this.version);return a};return a}(),q=function(){return function(a,b){this.family=a.family;this.files=a.source;this.path=b}}(),e=function(){return function(a,b){this.KI="Keyboard_"+a;this.KLC=b}}();h.KeyboardStub=e;var a=function(){return function(){this.stores={}}}();h.KeyboardTag=
a;var d=function(){function c(a){this.activeStub=null;this.keyboardStubs=[];this.deferredStubs=[];this.deferredKRS=[];this.deferredKR=[];this.dfltStub=null;this.keyboards=[];this.languageList=null;this.languagesPending=[];this.linkedScripts=[];this._GetKeyboardDetail=function(a){var b={};b.Name=a.KN;b.InternalName=a.KI;b.LanguageName=a.KL;b.LanguageCode=a.KLC;b.RegionName=a.KR;b.RegionCode=a.KRC;b.CountryName=a.KC;b.CountryCode=a.KCC;b.KeyboardID=a.KD;b.Font=a.KFont;b.OskFont=a.KOskFont;return b};
this.keymanweb=a}c.prototype.getActiveKeyboardName=function(){return this.activeKeyboard?this.activeKeyboard.KI:""};c.prototype.getActiveKeyboardTag=function(){return this.activeKeyboard?this.activeKeyboard._kmw:null};c.prototype.getActiveLanguage=function(a){return null==this.activeStub?"":a?this.activeStub.KL:this.activeStub.KLC};c.prototype.getDetailedKeyboards=function(){var a=[],c;for(c=0;c<this.keyboardStubs.length;c++){var d=this.keyboardStubs[c];d=this._GetKeyboardDetail(d);a=this.keymanweb._push(a,
d)}return a};c.prototype.registerDeferredStubs=function(){this.addKeyboardArray(this.deferredStubs);for(var a=0;a<this.deferredKRS.length;a++)this._registerStub(this.deferredKRS[a])};c.prototype.registerDeferredKeyboards=function(){for(var a=0;a<this.deferredKR.length;a++)this._registerKeyboard(this.deferredKR[a])};c.prototype.addStub=function(a){if("string"!=typeof a.id)return!1;"undefined"!=typeof a.language&&(console.warn("The 'language' property for keyboard stubs has been deprecated.  Please use the 'languages' property instead."),
a.languages=a.language);if("undefined"==typeof a.languages)return!1;"string"!=typeof a.name&&(a.name=a.id.replace("_"," "),a.name=a.name.substr(0,1).toUpperCase()+a.name.substr(1));var b=a.languages,c=[];"undefined"==typeof b.length?c[0]=b:c=b;var d={keyboardBaseUri:this.keymanweb.options.keyboards,fontBaseUri:this.keymanweb.options.fonts};for(b=0;b<c.length;b++)this.mergeStub(a,c[b],d);return!0};c.prototype.mergeStub=function(a,d,k){var b=this.findStub(a.id,d.id),g=!1;null==b&&(b=new e(a.id,d.id),
this.keyboardStubs.push(b),g=!0);var f=d.region,n=0;if("number"==typeof f)n=1>f||9<f?0:f-1;else if("string"==typeof f)for(var h=2==f.length?c.regionCodes:c.regions,t=0;t<h.length;t++)if(f.toLowerCase()==h[t].toLowerCase()){n=t;break}b.KL="undefined"===typeof b.KL?d.name:b.KL;b.KR="undefined"===typeof b.KR?c.regions[n]:b.KR;b.KRC="undefined"===typeof b.KRC?c.regionCodes[n]:b.KRC;b.KN="undefined"===typeof b.KN?a.name:b.KN;"undefined"==typeof b.KF&&(f=/^(([\.]\/)|([\.][\.]\/)|(\/))|(:)/,b.KF=a.filename,
f.test(b.KF)||(b.KF=k.keyboardBaseUri+b.KF));a=k.fontBaseUri;""!=this.keymanweb.options.fonts?(a=this.keymanweb.options.fonts,f=/^https?\:/,f.test(a)||(a="//"==a.substr(0,2)?this.keymanweb.protocol+a:"/"==a.substr(0,1)?this.keymanweb.rootPath+a.substr(1):this.keymanweb.rootPath+a)):this.keymanweb.options.fonts=a;"undefined"!=typeof d.font&&(b.KFont="undefined"===typeof b.KFont?new q(d.font,a):b.KFont);"undefined"!=typeof d.oskFont&&(b.KOskFont="undefined"===typeof b.KOskFont?new q(d.oskFont,a):b.KOskFont);
this.doKeyboardRegistered(b.KI,b.KL,b.KN,b.KLC,b.KP);!this.activeStub&&g&&1==this.keyboardStubs.length&&(this.doBeforeKeyboardChange(b.KI,b.KLC),this._SetActiveKeyboard(b.KI,b.KLC,!1),this.doKeyboardChange(b.KI,b.KLC))};c.prototype.findStub=function(a,c){var b;for(b=0;b<this.keyboardStubs.length;b++)if(this.keyboardStubs[b].KI=="Keyboard_"+a&&this.keyboardStubs[b].KLC==c)return this.keyboardStubs[b];return null};c.prototype.setDefaultKeyboard=function(){return 0<this.keyboardStubs.length?(this._SetActiveKeyboard(this.keyboardStubs[0].KI,
this.keyboardStubs[0].KLC),!0):!1};c.prototype.setActiveKeyboard=function(a,c){!this.keymanweb.isEmbedded&&a&&0!=a.indexOf("Keyboard_")&&(a="Keyboard_"+a);this.doBeforeKeyboardChange(a,c);var b=this._SetActiveKeyboard(a,c,!0);null!=this.keymanweb.domManager.getLastActiveElement()&&this.keymanweb.domManager.focusLastActiveElement();this.doKeyboardChange(a,c);return b};c.prototype._SetActiveKeyboard=function(a,c,d){var b,g,k=this.keymanweb.util,f=this.keymanweb.osk;if(2>arguments.length||!c)c="---";
for(b=0;b<this.keyboardStubs.length&&(a!=this.keyboardStubs[b].KI||c!=this.keyboardStubs[b].KLC&&"---"!=c);b++);k.device.touchable&&(""==a||null==a||b>=this.keyboardStubs.length)&&0!=this.keyboardStubs.length&&(a=this.keyboardStubs[0].KI,c=this.keyboardStubs[0].KLC);2<arguments.length&&d&&this.saveCurrentKeyboard(a,c);if(this.activeStub&&this.activeKeyboard&&this.activeKeyboard.KI==a&&this.activeStub.KI==a&&this.activeStub.KLC==c&&!this.keymanweb.mustReloadKeyboard)return Promise.resolve();if(this.activeKeyboard&&
this.activeKeyboard.KI==a)for(g=0;g<this.keyboardStubs.length;g++)if(this.keyboardStubs[g].KI==a&&this.keyboardStubs[g].KLC==c)return this.activeStub=this.keyboardStubs[g],f.vkbd.appendStyleSheet(),this.keymanweb.mustReloadKeyboard&&f._Load(),Promise.resolve();this.activeStub=this.activeKeyboard=null;if(""==a)return f._Hide(!1),this.keymanweb.isEmbedded||k.wait(!1),Promise.resolve();for(g=0;g<this.keyboards.length;g++)if(this.keyboards[g].KI==a){this.activeKeyboard=this.keyboards[g];this.keymanweb.domManager._SetTargDir(this.keymanweb.domManager.getLastActiveElement());
for(b=0;b<this.keyboardStubs.length;b++)if(this.keyboardStubs[b].KI==a&&(this.keyboardStubs[b].KLC==c||"---"==c)){this.activeStub=this.keyboardStubs[b];break}break}if(null==this.activeKeyboard){for(g=0;g<this.keyboardStubs.length;g++)if(this.keyboardStubs[g].KI==a&&(this.keyboardStubs[g].KLC==c||"---"==c)){if(this.isCJK(this.keyboardStubs[g])||k.device.touchable)f._Enabled=!0;if(!this.keyboardStubs[g].asyncLoader){f.ready&&f._Hide(!1);var e=this.keyboardStubs[g];e.asyncLoader={};var h=e.KN,l=e.KL;
h=h.replace(/\s*keyboard\s*/i,"");e.asyncLoader.callback=function(a,b){var c=a||"Sorry, the "+h+" keyboard for "+l+" is not currently available.";this.keymanweb.isEmbedded||(k.wait(!1),k.alert(a||c,function(){this.keymanweb.setActiveKeyboard("")}.bind(this)));switch(b){case "err":console.error(c);break;default:console.warn(c)}0<g&&(a=this.keyboardStubs[0],this._SetActiveKeyboard(a.KI,a.KLC,!0))}.bind(this);e.asyncLoader.timer=window.setTimeout(e.asyncLoader.callback,1E4);this.keymanweb.isEmbedded||
k.wait("Installing keyboard<br/>"+h);var q=this;e.asyncLoader.promise=new Promise(function(a,b){window.setTimeout(function(){q.installKeyboard(a,b,e)},0)})}this.activeStub=this.keyboardStubs[g];return this.keyboardStubs[g].asyncLoader.promise}this.keymanweb.domManager._SetTargDir(this.keymanweb.domManager.getLastActiveElement())}b=this.activeKeyboard;null!==b&&String.kmwEnableSupplementaryPlane(b&&(b.KS&&1==b.KS||"Hieroglyphic"==b.KN));f._Load();return Promise.resolve()};c.prototype.installKeyboard=
function(a,c,d){var b=this.keymanweb.util,g=this.keymanweb.osk,k=b._CreateElement("script");k.charset="UTF-8";k.type="text/javascript";this.keymanweb.isEmbedded&&(k.id=d.KI);var f=d.KF,e=d.KL,h=d.KN,l=this;k.addEventListener("error",function(){null!==d.asyncLoader.timer&&(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);d.asyncLoader.callback("Cannot find the "+h+" keyboard for "+e+".","warn");d.asyncLoader=null;c()},!1);k.addEventListener("load",function(){null!==d.asyncLoader.timer&&
(window.clearTimeout(d.asyncLoader.timer),d.asyncLoader.timer=null);var k=l.getKeyboardByID(d.KI);k?(d==l.activeStub&&(l.doBeforeKeyboardChange(k.KI,d.KLC),l.activeKeyboard=k,null!=l.keymanweb.domManager.getLastActiveElement()&&(l.keymanweb.uiManager.justActivated=!0,l.keymanweb.domManager._SetTargDir(l.keymanweb.domManager.getLastActiveElement())),String.kmwEnableSupplementaryPlane(k&&(k.KS&&1==k.KS||"Hieroglyphic"==k.KN)),l.saveCurrentKeyboard(k.KI,d.KLC),g._Load()),l.keymanweb.isEmbedded||b.wait(!1),
d.asyncLoader=null,a()):(d.asyncLoader.callback("Error registering the "+h+" keyboard for "+e+".","error"),d.asyncLoader=null,c())},!1);k.src=this.keymanweb.getKeyboardPath(f);try{document.body.appendChild(k),this.linkedScripts.push(k)}catch(x){try{document.getElementsByTagName("head")[0].appendChild(k)}catch(B){c()}}};c.prototype.saveCurrentKeyboard=function(a,c){this.keymanweb.util.saveCookie("KeymanWeb_Keyboard",{current:a+":"+c});this.keymanweb.isEmbedded||this.keymanweb.touchAliasing._BlurKeyboardSettings(a,
c)};c.prototype.restoreCurrentKeyboard=function(){var a=this.keyboardStubs,c=a.length;if(!(1>a.length)){var d=this.getSavedKeyboard();d.split(":");var f=d.split(":");2>f.length&&(f[1]="");for(d=0;d<c&&(a[d].KI!=f[0]||a[d].KLC!=f[1]&&""!=f[1]);d++);if(d<c||null==this.activeKeyboard)this._SetActiveKeyboard(f[0],f[1],!1),this.keymanweb.globalKeyboard=f[0],this.keymanweb.globalLanguageCode=f[1],this.doKeyboardChange(f[0],f[1])}};c.prototype.getSavedKeyboard=function(){var a=this.keymanweb.util.loadCookie("KeymanWeb_Keyboard");
if("string"!=typeof a.current)return"Keyboard_us:eng";var c,d=this.keyboardStubs;for(c=0;c<d.length;c++){var f=d[c].KI+":"+d[c].KLC;if(f==a.current)return f}for(c=0;c<d.length;c++)if(f=d[c].KI+":"+d[c].KLC,"Keyboard_us:eng"==f)return f;return 0<d.length?d[0].KI+":"+d[0].KLC:"Keyboard_us:eng"};c.prototype.isCJK=function(a){var b=this.activeKeyboard,c="";0<arguments.length&&(b=a);b&&("undefined"!=typeof b.KLC?c=b.KLC:"undefined"!=typeof b.LanguageCode&&(c=b.LanguageCode));return"cmn"==c||"jpn"==c||
"kor"==c};c.prototype.isRTL=function(a){a=a||this.activeKeyboard;return null!=a&&a.KRTL};c.prototype.isChiral=function(a){"string"==typeof a&&(a=this.getKeyboardByID(a));return!!(this.getKeyboardModifierBitmask(a)&h.text.Codes.modifierBitmasks.IS_CHIRAL)};c.prototype.getKeyboardModifierBitmask=function(a){var b=this.activeKeyboard;0<arguments.length&&"undefined"!=typeof a&&(b=a);return b?b.KMBM?b.KMBM:h.text.Codes.modifierBitmasks.NON_CHIRAL:0};c.prototype.getFont=function(a){return(a=a||this.activeKeyboard)&&
a.KV?a.KV.F:null};c.prototype.layoutIsDesktopBased=function(a){var b=f.keyman.singleton;return(a=a||this.activeKeyboard)&&a.KVKL?"desktop"==b.util.device.formFactor:!0};c.prototype.getKeyboardByID=function(a){var b;for(b=0;b<this.keyboards.length;b++)if(a==this.keyboards[b].KI)return this.keyboards[b];return null};c.prototype.isUniqueRequest=function(a,c){var b;if(null==this.findStub(c.id,c.language)){for(b=0;b<a.length;b++)if(a[b].id==c.id&&a[b].language==c.language)return!1;return!0}return!1};c.prototype.addKeyboardArray=
function(a){if(!this.keymanweb.initialized)for(var b=0;b<a.length;b++)this.deferredStubs.push(a[b]);else if(0!=a.length){var c,d="",f=[];for(b=0;b<a.length;b++){if("string"==typeof a[b]&&0<a[b].length){var e=a[b].split("@"),n=[""];"english"==e[0].toLowerCase()&&(e[0]="us");1<e.length&&(n=e[1].split(","));for(c=0;c<n.length;c++){var h=new l(e[0]);""!=n[c]&&(h.language=n[c]);2<e.length&&(h.version=e[2]);this.isUniqueRequest(f,h)&&f.push(h)}}if("object"==typeof a[b]&&null!=a[b])if("string"==typeof a[b].filename)this.addStub(a[b])||
alert("To use a custom keyboard, you must specify file name, keyboard name, language, language code and region code.");else if(a[b].language&&(console.warn("The 'language' property for keyboard stubs has been deprecated.  Please use the 'languages' property instead."),a[b].languages=a[b].language),n=a[b].languages,"number"==typeof n.length)for(c=0;c<n.length;c++)h=new l(a[b].id,a[b].languages[c].id),this.isUniqueRequest(f,h)&&f.push(h);else h=new l(a[b].id,a[b].languages[c].id),this.isUniqueRequest(f,
h)&&f.push(h)}if(0!=f.length){a="&keyboardid=";for(b=0;b<f.length;b++)a=a+d+f[b].toString(),d=",";this.keymanCloudRequest(a,!1)}}};c.prototype.registerLanguagesForKeyboard=function(a,c,d){var b,g=0;var k="";if("undefined"!=typeof a)if("string"==typeof c.keyboardid&&(k=c.keyboardid.split(",")[d]),"number"==typeof a.length)if(1==a.length||"$"==k.substr(-1,1)||""==k)for(k=0;k<a.length;k++)this.registerLanguagesForKeyboard(a[k],c,d);else{for(k=0;k<a.length;k++){var f=a[k].id.toLowerCase();"us"==f&&(f=
"english");for(b=0;b<a[k].languages.length;b++)if(f==a[k].languages[b].name.toLowerCase()){g=k;break}}this.registerLanguagesForKeyboard(a[g],c,d)}else if(d=k.split("@")[1],"string"==typeof d&&(d=d.replace(/\$$/,"")),g=a.languages,"undefined"!=typeof g)if("number"==typeof g.length)for(k=0;k<g.length;k++)"undefined"!=typeof d&&g[k].id!=d||this.mergeStub(a,g[k],c);else this.mergeStub(a,g,c)};c.prototype.register=function(a){var b=a.options;a.timerid&&window.clearTimeout(a.timerid);if("string"==typeof a.error)b=
"","string"==typeof a.keyboardid&&(b=a.keyboardid.substr(0,1).toUpperCase()+a.keyboardid.substr(1)),this.serverUnavailable(b+" keyboard not found.");else if("undefined"!=typeof b&&"undefined"!=typeof b.context)if("keyboard"==b.context){var c=a.keyboard;if("number"==typeof c.length)for(a=0;a<c.length;a++)this.registerLanguagesForKeyboard(c[a],b,a);else this.registerLanguagesForKeyboard(c,b,0)}else"language"==b.context&&(this.languageList=a.languages,this.languagesPending&&this.addLanguageKeyboards(this.languagesPending),
this.languagesPending=[])};c.prototype.addLanguageKeyboards=function(a){var b,c;if(null==this.languageList){var d=0==this.languagesPending.length;for(b=0;b<a.length;b++)this.languagesPending.push(a[b]);d&&this.keymanCloudRequest("",!0)}else{var f="";for(b=0;b<a.length;b++){var e=a[b].toLowerCase();(c="$"==e.substr(-1,1))&&(e=e.substr(0,e.length-1));for(d=0;d<this.languageList.length;d++)if(e==this.languageList[d].name.toLowerCase()){""!=f&&(f+=",");f=f+"@"+this.languageList[d].id;c&&(f+="$");break}}""==
f?this.keymanweb.util.alert("No keyboards are available for "+a[0]+". Does it have another language name?"):this.keymanCloudRequest("&keyboardid="+f,!1)}};c.prototype.keymanCloudRequest=function(a,c){var b="https://api.keyman.com/cloud/4.0/",d=this.keymanweb.util._CreateElement("script");b=b+(1<arguments.length&&c?"languages":"keyboards")+"?jsonp=keyman.register&languageidtype=bcp47&version="+this.keymanweb.version;var g=this;var f="&timerid="+window.setTimeout(function(){g.serverUnavailable(a)},
1E4);d.charset="UTF-8";d.src=b+a+f;d.type="text/javascript";try{document.body.appendChild(d)}catch(n){document.getElementsByTagName("head")[0].appendChild(d)}};c.prototype.serverUnavailable=function(a){this.keymanweb.util.alert(""==a?"Unable to connect to Keyman Cloud server!":a);this.keymanweb.warned=!0};c.prototype.removeKeyboards=function(a){if(0==arguments.length)return!1;var b,c,d=!0,f=!1,e=!1;for(b=0;b<arguments.length;b++){for(c=this.keyboardStubs.length-1;0<=c;c--)if("Keyboard_"+arguments[b]==
this.keyboardStubs[c].KI){"Keyboard_"+arguments[b]==this.getActiveKeyboardName()&&(f=!0);e=!0;this.keyboardStubs.splice(c,1);break}0>c&&(d=!1)}f&&(0<this.keyboardStubs.length?this._SetActiveKeyboard(this.keyboardStubs[0].KI,this.keyboardStubs[0].KLC,!0):this._SetActiveKeyboard("","",!1),this.keymanweb.uiManager.justActivated=!0);e&&this.doKeyboardUnregistered();return d};c.prototype._registerKeyboard=function(b){if(this.keymanweb.initialized)if(b._kmw)console.error("The keyboard _kmw property is a reserved field for engine use only; this keyboard is invalid.");
else{b._kmw=new a;var c;this.keymanweb.isEmbedded&&this.keymanweb.preserveID(b);var d=this.activeStub,f=this.activeStub;if(!(d&&"KI"in d)||d.KI!=b.KI)for(c=0;c<this.keyboardStubs.length;c++){d=this.keyboardStubs[c];if(b.KI==d.KI)break;d=null}null==this.activeStub&&null!=d&&(this.activeStub=d);for(c=0;c<this.keyboards.length;c++)if(b.KI==this.keyboards[c].KI)return;this.keyboards=this.keymanweb._push(this.keyboards,b);this.doKeyboardLoaded(b.KI);this.activeStub=f}else this.deferredKR.push(b)};c.prototype._registerStub=
function(a){var b;if(!this.keymanweb.initialized)return this.deferredKRS.push(a),null;null==this.dfltStub&&(this.dfltStub=a);this.keymanweb.isEmbedded&&this.keymanweb.namespaceID(a);"undefined"==typeof a.KLC&&(a.KLC="");"undefined"==typeof a.KL&&(a.KL="undefined");for(b=0;b<this.keyboardStubs.length;b++)if(this.keyboardStubs[b].KI==a.KI&&(""==a.KLC||this.keyboardStubs[b].KLC==a.KLC))return 1;this.keyboardStubs=this.keymanweb._push(this.keyboardStubs,a);this.doKeyboardRegistered(a.KI,a.KL,a.KN,a.KLC,
a.KP);this.activeStub||this.dfltStub!=a||1!=this.keyboardStubs.length||this.setActiveKeyboard(a.KI,a.KLC);return null};c.prototype.doKeyboardRegistered=function(a,c,d,f,e){a={internalName:a,language:c,keyboardName:d,languageCode:f};e&&(a["package"]=e);return this.keymanweb.util.callEvent("kmw.keyboardregistered",a)};c.prototype.doKeyboardUnregistered=function(){return this.keymanweb.util.callEvent("kmw.keyboardregistered",{})};c.prototype.doKeyboardLoaded=function(a){var b={};b.keyboardName=a;return this.keymanweb.util.callEvent("kmw.keyboardloaded",
b)};c.prototype.doBeforeKeyboardChange=function(a,c){var b={};b.internalName=a;b.languageCode=c;return this.keymanweb.util.callEvent("kmw.beforekeyboardchange",b)};c.prototype.doKeyboardChange=function(a,c,d){return this.keymanweb.util.callEvent("kmw.keyboardchange",{internalName:a,languageCode:c,indirect:2<arguments.length?d:!1})};c.prototype.shutdown=function(){for(var a=0,c=this.linkedScripts;a<c.length;a++){var d=c[a];d.remove?d.remove():d.parentNode&&d.parentNode.removeChild(d)}};c.regions="World;Africa;Asia;Europe;South America;North America;Oceania;Central America;Middle East".split(";");
c.regionCodes="un af as eu sa na oc ca me".split(" ");return c}();h.KeyboardManager=d})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){var h=function(){return function(){}}(),q=function(){return function(){this.FF=new h;this.Safari=new h;this.Opera=new h;this.FF.k61=187;this.FF.k59=186}}(),e=function(){return function(){this.se=new h;this.se.k220=192;this.se.k187=189;this.se.k219=187;this.se.k221=219;this.se.k186=221;this.se.k191=220;this.se.k192=186;this.se.k189=191;this.uk=new h;this.uk.k223=192;this.uk.k192=222;this.uk.k222=226;this.uk.k220=220}}(),a=function(){function a(){this.browserMap=new q;this.languageMap=
new e;this._usCodeInit()}a.prototype._usCodeInit=function(){var a=new h,b=new h;a.k192=96;a.k49=49;a.k50=50;a.k51=51;a.k52=52;a.k53=53;a.k54=54;a.k55=55;a.k56=56;a.k57=57;a.k48=48;a.k189=45;a.k187=61;a.k81=113;a.k87=119;a.k69=101;a.k82=114;a.k84=116;a.k89=121;a.k85=117;a.k73=105;a.k79=111;a.k80=112;a.k219=91;a.k221=93;a.k220=92;a.k65=97;a.k83=115;a.k68=100;a.k70=102;a.k71=103;a.k72=104;a.k74=106;a.k75=107;a.k76=108;a.k186=59;a.k222=39;a.k90=122;a.k88=120;a.k67=99;a.k86=118;a.k66=98;a.k78=110;a.k77=
109;a.k188=44;a.k190=46;a.k191=47;b.k192=126;b.k49=33;b.k50=64;b.k51=35;b.k52=36;b.k53=37;b.k54=94;b.k55=38;b.k56=42;b.k57=40;b.k48=41;b.k189=95;b.k187=43;b.k81=81;b.k87=87;b.k69=69;b.k82=82;b.k84=84;b.k89=89;b.k85=85;b.k73=73;b.k79=79;b.k80=80;b.k219=123;b.k221=125;b.k220=124;b.k65=65;b.k83=83;b.k68=68;b.k70=70;b.k71=71;b.k72=72;b.k74=74;b.k75=75;b.k76=76;b.k186=58;b.k222=34;b.k90=90;b.k88=88;b.k67=67;b.k86=86;b.k66=66;b.k78=78;b.k77=77;b.k188=60;b.k190=62;b.k191=63;this._usCharCodes=[a,b]};a.prototype._USKeyCodeToCharCode=
function(a){return this._usCharCodes[a.Lmodifiers&16?1:0]["k"+a.Lcode]};return a}();f.KeyMapManager=a})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){var h=function(){function f(a,d,c){this.code=a;this.shift=d;this.handler=c}f.prototype.matches=function(a,d){return this.code==a&&this.shift==d};return f}(),q=function(){function f(a){this.hotkeys=[];this._Process=function(a){a||(a=window.event);var c=this.keyman.textProcessor._GetEventKeyCode(a);if(null==c)return!1;for(var b=(a.shiftKey?16:0)|(a.ctrlKey?32:0)|(a.altKey?64:0),d=0;d<this.hotkeys.length;d++)if(this.hotkeys[d].matches(c,b))return this.hotkeys[d].handler(),a.returnValue=
!1,a&&a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1;return!0}.bind(this);this.keyman=a}f.prototype.addHotKey=function(a,d,c){for(var b=0;b<this.hotkeys.length;b++)if(this.hotkeys[b].code==a&&this.hotkeys[b].shift==d){this.hotkeys[b].handler=c;return}this.hotkeys.push(new h(a,d,c))};f.prototype.removeHotkey=function(a,d){for(var c=0;c<this.hotkeys.length;c++)if(this.hotkeys[c].matches(a,d)){this.hotkeys.splice(c,1);break}};return f}();f.HotkeyManager=q})(f.keyman||(f.keyman={}))})(com||
(com={}));
(function(f){(function(f){var h=function(){return function(f,a){this.activationPending=f;this.activated=a}}();f.UIState=h;var q=function(){function f(a){this.justActivated=this.isActivating=!1;this.doUnload=function(){return this.keyman.util.callEvent("kmw.unloaduserinterface",{})};this.keyman=a}f.prototype.getUIState=function(){return new h(this.isActivating,this.justActivated)};f.prototype.setActivatingUI=function(a){this.isActivating=a?!0:!1};f.prototype.doLoad=function(){return this.keyman.util.callEvent("kmw.loaduserinterface",{})};
return f}();f.UIManager=q})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){var q=f.keyman.text.Codes,e=function(){function a(){}a.buildDefaultLayout=function(d,c,b,g){var k=f.keyman.singleton.util,e=g;"object"!=typeof a.dfltLayout[e]&&(e="desktop");e=k.deepCopy(a.dfltLayout[e]);var u,z=e.layer,n=d.KLS,w=d.K102,t,H=0!=(b&q.modifierBitmasks.IS_CHIRAL);(b=!("undefined"==typeof n||!n))||(n=d.KLS=a.processLegacyDefinitions(d.BK));d=Object.getOwnPropertyNames(n);var x=[];d.splice(d.indexOf("default"),1);d=["default"].concat(d);a.emulatesAltGr(n)&&
(-1==d.indexOf("leftctrl-leftalt")&&-1!=d.indexOf("rightalt")&&(d.push("leftctrl-leftalt"),n["leftctrl-leftalt"]=n.rightalt),-1==d.indexOf("leftctrl-leftalt-shift")&&-1!=d.indexOf("rightalt-shift")&&(d.push("leftctrl-leftalt-shift"),n["leftctrl-leftalt-shift"]=n["rightalt-shift"]));if("desktop"==g)for(x=a.generateLayerIds(H),u=0;u<x.length;u++)-1!=d.indexOf(x[u])&&x.splice(u--,1);var B=d.concat(x);if(b&&"desktop"!=g){b=null;x=z[0].row;for(u=0;u<x.length;u++){var M=x[u].key;for(var r=0;r<M.length;r++){var F=
M[r];"K_SHIFT"==F.id&&(b=F)}}if(b)for(t in b.sk=[],n)"default"!=t&&"shift"!=t&&(u=a.modifierSpecials[t],b.sk.push(new l.OSKKeySpec("K_"+u,u,null,"1",t)));else console.warn("Error in default layout - cannot find default Shift key!")}for(u=0;u<B.length;u++)0<u&&(z[u]=k.deepCopy(z[0])),z[u].id=B[u],z[u].nextlayer=B[u],a.formatDefaultLayer(z[u],H,g,!!w);for(u=0;u<z.length;u++){w=z[u];r=B=H=b=null;var Ca=n[w.id],Fa="shift"==w.id?1:0,qa="default"==w.id||Fa?1:0;x=w.row;for(k=0;k<x.length;k++)for(M=x[k].key,
t=0;t<M.length;t++){F=M[t];var P=a.dfltCodes.indexOf(F.id);if(Ca||qa)Ca&&0<=P&&P<Ca.length&&(F.text=Ca[P]),qa&&c.precedes(h.utils.Version.NO_DEFAULT_KEYCAPS)&&"K_SPACE"!=F.id&&P+65*Fa<a.dfltText.length&&null!==F.text&&(F.text=F.text||a.dfltText[P+65*Fa]);null!==F.text&&(F.text=F.text||"");switch(F.id){case "K_SHIFT":b=F;break;case "K_CAPS":H=F;break;case "K_NUMLOCK":B=F;break;case "K_SCROLL":r=F}if(null!=F.sk){for(P=0;P<F.sk.length;P++)-1==d.indexOf(F.sk[P].nextlayer)&&F.sk.splice(P--,1);0==F.sk.length&&
(F.sk=null)}}w.shiftKey=b;w.capsKey=H;w.numKey=B;w.scrollKey=r;"desktop"!=g&&0<u&&null!=b&&(b.sp=a.buttonClasses["SHIFT-ON"],b.sk=null,b.text=a.modifierSpecials[z[u].id]?a.modifierSpecials[z[u].id]:"*Shift*")}return e};a.getLayerId=function(a){var c=q.modifierCodes,b="";if(0==a)return"default";a&c.LCTRL&&(b=(0<b.length?b+"-":"")+"leftctrl");a&c.RCTRL&&(b=(0<b.length?b+"-":"")+"rightctrl");a&c.LALT&&(b=(0<b.length?b+"-":"")+"leftalt");a&c.RALT&&(b=(0<b.length?b+"-":"")+"rightalt");a&c.SHIFT&&(b=(0<
b.length?b+"-":"")+"shift");a&c.CTRL&&(b=(0<b.length?b+"-":"")+"ctrl");a&c.ALT&&(b=(0<b.length?b+"-":"")+"alt");return b};a.emulatesAltGr=function(d){var c=window.keyman,b=q.modifierCodes;if(!c.keyboardManager.isChiral())return!1;if(!d){d=c.keyboardManager.activeKeyboard;if(null==d||null==d.KV)return!1;d=d.KV.KLS}var g=b.LCTRL|b.LALT,f=d[a.getLayerId(g)];g=d[a.getLayerId(b.SHIFT|g)];return null!=f&&f!=d[a.getLayerId(b.RALT)]||null!=g&&g!=d[a.getLayerId(b.RALT|b.SHIFT)]?!1:(c.keyboardManager.getKeyboardModifierBitmask(),
!0)};a.generateLayerIds=function(d){if(d){d=32;var c=1}else d=8,c=16;for(var b=[],g=0;g<d;g++)b.push(a.getLayerId(g*c));return b};a.formatDefaultLayer=function(d,c,b,g){for(var f=d.id,e=a.buttonClasses,h=0;h<d.row.length;h++)for(var l=d.row[h].key,n=0;n<l.length;n++){var w=l[n];switch(w.id){case "K_SHIFT":case "K_LSHIFT":case "K_RSHIFT":-1!=f.indexOf("shift")&&(w.sp=e["SHIFT-ON"]);"desktop"!=b&&"default"!=f&&(w.nextlayer="default");break;case "K_LCTRL":case "K_LCONTROL":if(c){-1!=f.indexOf("leftctrl")&&
(w.sp=e["SHIFT-ON"]);break}case "K_RCTRL":case "K_RCONTROL":if(c){-1!=f.indexOf("rightctrl")&&(w.sp=e["SHIFT-ON"]);break}case "K_CONTROL":-1==f.indexOf("ctrl")||c&&(-1==f.indexOf("leftctrl")||-1==f.indexOf("rightctrl"))||(w.sp=e["SHIFT-ON"]);break;case "K_LALT":if(c){-1!=f.indexOf("leftalt")&&(w.sp=e["SHIFT-ON"]);break}case "K_RALT":if(c){-1!=f.indexOf("rightalt")&&(w.sp=e["SHIFT-ON"]);break}case "K_ALT":-1==f.indexOf("alt")||c&&(-1==f.indexOf("leftalt")||-1==f.indexOf("rightalt"))||(w.sp=e["SHIFT-ON"]);
break;case "K_oE2":"undefined"!=typeof g&&g||("desktop"==b?(l.splice(n--,1),l[0].width="200"):l[n].sp=e.HIDDEN)}}};a.processLegacyDefinitions=function(d){for(var c=a.generateLayerIds(!1),b={},g=0;g<c.length;g++){for(var f=c[g],e=[],h=!1,l=0;65>l;l++){var n=l+65*g;e.push(d[n]);n<d.length&&""!=d[n]&&l!=a.dfltCodes.indexOf("K_SPACE")&&(h=!0)}h&&(b[f]=e)}"undefined"!=typeof b["default"]&&b["default"]||(b["default"]=[""]);"undefined"!=typeof b.shift&&b.shift||(b.shift=[""]);return b};a.dfltCodes="K_BKQUOTE K_1 K_2 K_3 K_4 K_5 K_6 K_7 K_8 K_9 K_0 K_HYPHEN K_EQUAL K_* K_* K_* K_Q K_W K_E K_R K_T K_Y K_U K_I K_O K_P K_LBRKT K_RBRKT K_BKSLASH K_* K_* K_* K_A K_S K_D K_F K_G K_H K_J K_K K_L K_COLON K_QUOTE K_* K_* K_* K_* K_* K_oE2 K_Z K_X K_C K_V K_B K_N K_M K_COMMA K_PERIOD K_SLASH K_* K_* K_* K_* K_* K_SPACE".split(" ");
a.dfltText="`1234567890-=\u00a7~~qwertyuiop[]\\~~~asdfghjkl;'~~~~~?zxcvbnm,./~~~~~ ~!@#$%^&*()_+\u00a7~~QWERTYUIOP{}\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM<>?~~~~~ ";a.buttonClasses={DEFAULT:"0",SHIFT:"1","SHIFT-ON":"2",SPECIAL:"3","SPECIAL-ON":"4",DEADKEY:"8",BLANK:"9",HIDDEN:"10"};a.modifierSpecials={leftalt:"*LAlt*",rightalt:"*RAlt*",alt:"*Alt*",leftctrl:"*LCtrl*",rightctrl:"*RCtrl*",ctrl:"*Ctrl*","ctrl-alt":"*AltGr*","leftctrl-leftalt":"*LAltCtrl*","rightctrl-rightalt":"*RAltCtrl*","leftctrl-leftalt-shift":"*LAltCtrlShift*",
"rightctrl-rightalt-shift":"*RAltCtrlShift*",shift:"*Shift*","shift-alt":"*AltShift*","shift-ctrl":"*CtrlShift*","shift-ctrl-alt":"*AltCtrlShift*","leftalt-shift":"*LAltShift*","rightalt-shift":"*RAltShift*","leftctrl-shift":"*LCtrlShift*","rightctrl-shift":"*RCtrlShift*"};a._BaseLayout="us";a._BaseLayoutEuro={se:"\u00a71234567890+\u00b4~~~QWERTYUIOP\u00c5\u00a8'~~~ASDFGHJKL\u00d6\u00c4~~~~~<ZXCVBNM,.-~~~~~ ",uk:"`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;'~~~~~\\ZXCVBNM,./~~~~~ "};a.dfltLayout={desktop:{font:"Tahoma,Helvetica",
layer:[{id:"default",row:[{id:"1",key:[{id:"K_BKQUOTE"},{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"130"}]},{id:"2",key:[{id:"K_TAB",text:"*Tab*",sp:"1",width:"130"},{id:"K_Q"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{id:"K_BKSLASH"}]},{id:"3",key:[{id:"K_CAPS",text:"*Caps*",
sp:"1",width:"165"},{id:"K_A"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"165"}]},{id:"4",key:[{id:"K_SHIFT",text:"*Shift*",sp:"1",width:"130"},{id:"K_oE2"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_RSHIFT",text:"*Shift*",sp:"1",width:"130"}]},{id:"5",key:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",
width:"170"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_SPACE",text:"",width:"770"},{id:"K_RALT",text:"*Alt*",sp:"1",width:"160"},{id:"K_RCONTROL",text:"*Ctrl*",sp:"1",width:"170"}]}]}]},tablet:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},
{id:"K_Y"},{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",
text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LCONTROL",text:"*LCtrl*",sp:"1",width:"50",nextlayer:"leftctrl"},{id:"K_RCONTROL",text:"*RCtrl*",sp:"1",width:"50",nextlayer:"rightctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_LALT",text:"*LAlt*",sp:"1",width:"50",nextlayer:"leftalt"},{id:"K_RALT",text:"*RAlt*",sp:"1",width:"50",nextlayer:"rightalt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrl-alt"}]},
{id:"K_LOPT",text:"*Menu*",sp:"1",width:"150"},{id:"K_SPACE",text:"",width:"570"},{id:"K_BKSP",text:"*BkSp*",sp:"1",width:"150"},{id:"K_ENTER",text:"*Enter*",sp:"1",width:"200"}]}]}]},phone:{font:"Tahoma,Helvetica",layer:[{id:"default",row:[{id:"0",key:[{id:"K_1"},{id:"K_2"},{id:"K_3"},{id:"K_4"},{id:"K_5"},{id:"K_6"},{id:"K_7"},{id:"K_8"},{id:"K_9"},{id:"K_0"},{id:"K_HYPHEN"},{id:"K_EQUAL"},{sp:"10",width:"1"}]},{id:"1",key:[{id:"K_Q",pad:"25"},{id:"K_W"},{id:"K_E"},{id:"K_R"},{id:"K_T"},{id:"K_Y"},
{id:"K_U"},{id:"K_I"},{id:"K_O"},{id:"K_P"},{id:"K_LBRKT"},{id:"K_RBRKT"},{sp:"10",width:"1"}]},{id:"2",key:[{id:"K_A",pad:"50"},{id:"K_S"},{id:"K_D"},{id:"K_F"},{id:"K_G"},{id:"K_H"},{id:"K_J"},{id:"K_K"},{id:"K_L"},{id:"K_COLON"},{id:"K_QUOTE"},{id:"K_BKSLASH",width:"90"}]},{id:"3",key:[{id:"K_oE2",width:"90"},{id:"K_Z"},{id:"K_X"},{id:"K_C"},{id:"K_V"},{id:"K_B"},{id:"K_N"},{id:"K_M"},{id:"K_COMMA"},{id:"K_PERIOD"},{id:"K_SLASH"},{id:"K_BKQUOTE"},{sp:"10",width:"1"}]},{id:"4",key:[{id:"K_SHIFT",
text:"*Shift*",sp:"1",width:"200",sk:[{id:"K_LCONTROL",text:"*Ctrl*",sp:"1",width:"50",nextlayer:"ctrl"},{id:"K_LCONTROL",text:"*LCtrl*",sp:"1",width:"50",nextlayer:"leftctrl"},{id:"K_RCONTROL",text:"*RCtrl*",sp:"1",width:"50",nextlayer:"rightctrl"},{id:"K_LALT",text:"*Alt*",sp:"1",width:"50",nextlayer:"alt"},{id:"K_LALT",text:"*LAlt*",sp:"1",width:"50",nextlayer:"leftalt"},{id:"K_RALT",text:"*RAlt*",sp:"1",width:"50",nextlayer:"rightalt"},{id:"K_ALTGR",text:"*AltGr*",sp:"1",width:"50",nextlayer:"ctrl-alt"}]},
{id:"K_LOPT",text:"*Menu*",width:"150",sp:"1"},{id:"K_SPACE",width:"570",text:""},{id:"K_BKSP",text:"*BkSp*",width:"150",sp:"1"},{id:"K_ENTER",text:"*Enter*",width:"200",sp:"1"}]}]}]}};return a}();l.Layouts=e})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){var q=function(){function e(a){this.keyman=a;this.scrolling=!1;this.shim=this.constructShim()}e.prototype.constructShim=function(){var a=this,d=this.keyman.util._CreateElement("div"),c=this.keyman.osk;d.id="kmw-language-menu-background";d.addEventListener("touchstart",function(b){b.preventDefault();a.hide();if(2<b.touches.length){var d=b.touches[1].pageX;b=b.touches[1].pageY;var f=c.vkbd.spaceBar;d>f.offsetLeft&&d<f.offsetLeft+f.offsetWidth&&b>f.offsetTop&&b<
f.offsetTop+f.offsetHeight&&c.showBuild()}},!1);return d};e.prototype.show=function(){var a=this.keyman.keyboardManager.keyboardStubs,d=this.keyman.util;if(!(1>a.length)){var c=this.lgList=d._CreateElement("div");this.lgList.id="kmw-language-menu";var b=this;document.body.appendChild(this.shim);var g=d._CreateElement("div"),f=g.style,e=d._CreateElement("div");g.id="kmw-menu-scroll-container";e.id="kmw-menu-scroller";"WebkitOverflowScrolling"in f&&(f.WebkitOverflowScrolling="touch");g.appendChild(e);
c.appendChild(g);var h;f=d._CreateElement("div");f.id="kmw-menu-index";for(h=1;26>=h;h++){var l=d._CreateElement("p");l.innerHTML=String.fromCharCode(h+64);f.appendChild(l)}f.addEventListener("touchstart",function(a){b.scrollToLanguage(a,g,e)},!1);f.addEventListener("touchend",function(a){a.stopPropagation();a.preventDefault()},!1);c.appendChild(f);c.addEventListener("scroll",function(a){b.scrolling=!0},!1);g.addEventListener("scroll",function(a){1>g.scrollTop&&(g.scrollTop=1);g.scrollTop>g.scrollHeight-
g.offsetHeight-1&&(g.scrollTop=g.scrollHeight-g.offsetHeight-1)},!1);this.activeLgNo=this.addLanguages(e,a);this.lgList.style.visibility="hidden";document.body.appendChild(this.lgList);"Android"==d.device.OS&&"devicePixelRatio"in window&&(this.lgList.style.fontSize=2/window.devicePixelRatio+"em");"Android"==d.device.OS&&"tablet"==d.device.formFactor&&"devicePixelRatio"in window&&(h=parseInt(d.getStyleValue(c,"width"),10),a=c.style,isNaN(h)||(a.width=a.maxWidth=2*h/window.devicePixelRatio+"px"),h=
parseInt(d.getStyleValue(g,"width"),10),a=g.style,isNaN(h)||(a.width=a.maxWidth=2*h/window.devicePixelRatio+"px"),h=parseInt(d.getStyleValue(e,"width"),10),a=e.style,isNaN(h)||(a.width=a.maxWidth=2*h/window.devicePixelRatio+"px"));this.adjust(0);d=Math.floor(c.offsetHeight/26);a=Math.round(100*d/(f.childNodes[1].offsetTop-f.childNodes[0].offsetTop))/100;l=.6<a?1:2;1.25<a&&(a=1.25);for(h=0;26>h;h++){var n=f.childNodes[h].style;2==l&&1==h%2?n.display="none":(n.fontSize=a*l+"em",n.lineHeight=d*l+"px")}h=
g.offsetWidth;g.scrollHeight>g.offsetHeight+3?h+=f.offsetWidth:f.style.display="none";c.style.width=h+"px";this.lgList.style.visibility="";c=e.firstChild.offsetHeight*this.activeLgNo+1;g.scrollTop=c;g.scrollTop<c&&(g.scrollTop=g.scrollHeight-g.offsetHeight);g.scrollTop>g.scrollHeight-g.offsetHeight-1&&(g.scrollTop=g.scrollHeight-g.offsetHeight-1)}};e.prototype.adjust=function(a){var d=this.keyman.osk,c=this.keyman.util,b=c.device,g=this.lgList,f=g.firstChild,e=f.firstChild,l=g.style;g=g.childNodes[1];
var q=window.innerHeight-d.vkbd.lgKey.offsetHeight-16;a=(e.childNodes.length+a-1)*e.firstChild.firstChild.offsetHeight;"iOS"==b.OS&&("phone"==b.formFactor?(b=c.landscapeView()?36:0,q=(window.innerHeight-b-16)*c.getViewportScale()):"tablet"==b.formFactor&&(b=c.landscapeView()?16:0,q-=b));l.left=h.dom.Utils.getAbsoluteX(d.vkbd.lgKey)+"px";a>q&&(a=q);l.height=a+"px";l.bottom="0px";g.style.height=f.style.height=l.height};e.prototype.scrollToLanguage=function(a,d,c){a.stopImmediatePropagation();a.stopPropagation();
a.preventDefault();var b=a.touches[0].target;if("P"==b.nodeName){var g;a=0;b=b.innerHTML.charCodeAt(0);var f=c.childNodes;try{for(g=0;g<f.length-1;g++){var e=f[g].firstChild.innerHTML.toUpperCase().charCodeAt(0);if(e>=b)break}}catch(u){}try{a=c.firstChild.offsetHeight*g+1,d.scrollTop=a}catch(u){a=0}try{d.scrollTop<a&&(d.scrollTop=d.scrollHeight-d.offsetHeight),d.scrollTop>d.scrollHeight-d.offsetHeight-1&&(d.scrollTop=d.scrollHeight-d.offsetHeight-1)}catch(u){}}};e.prototype.addLanguages=function(a,
d){var c=d.length,b=this.keyman.util,g=b.device,f,e,h=[];for(e=0;e<c;e++){var l=d[e].KL;-1==h.indexOf(l)&&h.push(l)}h.sort();var n=Math.round(100/b.getViewportScale())/100,w,t,q,x,B=-1;l=function(){w=b._CreateElement("div");w.className="kbd-list-closed";t=b._CreateElement("p");t.kList=[];for(e=0;e<c;e++)d[e].KL==h[f]&&t.kList.push(d[e]);"iOS"==g.OS&&(t.style.fontSize=n+"em");w.appendChild(t);a.appendChild(w);h[f]==M.keyman.keyboardManager.activeStub.KL&&(B=f);var k=M;if(1<t.kList.length)for(t.className=
"kbd-list",t.innerHTML=h[f]+"...",t.scrolled=!1,t.ontouchend=function(a){a.preventDefault();a.stopPropagation();a.target.scrolled?a.target.scrolled=!1:this.parentNode.className="kbd-list-closed"==this.parentNode.className?"kbd-list-open":"kbd-list-closed";k.adjust("kbd-list-closed"==this.parentNode.className?0:this.kList.length)},t.addEventListener("touchstart",function(a){a.stopPropagation()},!1),t.addEventListener("touchmove",function(a){a.target.scrolled=!0;a.stopPropagation()},!1),q=0;q<t.kList.length;q++)x=
b._CreateElement("p"),x.className="kbd-list-entry","iOS"==g.OS&&(x.style.fontSize=n+"em"),M.addKeyboard(t.kList[q],x,!1),w.appendChild(x);else t.innerHTML=h[f],t.className="kbd-single-entry",M.addKeyboard(t.kList[0],t,!0);f==B&&(t.className+=" current")};var M=this;for(f=0;f<h.length;f++)l();l=b._CreateElement("div");l.id="kmw-menu-footer";var r=function(a){a.preventDefault();a.stopPropagation()};l.addEventListener("touchstart",r,!1);l.addEventListener("touchmove",r,!1);l.addEventListener("touchend",
r,!1);a.appendChild(l);return B};e.prototype.addKeyboard=function(a,d,c){d.kn=a.KI;d.kc=a.KLC;d.innerHTML=c?a.KL:a.KN.replace(" Keyboard","");var b=this;a=function(a){a.stopPropagation();0>=this.className.indexOf("selected")&&(this.className+=" selected");b.scrolling=!1;b.y0=a.touches[0].pageY;return!0};c=function(a){a.stopImmediatePropagation();var c=b.lgList.childNodes[0],d=c.scrollHeight-c.offsetHeight;if("undefined"!=typeof a.pageY)var g=a.pageY;else if("undefined"!=typeof a.touches)g=a.touches[0].pageY;
else return;var f=g-b.y0;if(0>f)c.scrollTop>=d-1&&(a.preventDefault(),b.y0=g);else if(0<f)2>c.scrollTop&&(a.preventDefault(),b.y0=g);else return;if(-5>f||5<f)b.scrolling=!0,this.className=this.className.replace(/\s*selected/,""),b.y0=g;return!0};var g=function(a){a.preventDefault();"undefined"!=typeof a.stopImmediatePropagation?a.stopImmediatePropagation():a.stopPropagation();b.scrolling?this.className=this.className.replace(/\s*selected/,""):(f.keyman.DOMEventHandlers.states.setFocusTimer(),b.lgList.style.display=
"none",b.keyman.keyboardManager._SetActiveKeyboard(this.kn,this.kc,!0),b.keyman.keyboardManager.doKeyboardChange(this.kn,this.kc),b.keyman.domManager.focusLastActiveElement(),b.hide(),b.keyman.osk._Show());return!0};d.onmspointerdown=a;d.addEventListener("touchstart",a,!1);d.onmspointermove=c;d.addEventListener("touchmove",c,!1);d.onmspointerout=g;d.addEventListener("touchend",g,!1)};e.prototype.hide=function(){var a=this.keyman.osk,d=this;this.lgList&&(a.vkbd.highlightKey(a.vkbd.lgKey,!1),this.lgList.style.visibility=
"hidden",window.setTimeout(function(){d.shim.parentElement&&(document.body.removeChild(d.shim),document.body.removeChild(d.lgList))},500))};return e}();l.LanguageMenu=q})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(f){var h=function(){function a(){}a.polyfill=function(b,c){var d=new a,g;for(g in d)b.hasOwnProperty(g)||(b[g]=d[g]);b.displayLayer=c;b.layer=b.layer||c};a.DEFAULT_PAD=15;a.DEFAULT_RIGHT_MARGIN=15;a.DEFAULT_KEY_WIDTH=100;a.DEFAULT_KEY={text:"",width:a.DEFAULT_KEY_WIDTH.toString(),sp:"0",pad:a.DEFAULT_PAD.toString()};return a}();f.ActiveKey=h;var e=function(){function a(){}a.polyfill=function(b,c,d,f){for(var g=b.key,e=0;e<g.length;e++){var k=g[e];for(t in h.DEFAULT_KEY)"string"!=
typeof k[t]&&(k[t]=h.DEFAULT_KEY[t]);switch(k.sp){case "1":a.SPECIAL_LABEL.test(k.text)||""==k.text||(k.sp="3");break;case "2":a.SPECIAL_LABEL.test(k.text)||""==k.text||(k.sp="4")}h.polyfill(k,c)}var p=0;for(e=0;e<g.length-1;e++){c=parseInt(g[e].width,10)/d;g[e].widthpc=c;var t=parseInt(g[e].pad,10)/d;g[e].padpc=t;g[e].proportionalX=p+t+c/2;g[e].proportionalWidth=c;p+=t+c}var l=h.DEFAULT_RIGHT_MARGIN/d;p+=l;1==g.length&&0>parseInt(g[0].pad,10)?(c=parseInt(g[0].width,10)/d,g[0].widthpc=c,p+=c,g[0].padpc=
1-p,g[0].proportionalX=p-l-c/2,g[0].proportionalWidth=c):0<g.length&&(e=g.length-1,t=parseInt(g[e].pad,10)/d,g[e].padpc=t,g[e].widthpc=c=1-(p+t),g[e].proportionalX=1-l-c/2,g[e].proportionalWidth=c);d=new a;for(k in d)b.hasOwnProperty(k)||(b[k]=d[k]);b.proportionalY=f};a.prototype.populateKeyMap=function(a){this.key.forEach(function(b){b.id&&(a[b.id]=b)})};a.SPECIAL_LABEL=/\*\w+\*/;return a}(),a=function(){function a(){}a.polyfill=function(b,c){b.aligned=!1;for(var d=b.row,g=0,f=0;f<b.row.length;f++){for(var l=
0,n=d[f].key,w=0;w<n.length;w++){var t=n[w];if(null==t)--n.length;else{var q="string"==typeof t.width&&""!=t.width?parseInt(t.width,10):h.DEFAULT_KEY_WIDTH;if(isNaN(q)||0==q)q=h.DEFAULT_KEY_WIDTH;t.width=q.toString();var x="string"==typeof t.pad&&""!=t.pad?parseInt(t.pad,10):h.DEFAULT_PAD;if(isNaN(x)||0==x)x=h.DEFAULT_PAD;t.pad=x.toString();l+=q+x}}l>g&&(g=l)}g="desktop"==c?g+5:g+h.DEFAULT_RIGHT_MARGIN;c=b.row.length;for(f=0;f<c;f++)e.polyfill(b.row[f],b.id,g,(f+.5)/c);f=new a;for(t in f)b.hasOwnProperty(t)||
(b[t]=f[t]);b.totalWidth=g;b.defaultKeyProportionalWidth=parseInt(h.DEFAULT_KEY.width,10)/g;b.rowProportionalHeight=1/c;b.keyMap=b.constructKeyMap()};a.prototype.constructKeyMap=function(){var a={};this.row.forEach(function(b){b.populateKeyMap(a)});return a};a.prototype.getTouchProbabilities=function(a,c){a=this.simpleTouchDistribution(a,c);c=[];for(var b in a)c.push({keyId:b,p:a[b]});return c.sort(function(a,b){return b.p-a.p})};a.prototype.simpleTouchDistribution=function(a,c){a=this.keyTouchDistances(a,
c);c={};var b=0,d;for(d in a)b+=c[d]=1/(a[d]+1E-6);for(d in c)c[d]/=b;return c};a.prototype.keyTouchDistances=function(a,c){var b=this,d={};this.row.forEach(function(g){g.key.forEach(function(f){if(f.id){var e=Math.abs(a.x-f.proportionalX),k=Math.abs(a.y-g.proportionalY);if(e>.5*f.proportionalWidth){var h=e-.5*f.proportionalWidth;e=.5}else h=0,e/=f.proportionalWidth;if(k>.5*b.rowProportionalHeight){var p=k-.5*b.rowProportionalHeight;k=.5}else p=0,k/=b.rowProportionalHeight;h*=c;h+=e*b.rowProportionalHeight;
p+=k*b.rowProportionalHeight;d[f.id]=h*h+p*p}})});return d};a.prototype.getKey=function(a){0==a.indexOf(this.id+"-")&&(a=a.replace(this.id+"-",""));return this.keyMap[a]};return a}();f.ActiveLayer=a;var d=function(){function c(){}c.prototype.getLayer=function(a){return this.layerMap[a]};c.polyfill=function(b,d){if(null==b)throw Error("Cannot build an ActiveLayout for a null specification.");var g,f={};var e=b.layer;for(g=0;g<e.length;g++){var h=e[g];var n=h.row;for(h=n.length;0<h&&!(0<n[h-1].key.length);h--);
h<n.length&&n.splice(h-n.length,n.length-h)}for(g=0;g<e.length;g++)a.polyfill(e[g],d),f[e[g].id]=e[g];d=new c;for(var w in d)b.hasOwnProperty(w)||(b[w]=d[w]);b.layerMap=f;return b};return c}();f.ActiveLayout=d})(f.osk||(f.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){function q(a,b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c]);return a}function e(a){return a&&"key"in a&&a.key instanceof g}function a(a){return e(a)?a:null}var d=f.keyman.text.Codes,c=function(){return function(a,b){this.key=a;this.keyId=b}}();l.isKey=e;l.getKeyFrom=a;var b=function(){return function(a,b,c,d,g,f){this.id=a;this.text=b;this.width=c?c:"50";this.sp=d;this.nextlayer=g;this.pad=f}}();l.OSKKeySpec=b;var g=function(){function a(a,b,c){this.spec=
a;this.layer=b;this.formFactor=c}a.getTextWidth=function(b,c,d){d.fontFamily||(d.fontFamily=getComputedStyle(document.body).fontFamily);d.fontSize&&""!=d.fontSize||(d.fontSize="1em");var g=d.fontFamily;b=b.getKeyEmFontSize();d=window.keyman.util.getFontSizeStyle(d.fontSize);d=d.absolute?d.val+"px":d.val*b+"px";b=(a.getTextWidth.canvas||(a.getTextWidth.canvas=document.createElement("canvas"))).getContext("2d");b.font=d+" "+g;return b.measureText(c).width};a.prototype.getKeyWidth=function(){var a=this.objectUnits();
if("px"==a)return this.spec.widthpc;if("%"==a)return a=f.keyman.singleton.osk.getWidthFromCookie(),Math.floor(a*this.spec.widthpc/100)};a.prototype.objectUnits=function(){return"desktop"==this.formFactor?"%":"px"};a.prototype.renameSpecialKey=function(a){return u.specialCharacters[a]?String.fromCharCode(57344+u.specialCharacters[a]):a};a.prototype.generateKeyText=function(b){var c=window.keyman.util,d=this.spec,g=c._CreateElement("span"),f=g.style;if(null==d.text||""==d.text){var e="\u00a0";"string"==
typeof d.id&&/^U_[0-9A-F]{4}$/i.test(d.id)&&(e=String.fromCharCode(parseInt(d.id.substr(2),16)))}else e=d.text;g.className="kmw-key-text";if("1"==d.sp||"2"==d.sp)e=this.renameSpecialKey("*Tab*"==d.text&&"shift"==this.layer?"*TabLeft*":d.text);f.fontSize=b.fontSize;"string"==typeof d.font&&""!=d.font&&(f.fontFamily=d.font);"string"==typeof d.fontsize&&""!=d.fontsize&&(f.fontSize=d.fontsize);var k=window.keyman.keyboardManager,h={fontSize:f.fontSize};h.fontFamily=f.fontFamily?f.fontFamily:b.fontFamily;
d=a.getTextWidth(b,e,h);0==d&&""!=e&&"\u00a0"!=e&&(e="\u25cc"+e,k.isRTL()&&(e="\u200f"+e),d=a.getTextWidth(b,e,h));b=c.getFontSizeStyle(f.fontSize);c=.9*this.getKeyWidth()/d;1>c&&(f.fontSize=b.absolute?c*b.val+"px":c*b.val+"em");g.innerHTML=e;return g};return a}();l.OSKKey=g;var k=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}__extends(b,a);b.prototype.getId=function(a){return this.layer+"-"+this.spec.id};b.prototype.generateKeyCapLabel=function(){var a=d.keyCodes[this.spec.id];switch(a){case 186:a=
59;break;case 187:a=61;break;case 188:a=44;break;case 189:a=45;break;case 190:a=46;break;case 191:a=47;break;case 192:a=96;break;case 219:a=91;break;case 220:a=92;break;case 221:a=93;break;case 222:a=39;break;default:if(48>a||90<a)a=0}if(0<a){var b=window.keyman.util._CreateElement("div");b.className="kmw-key-label";b.innerHTML=String.fromCharCode(a);return b}return null};b.prototype.processSubkeys=function(a){var b,c=a.subKeys=this.spec.sk;for(b=0;b<c.length;b++){if("1"==c[b].sp||"2"==c[b].sp)c[b].text=
this.renameSpecialKey(c[b].text);c[b].layer||(c[b].layer=a.key.layer)}b=window.keyman.util._CreateElement("div");b.className="kmw-key-popup-icon";a.appendChild(b)};b.prototype.construct=function(a,b,d,g){var e=f.keyman.singleton.util,k=this.spec,h="desktop"==this.formFactor,n=e._CreateElement("div");n.className="kmw-key-square";var p=n.style;p.width=this.objectGeometry(k.widthpc);var l=g;e=e._CreateElement("div");e=q(e,new c(this,k.id));a.setButtonClass(k,e,b);h?p.marginLeft=this.objectGeometry(k.padpc):
(p.left=this.objectGeometry(g+k.padpc),a.isStatic||(p.bottom=d.bottom),p.height=d.height,e.style.left=p.left,e.style.width=p.width);g=g+k.padpc+k.widthpc;(b.keyLabels||h)&&(b=this.generateKeyCapLabel())&&e.appendChild(b);e.id=this.getId(a);a.isStatic||a.device.touchable||(e.onmouseover=e.onmousedown=a.mouseOverMouseDownHandler,e.onmouseup=e.onmouseout=a.mouseUpMouseOutHandler);e.appendChild(this.generateKeyText(a));"undefined"!=typeof k.sk&&null!=k.sk?this.processSubkeys(e):e.subKeys=null;n.appendChild(e);
return{element:n,percent:g-l}};b.prototype.objectGeometry=function(a){var b=this.objectUnits();return"%"==b?a+b:Math.round(100*a)/100+b};return b}(g);l.OSKBaseKey=k;var p=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}__extends(b,a);b.prototype.getId=function(a){var b=this.spec;return"string"==typeof this.layer&&""!=this.layer?"popup-"+this.layer+"-"+b.id:"popup-"+a.layerId+"-"+b.id};b.prototype.construct=function(a,b,d){var g=this.spec,f=document.createElement("div"),e=a.getDefaultKeyObject(),
k=f.style,h;for(h in e)"string"!=typeof g[h]&&(g[h]=e[h]);f.className="kmw-key-square-ex";d&&(k.marginTop="5px");k.width="undefined"!=typeof g.width?parseInt(g.width,10)*b.offsetWidth/100+"px":b.offsetWidth+"px";k.height=b.offsetHeight+"px";b=document.createElement("div");b=q(b,new c(this,g.id));a.setButtonClass(g,b);b.id=this.getId(a);g=b.style;g.height=k.height;g.width=k.width;g.position="absolute";b.appendChild(this.generateKeyText(a));f.appendChild(b);return f};return b}(g);l.OSKSubKey=p;var u=
function(){function c(a,b,c,d,g,e){this.layerId="default";this.popupPending=this.ddOSK=this.isStatic=!1;this.popupDelay=500;this.touch=function(a){var b=f.keyman.singleton.textProcessor,c=a.changedTouches[0].target,d=this.keyTarget(c);this.touchX=a.changedTouches[0].pageX;this.currentTarget=d;this.cancelDelete();var g=document.getElementById("kmw-popup-keys");if(!(g&&"visible"==g.style.visibility||this.popupVisible)){this.touchCount=a.touches.length;if(d&&0<=d.className.indexOf("key-hidden")||0<=
c.className.indexOf("kmw-key-row"))d=this.findNearestKey(a,c);null!=d&&(c=d.keyId,this.highlightKey(d,!0),"K_LOPT"==c||"K_ROPT"==c?(window.setTimeout(function(){b.clickKey(d)}.bind(this),0),this.touchPending=this.keyPending=null):"K_BKSP"==c?(c=this.getTouchProbabilities(a.changedTouches[0]),b.clickKey(d,a.changedTouches[0],this.layerId,c),this.deleteKey=d,this.deleting=window.setTimeout(this.repeatDelete,500),this.touchPending=this.keyPending=null):(this.keyPending?(this.highlightKey(this.keyPending,
!1),c=this.getTouchProbabilities(this.touchPending),b.clickKey(this.keyPending,this.touchPending,this.layerId,c),this.clearPopup(),this.touchCount--):this.touchHold(d),this.keyPending=d,this.touchPending=a.changedTouches[0]))}}.bind(this);this.release=function(a){var b=f.keyman.singleton.textProcessor,c=document.getElementById("kmw-popup-keys"),d=this.currentTarget;this.cancelDelete();if(c&&"visible"==c.style.visibility||this.popupVisible){if(0<a.touches.length)return;if(null==d||0>d.id.indexOf("popup")&&
d.id!=this.popupBaseKey.id)this.highlightKey(this.keyPending,!1),this.clearPopup(),this.touchPending=this.keyPending=null}d&&d.id&&this.optionKey(d,d.id,!1);d=a.changedTouches[0].pageX;d=2>d&&5<this.touchX||d>window.innerWidth-2&&this.touchX<window.innerWidth-5;c=this.touchCount;0<this.touchCount&&this.touchCount--;this.keyPending?(this.highlightKey(this.keyPending,!1),0>this.keyPending.className.indexOf("hidden")&&0<c&&!d&&(d=this.getTouchProbabilities(a.changedTouches[0]),b.clickKey(this.keyPending,
a.changedTouches[0],this.layerId,d)),this.clearPopup(),this.touchPending=this.keyPending=null):(b=a.changedTouches[0],d=this.keyTarget(b.target),d||(b=document.elementFromPoint(b.clientX,b.clientY),d=this.findNearestKey(a,b)),this.highlightKey(d,!1))}.bind(this);this.moveOver=function(a){var b=f.keyman.singleton.util;a.preventDefault();a.cancelBubble=!0;"function"==typeof a.stopImmediatePropagation?a.stopImmediatePropagation():"function"==typeof a.stopPropagation&&a.stopPropagation();if(0==this.touchCount)this.cancelDelete();
else{var c="object"==typeof a.touches?a.touches[0].clientX:a.clientX,d="object"==typeof a.touches?a.touches[0].clientY:a.clientY;this.touchPending=a.changedTouches[0];var g=document.elementFromPoint(c,d),e=this.keyPending,k=this.keyTarget(g);if(k&&0<=k.className.indexOf("key-hidden")||g&&!k&&0<=g.className.indexOf("key-row"))k=this.findNearestKey(a,g);k&&"string"==typeof k.id&&0>k.id.indexOf("-K_BKSP")&&this.cancelDelete();if(!(1<a.touches.length))if(this.popupVisible)null==k?(e&&this.highlightKey(e,
!1),this.touchPending=this.keyPending=null):k==this.popupBaseKey?(b.hasClass(k,"kmw-key-touched")||this.highlightKey(k,!0),this.keyPending=k,this.touchPending=a.touches[0]):(e&&this.highlightKey(e,!1),this.touchPending=this.keyPending=null);else{(b=document.getElementById("kmw-popup-keys"))&&"visible"==b.style.visibility&&"phone"==this.device.formFactor&&k==this.popupBaseKey&&(k=b.childNodes[0].firstChild);this.currentTarget=k;e&&k&&k!==e&&this.highlightKey(e,!1);this.highlightSubKeys(k,c,d);if(b&&
"visible"==b.style.visibility){if(k&&0>k.id.indexOf("popup")&&k!=this.popupBaseKey)return;k&&k==this.popupBaseKey&&0>k.className.indexOf("kmw-key-touched")&&this.highlightKey(k,!0)}else c=Math.max(5,this.kbdDiv.offsetTop+this.kbdDiv.offsetParent.offsetTop-.25*this.kbdDiv.firstChild.offsetHeight),e&&a.touches[0].pageY<c&&(this.highlightKey(e,!1),this.showKeyTip(null,!1),this.touchPending=this.keyPending=null);k&&this.keyPending&&(this.keyPending=k,this.touchPending=a.touches[0]);this.keyPending&&(e!=
k||0>k.className.indexOf("kmw-key-touched"))&&this.highlightKey(k,!0);e&&k&&k!=e&&""!=k.id&&this.touchHold(k)}}}.bind(this);this.repeatDelete=function(){var a=f.keyman.singleton.textProcessor;this.deleting&&(a.clickKey(this.deleteKey),this.deleting=window.setTimeout(this.repeatDelete,100))}.bind(this);this.mouseOverMouseDownHandler=function(a){var b=f.keyman.singleton.util,c=b.eventTarget(a);null!==c&&"desktop"==this.device.formFactor&&("SPAN"==c.nodeName&&(c=c.parentNode),c=this.keyTarget(c),"mousedown"==
b.eventType(a)?(this.currentKey=c.id,b._CancelMouse(a),this.highlightKey(c,!0)):c.id==this.currentKey&&this.highlightKey(c,!0))}.bind(this);this.mouseUpMouseOutHandler=function(a){var b=f.keyman.singleton,c=b.util,d=c.eventTarget(a);null!==d&&"desktop"==this.device.formFactor&&("SPAN"==d.nodeName&&(d=d.parentNode),d=this.keyTarget(d),this.highlightKey(d,!1),"mouseup"==c.eventType(a)&&(d.id==this.currentKey&&b.textProcessor.clickKey(d),this.currentKey=""))}.bind(this);this.highlightSubKeys=this.highlightSubKeys||
function(a,b,c){};this.drawPreview=this.drawPreview||function(a,b,c,d){};this.addCallout=this.addCallout||function(a){return null};this.waitForFonts=this.waitForFonts||function(a,b){return!0};b=f.keyman.singleton;var k=b.util;this.device=g=g||k.device;e&&(this.isStatic=e);e=c;c=k._CreateElement("div");k=b.keyboardManager.activeKeyboard;if("object"!=typeof e||null==e)b=k?new h.utils.Version(k.KVER):new h.utils.Version(b.version),e=l.Layouts.buildDefaultLayout(a,b,d,g.formFactor);this.layout=l.ActiveLayout.polyfill(e,
g.formFactor);this.layers=e.layer;this.fontFamily="font"in e?e.font:"";e.keyLabels="undefined"!=typeof e.displayUnderlying?1==e.displayUnderlying:k&&"undefined"!=typeof k.KDU&&k.KDU;a=this.deviceDependentLayout(e,g.formFactor);this.ddOSK=!0;c.appendChild(a);this.kbdHelpDiv=this.kbdDiv=c;this.isStatic?c.childNodes[0].className=g.formFactor+"-static kmw-osk-inner-frame":c.className=g.formFactor+" kmw-osk-inner-frame"}c.prototype.getDefaultKeyObject=function(){return new b(void 0,"",l.ActiveKey.DEFAULT_KEY.width,
l.ActiveKey.DEFAULT_KEY.sp,null,l.ActiveKey.DEFAULT_KEY.pad)};c.prototype.deviceDependentLayout=function(a,b){var c=f.keyman.singleton.util,d=f.keyman.singleton.osk,g=100,e=c._CreateElement("div"),h=e.style;e.className="kmw-key-layer-group";switch(b){case "phone":case "tablet":var n=d.getHeight();h.height=n+"px";g=Math.round(100*d.getKeyboardHeight()/n)}if(null==a)return e;n=a.fontsize;h.fontSize="undefined"==typeof n||null==n||""==n?"1em":a.fontsize;this.fontSize=h.fontSize;var p;var w=a.layer;this.getDefaultKeyObject().fontsize=
h.fontSize;for(n=0;n<w.length;n++){var q=w[n],u=q.row;for(p=u.length;0<p&&!(0<u[p-1].key.length);p--);p<u.length&&u.splice(p-u.length,u.length-p)}var z=g/w[0].row.length;"desktop"==b&&(z=g/w[0].row.length);g="desktop"==b?100:d.getWidth();!this.isStatic&&this.device.touchable&&(e.addEventListener("touchstart",this.touch,!0),e.addEventListener("touchend",this.release,!0),e.addEventListener("touchmove",this.moveOver,!1));for(n=0;n<w.length;n++){q=w[n];d=c._CreateElement("div");p=d.style;d.className=
"kmw-key-layer";p.display=0==n?"block":"none";p.height=h.height;p.fontFamily="font"in a?a.font:"";d.layer=d.nextLayer=q.id;"string"==typeof q.nextlayer&&(d.nextLayer=q.nextlayer);u=q.row;for(p=0;p<u.length;p++){var U=c._CreateElement("div");U.className="kmw-key-row";U.onmousedown=c.mouseDownPreventDefaultHandler;var Q=u[p];var Ga=U.style;Ga.maxHeight=Ga.height=z+"%";var D=Q.key;var N=0;for(Q=0;Q<D.length-1;Q++){var J=D[Q].widthpc*g;D[Q].widthpc=J;var I=D[Q].padpc*g;D[Q].padpc=I;D[Q].proportionalX=
(N+I+J/2)/g;D[Q].proportionalWidth=J/g;N+=I+J}var X=l.ActiveKey.DEFAULT_RIGHT_MARGIN*g/q.totalWidth;N+=X;1==D.length&&0>parseInt(D[0].pad,10)?(J=D[0].widthpc*g,D[0].widthpc=J,N+=J,D[0].padpc=g-N,D[0].proportionalX=(N-X-J/2)/g,D[0].proportionalWidth=J/g):0<D.length&&(Q=D.length-1,I=D[Q].padpc*g,D[Q].padpc=I,N+=I,D[Q].widthpc=J=g-N,D[Q].proportionalX=(g-X-J/2)/g,D[Q].proportionalWidth=J/g);for(Q=N=0;Q<D.length;Q++)J=D[Q],J=(new k(J,q.id,b)).construct(this,a,Ga,N),U.appendChild(J.element),N+=J.percent;
d.appendChild(U)}e.appendChild(d)}return e};c.prototype.getTouchCoordinatesOnKeyboard=function(a){var b=f.keyman.singleton.util.getAbsolute(this.kbdDiv.firstChild);a={x:a.pageX-b.x,y:a.pageY-b.y};b=this.kbdDiv.firstChild;a.x/=b.offsetWidth;a.y/=b.offsetHeight;return a};c.prototype.getTouchProbabilities=function(a){if(!f.keyman.singleton.modelManager.mayCorrect)return null;a=this.getTouchCoordinatesOnKeyboard(a);var b=this.kbdDiv.firstChild;return this.layout.layer[this.layerIndex].getTouchProbabilities(a,
b.offsetWidth/b.offsetHeight)};c.prototype.keyTarget=function(b){var c=f.keyman.singleton.util;try{if(b){if(c.hasClass(b,"kmw-key"))return a(b);if(b.parentNode&&c.hasClass(b.parentNode,"kmw-key"))return a(b.parentNode);if(b.firstChild&&c.hasClass(b.firstChild,"kmw-key"))return a(b.firstChild)}}catch(t){}return null};c.prototype.findNearestKey=function(a,b){if(!a||"undefined"==typeof a.changedTouches||0==a.changedTouches.length)return null;for(a=a.changedTouches[0].pageX;b&&void 0!==b.className&&0>
b.className.indexOf("key-row");)b=b.parentNode;if(!b)return null;var c,d=0,g=24,f=1E5;for(c=0;c<b.childNodes.length;c++){var e=b.childNodes[c];if(!(void 0!==e.className&&0<=e.className.indexOf("key-hidden"))){var k=e.offsetLeft;var h=k+e.offsetWidth;if(a>=k&&a<=h)return e.firstChild;k-=a;0<=k&&k<f&&(d=c,f=k);k=a-h;0<=k&&k<f&&(d=c,f=k)}}return 1E5>f&&(b=b.childNodes[d],k=b.offsetLeft,h=k+b.offsetWidth,40<b.offsetWidth&&(g=.6*b.offsetWidth),0<=k-a&&k-a<g||0<=a-h&&a-h<g)?b.firstChild:null};c.prototype.cancelDelete=
function(){this.deleting&&window.clearTimeout(this.deleting);this.deleting=0};c.prototype.findKeyElement=function(a,b){for(var c=this.kbdDiv.firstChild,d=0;d<c.childElementCount;d++){var g=c.childNodes[d];if(g.firstChild.firstChild.firstChild.key.layer==a)for(var f=0;f<g.childElementCount;f++)for(var e=g.childNodes[f],k=0;k<e.childElementCount;k++){var h=e.childNodes[k].firstChild;if(h.keyId==b)return h}}return null};c.prototype._UpdateVKShiftStyle=function(a){var b,c=f.keyman.singleton.textProcessor;
if(a)for(b=0;b<this.layers.length&&this.layers[b].id!=this.layerId;b++);else{b=this.layerIndex;a=this.layers[b].id;var d=this.layers[b];b=["K_CAPS","K_NUMLOCK","K_SCROLL"];var g=[d.capsKey,d.numKey,d.scrollKey];for(d=0;d<g.length;d++)if(null!=g[d]){g[d].sp=c.stateKeys[b[d]]?l.Layouts.buttonClasses["SHIFT-ON"]:l.Layouts.buttonClasses.SHIFT;var e=a+"-"+b[d],k=document.getElementById(e);null==k&&(k=this.findKeyElement(a,b[d]));null!=k?this.setButtonClass(g[d],k,this.layout):console.warn('Could not find key to apply style: "'+
e+'"')}}};c.prototype.setButtonClass=function(a,b,c){var d=0,g="default shift shift-on special special-on    deadkey blank hidden".split(" ");"string"==typeof a.dk&&"1"==a.dk&&(d=8);"string"==typeof a.sp&&(d=parseInt(a.sp,10));if(0>d||10<d)d=0;c=c||this.layout;b.className=4<c.layer[0].row.length&&"phone"==this.device.formFactor?"kmw-key kmw-5rows kmw-key-"+g[d]:"kmw-key kmw-key-"+g[d]};c.prototype.clearPopup=function(){var a=f.keyman.singleton.osk,b=document.getElementById("kmw-popup-keys");null!=
b&&(b.shim&&a._Box.removeChild(b.shim),b.parentNode.removeChild(b));this.popupCallout&&a._Box.removeChild(this.popupCallout);this.popupCallout=null;this.subkeyDelayTimer&&(window.clearTimeout(this.subkeyDelayTimer),this.subkeyDelayTimer=null);this.popupBaseKey=null};c.prototype.showSubKeys=function(a){if(null!=this.keyPending){var b=f.keyman.singleton,c=b.util,d=this.device,g=a.subKeys,e=document.createElement("DIV");this.getDefaultKeyObject();e.id="kmw-popup-keys";this.popupBaseKey=a;"phone"==d.formFactor&&
this.prependBaseKey(a);var k=e.style;k.bottom=parseInt(a.style.bottom,10)+parseInt(a.style.height,10)+4+"px";k.fontFamily=this.fontFamily;k.fontSize=b.util.getStyleValue(a,"font-size");k.visibility="hidden";var n=g.length;var p=Math.min(Math.ceil(n/9),2);var l=Math.ceil(n/p);1<p&&(k.width=l*a.offsetWidth+5*l+"px");for(k=0;k<n;k++){var q=!1,u=Math.floor(k/l);1<p&&0<u&&(q=!0);q=(new f.keyman.osk.OSKSubKey(g[k],a.key.layer,d.formFactor)).construct(this,a,q);e.appendChild(q)}this.showKeyTip(null,!1);
b.osk._Box.appendChild(e);k=e.style;g=h.dom.Utils.getAbsoluteX(a)+.5*(a.offsetWidth-e.offsetWidth);c=(c.landscapeView()?screen.height:screen.width)-e.offsetWidth;g>c&&(g=c);0>g&&(g=0);k.left=g+"px";this.popupCallout=this.addCallout(a);k.visibility="visible";e.shim=document.createElement("DIV");e.shim.id="kmw-popup-shim";b.osk._Box.appendChild(e.shim);"phone"==d.formFactor&&(this.keyPending=a=e.childNodes[0].firstChild,this.highlightKey(a,!0))}};c.prototype.prependBaseKey=function(a){var c=a.subKeys,
d=f.keyman.singleton;if(a&&"undefined"!=typeof a.id){a.id.split("-");var g=a.keyId;var e=a.key.spec.layer;var k=a.key.spec.sp,h=a.key.spec.nextlayer;if("undefined"!=typeof c&&0<c.length&&(c[0].id!=g||c[0].layer!=e)){g=new b(g,"",void 0,k,h);""!=e&&(g.layer=e);for(e=0;e<a.childNodes.length&&!d.util.hasClass(a.childNodes[e],"kmw-key-text");e++);e<a.childNodes.length&&(g.text=a.childNodes[e].textContent);c.splice(0,0,g)}}};c.prototype.showLanguage=function(){var a=f.keyman.singleton,b="",c=a.keyboardManager.activeStub;
c?(a=c.KL,b=c.KN):a=a.getActiveLanguage(!0)?a.getActiveLanguage(!0):"English";try{var d=this.spaceBar.firstChild,g=d.parentNode;"undefined"==typeof g.className||""==g.className?g.className="kmw-spacebar":-1==g.className.indexOf("kmw-spacebar")&&(g.className+=" kmw-spacebar");d.className="kmw-spacebar-caption";b=b.replace(/\s*keyboard\s*/i,"");c="";c=b==a?a:a+" ("+b+")";d.innerHTML!=c&&(d.innerHTML=c)}catch(B){}};c.prototype.highlightKey=function(a,b){if(a&&""!=a.className&&!(0<=a.className.indexOf("kmw-key-row"))){var c=
a.className;null!=this.keytip&&0>c.indexOf("kmw-key-shift")&&0>c.indexOf("kmw-spacebar")&&0>a.id.indexOf("popup")?this.showKeyTip(a,b):b&&0>c.indexOf(" kmw-key-touched")?(a.className=c+" kmw-key-touched",this.showKeyTip(null,!1)):a.className=c.replace(" kmw-key-touched","")}};c.prototype.getKeyEmFontSize=function(){var a=f.keyman.singleton,b=a.util;if("desktop"==this.device.formFactor)return.8*this.getFontSizeFromCookie();var c=getComputedStyle(document.body).fontSize;c=b.getFontSizeStyle(c).val;
var d=1;this.isStatic||(d=b.getFontSizeStyle(a.osk._Box).val);return c*d};c.prototype.getFontSizeFromCookie=function(){var a=f.keyman.singleton.util,b=a.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof b||null==b)return 16;a=a.toNumber(b.height,.15*screen.height);a>.5*screen.height&&(a=.5*screen.height);return a/8};c.prototype.getSpecialKey=function(b,c){var d=this.kbdDiv.childNodes[0].childNodes;if(0<=b&&b<d.length)for(b=d[b].childNodes,b=b[b.length-1].childNodes,d=0;d<b.length;d++){var g=
a(b[d].firstChild);if(g&&g.keyId==c)return g}return null};c.prototype.show=function(){var a=this.device,b,c=-1,d=this.kbdDiv.childNodes[0].childNodes;for(b=0;b<d.length;b++){var g=d[b];g.layer==this.layerId?(g.style.display="block",this.nextLayer=this.layerId,this.layerIndex=c=b,"string"==typeof this.layers[b].nextlayer&&(this.nextLayer=this.layers[b].nextlayer),this._UpdateVKShiftStyle()):g.style.display="none"}a.touchable&&(this.lgKey=this.getSpecialKey(c,"K_LOPT"),this.hkKey=this.getSpecialKey(c,
"K_ROPT"),"iOS"==a.OS&&"phone"==a.formFactor&&this.adjustHeights());this.spaceBar=this.getSpecialKey(c,"K_SPACE")};c.prototype.showLayer=function(a){var b=f.keyman.singleton;if(a==this.layerId&&"desktop"!=this.device.formFactor)return!0;if(b.keyboardManager.activeKeyboard)for(var c=0;c<this.layers.length;c++)if(this.layers[c].id==a)return this.layerId=a,b.osk._Show(),!0;return!1};c.prototype.adjustHeights=function(){var a=f.keyman.singleton,b=a.osk._Box;if(!(b&&this.kbdDiv&&this.kbdDiv.firstChild&&
this.kbdDiv.firstChild.firstChild.childNodes))return!1;var c=1;"iOS"!=this.device.OS||a.isEmbedded||(c/=a.util.getViewportScale());a=this.computedAdjustedOskHeight();b=b.style;b.height=b.maxHeight=a+"px";b=this.kbdDiv.firstChild.style;b.height=b.maxHeight=a+"px";b.fontSize=c+"em";this.adjustLayerHeights(a);return!0};c.prototype.computedAdjustedOskHeight=function(){for(var a=this.device,b=this.kbdDiv.firstChild.childNodes,c=f.keyman.singleton.osk.getKeyboardHeight(),d=0,g=0;g<b.length;g++){var e=b[g].childNodes.length;
e*=Math.floor(c/(0==e?1:e));e>d&&(d=e)}b=d+0;"Android"==a.OS&&"devicePixelRatio"in window&&(b/=window.devicePixelRatio);return b};c.prototype.adjustLayerHeights=function(a){for(var b=f.keyman.singleton.osk,c=this.device,d=this.kbdDiv.firstChild.childNodes,g=0;g<d.length;g++){var e=d[g],k=d[g].childNodes.length;d[g].style.height=a+"px";var h=Math.floor(b.getKeyboardHeight()/(0==k?1:k));"Android"==c.OS&&"devicePixelRatio"in window&&(e.style.height=e.style.maxHeight=a+"px",h/=window.devicePixelRatio);
e=Math.round(.15*h);for(var p=0;p<k;p++){var n=d[g].childNodes[p].style,l=(k-p-1)*h+1;this.isStatic||(n.bottom=l+"px");n.maxHeight=n.height=h+"px";this.layout.layer[g].row[p].proportionalY=(a-l-h/2)/a;this.adjustRowHeights(d[g].childNodes[p].childNodes,h,l,e)}}};c.prototype.adjustRowHeights=function(a,b,c,d){var g=f.keyman.singleton.util,e=this.device;e="iOS"==e.OS&&"phone"==e.formFactor&&g.landscapeView();for(var k=a.length,h=0;h<k;h++){var p=a[h],n;for(n=0;n<p.childNodes.length&&!g.hasClass(p.childNodes[n],
"kmw-key");n++);var l=p.style;this.isStatic||(l.bottom=c-d/2+"px");l.height=l.minHeight=b+"px";l=p.childNodes[n].style;this.isStatic||(l.bottom=c+"px");l.height=l.minHeight=b-d+"px";e&&0<n&&(p.childNodes[0].style.fontSize="6px")}};c.prototype.appendStyleSheet=function(){var a=f.keyman.singleton,b=a.util,c=a.keyboardManager.activeKeyboard,d=a.keyboardManager.activeStub;if(null!=d){this.styleSheet&&b.removeStyleSheet(this.styleSheet);var g=d.KFont;d=d.KOskFont;b.addFontFaceStyleSheet(g);b.addFontFaceStyleSheet(d);
a.hideInputs();var e=this.addFontStyle(g,d);null!=c&&"string"==typeof c.KCSS&&(e+=c.KCSS);this.styleSheet=b.addStyleSheet(e);this.waitForFonts(g,d)&&a.alignInputs()}};c.prototype.addFontStyle=function(a,b){var c=f.keyman.singleton,d=c.baseFont;"undefined"!=typeof a&&"undefined"!=typeof a.family&&(d=a.family);d=d.replace(/\u0022/g,"");var g=new RegExp("\\s?"+d+",?"),e=c.appliedFont.replace(/\u0022/g,"");e=e.replace(g,"");e=e.replace(/,$/,"");e='"'+(""==e?d:d+","+e).replace(/,\s?/g,'","')+'"';d=".keymanweb-font{\nfont-family:"+
e+" !important;\n}\n";"undefined"!=typeof b?d=d+'.kmw-key-text{\nfont-family:"'+b.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n':"undefined"!=typeof a&&(d=d+'.kmw-key-text{\nfont-family:"'+a.family.replace(/\u0022/g,"").replace(/,/g,'","')+'";\n}\n');c.appliedFont=e;return d};c.buildDocumentationKeyboard=function(a,b,d,g){var e=f.keyman.singleton;b=e.keyboardManager.activeKeyboard;d="undefined"==typeof d?"desktop":d;g="undefined"==typeof g?"default":g;var k=new h.Device;k.formFactor=d;
"desktop"!=d&&(k.OS="iOS");var p=e.keyboardManager.keyboards;if(null!=a){var n=a.toLowerCase().replace("keyboard_","");for(a=0;a<p.length;a++)if(n==p[a].KI.toLowerCase().replace("keyboard_","")){b=p[a];break}}if(!b)return null;n=b.KVKL;a=null;p=b.KV;"object"==typeof n&&("object"==typeof n[d]&&null!=n[d]?a=n[d]:"phone"==d&&"object"==typeof n.tablet&&null!=n.tablet?a=n.tablet:"tablet"==d&&"object"==typeof n.phone&&null!=n.phone?a=n.phone:"object"==typeof n.desktop&&null!=n.desktop&&(a=n.desktop));null==
a&&null!=p&&(a=new h.utils.Version(b.KVER),a=l.Layouts.buildDefaultLayout(p,a,e.keyboardManager.getKeyboardModifierBitmask(b),d));null!=a&&(a.keyLabels="undefined"!=typeof a.displayUnderlying?1==a.displayUnderlying:"undefined"!=typeof b.KDU&&b.KDU);e=new c(p,null,a,e.keyboardManager.getKeyboardModifierBitmask(),k,!0);k=e.kbdDiv.childNodes[0];null!=a?(e.layerId=g,e.show(),e.adjustHeights(),k.style.fontSize=e.kbdDiv.style.fontSize):k.innerHTML="<p style='color:#c40; font-size:0.5em;margin:10px;'>No "+
d+" layout is defined for "+b.KN+".</p>";k.style.border="1px solid #ccc";return k};c.prototype.onHide=function(){this.hkKey&&this.highlightKey(this.hkKey,!1)};c.specialCharacters={"*Shift*":8,"*Enter*":5,"*Tab*":6,"*BkSp*":4,"*Menu*":11,"*Hide*":10,"*Alt*":25,"*Ctrl*":1,"*Caps*":3,"*ABC*":16,"*abc*":17,"*123*":19,"*Symbol*":21,"*Currency*":20,"*Shifted*":8,"*AltGr*":2,"*TabLeft*":7,"*LAlt*":86,"*RAlt*":87,"*LCtrl*":88,"*RCtrl*":89,"*LAltCtrl*":96,"*RAltCtrl*":97,"*LAltCtrlShift*":98,"*RAltCtrlShift*":99,
"*AltShift*":100,"*CtrlShift*":101,"*AltCtrlShift*":102,"*LAltShift*":103,"*RAltShift*":104,"*LCtrlShift*":105,"*RCtrlShift*":112};return c}();l.VisualKeyboard=u})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(h){var l=function(){function a(a){this.totalLength=0;this.x=a.pageX;this.totalLength=0}a.prototype.updateTo=function(a){var c=this.x;this.x=a.pageX;a={deltaX:this.x-c};this.totalLength+=Math.abs(a.deltaX);return a};Object.defineProperty(a.prototype,"hasScrolled",{get:function(){return this.totalLength>a.HAS_SCROLLED_FUDGE_FACTOR},enumerable:!0,configurable:!0});a.HAS_SCROLLED_FUDGE_FACTOR=10;return a}(),e=function(){function a(a,c,b){this.baseElement=a;this.rowClassMatch=
c;this.selectedTargetMatch=b}a.prototype.findTargetFromTouch=function(a,c,b){b=b?a.touches:a.changedTouches;if(!a||"undefined"==typeof b||0==b.length)return null;for(a=b[0].pageX;c&&void 0!==c.className&&0>c.className.indexOf(this.rowClassMatch);)c=c.parentNode;if(!c)return null;var d=0,e=24,f=1E5;for(b=0;b<c.childNodes.length;b++){var h=c.childNodes[b];if(!this.isInvalidTarget(this.findTargetFrom(h))){var l=h.offsetLeft;var n=l+h.offsetWidth;l-=a;0<=l&&l<f&&(d=b,f=l);n=a-n;0<=n&&n<f&&(d=b,f=n);if(0>
n&&0>l)return this.findTargetFrom(h)}}return 1E5>f&&(c=c.childNodes[d],l=c.offsetLeft,n=l+c.offsetWidth,40<c.offsetWidth&&(e=.6*c.offsetWidth),0<=l-a&&l-a<e||0<=a-n&&a-n<e)?this.findTargetFrom(c):null};a.prototype.findBestTarget=function(a,c){var b=c?document.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY):a.changedTouches[0].target;var d=this.findTargetFrom(b);d||(d=this.findTargetFromTouch(a,b,c));return d};a.prototype.isInvalidTarget=function(a){return!1};a.prototype.touchStart=function(a){this.currentTarget=
this.findBestTarget(a);this.touchX=a.changedTouches[0].pageX;this.touchY=a.changedTouches[0].pageY;this.touchCount=a.touches.length;this.currentTarget&&(this.scrollTouchState=this.currentTarget.clientWidth<this.currentTarget.scrollWidth?new l(a.changedTouches[0]):null,this.highlight(this.currentTarget,!0),this.pendingTarget?(this.highlight(this.pendingTarget,!1),this.select(this.pendingTarget),this.clearHolds(),this.touchCount--):this.hold(this.currentTarget),this.pendingTarget=this.currentTarget)};
a.prototype.touchEnd=function(a){var c=this.currentTarget;if(this.isSubmenuActive()||this.hasModalPopup()){if(0<a.touches.length)return;if(null==c||0>c.id.indexOf("popup")&&c.id!=this.popupBaseTarget.id)this.highlight(this.pendingTarget,!1),this.clearHolds(),this.pendingTarget=null}c=a.changedTouches[0].pageX;c=2>c&&5<this.touchX||c>window.innerWidth-2&&this.touchX<window.innerWidth-5;this.scrollTouchState&&(c=c||this.scrollTouchState.hasScrolled);var b=this.touchCount;0<this.touchCount&&this.touchCount--;
this.pendingTarget?(this.highlight(this.pendingTarget,!1),0>this.pendingTarget.className.indexOf("hidden")&&0<b&&!c&&this.select(this.pendingTarget),this.clearHolds(),this.pendingTarget=null):(c=this.findBestTarget(a))&&this.highlight(c,!1)};a.prototype.touchMove=function(a){var c=f.keyman.singleton,b=c.util;a.preventDefault();a.cancelBubble=!0;"function"==typeof a.stopImmediatePropagation?a.stopImmediatePropagation():"function"==typeof a.stopPropagation&&a.stopPropagation();if(!(1<a.touches.length||
0==this.touchCount))if(this.currentTarget&&null!=this.scrollTouchState)a=this.scrollTouchState.updateTo(a.changedTouches[0]).deltaX,this.currentTarget.scrollLeft-=window.devicePixelRatio*a;else{var d="object"==typeof a.touches?a.touches[0].clientY:a.clientY,e=this.pendingTarget,h=this.findBestTarget(a,!0);if(this.hasModalPopup())null==h?(e&&this.highlight(e,!1),this.pendingTarget=null):h==this.popupBaseTarget?(b.hasClass(h,this.selectedTargetMatch)||this.highlight(h,!0),this.pendingTarget=h):(e&&
this.highlight(e,!1),this.pendingTarget=null);else{this.currentTarget=h=this.dealiasSubTarget(h);e&&h&&h!==e&&this.highlight(e,!1);if(h&&this.hasSubmenu(h)){!c.isEmbedded&&5<this.touchY-d&&!this.isSubmenuActive()&&this.displaySubmenuFor(h);if(h&&0>h.id.indexOf("popup")&&h!=this.popupBaseTarget)return;h&&h==this.popupBaseTarget&&0>h.className.indexOf(this.selectedTargetMatch)&&this.highlight(h,!0)}else b=this.baseElement,c=b.offsetParent.offsetTop+b.offsetTop,b=b.offsetHeight,d=Math.max(5,c-.25*b),
e&&(a.touches[0].pageY<d||a.touches[0].pageY>c+b+.25*b)&&(this.highlight(e,!1),this.clearHolds(),this.pendingTarget=null);h&&this.pendingTarget&&(this.pendingTarget=h);this.pendingTarget&&h&&(e!=h||0>h.className.indexOf(this.selectedTargetMatch))&&this.highlight(h,!0);e&&h&&h!=e&&""!=h.id&&this.hold(h)}}};return a}();h.UITouchHandlerBase=e})(h.dom||(h.dom={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){var q=function(){function a(b){var c=f.keyman.singleton.util._CreateElement("div");c.id=a.BANNER_ID;c.className=a.BANNER_CLASS;this.div=c;this.height=b;this.update()}Object.defineProperty(a.prototype,"height",{get:function(){return this._height},set:function(a){this._height=0<a?a:0;this.update()},enumerable:!0,configurable:!0});a.prototype.update=function(){var a=this.div.style,b=a.height,c=a.display;0<this._height?(a.height=this._height+"px",a.display="block"):
(a.height="0px",a.display="none");return b!==a.height||c!==a.display};a.prototype.appendStyleSheet=function(){};a.prototype.getDiv=function(){return this.div};a.prototype.activate=function(){};a.prototype.deactivate=function(){};a.DEFAULT_HEIGHT=37;a.BANNER_CLASS="kmw-banner-bar";a.BANNER_ID="kmw-banner-bar";return a}();l.Banner=q;var e=function(a){function b(){return a.call(this,0)||this}__extends(b,a);return b}(q);l.BlankBanner=e;e=function(a){function b(b,c){if(0<b.length){var d=a.call(this)||
this;c&&(d.height=c)}else d=a.call(this,0)||this;0<=b.indexOf("base64")?console.log("Loading img from base64 data"):console.log("Loading img with src '"+b+"'");d.img=document.createElement("img");d.img.setAttribute("src",b);b=d.img.style;b.width="100%";b.height="100%";d.getDiv().appendChild(d.img);console.log("Image loaded.");return d}__extends(b,a);b.prototype.setImagePath=function(a){this.img&&this.img.setAttribute("src",a)};return b}(q);l.ImageBanner=e;var a=function(){function a(a){this._applyFunctor=
null;var b=f.keyman.singleton;this.index=a;this.constructRoot();a=this.display=b.util._CreateElement("span");this.div.appendChild(a)}a.prototype.constructRoot=function(){var b=f.keyman.singleton,c=this.div=b.util._CreateElement("div"),e=c.style;c.className="kmw-suggest-option";c.id=a.BASE_ID+this.index;if(b=b.keyboardManager.activeStub)b.KLC&&(c.lang=b.KLC),(c=b.KFont)&&c.family&&""!=c.family&&(e.fontFamily=this.fontFamily=c.family);e.width=(100-d.MARGIN*(d.SUGGESTION_LIMIT-1))/d.SUGGESTION_LIMIT+
"%";this.div.suggestion=this};Object.defineProperty(a.prototype,"suggestion",{get:function(){return this._suggestion},enumerable:!0,configurable:!0});a.prototype.update=function(a,b){this._suggestion=a;this._applyFunctor=b||null;this.updateText()};a.prototype.updateText=function(){var a=this.generateSuggestionText();this.div.replaceChild(a,this.display);this.display=a};a.prototype.apply=function(a){var b=f.keyman.singleton;if(this.isEmpty())return[null,null];if(this._applyFunctor)return this._applyFunctor(),
[null,null];var c=b.modelManager.getPredictionState(this._suggestion.transformId);if(c){a||(a=h.text.Processor.getOutputTarget());var d=h.text.Mock.from(c.preInput);d.apply(this._suggestion.transform);var g=d.buildTransformFrom(a);d=b.modelManager.wordbreak(a);a.apply(g);if(b.oninserttext&&b.isEmbedded)b.oninserttext(g.deleteLeft,g.insert,g.deleteRight);b=h.text.Mock.from(c.preInput);b.apply(c.transform);return[b.buildTranscriptionFrom(a,null),d]}console.warn("Could not apply the Suggestion!");return[null,
null]};a.prototype.isEmpty=function(){return!this._suggestion};a.prototype.generateSuggestionText=function(){var a=f.keyman.singleton,b=this._suggestion,c=a.util._CreateElement("span");c.className="kmw-suggestion-text";if(null==b)return c;null==b.displayAs||""==b.displayAs?b="\u00a0":(a=a.keyboardManager.isRTL(),b=String.fromCharCode(a?8238:8237)+b.displayAs);c.innerHTML=b;return c};a.BASE_ID="kmw-suggestion-";return a}();l.BannerSuggestion=a;var d=function(b){function d(g){g=b.call(this,g||q.DEFAULT_HEIGHT)||
this;g.getDiv().className=g.getDiv().className+" "+d.BANNER_CLASS;g.options=[];for(var e=0;e<d.SUGGESTION_LIMIT;e++){var k=new a(e);g.options[e]=k}k=f.keyman.singleton.keyboardManager.isRTL();for(e=0;e<d.SUGGESTION_LIMIT;e++){var h=k?d.SUGGESTION_LIMIT-e-1:e;g.getDiv().appendChild(g.options[h].div);if(e!=d.SUGGESTION_LIMIT){h=f.keyman.singleton.util._CreateElement("div");h.className="kmw-banner-separator";var n=h.style;n.marginLeft=d.MARGIN/2+"%";n.marginRight=d.MARGIN/2+"%";g.getDiv().appendChild(h)}}g.manager=
new c(g.getDiv(),g.options);g.setupTouchHandling();return g}__extends(d,b);d.prototype.setupTouchHandling=function(){var a=f.keyman.singleton,b=this.getDiv(),c=this.manager;a.util.device.touchable&&(b.addEventListener("touchstart",function(a){c.touchStart(a)},!0),b.addEventListener("touchend",function(a){c.touchEnd(a)},!0),b.addEventListener("touchmove",function(a){c.touchMove(a)},!1))};d.prototype.activate=function(){var a=f.keyman.singleton,b=this.manager;a.modelManager.addEventListener("invalidatesuggestions",
b.invalidateSuggestions);a.modelManager.addEventListener("suggestionsready",b.updateSuggestions);a.modelManager.addEventListener("tryaccept",b.tryAccept);a.modelManager.addEventListener("tryrevert",b.tryRevert);a.modelManager.predict()};d.prototype.deactivate=function(){var a=f.keyman.singleton,b=this.manager;a.modelManager.removeEventListener("invalidatesuggestions",b.invalidateSuggestions);a.modelManager.removeEventListener("suggestionsready",b.updateSuggestions);a.modelManager.removeEventListener("tryaccept",
b.tryAccept);a.modelManager.removeEventListener("tryrevert",b.tryRevert)};d.prototype.rotateSuggestions=function(){this.manager.rotateSuggestions()};d.SUGGESTION_LIMIT=3;d.MARGIN=1;d.TOUCHED_CLASS="kmw-suggest-touched";d.BANNER_CLASS="kmw-suggest-banner";return d}(q);l.SuggestionBanner=d;var c=function(b){function c(a,c){a=b.call(this,a,q.BANNER_CLASS,d.TOUCHED_CLASS)||this;a.initNewContext=!0;a.currentSuggestions=[];a.recentAccept=!1;a.preAccept=null;a.swallowPrediction=!1;a.doRevert=!1;a.recentRevert=
!1;a.rejectedSuggestions=[];a._applyReversion=function(){var a=f.keyman.singleton,b=h.text.Processor.getOutputTarget(),c=this.preAccept,d=h.text.Mock.from(c.preInput);d.apply(c.transform);c=d.buildTransformFrom(b);b.apply(c);if(a.oninserttext&&a.isEmbedded)a.oninserttext(c.deleteLeft,c.insert,c.deleteRight);this.currentSuggestions=this.previousSuggestions;this.currentTranscriptionID=this.previousTranscriptionID;a=this.currentSuggestions.indexOf(this.recentAccepted);-1!=a&&(this.rejectedSuggestions.push(this.recentAccepted),
this.currentSuggestions.splice(a,1));this.doRevert=this.recentAccept=!1;this.recentRevert=!0;this.doUpdate()}.bind(a);a.tryAccept=function(a){return!this.recentAccept&&this.selected?(this.doAccept(this.selected),!1):this.recentAccept&&"space"==a?this.recentAccept=!1:!0}.bind(a);a.tryRevert=function(){this.doRevert?this.recentAccept=this.doRevert=!1:this.recentAccept&&(this.showRevert(),this.swallowPrediction=!0);return!0}.bind(a);a.invalidateSuggestions=function(a){this.initNewContext=!1;this.swallowPrediction&&
"context"!=a||(this.recentRevert=this.doRevert=this.recentAccept=!1,this.rejectedSuggestions=[],"context"==a&&(this.swallowPrediction=!1,this.initNewContext=!0));this.options.forEach(function(a){a.update(null)})}.bind(a);a.updateSuggestions=function(a){var b=a.suggestions;this.currentSuggestions=b;this.currentTranscriptionID=a.transcriptionID;for(a=0;a<b.length;a++){var c=b[a];"keep"==c.tag&&(this.keepSuggestion=c)}this.keepSuggestion&&this.currentSuggestions.splice(this.currentSuggestions.indexOf(this.keepSuggestion),
1);this.swallowPrediction?this.swallowPrediction=!1:(this.recentRevert=this.doRevert=this.recentAccept=!1,this.rejectedSuggestions=[]);this.doUpdate()}.bind(a);a.options=c;return a}__extends(c,b);c.prototype.findTargetFrom=function(a){var b=f.keyman.singleton.util;try{if(a){if(b.hasClass(a,"kmw-suggest-option"))return a;if(a.parentNode&&b.hasClass(a.parentNode,"kmw-suggest-option"))return a.parentNode}}catch(u){}return null};c.prototype.highlight=function(b,c){var g=b.className,e=" "+d.TOUCHED_CLASS;
-1==b.id.indexOf(a.BASE_ID)?console.warn("Cannot find BannerSuggestion object for element to highlight!"):(this.selected=b.suggestion).isEmpty()&&(c=!1,this.selected=null);c&&0>g.indexOf(e)?b.className=g+e:b.className=g.replace(e,"")};c.prototype.select=function(a){this.doAccept(a.suggestion)};c.prototype.hold=function(a){a=a.suggestion;var b=-1==this.currentSuggestions.indexOf(a.suggestion);this.platformHold&&this.platformHold(a,b)};c.prototype.clearHolds=function(){};c.prototype.hasModalPopup=function(){return f.keyman.singleton.osk.vkbd.popupVisible};
c.prototype.dealiasSubTarget=function(a){return a};c.prototype.hasSubmenu=function(a){return!1};c.prototype.isSubmenuActive=function(){return!1};c.prototype.displaySubmenuFor=function(a){throw Error("Method not implemented.");};c.prototype.doAccept=function(a){var b=a.apply(),c=b[0];b=b[1];var d=this;c&&(this.preAccept=c,b.then(function(a){d.preAcceptText=a}),this.selected=null,this.recentAccept=!0,this.recentRevert=this.doRevert=!1,this.recentAccepted=a.suggestion,this.previousSuggestions=this.currentSuggestions,
this.previousTranscriptionID=this.currentTranscriptionID,a=f.keyman.singleton,this.swallowPrediction=!0,a.modelManager.predict())};c.prototype.showRevert=function(){this.revertSuggestion={transform:null,displayAs:'"'+this.preAcceptText+'"'};this.doRevert=!0;this.doUpdate()};c.prototype.activateKeep=function(){return!this.recentAccept&&!this.recentRevert&&!this.initNewContext};c.prototype.doUpdate=function(){var a=this,b=[];this.activateKeep()&&this.keepSuggestion?b.push(this.keepSuggestion):this.doRevert&&
b.push(this.revertSuggestion);b=b.concat(this.currentSuggestions);this.options.forEach(function(c,d){d<b.length?c.update(b[d],0==d&&a.doRevert?a._applyReversion:null):c.update(null)})};c.prototype.rotateSuggestions=function(){if(0<this.currentSuggestions.length){var a=d.SUGGESTION_LIMIT-(this.activateKeep()?1:0);a=this.currentSuggestions.splice(0,a);this.rejectedSuggestions=this.rejectedSuggestions.concat(a)}0==this.currentSuggestions.length&&(this.currentSuggestions=this.rejectedSuggestions,this.rejectedSuggestions=
[]);this.doUpdate()};return c}(h.dom.UITouchHandlerBase);l.SuggestionManager=c})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(h){var l=function(){function e(){this._options={};this.imagePath="";this.constructContainer();this.setOptions(e.DEFAULT_OPTIONS);f.keyman.singleton.modelManager.addEventListener("modelchange",this.selectBanner.bind(this))}e.prototype.constructContainer=function(){var a=f.keyman.singleton.util._CreateElement("div");a.id="keymanweb_banner_container";a.className="kmw-banner-container";return this.bannerContainer=a};Object.defineProperty(e.prototype,"element",{get:function(){return this.bannerContainer},
enumerable:!0,configurable:!0});e.prototype.getOptions=function(){var a={},d;for(d in this._options)a[d]=this._options[d];return a};e.prototype.setOptions=function(a){var d=f.keyman.singleton,c;for(c in a){switch(c){case "alwaysShow":this.alwaysShow=a[c];break;case "mayPredict":d.modelManager.mayPredict=a[c];break;case "mayCorrect":d.modelManager.mayCorrect=a[c];break;case "imagePath":this.imagePath=a[c]}this._options[c]=a[c]}this.selectBanner()};e.prototype.appendStyles=function(){this.activeBanner&&
this.activeBanner.appendStyleSheet()};e.prototype.setBanner=function(a,d){switch(a){case "blank":d=new h.BlankBanner;break;case "image":d=new h.ImageBanner(this.imagePath,h.Banner.DEFAULT_HEIGHT);break;case "suggestion":d=new h.SuggestionBanner(d);break;default:throw Error("Invalid type specified for the banner!");}this._activeType=a;d&&(this._setBanner(d),d.activate())};e.prototype.selectBanner=function(a){f.keyman.singleton.modelManager.activeModel?this.setBanner("suggestion"):this.alwaysShow?this.setBanner("image"):
this.setBanner("blank")};e.prototype._setBanner=function(a){if(this.activeBanner){if(a==this.activeBanner)return;var d=this.activeBanner;d.deactivate();this.bannerContainer.replaceChild(a.getDiv(),d.getDiv())}this.activeBanner=a;this.bannerContainer.appendChild(a.getDiv());f.keyman.singleton.osk._Show()};Object.defineProperty(e.prototype,"activeType",{get:function(){return this._activeType},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"height",{get:function(){return this.activeBanner?
this.activeBanner.height:0},set:function(a){this.activeBanner&&(this.activeBanner.height=a)},enumerable:!0,configurable:!0});e.DEFAULT_OPTIONS={alwaysShow:!1,mayPredict:!0,mayCorrect:!0,imagePath:""};return e}();h.BannerManager=l})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){var q=function(){function e(){this.ready=!1;this.loadRetry=0;this._Visible=!1;this._Enabled=!0;this.vpScale=1;this.noDrag=this.userPositioned=!1;this.modifierCodes=h.text.Codes.modifierCodes;this.modifierBitmasks=h.text.Codes.modifierBitmasks;this.stateBitmasks=h.text.Codes.stateBitmasks;this.keyCodes=h.text.Codes.keyCodes;this.restorePosition=function(){this._Visible&&(f.keyman.singleton.domManager.focusLastActiveElement(),this.loadCookie(),this.userPositioned=
!1,this.saveCookie(),this._Show(),this.doResizeMove());this.pinImg&&(this.pinImg.style.display="none");window.event&&(window.event.returnValue=!1)}.bind(this);this._VKbdMouseOver=function(a){f.keyman.singleton.uiManager.setActivatingUI(!0)}.bind(this);this._VKbdMouseOut=function(a){f.keyman.singleton.uiManager.setActivatingUI(!1)}.bind(this);this._VResizeMouseOver=this._VResizeMouseOut=function(a){a=f.keyman.singleton._GetEventObject(a);if(!a)return!1;a&&a.preventDefault&&a.preventDefault();var d=
this.getRect();this.width=d.width;this.height=d.height;a.cancelBubble=!0;return!1}.bind(this);this._VResizeMouseDown=function(a){var d=f.keyman.singleton;d.uiManager.justActivated=!0;a=d._GetEventObject(a);if(!a)return!0;this.resizing=!0;if(a.pageX){var c=a.pageX;var b=a.pageY}else a.clientX&&(c=a.clientX+document.body.scrollLeft,b=a.clientY+document.body.scrollTop);this._ResizeMouseX=c;this._ResizeMouseY=b;document.onmousemove!=this._VResizeMouseMove&&document.onmousemove!=this._VMoveMouseMove&&
(this._VPreviousMouseMove=document.onmousemove,this._VPreviousMouseUp=document.onmouseup);this._VPreviousCursor=document.body.style.cursor;this._VPreviousMouseButton="undefined"==typeof a.which?a.button:a.which;this._VOriginalWidth=this.vkbd.kbdDiv.offsetWidth;this._VOriginalHeight=this.vkbd.kbdDiv.offsetHeight;document.onmousemove=this._VResizeMouseMove;document.onmouseup=this._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="se-resize");a&&a.preventDefault&&a.preventDefault();
a.cancelBubble=!0;return!1}.bind(this);this._VResizeMouseMove=function(a){a=f.keyman.singleton._GetEventObject(a);if(!a)return!0;this.resizing=!0;if(this._VPreviousMouseButton!=("undefined"==typeof a.which?a.button:a.which))return this._VResizeMoveMouseUp(a);if(a.pageX){var d=a.pageX;var c=a.pageY}else a.clientX&&(d=a.clientX+document.body.scrollLeft,c=a.clientY+document.body.scrollTop);d=this._VOriginalWidth+d-this._ResizeMouseX;c=this._VOriginalHeight+c-this._ResizeMouseY;d<.2*screen.width&&(d=
.2*screen.width);c<.1*screen.height&&(c=.1*screen.height);d>.9*screen.width&&(d=.9*screen.width);c>.5*screen.height&&(d=.5*screen.height);this.vkbd.kbdDiv.style.width=d+"px";this.vkbd.kbdDiv.style.height=c+"px";this.vkbd.kbdDiv.style.fontSize=c/8+"px";a&&a.preventDefault&&a.preventDefault();a.cancelBubble=!0;return!1}.bind(this);this._VMoveMouseDown=function(a){var d=f.keyman.singleton;d.uiManager.justActivated=!0;a=d._GetEventObject(a);if(!a)return!0;this.resizing=!0;if(a.pageX){var c=a.pageX;var b=
a.pageY}else a.clientX&&(c=a.clientX+document.body.scrollLeft,b=a.clientY+document.body.scrollTop);document.onmousemove!=this._VResizeMouseMove&&document.onmousemove!=this._VMoveMouseMove&&(this._VPreviousMouseMove=document.onmousemove,this._VPreviousMouseUp=document.onmouseup);this._VPreviousCursor=document.body.style.cursor;this._VPreviousMouseButton="undefined"==typeof a.which?a.button:a.which;this._VMoveX=c-this._Box.offsetLeft;this._VMoveY=b-this._Box.offsetTop;d.keyboardManager.isCJK()&&(this.pinImg.style.left=
"15px");document.onmousemove=this._VMoveMouseMove;document.onmouseup=this._VResizeMoveMouseUp;document.body.style.cursor&&(document.body.style.cursor="move");a&&a.preventDefault&&a.preventDefault();a.cancelBubble=!0;return!1}.bind(this);this._VMoveMouseMove=function(a){a=f.keyman.singleton._GetEventObject(a);if(!a||this.noDrag)return!0;this.userPositioned=this.resizing=!0;this.pinImg.style.display="block";if(this._VPreviousMouseButton!=("undefined"==typeof a.which?a.button:a.which))return this._VResizeMoveMouseUp(a);
if(a.pageX){var d=a.pageX;var c=a.pageY}else a.clientX&&(d=a.clientX+document.body.scrollLeft,c=a.clientY+document.body.scrollTop);this._Box.style.left=d-this._VMoveX+"px";this._Box.style.top=c-this._VMoveY+"px";a&&a.preventDefault&&a.preventDefault();d=this.getRect();this.width=d.width;this.height=d.height;a.cancelBubble=!0;return!1}.bind(this);this._VResizeMoveMouseUp=function(a){var d=f.keyman.singleton;a=d._GetEventObject(a);if(!a)return!0;this.resizing=!1;this.vkbd&&(this.vkbd.currentKey=null);
document.onmousemove=this._VPreviousMouseMove;document.onmouseup=this._VPreviousMouseUp;document.body.style.cursor&&(document.body.style.cursor=this._VPreviousCursor);d.domManager.focusLastActiveElement();a&&a.preventDefault&&a.preventDefault();d.uiManager.justActivated=!1;d.uiManager.setActivatingUI(!1);this.vkbd&&(this._VOriginalWidth=this.vkbd.kbdDiv.offsetWidth,this._VOriginalHeight=this.vkbd.kbdDiv.offsetHeight);this.doResizeMove();a.cancelBubble=!0;this.saveCookie();return!1}.bind(this);this.hideNow=
function(){this._Box.removeEventListener("transitionend",this.hideNow,!1);this._Box.removeEventListener("webkitTransitionEnd",this.hideNow,!1);if(!(0<=document.body.className.indexOf("osk-always-visible"))){var a=this._Box.style;a.display="none";a.opacity="1";this._Visible=!1;a.transition=a.msTransition=a.MozTransition=a.WebkitTransition="";if(this.vkbd)this.vkbd.onHide()}}.bind(this)}e.prototype.prepare=function(){var a=f.keyman.singleton,d=a.util;if(a.initialized){if(!this.ready&&(this._Box=d._CreateElement("div"),
document.body.appendChild(this._Box),d.linkStyleSheet(a.getStyleSheetPath("kmwosk.css")),d.attachDOMEvent(this._Box,"mousedown",function(b){a.uiManager.setActivatingUI(!0);return!1}),d.device.touchable)){var c=function(a){a.cancelable&&a.preventDefault();a.stopPropagation();return!1};d.attachDOMEvent(this._Box,"touchstart",function(b){a.uiManager.setActivatingUI(!0);return c(b)});d.attachDOMEvent(this._Box,"touchend",c);d.attachDOMEvent(this._Box,"touchmove",c);d.attachDOMEvent(this._Box,"touchcancel",
c);this.vpScale=d.getViewportScale()}this.loadCookie();this.banner=new l.BannerManager;this.ready=!0}else window.setTimeout(this.prepare.bind(this),200)};e.prototype._Unload=function(){this._Box=this.banner=this.vkbd=null};e.prototype._Load=function(){var a=f.keyman.singleton,d=a.util,c=d.device,b=a.keyboardManager.activeKeyboard;if(null==this._Box)99<=this.loadRetry||(window.setTimeout(this._Load.bind(this),100),this.loadRetry++);else{this.loadRetry=0;a._TitleElement&&(a._TitleElement.innerHTML=
"KeymanWeb");this._Visible=!1;var g=this._Box.style;g.zIndex="9999";g.display="none";g.width=c.touchable?"100%":"auto";g.position="desktop"==c.formFactor?"absolute":"fixed";if(c.touchable){var e=1;if("phone"==c.formFactor)e=1.92*(a.isEmbedded?.65:.6);else{var h=1;"Android"==c.OS&&"devicePixelRatio"in window&&(h=window.devicePixelRatio);e="Android"==c.OS&&"tablet"==c.formFactor&&this.getHeight()<300*h?1.2*e:2*e}g.fontSize=e+"em"}this.vkbd=null;this._Box.innerHTML="";this._Box.onmouseover=this._VKbdMouseOver;
this._Box.onmouseout=this._VKbdMouseOut;if(null!=b||c.touchable){e=null;h=null;g="";this._Box.className="";if(null!=b){e=b.KV;g=b.KH;var q=b.KVKL;"undefined"!=typeof q&&null!=q&&(h=q[c.formFactor],"undefined"==typeof h||null==h)&&("phone"==c.formFactor?h=q.tablet:"tablet"==c.formFactor&&(h=q.phone),"undefined"==typeof h||null==h)&&(h=q.desktop)}if(null!=e&&null!=e.BK){q=e.BK;for(var z=!0,n=0;n<q.length;n++)if(0<q[n].length){z=!1;break}z&&(e=null)}null!=e||""==g||c.touchable?(null==e&&(e={F:"Tahoma",
BK:l.Layouts.dfltText}),this._GenerateVisualKeyboard(e,g,h,a.keyboardManager.getKeyboardModifierBitmask())):(c=d._CreateElement("div"),c.className="kmw-title-bar",c.appendChild(this._TitleBarInterior()),c.onmousedown=this._VMoveMouseDown,this._Box.appendChild(c),c=d._CreateElement("div"),c.className="kmw-osk-static",c.innerHTML=g,this._Box.appendChild(c),b.KHF&&b.KHF(this._Box));a._TitleElement&&(a._TitleElement.innerHTML="<span style='font-weight:bold'>"+b.KN+"</span> - "+a._TitleElement.innerHTML,
a._TitleElement.className="",a._TitleElement.style.color="#fff")}else c=d._CreateElement("div"),c.className="kmw-title-bar",c.appendChild(this._TitleBarInterior()),c.onmousedown=this._VMoveMouseDown,this._Box.appendChild(c),c=d._CreateElement("div"),c.className="kmw-osk-none",this._Box.appendChild(c);a=this._Box.firstChild;b=" kmw-keyboard-"+(b?b.KI.replace("Keyboard_",""):"");"keymanweb_title_bar"==a.id?a=a.nextSibling.nextSibling:"keymanweb_banner_container"==a.id&&(a=a.nextSibling);a.className=
"kmw-osk-inner-frame"+b;this.banner.appendStyles();this.vkbd&&(this.vkbd.createKeyTip(),this.vkbd.appendStyleSheet());this._Enabled&&this._Show()}};e.prototype._GenerateVisualKeyboard=function(a,d,c,b){this.vkbd=new f.keyman.osk.VisualKeyboard(a,d,c,b);a=f.keyman.singleton.util;this._Box.className=a.device.formFactor+" "+a.device.OS.toLowerCase()+" kmw-osk-frame";"desktop"==a.device.formFactor&&this._Box.appendChild(this.controlBar());this.banner&&this._Box.appendChild(this.banner.element);this._Box.appendChild(this.vkbd.kbdDiv);
"desktop"==a.device.formFactor?this._Box.appendChild(this.resizeBar()):this.vkbd.adjustHeights()};e.prototype.controlBar=function(){var a=f.keyman.singleton,d=a.util,c=d._CreateElement("div"),b="";c.id="keymanweb_title_bar";c.className="kmw-title-bar";c.onmousedown=this._VMoveMouseDown;a.keyboardManager.activeKeyboard&&(b=a.keyboardManager.activeKeyboard.KN);a=d._CreateElement("span");a.className="kmw-title-bar-caption";a.innerHTML=b;c.appendChild(a);b=this.closeButton=d._CreateElement("div");b.id=
"kmw-close-button";b.className="kmw-title-bar-image";b.onmousedown=d._CancelMouse;b.onclick=function(){this._Hide(!0)}.bind(this);c.appendChild(b);b=this.helpImg=d._CreateElement("div");b.id="kmw-help-image";b.className="kmw-title-bar-image";b.title="KeymanWeb Help";b.onclick=function(){d.callEvent("osk.helpclick",{});window.event&&(window.event.returnValue=!1);return!1};b.onmousedown=d._CancelMouse;c.appendChild(b);b=this.configImg=d._CreateElement("div");b.id="kmw-config-image";b.className="kmw-title-bar-image";
b.title="KeymanWeb Configuration Options";b.onclick=function(){d.callEvent("osk.configclick",{});window.event&&(window.event.returnValue=!1);return!1};b.onmousedown=d._CancelMouse;c.appendChild(b);b=this.pinImg=d._CreateElement("div");b.id="kmw-pin-image";b.className="kmw-title-bar-image";b.title="Pin the On Screen Keyboard to its default location on the active text box";b.onclick=function(){this.loadCookie();this.userPositioned=!1;this.saveCookie();this._Show();this.doResizeMove();this.pinImg&&(this.pinImg.style.display=
"none");window.event&&(window.event.returnValue=!1);return!1}.bind(this);b.onmousedown=d._CancelMouse;c.appendChild(b);return c};e.prototype.resizeBar=function(){var a=f.keyman.singleton.util,d=a._CreateElement("div");d.className="kmw-footer";d.onmousedown=a._CancelMouse;var c=a._CreateElement("div");c.className="kmw-footer-caption";c.innerHTML='<a href="https://keyman.com/developer/keymanweb/">KeymanWeb</a>';c.id="keymanweb-osk-footer-caption";a.attachDOMEvent(c,"dblclick",function(a){a&&a.shiftKey&&
this.showBuild();return!1}.bind(this),!1);"onselectstart"in c&&(c.onselectstart=a.selectStartHandler);d.appendChild(c);a=a._CreateElement("div");a.className="kmw-footer-resize";a.onmousedown=this._VResizeMouseDown;a.onmouseover=a.onmouseout=this._VResizeMouseOut;d.appendChild(a);this.resizeIcon=a;return d};e.prototype.showBuild=function(){var a=f.keyman.singleton;a.util.alert("KeymanWeb Version "+a.version+"."+a.build+'<br /><br /><span style="font-size:0.8em">Copyright &copy; 2017 SIL International</span>')};
e.prototype._TitleBarInterior=function(){var a=f.keyman.singleton,d=a.util,c=d._CreateElement("div"),b=c.style;b.paddingLeft="2px";b.cursor="move";b.background="#ad4a28";b.font="8pt Tahoma,Arial,sans-serif";b=d._CreateElement("div");b.className="kmw-title-bar-actions";b.onmousedown=d._CancelMouse;var g=d._CreateElement("div");g.className="kmw-close-button";g.onmousedown=d._CancelMouse;g.onclick=function(){this._Hide(!0)}.bind(this);this.closeButton=g;b.appendChild(g);g=this.pinImg=d._CreateElement("div");
g.className="kmw-pin-image";g.title="Pin the On Screen Keyboard to its default location on the active text box";g.onclick=this.restorePosition;g.onmousedown=d._CancelMouse;g.style.display="none";d.device.touchable||b.appendChild(g);c.appendChild(b);a=a._TitleElement=d._CreateElement("span");a.className="kmw-title-bar-caption";a.innerHTML="KeymanWeb";c.appendChild(a);return c};e.prototype.isEnabled=function(){return this._Enabled};e.prototype.isVisible=function(){return this._Visible};e.prototype.saveCookie=
function(){var a=f.keyman.singleton.util,d=a.loadCookie("KeymanWeb_OnScreenKeyboard"),c=this.getPos();d.visible=this._Enabled?1:0;d.userSet=this.userPositioned?1:0;d.left=c.left;d.top=c.top;this.vkbd&&(d.width=this.width,d.height=this.height);a.saveCookie("KeymanWeb_OnScreenKeyboard",d)};e.prototype.loadCookie=function(){var a=f.keyman.singleton.util,d=a.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof d||null==d)return this.userPositioned=!1;this._Enabled=1==a.toNumber(d.visible,1);
this.userPositioned=1==a.toNumber(d.userSet,0);this.x=a.toNumber(d.left,-1);this.y=a.toNumber(d.top,-1);var c=a.toNumber(d.width,.3*screen.width);a=a.toNumber(d.height,.15*screen.height);c<.2*screen.width&&(c=.2*screen.width);a<.1*screen.height&&(a=.1*screen.height);c>.9*screen.width&&(c=.9*screen.width);a>.5*screen.height&&(a=.5*screen.height);this.vkbd&&(this.vkbd.kbdDiv.style.width=c+"px",this.vkbd.kbdDiv.style.height=a+"px",this.vkbd.kbdDiv.style.fontSize=a/8+"px");-1!=this.x&&-1!=this.y&&this._Box||
(this.userPositioned=!1);this.x<window.pageXOffset-.8*c&&(this.x=window.pageXOffset-.8*c);0>this.y&&(this.y=this.x=-1,this.userPositioned=!1);this.userPositioned&&this._Box&&this.setPos({left:this.x,top:this.y});return!0};e.prototype.getWidthFromCookie=function(){var a=f.keyman.singleton.util,d=a.loadCookie("KeymanWeb_OnScreenKeyboard");if("undefined"==typeof d||null==d)return.3*screen.width;a=a.toNumber(d.width,.3*screen.width);a<.2*screen.width?a=.2*screen.width:a>.9*screen.width&&(a=.9*screen.width);
return a};e.prototype.getBannerHeight=function(){return null!=this.banner?this.banner.height:0};e.prototype.getKeyboardHeight=function(){var a=f.keyman.singleton,d=a.util.device;if("function"==typeof a.getOskHeight)return a.getOskHeight();var c=Math.floor(Math.min(screen.availHeight,screen.availWidth)/2);if("phone"==d.formFactor){var b=Math.min(screen.height,screen.width),g=Math.max(screen.height,screen.width);c=a.util.portraitView()?Math.floor(Math.max(screen.availHeight,screen.availWidth)/3):g/
b*c/1.6}"iOS"==d.OS&&(c/=a.util.getViewportScale());"Android"==d.OS&&"phone"==d.formFactor&&"devicePixelRatio"in window&&/Firefox|Chrome|OPR/.test(navigator.userAgent)&&(c*=window.devicePixelRatio);return c};e.prototype.getHeight=function(){return this.getBannerHeight()+this.getKeyboardHeight()};e.prototype.getWidth=function(){var a=f.keyman.singleton,d=a.util.device;if("function"==typeof a.getOskWidth)return a.getOskWidth();if("iOS"==d.OS)var c=window.innerWidth;else if("Android"==d.OS)try{c=document.documentElement.clientWidth}catch(b){c=
screen.availWidth}else c=screen.width;return c};e.prototype.doResizeMove=function(a){return f.keyman.singleton.util.callEvent("osk.resizemove",a)};e.prototype.getRect=function(){var a={};this.vkbd?(a.left=a.left=h.dom.Utils.getAbsoluteX(this.vkbd.kbdDiv),a.top=a.top=h.dom.Utils.getAbsoluteY(this.vkbd.kbdDiv),a.width=a.width=h.dom.Utils.getAbsoluteX(this.vkbd.kbdHelpDiv)-h.dom.Utils.getAbsoluteX(this.vkbd.kbdDiv)+this.vkbd.kbdHelpDiv.offsetWidth,a.height=a.height=h.dom.Utils.getAbsoluteY(this.vkbd.kbdHelpDiv)-
h.dom.Utils.getAbsoluteY(this.vkbd.kbdDiv)+this.vkbd.kbdHelpDiv.offsetHeight):(a.left=a.left=h.dom.Utils.getAbsoluteX(this._Box),a.top=a.top=h.dom.Utils.getAbsoluteY(this._Box),a.width=a.width=h.dom.Utils.getAbsoluteX(this._Box)+this._Box.offsetWidth,a.height=a.height=h.dom.Utils.getAbsoluteY(this._Box)+this._Box.offsetHeight);return a};e.prototype.setRect=function(a){var d=f.keyman.singleton.util;if(null!=this._Box&&"desktop"==d.device.formFactor){d=this._Box;var c=d.style;"left"in a&&(c.left=a.left-
h.dom.Utils.getAbsoluteX(d)+d.offsetLeft+"px",this.dfltX=c.left);"top"in a&&(c.top=a.top-h.dom.Utils.getAbsoluteY(d)+d.offsetTop+"px",this.dfltY=c.top);if(null!=this.vkbd){var b=this.vkbd.kbdDiv;c=b.style;if("width"in a){var g=a.width-(d.offsetWidth-b.offsetWidth);g<.2*screen.width&&(g=.2*screen.width);g>.9*screen.width&&(g=.9*screen.width);c.width=g+"px";this.width=g}"height"in a&&(d=a.height-(d.offsetHeight-b.offsetHeight),d<.1*screen.height&&(d=.1*screen.height),d>.5*screen.height&&(d=.5*screen.height),
c.height=d+"px",c.fontSize=d/8+"px",this.height=d);"nosize"in a&&this.resizeIcon&&(this.resizeIcon.style.display=a.nosize?"none":"block")}"nomove"in a&&(this.noDrag=a.nomove,this.pinImg&&(this.pinImg.style.display=a.nomove||!this.userPositioned?"none":"block"));this.saveCookie()}};e.prototype.getPos=function(){var a=this._Box;return{left:this._Visible?a.offsetLeft:this.x,top:this._Visible?a.offsetTop:this.y}};e.prototype.setPos=function(a){if("undefined"!=typeof this._Box&&!f.keyman.singleton.util.device.touchable){if(this.userPositioned){var d=
a.left;a=a.top;"undefined"!=typeof d&&(d<-.8*this._Box.offsetWidth&&(d=-.8*this._Box.offsetWidth),this.userPositioned&&(this._Box.style.left=d+"px",this.x=d));"undefined"!=typeof a&&(0>a&&(a=0),this.userPositioned&&(this._Box.style.top=a+"px",this.y=a))}this.pinImg&&(this.pinImg.style.display=this.userPositioned?"block":"none")}};e.prototype._Show=function(a,d){var c=f.keyman.singleton,b=c.util.device;if(null!=this._Box&&null!=c.domManager.getActiveElement()&&(b.touchable||null!=c.keyboardManager.activeKeyboard&&
this._Enabled)){var g=this._Box.style;b.touchable&&""==g.bottom&&(g.visibility="hidden");b.touchable&&(g.opacity="1");if(this.vkbd&&this.vkbd.ddOSK&&(this.vkbd.show(),b.touchable)){g.position="fixed";g.left=g.bottom="0px";var e=this.vkbd.kbdDiv.firstChild.style.height;e=e.substr(0,e.indexOf("px"));g.height=g.maxHeight=this.getBannerHeight()+parseInt(e,10)+5+"px";g.border="none";g.borderTop="1px solid gray";this._Visible=this._Enabled=!0}g.display="block";this.vkbd&&this.vkbd.showLanguage();"desktop"==
b.formFactor&&(g.position="absolute",g.display="block",g.left="0px",this.loadCookie(),0<=a?(g.left=a+"px",g.top=d+"px"):this.userPositioned?(g.left=this.x+"px",g.top=this.y+"px"):(a=c.domManager.getActiveElement(),d=a.ownerDocument,"on"==d.designMode&&d.defaultView&&d.defaultView.frameElement&&(a=d.defaultView.frameElement),this.dfltX?g.left=this.dfltX:"undefined"!=typeof a&&null!=a&&(g.left=h.dom.Utils.getAbsoluteX(a)+"px"),this.dfltY?g.top=this.dfltY:"undefined"!=typeof a&&null!=a&&(g.top=h.dom.Utils.getAbsoluteY(a)+
a.offsetHeight+"px")),this._Visible=this._Enabled=!0,this.vkbd&&this.vkbd.kbdDiv&&(this.width=this.vkbd.kbdDiv.offsetWidth,this.height=this.vkbd.kbdDiv.offsetHeight),this.saveCookie(),a=this.pinImg,"undefined"!=typeof a&&null!=a&&(a.style.display=this.userPositioned?"block":"none"));"hidden"==g.visibility&&window.setTimeout(function(){this._Box.style.visibility="visible"}.bind(this),0);b.touchable||(b={},b.x=this._Box.offsetLeft,b.y=this._Box.offsetTop,b.userLocated=this.userPositioned,this.doShow(b))}};
e.prototype._Hide=function(a){var d=f.keyman.singleton,c=d.util.device;this._Box&&"block"==this._Box.style.display&&this.vkbd&&this.vkbd.kbdDiv&&(this.width=this.vkbd.kbdDiv.offsetWidth,this.height=this.vkbd.kbdDiv.offsetHeight);if(a)this._Enabled=d.keyboardManager.isCJK()||c.touchable?!0:!1,this.saveCookie();else if("desktop"==c.formFactor&&0<=document.body.className.indexOf("osk-always-visible"))return;this._Visible=!1;this._Box&&c.touchable&&0<this._Box.offsetHeight?(c=this._Box.style,c.transition=
"string"==typeof c.MozBoxSizing?"opacity 0.8s linear":c.msTransition=c.WebkitTransition="opacity 0.5s linear 0",window.setTimeout(function(){var a=this._Box.style;this._Visible?a.transition=a.msTransition=a.MozTransition=a.WebkitTransition="":(a.opacity="0",this._Box.addEventListener("transitionend",this.hideNow,!1),this._Box.addEventListener("webkitTransitionEnd",this.hideNow,!1))}.bind(this),200)):this._Box&&(this._Box.style.display="none");c={};c.HiddenByUser=a;this.doHide(c);a&&d.domManager.focusLastActiveElement()};
e.prototype.hide=function(){this._Enabled=!1;this._Hide(!0)};e.prototype.doShow=function(a){return f.keyman.singleton.util.callEvent("osk.show",a)};e.prototype.doHide=function(a){return f.keyman.singleton.util.callEvent("osk.hide",a)};e.prototype.showLanguageMenu=function(){(new l.LanguageMenu(f.keyman.singleton)).show()};e.prototype.userLocated=function(){return this.userPositioned};e.prototype.show=function(a){0<arguments.length?(this._Enabled=a)?this._Show():this._Hide(!0):this._Visible?this._Hide(!0):
this._Show()};e.prototype.addEventListener=function(a,d){return f.keyman.singleton.util.addEventListener("osk."+a,d)};e.prototype.shutdown=function(){var a=this._Box;a.parentElement&&a.parentElement.removeChild(a)};return e}();l.OSKManager=q})(h.osk||(h.osk={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
function LMLayerWorkerCode(){String.prototype.codePointAt||function(){var a=function(){try{var a={},c=Object.defineProperty,d=c(a,a,a)&&c}catch(p){}return d}(),c=function(a){if(null==this)throw TypeError();var b=String(this),c=b.length,d=a?Number(a):0;d!=d&&(d=0);if(!(0>d||d>=c))return a=b.charCodeAt(d),55296<=a&&56319>=a&&c>d+1&&(b=b.charCodeAt(d+1),56320<=b&&57343>=b)?1024*(a-55296)+b-56320+65536:a};a?a(String.prototype,"codePointAt",{value:c,configurable:!0,writable:!0}):String.prototype.codePointAt=
c}();String.prototype.startsWith||function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(u){}return c}(),c={}.toString,b=function(a){if(null==this)throw TypeError();var b=String(this);if(a&&"[object RegExp]"==c.call(a))throw TypeError();var d=b.length,g=String(a),e=g.length,f=1<arguments.length?arguments[1]:void 0;f=f?Number(f):0;f!=f&&(f=0);f=Math.min(Math.max(f,0),d);if(e+f>d)return!1;for(d=-1;++d<e;)if(b.charCodeAt(f+d)!=g.charCodeAt(d))return!1;return!0};a?a(String.prototype,
"startsWith",{value:b,configurable:!0,writable:!0}):String.prototype.startsWith=b}();Array.from||(Array.from=function(){var a=Object.prototype.toString,c=function(b){return"function"===typeof b||"[object Function]"===a.call(b)},b=Math.pow(2,53)-1;return function(a){var d=Object(a);if(null==a)throw new TypeError("Array.from requires an array-like object - not null or undefined");var g=1<arguments.length?arguments[1]:void 0,e;if("undefined"!==typeof g){if(!c(g))throw new TypeError("Array.from: when provided, the second argument must be a function");
2<arguments.length&&(e=arguments[2])}var f=Number(d.length);f=isNaN(f)?0:0!==f&&isFinite(f)?(0<f?1:-1)*Math.floor(Math.abs(f)):f;f=Math.min(Math.max(f,0),b);for(var h=c(this)?Object(new this(f)):Array(f),l=0,q;l<f;)q=d[l],h[l]=g?"undefined"===typeof e?g(q,l):g.call(e,q,l):q,l+=1;h.length=f;return h}}());String.kmwFromCharCode=function(a){var c=[],b;for(b=0;b<arguments.length;b++){var d=Number(arguments[b]);if(!isFinite(d)||0>d||1114111<d||Math.floor(d)!==d)throw new RangeError("Invalid code point "+
d);65536>d?c.push(d):(d-=65536,c.push((d>>10)+55296),c.push(d%1024+56320))}return String.fromCharCode.apply(void 0,c)};String.prototype.kmwCharCodeAt=function(a){var c=String(this),b=0;if(0>a||a>=c.length)return NaN;for(var d=0;d<a;d++)if(b=c.kmwNextChar(b),null===b)return NaN;a=c.charCodeAt(b);return 55296<=a&&56319>=a&&c.length>b+1&&(c=c.charCodeAt(b+1),56320<=c&&57343>=c)?(a-55296<<10)+(c-56320)+65536:a};String.prototype.kmwIndexOf=function(a,c){var b=String(this);a=b.indexOf(a,c);if(0>a)return a;
for(var d=c=0;null!==d&&d<a;d=b.kmwNextChar(d))c++;return c};String.prototype.kmwLastIndexOf=function(a,c){var b=String(this);a=b.lastIndexOf(a,c);if(0>a)return a;for(var d=c=0;null!==d&&d<a;d=b.kmwNextChar(d))c++;return c};String.prototype.kmwLength=function(){var a=String(this);if(0==a.length)return 0;for(var c=0,b=0;null!==b;c++)b=a.kmwNextChar(b);return c};String.prototype.kmwSlice=function(a,c){var b=String(this);a=b.kmwCodePointToCodeUnit(a);c=b.kmwCodePointToCodeUnit(c);return null===a||null===
c?"":b.slice(a,c)};String.prototype.kmwSubstr=function(a,c){var b=String(this);0>a&&(a=b.kmwLength()+a);0>a&&(a=0);var d=b.kmwCodePointToCodeUnit(a),e=d;if(null===d)return"";if(2>arguments.length)e=b.length;else for(var f=0;f<c;f++)e=b.kmwNextChar(e);return null===e?b.substring(d):b.substring(d,e)};String.prototype.kmwSubstring=function(a,c){var b=String(this);if("undefined"==typeof c)a=b.kmwCodePointToCodeUnit(a),c=b.length;else{if(a>c){var d=a;a=c;c=d}a=b.kmwCodePointToCodeUnit(a);c=b.kmwCodePointToCodeUnit(c)}if(isNaN(a)||
null===a)a=0;if(isNaN(c)||null===c)c=b.length;return b.substring(a,c)};String.prototype.kmwNextChar=function(a){var c=String(this);if(null===a||0>a||a>=c.length-1)return null;var b=c.charCodeAt(a);return 55296<=b&&56319>=b&&c.length>a+1&&(b=c.charCodeAt(a+1),56320<=b&&57343>=b)?a==c.length-2?null:a+2:a+1};String.prototype.kmwPrevChar=function(a){var c=String(this);if(null==a||0>=a||a>c.length)return null;var b=c.charCodeAt(a-1);return 56320<=b&&57343>=b&&1<a&&(c=c.charCodeAt(a-2),55296<=c&&56319>=
c)?a-2:a-1};String.prototype.kmwCodePointToCodeUnit=function(a){if(null===a)return null;var c=String(this),b=0;if(0>a){b=c.length;for(var d=0;d>a;d--)b=c.kmwPrevChar(b);return b}if(a==c.kmwLength())return c.length;for(d=0;d<a;d++)b=c.kmwNextChar(b);return b};String.prototype.kmwCodeUnitToCodePoint=function(a){var c=String(this);return null===a?null:0==a?0:0>a?c.substr(a).kmwLength():c.substr(0,a).kmwLength()};String.prototype.kmwCharAt=function(a){var c=String(this);return 0<=a?c.kmwSubstr(a,1):""};
String.prototype.kmwBMPNextChar=function(a){var c=String(this);return 0>a||a>=c.length-1?null:a+1};String.prototype.kmwBMPPrevChar=function(a){var c=String(this);return 0>=a||a>c.length?null:a-1};String.prototype.kmwBMPCodePointToCodeUnit=function(a){return a};String.prototype.kmwBMPCodeUnitToCodePoint=function(a){return a};String.prototype.kmwBMPLength=function(){return String(this).length};String.prototype.kmwBMPSubstr=function(a,c){var b=String(this);return-1<a?b.substr(a,c):b.substr(b.length+
a,-a)};String.kmwEnableSupplementaryPlane=function(a){var c=String.prototype;String._kmwFromCharCode=a?String.kmwFromCharCode:String.fromCharCode;c._kmwCharAt=a?c.kmwCharAt:c.charAt;c._kmwCharCodeAt=a?c.kmwCharCodeAt:c.charCodeAt;c._kmwIndexOf=a?c.kmwIndexOf:c.indexOf;c._kmwLastIndexOf=a?c.kmwLastIndexOf:c.lastIndexOf;c._kmwSlice=a?c.kmwSlice:c.slice;c._kmwSubstring=a?c.kmwSubstring:c.substring;c._kmwSubstr=a?c.kmwSubstr:c.kmwBMPSubstr;c._kmwLength=a?c.kmwLength:c.kmwBMPLength;c._kmwNextChar=a?c.kmwNextChar:
c.kmwBMPNextChar;c._kmwPrevChar=a?c.kmwPrevChar:c.kmwBMPPrevChar;c._kmwCodePointToCodeUnit=a?c.kmwCodePointToCodeUnit:c.kmwBMPCodePointToCodeUnit;c._kmwCodeUnitToCodePoint=a?c.kmwCodeUnitToCodePoint:c.kmwBMPCodeUnitToCodePoint};var f;(function(a){var c=function(){function a(a){a=a||{};this._futureSuggestions=a.futureSuggestions?a.futureSuggestions.slice():[];a.punctuation&&(this.punctuation=a.punctuation)}a.prototype.configure=function(a){return this.configuration={leftContextCodePoints:a.maxLeftContextCodePoints,
rightContextCodePoints:a.maxRightContextCodePoints}};a.prototype.predict=function(a,b,c){a=function(a){for(var b=[],c=0;c<a.length;c++)b.push({sample:a[c],p:1});return b};return c?a(c):(c=this._futureSuggestions.shift())?a(c):[]};a.prototype.wordbreak=function(a){a=h.default_(a.left);return 0<a.length?a.pop().text:""};return a}();a.DummyModel=c})(f||(f={}));var h;(function(a){var c=function(){function a(a,b){this.text=a;this.start=b}Object.defineProperty(a.prototype,"length",{get:function(){return this.text.length},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"end",{get:function(){return this.start+this.text.length},enumerable:!0,configurable:!0});return a}();a.ascii=function(a){for(var b=/[A-Za-z0-9']+/g,d=[],e;null!==(e=b.exec(a));)d.push(new c(e[0],e.index));return d}})(h||(h={}));var l=function(){function a(c){this.lexicalModel=c;this.punctuation=a.determinePunctuationFromModel(c)}a.prototype.isWhitespace=function(a){if(""==a.insert)return!1;a=a.insert;a=a.replace(/.*[\u0009\u000A\u000D\u0020\u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000]/i,
"");return""==a};a.prototype.isBackspace=function(a){return""==a.insert&&0<a.deleteLeft};a.prototype.predict=function(c,b){var d=[],e=this.punctuation,h={};c instanceof Array||(c=[{sample:c,p:1}]);var l=c.sort(function(a,b){return b.p-a.p})[0].sample,q=this.isWhitespace(l),n=this.isBackspace(l),w=f.applyTransform(l,b),t=this.lexicalModel.wordbreak(w),H=null;w=function(a){var c=a.sample;if(x.isWhitespace(c)&&!q||x.isBackspace(c)&&!n)return"continue";var d=!1;if(x.isWhitespace(c)){var g=f.applyTransform(c,
b);d=""==x.lexicalModel.wordbreak(g)}x.lexicalModel.predict(c,b).forEach(function(b){void 0!==c.id&&(b.sample.transformId=c.id);d&&f.prependTransform(b.sample.transform,c);0<b.sample.transform.insert.length&&(b.sample.transform.insert+=e.insertAfterWord);var g=b.sample.displayAs;if(g==t)H=b.sample,H.tag="keep";else{var k=h[g];k?k.p+=b.p*a.p:h[g]={sample:b.sample,p:b.p*a.p}}})};for(var x=this,B=0;B<c.length;B++)w(c[B]);H||""==t||(H={displayAs:t,transformId:l.id,transform:{insert:l.insert+e.insertAfterWord,
deleteLeft:l.deleteLeft,deleteRight:l.deleteRight,id:l.id},tag:"keep"});H&&(c=e.quotesForKeepSuggestion,l=c.open,c=c.close,H.displayAs=e.isRTL?c+H.displayAs+l:l+H.displayAs+c);for(var M in h)d.push(h[M]);d=d.sort(function(a,b){return b.p-a.p});d=d.splice(0,a.MAX_SUGGESTIONS).map(function(a){return a.sample});H&&(d=[H].concat(d));return d};a.determinePunctuationFromModel=function(a){var b=q;if(!a.punctuation)return b;a=a.punctuation;var c=a.insertAfterWord;""===c||c||(c=b.insertAfterWord);var d=a.quotesForKeepSuggestion;
d||(d=b.quotesForKeepSuggestion);return{insertAfterWord:c,quotesForKeepSuggestion:d,isRTL:a.isRTL}};a.MAX_SUGGESTIONS=12;return a}(),q={quotesForKeepSuggestion:{open:"\u201c",close:"\u201d"},insertAfterWord:" "},e=this&&this.__assign||function(){e=Object.assign||function(a){for(var c,b=1,d=arguments.length;b<d;b++){c=arguments[b];for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a};return e.apply(this,arguments)},a=function(){function a(a){void 0===a&&(a={importScripts:null,
postMessage:null});this._postMessage=a.postMessage||postMessage;this._importScripts=a.importScripts||importScripts;this.setupConfigState()}a.prototype.error=function(a,b){this.cast("error",{log:a,error:b&&b.stack?b.stack:void 0})};a.prototype.onMessage=function(a){if(!a.data.message)throw Error("Missing required 'message' property: "+a.data);a=a.data;if("load"==a.message){if(a.model==this._currentModelSource){"undefined"!==typeof console&&console.warn("Duplicate model load message detected - squashing!");
return}this._currentModelSource=a.model}else"unload"==a.message&&(this._currentModelSource=null);this.state.handleMessage(a)};a.prototype.cast=function(a,b){var c=this._postMessage;c(e({message:a},b))};a.prototype.loadModel=function(a){try{var b=a.configure(this._platformCapabilities);b.leftContextCodePoints||(b.leftContextCodePoints=b.leftContextCodeUnits);b.rightContextCodePoints||(b.rightContextCodePoints=b.rightContextCodeUnits);b.leftContextCodePoints||(b.leftContextCodePoints=this._platformCapabilities.maxLeftContextCodePoints);
b.rightContextCodePoints||(b.rightContextCodePoints=this._platformCapabilities.maxRightContextCodePoints||0);this.transitionToReadyState(a);this.cast("ready",{configuration:b})}catch(g){this.error("loadModel failed!",g)}};a.prototype.loadModelFile=function(a){try{this._importScripts(a)}catch(b){this.error("Error occurred when attempting to load dictionary",b)}};a.prototype.unloadModel=function(){this.transitionToLoadingState()};a.prototype.setupConfigState=function(){var a=this;this.state={name:"unconfigured",
handleMessage:function(b){if("config"!==b.message)throw Error("invalid message; expected 'config' but got "+b.message);a._platformCapabilities=b.capabilities;a.transitionToLoadingState()}}};a.prototype.transitionToLoadingState=function(){var a=this;this.state={name:"modelless",handleMessage:function(b){if("load"!==b.message)throw Error("invalid message; expected 'load' but got "+b.message);a.loadModelFile(b.model)}}};a.prototype.transitionToReadyState=function(a){var b=this;this.state={name:"ready",
handleMessage:function(c){switch(c.message){case "predict":var d=c.transform,e=c.context;d=(new l(a)).predict(d,e);b.cast("suggestions",{token:c.token,suggestions:d});break;case "wordbreak":d=a.wordbreak(c.context);b.cast("currentword",{token:c.token,word:d});break;case "unload":b.unloadModel();break;default:throw Error("invalid message; expected one of {'predict', 'unload'} but got "+c.message);}}}};a.install=function(c){var b=new a({postMessage:c.postMessage,importScripts:c.importScripts.bind(c)});
c.onmessage=b.onMessage.bind(b);c.LMLayerWorker=b;c.models=f;c.wordBreakers=h;return b};return a}();"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports=a,module.exports.models=f,module.exports.wordBreakers=h,module.exports.ModelCompositor=l):"undefined"!==typeof self&&"postMessage"in self?a.install(self):window.LMLayerWorker=a;(function(a){a.applyTransform=function(a,b){var c=b.left||"",d=c.length;c=c.substring(0,d-(d<a.deleteLeft?d:a.deleteLeft))+(a.insert||"");d=b.right||
"";var e=d.length;a=d.substring(e<a.deleteRight?e:a.deleteRight);return{left:c,right:a,startOfBuffer:b.startOfBuffer,endOfBuffer:b.endOfBuffer}};a.prependTransform=function(a,b){a.insert=b.insert+a.insert;a.deleteLeft+=b.deleteLeft;b.deleteRight&&(a.deleteRight=(a.deleteRight||0)+b.deleteRight)}})(f||(f={}));(function(a){a.placeholder=function(a){var b=0;return a.split(/\s+/).map(function(a){a={start:b,end:b+a.length,text:a,length:a.length};b=a.end;return a})}})(h||(h={}));(function(a){function c(a,
b,d){void 0===d&&(d=0);if("leaf"===a.type||d===b.length)return a;var e=b[d];return a.children[e]?c(a.children[e],b,d+1):null}function b(a,b,c,d){void 0===d&&(d=12);var e=new l,f=[];if("leaf"===a.type){var g=0;for(a=a.entries;g<a.length;g++){var h=a[g];if(h.key.startsWith(b)&&(f.push({text:h.content,p:h.weight/c}),f.length>=d))break}}else{e.enqueue(a);var k=void 0;b=function(){if("type"in k)if("leaf"===k.type)e.enqueueAll(k.entries);else{var a=k;e.enqueueAll(k.values.map(function(b){return a.children[b]}))}else if(f.push({text:k.content,
p:k.weight/c}),f.length>=d)return{value:f}};for(;k=e.pop();)if(g=b(),"object"===typeof g)return g.value}return f}function d(a){return a.replace(/[\u0100-\u2200]/g,function(a){return a in q?q[a]:a}).toLowerCase()}var e=function(){function b(a,b){void 0===b&&(b={});this._trie=new f(a.root,a.totalWeight,b.searchTermToKey||d);this.breakWords=b.wordBreaker||h["default"];this.punctuation=b.punctuation}b.prototype.configure=function(a){return this.configuration={leftContextCodePoints:a.maxLeftContextCodePoints,
rightContextCodePoints:a.maxRightContextCodePoints}};b.prototype.predict=function(b,c){function d(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push({sample:d,p:d.p})}return b}if(!b.insert&&c.startOfBuffer&&c.endOfBuffer)return d(this._trie.firstN(12).map(function(a){var b=a.text;return{transform:{insert:b,deleteLeft:0},displayAs:b,p:a.p}}));c=a.applyTransform(b,c);var e=b.deleteLeft-b.insert.kmwLength(),f=this.getLastWord(c.left);return d(this._trie.lookup(f).map(function(a){var b=a.text;a=a.p;
return{transform:{insert:b,deleteLeft:e+f.kmwLength()},displayAs:b,p:a}}))};b.prototype.getLastWord=function(a){a=this.breakWords(a);return 0<a.length?a.pop().text:""};b.prototype.wordbreak=function(a){return this.getLastWord(a.left)};return b}();a.TrieModel=e;var f=function(){function a(a,b,c){this.root=a;this.toKey=c;this.totalWeight=b}a.prototype.lookup=function(a){a=this.toKey(a);var d=c(this.root,a);return null===d?[]:b(d,a,this.totalWeight)};a.prototype.firstN=function(a){return b(this.root,
"",this.totalWeight,a)};return a}(),l=function(){function a(){this._storage=[]}a.prototype.enqueue=function(a){this._storage.push(a)};a.prototype.enqueueAll=function(a){this._storage=this._storage.concat(a)};a.prototype.pop=function(){this._storage.sort(function(a,b){return b.weight-a.weight});return this._storage.shift()};return a}(),q={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00c7":"C","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00cc":"I","\u00cd":"I",
"\u00ce":"I","\u00cf":"I","\u00d1":"N","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00dd":"Y","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00e7":"c","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00f1":"n","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00fd":"y",
"\u00ff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u011d":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0128":"I","\u0129":"i",
"\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s",
"\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i",
"\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u01de":"A","\u01df":"a","\u01e0":"A","\u01e1":"a","\u01e2":"\u00c6","\u01e3":"\u00e6","\u01e6":"G","\u01e7":"g","\u01e8":"K","\u01e9":"k","\u01ea":"O","\u01eb":"o","\u01ec":"O","\u01ed":"o","\u01ee":"\u01b7","\u01ef":"\u0292","\u01f0":"j","\u01f4":"G","\u01f5":"g","\u01f8":"N","\u01f9":"n","\u01fa":"A","\u01fb":"a","\u01fc":"\u00c6","\u01fd":"\u00e6",
"\u01fe":"\u00d8","\u01ff":"\u00f8","\u0200":"A","\u0201":"a","\u0202":"A","\u0203":"a","\u0204":"E","\u0205":"e","\u0206":"E","\u0207":"e","\u0208":"I","\u0209":"i","\u020a":"I","\u020b":"i","\u020c":"O","\u020d":"o","\u020e":"O","\u020f":"o","\u0210":"R","\u0211":"r","\u0212":"R","\u0213":"r","\u0214":"U","\u0215":"u","\u0216":"U","\u0217":"u","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u021e":"H","\u021f":"h","\u0226":"A","\u0227":"a","\u0228":"E","\u0229":"e","\u022a":"O","\u022b":"o",
"\u022c":"O","\u022d":"o","\u022e":"O","\u022f":"o","\u0230":"O","\u0231":"o","\u0232":"Y","\u0233":"y","\u0340":"\u0300","\u0341":"\u0301","\u0343":"\u0313","\u0344":"\u0308","\u0374":"\u02b9","\u037e":";","\u0385":"\u00a8","\u0386":"\u0391","\u0387":"\u00b7","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u038f":"\u03a9","\u0390":"\u03b9","\u03aa":"\u0399","\u03ab":"\u03a5","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03b0":"\u03c5",
"\u03ca":"\u03b9","\u03cb":"\u03c5","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03ce":"\u03c9","\u03d3":"\u03d2","\u03d4":"\u03d2","\u0400":"\u0415","\u0401":"\u0415","\u0403":"\u0413","\u0407":"\u0406","\u040c":"\u041a","\u040d":"\u0418","\u040e":"\u0423","\u0419":"\u0418","\u0439":"\u0438","\u0450":"\u0435","\u0451":"\u0435","\u0453":"\u0433","\u0457":"\u0456","\u045c":"\u043a","\u045d":"\u0438","\u045e":"\u0443","\u0476":"\u0474","\u0477":"\u0475","\u04c1":"\u0416","\u04c2":"\u0436","\u04d0":"\u0410",
"\u04d1":"\u0430","\u04d2":"\u0410","\u04d3":"\u0430","\u04d6":"\u0415","\u04d7":"\u0435","\u04da":"\u04d8","\u04db":"\u04d9","\u04dc":"\u0416","\u04dd":"\u0436","\u04de":"\u0417","\u04df":"\u0437","\u04e2":"\u0418","\u04e3":"\u0438","\u04e4":"\u0418","\u04e5":"\u0438","\u04e6":"\u041e","\u04e7":"\u043e","\u04ea":"\u04e8","\u04eb":"\u04e9","\u04ec":"\u042d","\u04ed":"\u044d","\u04ee":"\u0423","\u04ef":"\u0443","\u04f0":"\u0423","\u04f1":"\u0443","\u04f2":"\u0423","\u04f3":"\u0443","\u04f4":"\u0427",
"\u04f5":"\u0447","\u04f8":"\u042b","\u04f9":"\u044b","\u1e00":"A","\u1e01":"a","\u1e02":"B","\u1e03":"b","\u1e04":"B","\u1e05":"b","\u1e06":"B","\u1e07":"b","\u1e08":"C","\u1e09":"c","\u1e0a":"D","\u1e0b":"d","\u1e0c":"D","\u1e0d":"d","\u1e0e":"D","\u1e0f":"d","\u1e10":"D","\u1e11":"d","\u1e12":"D","\u1e13":"d","\u1e14":"E","\u1e15":"e","\u1e16":"E","\u1e17":"e","\u1e18":"E","\u1e19":"e","\u1e1a":"E","\u1e1b":"e","\u1e1c":"E","\u1e1d":"e","\u1e1e":"F","\u1e1f":"f","\u1e20":"G","\u1e21":"g","\u1e22":"H",
"\u1e23":"h","\u1e24":"H","\u1e25":"h","\u1e26":"H","\u1e27":"h","\u1e28":"H","\u1e29":"h","\u1e2a":"H","\u1e2b":"h","\u1e2c":"I","\u1e2d":"i","\u1e2e":"I","\u1e2f":"i","\u1e30":"K","\u1e31":"k","\u1e32":"K","\u1e33":"k","\u1e34":"K","\u1e35":"k","\u1e36":"L","\u1e37":"l","\u1e38":"L","\u1e39":"l","\u1e3a":"L","\u1e3b":"l","\u1e3c":"L","\u1e3d":"l","\u1e3e":"M","\u1e3f":"m","\u1e40":"M","\u1e41":"m","\u1e42":"M","\u1e43":"m","\u1e44":"N","\u1e45":"n","\u1e46":"N","\u1e47":"n","\u1e48":"N","\u1e49":"n",
"\u1e4a":"N","\u1e4b":"n","\u1e4c":"O","\u1e4d":"o","\u1e4e":"O","\u1e4f":"o","\u1e50":"O","\u1e51":"o","\u1e52":"O","\u1e53":"o","\u1e54":"P","\u1e55":"p","\u1e56":"P","\u1e57":"p","\u1e58":"R","\u1e59":"r","\u1e5a":"R","\u1e5b":"r","\u1e5c":"R","\u1e5d":"r","\u1e5e":"R","\u1e5f":"r","\u1e60":"S","\u1e61":"s","\u1e62":"S","\u1e63":"s","\u1e64":"S","\u1e65":"s","\u1e66":"S","\u1e67":"s","\u1e68":"S","\u1e69":"s","\u1e6a":"T","\u1e6b":"t","\u1e6c":"T","\u1e6d":"t","\u1e6e":"T","\u1e6f":"t","\u1e70":"T",
"\u1e71":"t","\u1e72":"U","\u1e73":"u","\u1e74":"U","\u1e75":"u","\u1e76":"U","\u1e77":"u","\u1e78":"U","\u1e79":"u","\u1e7a":"U","\u1e7b":"u","\u1e7c":"V","\u1e7d":"v","\u1e7e":"V","\u1e7f":"v","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e86":"W","\u1e87":"w","\u1e88":"W","\u1e89":"w","\u1e8a":"X","\u1e8b":"x","\u1e8c":"X","\u1e8d":"x","\u1e8e":"Y","\u1e8f":"y","\u1e90":"Z","\u1e91":"z","\u1e92":"Z","\u1e93":"z","\u1e94":"Z","\u1e95":"z","\u1e96":"h","\u1e97":"t",
"\u1e98":"w","\u1e99":"y","\u1e9b":"\u017f","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e",
"\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U",
"\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u1f00":"\u03b1","\u1f01":"\u03b1","\u1f02":"\u03b1","\u1f03":"\u03b1","\u1f04":"\u03b1","\u1f05":"\u03b1","\u1f06":"\u03b1","\u1f07":"\u03b1","\u1f08":"\u0391","\u1f09":"\u0391","\u1f0a":"\u0391","\u1f0b":"\u0391","\u1f0c":"\u0391","\u1f0d":"\u0391","\u1f0e":"\u0391","\u1f0f":"\u0391","\u1f10":"\u03b5",
"\u1f11":"\u03b5","\u1f12":"\u03b5","\u1f13":"\u03b5","\u1f14":"\u03b5","\u1f15":"\u03b5","\u1f18":"\u0395","\u1f19":"\u0395","\u1f1a":"\u0395","\u1f1b":"\u0395","\u1f1c":"\u0395","\u1f1d":"\u0395","\u1f20":"\u03b7","\u1f21":"\u03b7","\u1f22":"\u03b7","\u1f23":"\u03b7","\u1f24":"\u03b7","\u1f25":"\u03b7","\u1f26":"\u03b7","\u1f27":"\u03b7","\u1f28":"\u0397","\u1f29":"\u0397","\u1f2a":"\u0397","\u1f2b":"\u0397","\u1f2c":"\u0397","\u1f2d":"\u0397","\u1f2e":"\u0397","\u1f2f":"\u0397","\u1f30":"\u03b9",
"\u1f31":"\u03b9","\u1f32":"\u03b9","\u1f33":"\u03b9","\u1f34":"\u03b9","\u1f35":"\u03b9","\u1f36":"\u03b9","\u1f37":"\u03b9","\u1f38":"\u0399","\u1f39":"\u0399","\u1f3a":"\u0399","\u1f3b":"\u0399","\u1f3c":"\u0399","\u1f3d":"\u0399","\u1f3e":"\u0399","\u1f3f":"\u0399","\u1f40":"\u03bf","\u1f41":"\u03bf","\u1f42":"\u03bf","\u1f43":"\u03bf","\u1f44":"\u03bf","\u1f45":"\u03bf","\u1f48":"\u039f","\u1f49":"\u039f","\u1f4a":"\u039f","\u1f4b":"\u039f","\u1f4c":"\u039f","\u1f4d":"\u039f","\u1f50":"\u03c5",
"\u1f51":"\u03c5","\u1f52":"\u03c5","\u1f53":"\u03c5","\u1f54":"\u03c5","\u1f55":"\u03c5","\u1f56":"\u03c5","\u1f57":"\u03c5","\u1f59":"\u03a5","\u1f5b":"\u03a5","\u1f5d":"\u03a5","\u1f5f":"\u03a5","\u1f60":"\u03c9","\u1f61":"\u03c9","\u1f62":"\u03c9","\u1f63":"\u03c9","\u1f64":"\u03c9","\u1f65":"\u03c9","\u1f66":"\u03c9","\u1f67":"\u03c9","\u1f68":"\u03a9","\u1f69":"\u03a9","\u1f6a":"\u03a9","\u1f6b":"\u03a9","\u1f6c":"\u03a9","\u1f6d":"\u03a9","\u1f6e":"\u03a9","\u1f6f":"\u03a9","\u1f70":"\u03b1",
"\u1f71":"\u03b1","\u1f72":"\u03b5","\u1f73":"\u03b5","\u1f74":"\u03b7","\u1f75":"\u03b7","\u1f76":"\u03b9","\u1f77":"\u03b9","\u1f78":"\u03bf","\u1f79":"\u03bf","\u1f7a":"\u03c5","\u1f7b":"\u03c5","\u1f7c":"\u03c9","\u1f7d":"\u03c9","\u1f80":"\u03b1","\u1f81":"\u03b1","\u1f82":"\u03b1","\u1f83":"\u03b1","\u1f84":"\u03b1","\u1f85":"\u03b1","\u1f86":"\u03b1","\u1f87":"\u03b1","\u1f88":"\u0391","\u1f89":"\u0391","\u1f8a":"\u0391","\u1f8b":"\u0391","\u1f8c":"\u0391","\u1f8d":"\u0391","\u1f8e":"\u0391",
"\u1f8f":"\u0391","\u1f90":"\u03b7","\u1f91":"\u03b7","\u1f92":"\u03b7","\u1f93":"\u03b7","\u1f94":"\u03b7","\u1f95":"\u03b7","\u1f96":"\u03b7","\u1f97":"\u03b7","\u1f98":"\u0397","\u1f99":"\u0397","\u1f9a":"\u0397","\u1f9b":"\u0397","\u1f9c":"\u0397","\u1f9d":"\u0397","\u1f9e":"\u0397","\u1f9f":"\u0397","\u1fa0":"\u03c9","\u1fa1":"\u03c9","\u1fa2":"\u03c9","\u1fa3":"\u03c9","\u1fa4":"\u03c9","\u1fa5":"\u03c9","\u1fa6":"\u03c9","\u1fa7":"\u03c9","\u1fa8":"\u03a9","\u1fa9":"\u03a9","\u1faa":"\u03a9",
"\u1fab":"\u03a9","\u1fac":"\u03a9","\u1fad":"\u03a9","\u1fae":"\u03a9","\u1faf":"\u03a9","\u1fb0":"\u03b1","\u1fb1":"\u03b1","\u1fb2":"\u03b1","\u1fb3":"\u03b1","\u1fb4":"\u03b1","\u1fb6":"\u03b1","\u1fb7":"\u03b1","\u1fb8":"\u0391","\u1fb9":"\u0391","\u1fba":"\u0391","\u1fbb":"\u0391","\u1fbc":"\u0391","\u1fbe":"\u03b9","\u1fc1":"\u00a8","\u1fc2":"\u03b7","\u1fc3":"\u03b7","\u1fc4":"\u03b7","\u1fc6":"\u03b7","\u1fc7":"\u03b7","\u1fc8":"\u0395","\u1fc9":"\u0395","\u1fca":"\u0397","\u1fcb":"\u0397",
"\u1fcc":"\u0397","\u1fcd":"\u1fbf","\u1fce":"\u1fbf","\u1fcf":"\u1fbf","\u1fd0":"\u03b9","\u1fd1":"\u03b9","\u1fd2":"\u03b9","\u1fd3":"\u03b9","\u1fd6":"\u03b9","\u1fd7":"\u03b9","\u1fd8":"\u0399","\u1fd9":"\u0399","\u1fda":"\u0399","\u1fdb":"\u0399","\u1fdd":"\u1ffe","\u1fde":"\u1ffe","\u1fdf":"\u1ffe","\u1fe0":"\u03c5","\u1fe1":"\u03c5","\u1fe2":"\u03c5","\u1fe3":"\u03c5","\u1fe4":"\u03c1","\u1fe5":"\u03c1","\u1fe6":"\u03c5","\u1fe7":"\u03c5","\u1fe8":"\u03a5","\u1fe9":"\u03a5","\u1fea":"\u03a5",
"\u1feb":"\u03a5","\u1fec":"\u03a1","\u1fed":"\u00a8","\u1fee":"\u00a8","\u1fef":"`","\u1ff2":"\u03c9","\u1ff3":"\u03c9","\u1ff4":"\u03c9","\u1ff6":"\u03c9","\u1ff7":"\u03c9","\u1ff8":"\u039f","\u1ff9":"\u039f","\u1ffa":"\u03a9","\u1ffb":"\u03a9","\u1ffc":"\u03a9","\u1ffd":"\u00b4","\u2000":"\u2002","\u2001":"\u2003","\u2126":"\u03a9","\u212a":"K","\u212b":"A"}})(f||(f={}));(function(a){(a.data||(a.data={})).WORD_BREAK_PROPERTY=[[10,10,1],[11,12,2],[13,13,3],[32,32,4],[34,34,5],[39,39,6],[44,44,7],
[46,46,8],[48,57,9],[58,58,10],[59,59,7],[65,90,11],[95,95,12],[97,122,11],[133,133,2],[170,170,11],[173,173,13],[181,181,11],[183,183,10],[186,186,11],[192,214,11],[216,246,11],[248,442,11],[443,443,11],[444,447,11],[448,451,11],[452,659,11],[660,660,11],[661,687,11],[688,705,11],[706,709,11],[710,721,11],[722,727,11],[734,735,11],[736,740,11],[748,748,11],[749,749,11],[750,750,11],[751,767,11],[768,879,14],[880,883,11],[884,884,11],[886,887,11],[890,890,11],[891,893,11],[894,894,7],[895,895,11],
[902,902,11],[903,903,10],[904,906,11],[908,908,11],[910,929,11],[931,1013,11],[1015,1153,11],[1155,1159,14],[1160,1161,14],[1162,1327,11],[1329,1366,11],[1369,1369,11],[1371,1372,11],[1374,1374,11],[1376,1416,11],[1417,1417,7],[1425,1469,14],[1471,1471,14],[1473,1474,14],[1476,1477,14],[1479,1479,14],[1488,1514,15],[1519,1522,15],[1523,1523,11],[1524,1524,10],[1536,1541,13],[1548,1549,7],[1552,1562,14],[1564,1564,13],[1568,1599,11],[1600,1600,11],[1601,1610,11],[1611,1631,14],[1632,1641,9],[1643,
1643,9],[1644,1644,7],[1646,1647,11],[1648,1648,14],[1649,1747,11],[1749,1749,11],[1750,1756,14],[1757,1757,13],[1759,1764,14],[1765,1766,11],[1767,1768,14],[1770,1773,14],[1774,1775,11],[1776,1785,9],[1786,1788,11],[1791,1791,11],[1807,1807,13],[1808,1808,11],[1809,1809,14],[1810,1839,11],[1840,1866,14],[1869,1957,11],[1958,1968,14],[1969,1969,11],[1984,1993,9],[1994,2026,11],[2027,2035,14],[2036,2037,11],[2040,2040,7],[2042,2042,11],[2045,2045,14],[2048,2069,11],[2070,2073,14],[2074,2074,11],[2075,
2083,14],[2084,2084,11],[2085,2087,14],[2088,2088,11],[2089,2093,14],[2112,2136,11],[2137,2139,14],[2144,2154,11],[2208,2228,11],[2230,2237,11],[2259,2273,14],[2274,2274,13],[2275,2306,14],[2307,2307,14],[2308,2361,11],[2362,2362,14],[2363,2363,14],[2364,2364,14],[2365,2365,11],[2366,2368,14],[2369,2376,14],[2377,2380,14],[2381,2381,14],[2382,2383,14],[2384,2384,11],[2385,2391,14],[2392,2401,11],[2402,2403,14],[2406,2415,9],[2417,2417,11],[2418,2432,11],[2433,2433,14],[2434,2435,14],[2437,2444,11],
[2447,2448,11],[2451,2472,11],[2474,2480,11],[2482,2482,11],[2486,2489,11],[2492,2492,14],[2493,2493,11],[2494,2496,14],[2497,2500,14],[2503,2504,14],[2507,2508,14],[2509,2509,14],[2510,2510,11],[2519,2519,14],[2524,2525,11],[2527,2529,11],[2530,2531,14],[2534,2543,9],[2544,2545,11],[2556,2556,11],[2558,2558,14],[2561,2562,14],[2563,2563,14],[2565,2570,11],[2575,2576,11],[2579,2600,11],[2602,2608,11],[2610,2611,11],[2613,2614,11],[2616,2617,11],[2620,2620,14],[2622,2624,14],[2625,2626,14],[2631,2632,
14],[2635,2637,14],[2641,2641,14],[2649,2652,11],[2654,2654,11],[2662,2671,9],[2672,2673,14],[2674,2676,11],[2677,2677,14],[2689,2690,14],[2691,2691,14],[2693,2701,11],[2703,2705,11],[2707,2728,11],[2730,2736,11],[2738,2739,11],[2741,2745,11],[2748,2748,14],[2749,2749,11],[2750,2752,14],[2753,2757,14],[2759,2760,14],[2761,2761,14],[2763,2764,14],[2765,2765,14],[2768,2768,11],[2784,2785,11],[2786,2787,14],[2790,2799,9],[2809,2809,11],[2810,2815,14],[2817,2817,14],[2818,2819,14],[2821,2828,11],[2831,
2832,11],[2835,2856,11],[2858,2864,11],[2866,2867,11],[2869,2873,11],[2876,2876,14],[2877,2877,11],[2878,2878,14],[2879,2879,14],[2880,2880,14],[2881,2884,14],[2887,2888,14],[2891,2892,14],[2893,2893,14],[2902,2902,14],[2903,2903,14],[2908,2909,11],[2911,2913,11],[2914,2915,14],[2918,2927,9],[2929,2929,11],[2946,2946,14],[2947,2947,11],[2949,2954,11],[2958,2960,11],[2962,2965,11],[2969,2970,11],[2972,2972,11],[2974,2975,11],[2979,2980,11],[2984,2986,11],[2990,3001,11],[3006,3007,14],[3008,3008,14],
[3009,3010,14],[3014,3016,14],[3018,3020,14],[3021,3021,14],[3024,3024,11],[3031,3031,14],[3046,3055,9],[3072,3072,14],[3073,3075,14],[3076,3076,14],[3077,3084,11],[3086,3088,11],[3090,3112,11],[3114,3129,11],[3133,3133,11],[3134,3136,14],[3137,3140,14],[3142,3144,14],[3146,3149,14],[3157,3158,14],[3160,3162,11],[3168,3169,11],[3170,3171,14],[3174,3183,9],[3200,3200,11],[3201,3201,14],[3202,3203,14],[3205,3212,11],[3214,3216,11],[3218,3240,11],[3242,3251,11],[3253,3257,11],[3260,3260,14],[3261,3261,
11],[3262,3262,14],[3263,3263,14],[3264,3268,14],[3270,3270,14],[3271,3272,14],[3274,3275,14],[3276,3277,14],[3285,3286,14],[3294,3294,11],[3296,3297,11],[3298,3299,14],[3302,3311,9],[3313,3314,11],[3328,3329,14],[3330,3331,14],[3333,3340,11],[3342,3344,11],[3346,3386,11],[3387,3388,14],[3389,3389,11],[3390,3392,14],[3393,3396,14],[3398,3400,14],[3402,3404,14],[3405,3405,14],[3406,3406,11],[3412,3414,11],[3415,3415,14],[3423,3425,11],[3426,3427,14],[3430,3439,9],[3450,3455,11],[3458,3459,14],[3461,
3478,11],[3482,3505,11],[3507,3515,11],[3517,3517,11],[3520,3526,11],[3530,3530,14],[3535,3537,14],[3538,3540,14],[3542,3542,14],[3544,3551,14],[3558,3567,9],[3570,3571,14],[3633,3633,14],[3636,3642,14],[3655,3662,14],[3664,3673,9],[3761,3761,14],[3764,3772,14],[3784,3789,14],[3792,3801,9],[3840,3840,11],[3864,3865,14],[3872,3881,9],[3893,3893,14],[3895,3895,14],[3897,3897,14],[3902,3903,14],[3904,3911,11],[3913,3948,11],[3953,3966,14],[3967,3967,14],[3968,3972,14],[3974,3975,14],[3976,3980,11],[3981,
3991,14],[3993,4028,14],[4038,4038,14],[4139,4140,14],[4141,4144,14],[4145,4145,14],[4146,4151,14],[4152,4152,14],[4153,4154,14],[4155,4156,14],[4157,4158,14],[4160,4169,9],[4182,4183,14],[4184,4185,14],[4190,4192,14],[4194,4196,14],[4199,4205,14],[4209,4212,14],[4226,4226,14],[4227,4228,14],[4229,4230,14],[4231,4236,14],[4237,4237,14],[4239,4239,14],[4240,4249,9],[4250,4252,14],[4253,4253,14],[4256,4293,11],[4295,4295,11],[4301,4301,11],[4304,4346,11],[4348,4348,11],[4349,4351,11],[4352,4680,11],
[4682,4685,11],[4688,4694,11],[4696,4696,11],[4698,4701,11],[4704,4744,11],[4746,4749,11],[4752,4784,11],[4786,4789,11],[4792,4798,11],[4800,4800,11],[4802,4805,11],[4808,4822,11],[4824,4880,11],[4882,4885,11],[4888,4954,11],[4957,4959,14],[4992,5007,11],[5024,5109,11],[5112,5117,11],[5121,5740,11],[5743,5759,11],[5760,5760,4],[5761,5786,11],[5792,5866,11],[5870,5872,11],[5873,5880,11],[5888,5900,11],[5902,5905,11],[5906,5908,14],[5920,5937,11],[5938,5940,14],[5952,5969,11],[5970,5971,14],[5984,5996,
11],[5998,6E3,11],[6002,6003,14],[6068,6069,14],[6070,6070,14],[6071,6077,14],[6078,6085,14],[6086,6086,14],[6087,6088,14],[6089,6099,14],[6109,6109,14],[6112,6121,9],[6155,6157,14],[6158,6158,13],[6160,6169,9],[6176,6210,11],[6211,6211,11],[6212,6264,11],[6272,6276,11],[6277,6278,14],[6279,6312,11],[6313,6313,14],[6314,6314,11],[6320,6389,11],[6400,6430,11],[6432,6434,14],[6435,6438,14],[6439,6440,14],[6441,6443,14],[6448,6449,14],[6450,6450,14],[6451,6456,14],[6457,6459,14],[6470,6479,9],[6608,
6617,9],[6656,6678,11],[6679,6680,14],[6681,6682,14],[6683,6683,14],[6741,6741,14],[6742,6742,14],[6743,6743,14],[6744,6750,14],[6752,6752,14],[6753,6753,14],[6754,6754,14],[6755,6756,14],[6757,6764,14],[6765,6770,14],[6771,6780,14],[6783,6783,14],[6784,6793,9],[6800,6809,9],[6832,6845,14],[6846,6846,14],[6912,6915,14],[6916,6916,14],[6917,6963,11],[6964,6964,14],[6965,6965,14],[6966,6970,14],[6971,6971,14],[6972,6972,14],[6973,6977,14],[6978,6978,14],[6979,6980,14],[6981,6987,11],[6992,7001,9],[7019,
7027,14],[7040,7041,14],[7042,7042,14],[7043,7072,11],[7073,7073,14],[7074,7077,14],[7078,7079,14],[7080,7081,14],[7082,7082,14],[7083,7085,14],[7086,7087,11],[7088,7097,9],[7098,7141,11],[7142,7142,14],[7143,7143,14],[7144,7145,14],[7146,7148,14],[7149,7149,14],[7150,7150,14],[7151,7153,14],[7154,7155,14],[7168,7203,11],[7204,7211,14],[7212,7219,14],[7220,7221,14],[7222,7223,14],[7232,7241,9],[7245,7247,11],[7248,7257,9],[7258,7287,11],[7288,7293,11],[7296,7304,11],[7312,7354,11],[7357,7359,11],
[7376,7378,14],[7380,7392,14],[7393,7393,14],[7394,7400,14],[7401,7404,11],[7405,7405,14],[7406,7411,11],[7412,7412,14],[7413,7414,11],[7415,7415,14],[7416,7417,14],[7418,7418,11],[7424,7467,11],[7468,7530,11],[7531,7543,11],[7544,7544,11],[7545,7578,11],[7579,7615,11],[7616,7673,14],[7675,7679,14],[7680,7957,11],[7960,7965,11],[7968,8005,11],[8008,8013,11],[8016,8023,11],[8025,8025,11],[8027,8027,11],[8029,8029,11],[8031,8061,11],[8064,8116,11],[8118,8124,11],[8126,8126,11],[8130,8132,11],[8134,
8140,11],[8144,8147,11],[8150,8155,11],[8160,8172,11],[8178,8180,11],[8182,8188,11],[8192,8198,4],[8200,8202,4],[8204,8204,14],[8205,8205,16],[8206,8207,13],[8216,8216,8],[8217,8217,8],[8228,8228,8],[8231,8231,10],[8232,8232,2],[8233,8233,2],[8234,8238,13],[8239,8239,12],[8255,8256,12],[8260,8260,7],[8276,8276,12],[8287,8287,4],[8288,8292,13],[8294,8303,13],[8305,8305,11],[8319,8319,11],[8336,8348,11],[8400,8412,14],[8413,8416,14],[8417,8417,14],[8418,8420,14],[8421,8432,14],[8450,8450,11],[8455,
8455,11],[8458,8467,11],[8469,8469,11],[8473,8477,11],[8484,8484,11],[8486,8486,11],[8488,8488,11],[8490,8493,11],[8495,8500,11],[8501,8504,11],[8505,8505,11],[8508,8511,11],[8517,8521,11],[8526,8526,11],[8544,8578,11],[8579,8580,11],[8581,8584,11],[9398,9449,11],[11264,11310,11],[11312,11358,11],[11360,11387,11],[11388,11389,11],[11390,11492,11],[11499,11502,11],[11503,11505,14],[11506,11507,11],[11520,11557,11],[11559,11559,11],[11565,11565,11],[11568,11623,11],[11631,11631,11],[11647,11647,14],
[11648,11670,11],[11680,11686,11],[11688,11694,11],[11696,11702,11],[11704,11710,11],[11712,11718,11],[11720,11726,11],[11728,11734,11],[11736,11742,11],[11744,11775,14],[11823,11823,11],[12288,12288,4],[12293,12293,11],[12330,12333,14],[12334,12335,14],[12337,12341,17],[12347,12347,11],[12348,12348,11],[12441,12442,14],[12443,12444,17],[12448,12448,17],[12449,12538,17],[12540,12542,17],[12543,12543,17],[12549,12591,11],[12593,12686,11],[12704,12730,11],[12784,12799,17],[13008,13054,17],[13056,13143,
17],[40960,40980,11],[40981,40981,11],[40982,42124,11],[42192,42231,11],[42232,42237,11],[42240,42507,11],[42508,42508,11],[42512,42527,11],[42528,42537,9],[42538,42539,11],[42560,42605,11],[42606,42606,11],[42607,42607,14],[42608,42610,14],[42612,42621,14],[42623,42623,11],[42624,42651,11],[42652,42653,11],[42654,42655,14],[42656,42725,11],[42726,42735,11],[42736,42737,14],[42775,42783,11],[42784,42785,11],[42786,42863,11],[42864,42864,11],[42865,42887,11],[42888,42888,11],[42889,42890,11],[42891,
42894,11],[42895,42895,11],[42896,42943,11],[42946,42950,11],[42999,42999,11],[43E3,43001,11],[43002,43002,11],[43003,43009,11],[43010,43010,14],[43011,43013,11],[43014,43014,14],[43015,43018,11],[43019,43019,14],[43020,43042,11],[43043,43044,14],[43045,43046,14],[43047,43047,14],[43072,43123,11],[43136,43137,14],[43138,43187,11],[43188,43203,14],[43204,43205,14],[43216,43225,9],[43232,43249,14],[43250,43255,11],[43259,43259,11],[43261,43262,11],[43263,43263,14],[43264,43273,9],[43274,43301,11],[43302,
43309,14],[43312,43334,11],[43335,43345,14],[43346,43347,14],[43360,43388,11],[43392,43394,14],[43395,43395,14],[43396,43442,11],[43443,43443,14],[43444,43445,14],[43446,43449,14],[43450,43451,14],[43452,43453,14],[43454,43456,14],[43471,43471,11],[43472,43481,9],[43493,43493,14],[43504,43513,9],[43520,43560,11],[43561,43566,14],[43567,43568,14],[43569,43570,14],[43571,43572,14],[43573,43574,14],[43584,43586,11],[43587,43587,14],[43588,43595,11],[43596,43596,14],[43597,43597,14],[43600,43609,9],[43643,
43643,14],[43644,43644,14],[43645,43645,14],[43696,43696,14],[43698,43700,14],[43703,43704,14],[43710,43711,14],[43713,43713,14],[43744,43754,11],[43755,43755,14],[43756,43757,14],[43758,43759,14],[43762,43762,11],[43763,43764,11],[43765,43765,14],[43766,43766,14],[43777,43782,11],[43785,43790,11],[43793,43798,11],[43808,43814,11],[43816,43822,11],[43824,43866,11],[43867,43867,11],[43868,43871,11],[43872,43879,11],[43888,43967,11],[43968,44002,11],[44003,44004,14],[44005,44005,14],[44006,44007,14],
[44008,44008,14],[44009,44010,14],[44012,44012,14],[44013,44013,14],[44016,44025,9],[44032,55203,11],[55216,55238,11],[55243,55291,11],[64256,64262,11],[64275,64279,11],[64285,64285,15],[64286,64286,14],[64287,64296,15],[64298,64310,15],[64312,64316,15],[64318,64318,15],[64320,64321,15],[64323,64324,15],[64326,64335,15],[64336,64433,11],[64467,64829,11],[64848,64911,11],[64914,64967,11],[65008,65019,11],[65024,65039,14],[65040,65040,7],[65043,65043,10],[65044,65044,7],[65056,65071,14],[65075,65076,
12],[65101,65103,12],[65104,65104,7],[65106,65106,8],[65108,65108,7],[65109,65109,10],[65136,65140,11],[65142,65276,11],[65279,65279,13],[65287,65287,8],[65292,65292,7],[65294,65294,8],[65296,65305,9],[65306,65306,10],[65307,65307,7],[65313,65338,11],[65343,65343,12],[65345,65370,11],[65382,65391,17],[65392,65392,17],[65393,65437,17],[65438,65439,14],[65440,65470,11],[65474,65479,11],[65482,65487,11],[65490,65495,11],[65498,65500,11],[65529,65531,13],[65536,65547,11],[65549,65574,11],[65576,65594,
11],[65596,65597,11],[65599,65613,11],[65616,65629,11],[65664,65786,11],[65856,65908,11],[66045,66045,14],[66176,66204,11],[66208,66256,11],[66272,66272,14],[66304,66335,11],[66349,66368,11],[66369,66369,11],[66370,66377,11],[66378,66378,11],[66384,66421,11],[66422,66426,14],[66432,66461,11],[66464,66499,11],[66504,66511,11],[66513,66517,11],[66560,66639,11],[66640,66717,11],[66720,66729,9],[66736,66771,11],[66776,66811,11],[66816,66855,11],[66864,66915,11],[67072,67382,11],[67392,67413,11],[67424,
67431,11],[67584,67589,11],[67592,67592,11],[67594,67637,11],[67639,67640,11],[67644,67644,11],[67647,67669,11],[67680,67702,11],[67712,67742,11],[67808,67826,11],[67828,67829,11],[67840,67861,11],[67872,67897,11],[67968,68023,11],[68030,68031,11],[68096,68096,11],[68097,68099,14],[68101,68102,14],[68108,68111,14],[68112,68115,11],[68117,68119,11],[68121,68149,11],[68152,68154,14],[68159,68159,14],[68192,68220,11],[68224,68252,11],[68288,68295,11],[68297,68324,11],[68325,68326,14],[68352,68405,11],
[68416,68437,11],[68448,68466,11],[68480,68497,11],[68608,68680,11],[68736,68786,11],[68800,68850,11],[68864,68899,11],[68900,68903,14],[68912,68921,9],[69376,69404,11],[69415,69415,11],[69424,69445,11],[69446,69456,14],[69600,69622,11],[69632,69632,14],[69633,69633,14],[69634,69634,14],[69635,69687,11],[69688,69702,14],[69734,69743,9],[69759,69761,14],[69762,69762,14],[69763,69807,11],[69808,69810,14],[69811,69814,14],[69815,69816,14],[69817,69818,14],[69821,69821,13],[69837,69837,13],[69840,69864,
11],[69872,69881,9],[69888,69890,14],[69891,69926,11],[69927,69931,14],[69932,69932,14],[69933,69940,14],[69942,69951,9],[69956,69956,11],[69957,69958,14],[69968,70002,11],[70003,70003,14],[70006,70006,11],[70016,70017,14],[70018,70018,14],[70019,70066,11],[70067,70069,14],[70070,70078,14],[70079,70080,14],[70081,70084,11],[70089,70092,14],[70096,70105,9],[70106,70106,11],[70108,70108,11],[70144,70161,11],[70163,70187,11],[70188,70190,14],[70191,70193,14],[70194,70195,14],[70196,70196,14],[70197,
70197,14],[70198,70199,14],[70206,70206,14],[70272,70278,11],[70280,70280,11],[70282,70285,11],[70287,70301,11],[70303,70312,11],[70320,70366,11],[70367,70367,14],[70368,70370,14],[70371,70378,14],[70384,70393,9],[70400,70401,14],[70402,70403,14],[70405,70412,11],[70415,70416,11],[70419,70440,11],[70442,70448,11],[70450,70451,11],[70453,70457,11],[70459,70460,14],[70461,70461,11],[70462,70463,14],[70464,70464,14],[70465,70468,14],[70471,70472,14],[70475,70477,14],[70480,70480,11],[70487,70487,14],
[70493,70497,11],[70498,70499,14],[70502,70508,14],[70512,70516,14],[70656,70708,11],[70709,70711,14],[70712,70719,14],[70720,70721,14],[70722,70724,14],[70725,70725,14],[70726,70726,14],[70727,70730,11],[70736,70745,9],[70750,70750,14],[70751,70751,11],[70784,70831,11],[70832,70834,14],[70835,70840,14],[70841,70841,14],[70842,70842,14],[70843,70846,14],[70847,70848,14],[70849,70849,14],[70850,70851,14],[70852,70853,11],[70855,70855,11],[70864,70873,9],[71040,71086,11],[71087,71089,14],[71090,71093,
14],[71096,71099,14],[71100,71101,14],[71102,71102,14],[71103,71104,14],[71128,71131,11],[71132,71133,14],[71168,71215,11],[71216,71218,14],[71219,71226,14],[71227,71228,14],[71229,71229,14],[71230,71230,14],[71231,71232,14],[71236,71236,11],[71248,71257,9],[71296,71338,11],[71339,71339,14],[71340,71340,14],[71341,71341,14],[71342,71343,14],[71344,71349,14],[71350,71350,14],[71351,71351,14],[71352,71352,11],[71360,71369,9],[71453,71455,14],[71456,71457,14],[71458,71461,14],[71462,71462,14],[71463,
71467,14],[71472,71481,9],[71680,71723,11],[71724,71726,14],[71727,71735,14],[71736,71736,14],[71737,71738,14],[71840,71903,11],[71904,71913,9],[71935,71935,11],[72096,72103,11],[72106,72144,11],[72145,72147,14],[72148,72151,14],[72154,72155,14],[72156,72159,14],[72160,72160,14],[72161,72161,11],[72163,72163,11],[72164,72164,14],[72192,72192,11],[72193,72202,14],[72203,72242,11],[72243,72248,14],[72249,72249,14],[72250,72250,11],[72251,72254,14],[72263,72263,14],[72272,72272,11],[72273,72278,14],
[72279,72280,14],[72281,72283,14],[72284,72329,11],[72330,72342,14],[72343,72343,14],[72344,72345,14],[72349,72349,11],[72384,72440,11],[72704,72712,11],[72714,72750,11],[72751,72751,14],[72752,72758,14],[72760,72765,14],[72766,72766,14],[72767,72767,14],[72768,72768,11],[72784,72793,9],[72818,72847,11],[72850,72871,14],[72873,72873,14],[72874,72880,14],[72881,72881,14],[72882,72883,14],[72884,72884,14],[72885,72886,14],[72960,72966,11],[72968,72969,11],[72971,73008,11],[73009,73014,14],[73018,73018,
14],[73020,73021,14],[73023,73029,14],[73030,73030,11],[73031,73031,14],[73040,73049,9],[73056,73061,11],[73063,73064,11],[73066,73097,11],[73098,73102,14],[73104,73105,14],[73107,73108,14],[73109,73109,14],[73110,73110,14],[73111,73111,14],[73112,73112,11],[73120,73129,9],[73440,73458,11],[73459,73460,14],[73461,73462,14],[73728,74649,11],[74752,74862,11],[74880,75075,11],[77824,78894,11],[78896,78904,13],[82944,83526,11],[92160,92728,11],[92736,92766,11],[92768,92777,9],[92880,92909,11],[92912,
92916,14],[92928,92975,11],[92976,92982,14],[92992,92995,11],[93008,93017,9],[93027,93047,11],[93053,93071,11],[93760,93823,11],[93952,94026,11],[94031,94031,14],[94032,94032,11],[94033,94087,14],[94095,94098,14],[94099,94111,11],[94176,94177,11],[94179,94179,11],[110592,110592,17],[110948,110951,17],[113664,113770,11],[113776,113788,11],[113792,113800,11],[113808,113817,11],[113821,113822,14],[113824,113827,13],[119141,119142,14],[119143,119145,14],[119149,119154,14],[119155,119162,13],[119163,119170,
14],[119173,119179,14],[119210,119213,14],[119362,119364,14],[119808,119892,11],[119894,119964,11],[119966,119967,11],[119970,119970,11],[119973,119974,11],[119977,119980,11],[119982,119993,11],[119995,119995,11],[119997,120003,11],[120005,120069,11],[120071,120074,11],[120077,120084,11],[120086,120092,11],[120094,120121,11],[120123,120126,11],[120128,120132,11],[120134,120134,11],[120138,120144,11],[120146,120485,11],[120488,120512,11],[120514,120538,11],[120540,120570,11],[120572,120596,11],[120598,
120628,11],[120630,120654,11],[120656,120686,11],[120688,120712,11],[120714,120744,11],[120746,120770,11],[120772,120779,11],[120782,120831,9],[121344,121398,14],[121403,121452,14],[121461,121461,14],[121476,121476,14],[121499,121503,14],[121505,121519,14],[122880,122886,14],[122888,122904,14],[122907,122913,14],[122915,122916,14],[122918,122922,14],[123136,123180,11],[123184,123190,14],[123191,123197,11],[123200,123209,9],[123214,123214,11],[123584,123627,11],[123628,123631,14],[123632,123641,9],
[124928,125124,11],[125136,125142,14],[125184,125251,11],[125252,125258,14],[125259,125259,11],[125264,125273,9],[126464,126467,11],[126469,126495,11],[126497,126498,11],[126500,126500,11],[126503,126503,11],[126505,126514,11],[126516,126519,11],[126521,126521,11],[126523,126523,11],[126530,126530,11],[126535,126535,11],[126537,126537,11],[126539,126539,11],[126541,126543,11],[126545,126546,11],[126548,126548,11],[126551,126551,11],[126553,126553,11],[126555,126555,11],[126557,126557,11],[126559,
126559,11],[126561,126562,11],[126564,126564,11],[126567,126570,11],[126572,126578,11],[126580,126583,11],[126585,126588,11],[126590,126590,11],[126592,126601,11],[126603,126619,11],[126625,126627,11],[126629,126633,11],[126635,126651,11],[127280,127305,11],[127312,127337,11],[127344,127369,11],[127462,127487,18],[127995,127999,14],[917505,917505,13],[917536,917631,14],[917760,917999,14]]})(h||(h={}));(function(a){function c(a){return!Array.from(a).map(e).every(function(a){return 3===a||1===a||2===
a||4===a})}function b(a){function b(b){return b>=a.length?a.length:d(a[b])?b+2:b+1}function c(b){return 0>b?19:b>=a.length?20:d(a[b])?e(a[b]+a[b+1]):e(a[b])}function f(a){return 11===a||15===a}if(0===a.length)return[];var g=[];var h=0;var k=19,l=19;var n=c(0);var q=0;do{var p=h;h=b(h);n=[k,l,n,c(h)];var u=n[0];k=n[1];l=n[2];n=n[3];if(19===k)g.push(p);else{if(20===l){g.push(p);break}if(3!==k||1!==l)if(2===k||3===k||1===k)g.push(p);else if(2===l||3===l||1===l)g.push(p);else if(4!==k||4!=l){for(;13===
l||14===l||16===l;)h=[h,b(h)],p=h[0],h=h[1],n=[n,c(h)],l=n[0],n=n[1];if(20===l){g.push(p);break}for(;13===n||14===n||16===n;)h=b(h),n=c(h);if(!f(k)||!f(l))if(!f(k)||!f(n)||10!==l&&8!==l&&6!==l)if(!f(u)||!f(l)||10!==k&&8!==k&&6!==k)if(15!==k||6!==l)if(15!==k||5!==l||15!==n)if(15!==u||5!==k||15!==l)if(9!==k||9!==l)if(!f(k)||9!==l)if(9!==k||!f(l))if(9!==u||9!==l||7!==k&&8!==k&&6!==k)if(9!==k||9!==n||7!==l&&8!==l&&6!==l)if(17!==k||17!==l)if(!f(k)&&9!==k&&17!==k&&12!==k||12!==l)if(!f(l)&&9!==l&&17!==l||
12!==k){if(18===l){if(q+=1,1==q%2)continue}else q=0;g.push(p)}}}}while(p<a.length);return g}function d(a){a=a.charCodeAt(0);return 55296<=a&&56319>=a}function e(a){a=a.codePointAt(0);return f(a,0,h.length-1)}function f(a,b,c){if(c<b)return 0;var d=b+~~((c-b)/2),e=h[d];return a<e[0]?f(a,b,d-1):a>e[1]?f(a,d+1,c):e[2]}a.default_=function(a){var d=b(a);if(0==d.length)return[];for(var e=[],f=0;f<d.length-1;f++){var g=d[f+1],h=new l(a,d[f],g);c(h.text)?e.push(h):f==d.length-2&&(h=new l(a,g,g),e.push(h))}return e};
var h=a.data.WORD_BREAK_PROPERTY,l=function(){function a(a,b,c){this._source=a;this.start=b;this.end=c}Object.defineProperty(a.prototype,"text",{get:function(){return this._source.substring(this.start,this.end)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this.end-this.start},enumerable:!0,configurable:!0});return a}()})(h||(h={}));h["default"]=h.default_}
(function(f,h){"function"===typeof define&&define.amd?define(h):"object"===typeof exports?module.exports=h():f.returnExports=h()})(this,function(){var f=Function.call.bind(Function.apply),h=Function.call.bind(Function.call),l=Array.isArray,q=Object.keys,e=function(a){try{return a(),!1}catch(y){return!0}},a=function(a){try{return a()}catch(y){return!1}},d=function(a){return function(){return!f(a,this,arguments)}}(e),c=function(){return!e(function(){return Object.defineProperty({},"x",{get:function(){}})})},
b=!!Object.defineProperty&&c(),g="foo"===function(){}.name,k=Function.call.bind(Array.prototype.forEach),p=Function.call.bind(Array.prototype.reduce),u=Function.call.bind(Array.prototype.filter),z=Function.call.bind(Array.prototype.some),n=function(a,c,d,e){!e&&c in a||(b?Object.defineProperty(a,c,{configurable:!0,enumerable:!1,writable:!0,value:d}):a[c]=d)},w=function(a,b,c){k(q(b),function(d){n(a,d,b[d],!!c)})},t=Function.call.bind(Object.prototype.toString),H="function"===typeof/abc/?function(a){return"function"===
typeof a&&"[object Function]"===t(a)}:function(a){return"function"===typeof a},x={getter:function(a,c,d){if(!b)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,c,{configurable:!0,enumerable:!1,get:d})},proxy:function(a,c,d){if(!b)throw new TypeError("getters require true ES5 support");var e=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(d,c,{configurable:e.configurable,enumerable:e.enumerable,get:function(){return a[c]},set:function(b){a[c]=b}})},redefine:function(a,
c,d){if(b){var e=Object.getOwnPropertyDescriptor(a,c);e.value=d;Object.defineProperty(a,c,e)}else a[c]=d},defineByDescriptor:function(a,c,d){b?Object.defineProperty(a,c,d):"value"in d&&(a[c]=d.value)},preserveToString:function(a,b){b&&H(b.toString)&&n(a,"toString",b.toString.bind(b),!0)}},B=Object.create||function(a,b){var c=function(){};c.prototype=a;var d=new c;"undefined"!==typeof b&&q(b).forEach(function(a){x.defineByDescriptor(d,a,b[a])});return d},M=function(b,c){return Object.setPrototypeOf?
a(function(){var a=function ra(a){a=new b(a);Object.setPrototypeOf(a,ra.prototype);return a};Object.setPrototypeOf(a,b);a.prototype=B(b.prototype,{constructor:{value:a}});return c(a)}):!1},r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw Error("unable to locate global object");}(),F=r.isFinite,Ca=Function.call.bind(String.prototype.indexOf),Fa=Function.apply.bind(Array.prototype.indexOf),qa=Function.call.bind(Array.prototype.concat),
P=Function.call.bind(String.prototype.slice),U=Function.call.bind(Array.prototype.push),Q=Function.apply.bind(Array.prototype.push),Ga=Function.call.bind(Array.prototype.shift),D=Math.max,N=Math.min,J=Math.floor,I=Math.abs,X=Math.exp,ja=Math.log,ka=Math.sqrt,sa=Function.call.bind(Object.prototype.hasOwnProperty),ea=function(){},E=r.Map,Xb=E&&E.prototype["delete"],la=E&&E.prototype.get,ma=E&&E.prototype.has,db=E&&E.prototype.set,A=r.Symbol||{},Ha=A.species||"@@species",K=Number.isNaN||function(a){return a!==
a},Ia=Number.isFinite||function(a){return"number"===typeof a&&F(a)},fa=H(Math.sign)?Math.sign:function(a){a=Number(a);return 0===a||K(a)?a:0>a?-1:1},ha=function(a){a=Number(a);return-1>a||K(a)?NaN:0===a||Infinity===a?a:-1===a?-Infinity:0===1+a-1?a:a*(ja(1+a)/(1+a-1))},eb=function(a){return"[object Arguments]"===t(a)},Yb=function(a){return null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Array]"!==t(a)&&"[object Function]"===t(a.callee)},Ja=eb(arguments)?eb:Yb,C={primitive:function(a){return null===
a||"function"!==typeof a&&"object"!==typeof a},string:function(a){return"[object String]"===t(a)},regex:function(a){return"[object RegExp]"===t(a)},symbol:function(a){return"function"===typeof r.Symbol&&"symbol"===typeof a}},v=function(a,b,c){var d=a[b];n(a,b,c,!0);x.preserveToString(a[b],d)},na="function"===typeof A&&"function"===typeof A["for"]&&C.symbol(A()),R=C.symbol(A.iterator)?A.iterator:"_es6-shim iterator_";r.Set&&"function"===typeof(new r.Set)["@@iterator"]&&(R="@@iterator");r.Reflect||
n(r,"Reflect",{},!0);var Y=r.Reflect,Ka=String,La="undefined"!==typeof document&&document?document.all:null,V=null==La?function(a){return null==a}:function(a){return null==a&&a!==La},m={Call:function(a,b){var c=2<arguments.length?arguments[2]:[];if(!m.IsCallable(a))throw new TypeError(a+" is not a function");return f(a,b,c)},RequireObjectCoercible:function(a,b){if(V(a))throw new TypeError(b||"Cannot call method on "+a);return a},TypeIsObject:function(a){return void 0===a||null===a||!0===a||!1===a?
!1:"function"===typeof a||"object"===typeof a||a===La},ToObject:function(a,b){return Object(m.RequireObjectCoercible(a,b))},IsCallable:H,IsConstructor:function(a){return m.IsCallable(a)},ToInt32:function(a){return m.ToNumber(a)>>0},ToUint32:function(a){return m.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===t(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){a=m.ToNumber(a);return K(a)?0:0!==a&&Ia(a)?(0<a?1:-1)*J(I(a)):a},ToLength:function(a){a=
m.ToInteger(a);return 0>=a?0:a>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a},SameValue:function(a,b){return a===b?0===a?1/a===1/b:!0:K(a)&&K(b)},SameValueZero:function(a,b){return a===b||K(a)&&K(b)},IsIterable:function(a){return m.TypeIsObject(a)&&("undefined"!==typeof a[R]||Ja(a))},GetIterator:function(a){if(Ja(a))return new Z(a,"value");var b=m.GetMethod(a,R);if(!m.IsCallable(b))throw new TypeError("value is not an iterable");a=m.Call(b,a);if(!m.TypeIsObject(a))throw new TypeError("bad iterator");
return a},GetMethod:function(a,b){a=m.ToObject(a)[b];if(!V(a)){if(!m.IsCallable(a))throw new TypeError("Method not callable: "+b);return a}},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var c=m.GetMethod(a,"return");if(void 0!==c){try{var d=m.Call(c,a)}catch(ra){var e=ra}if(!b){if(e)throw e;if(!m.TypeIsObject(d))throw new TypeError("Iterator's return method returned a non-object.");}}},IteratorNext:function(a){var b=1<arguments.length?a.next(arguments[1]):a.next();if(!m.TypeIsObject(b))throw new TypeError("bad iterator");
return b},IteratorStep:function(a){a=m.IteratorNext(a);return m.IteratorComplete(a)?!1:a},Construct:function(a,b,c,d){c="undefined"===typeof c?a:c;if(!d&&Y.construct)return Y.construct(a,b,c);d=c.prototype;m.TypeIsObject(d)||(d=Object.prototype);d=B(d);a=m.Call(a,d,b);return m.TypeIsObject(a)?a:d},SpeciesConstructor:function(a,b){a=a.constructor;if(void 0===a)return b;if(!m.TypeIsObject(a))throw new TypeError("Bad constructor");a=a[Ha];if(V(a))return b;if(!m.IsConstructor(a))throw new TypeError("Bad @@species");
return a},CreateHTML:function(a,b,c,d){a=m.ToString(a);var e="<"+b;""!==c&&(d=m.ToString(d).replace(/"/g,"&quot;"),e+=" "+c+'="'+d+'"');return e+">"+a+"</"+b+">"},IsRegExp:function(a){if(!m.TypeIsObject(a))return!1;var b=a[A.match];return"undefined"!==typeof b?!!b:C.regex(a)},ToString:function(a){return Ka(a)}};if(b&&na){var ta=function(a){if(C.symbol(A[a]))return A[a];var b=A["for"]("Symbol."+a);Object.defineProperty(A,a,{configurable:!1,enumerable:!1,writable:!1,value:b});return b};if(!C.symbol(A.search)){var fb=
ta("search"),gb=String.prototype.search;n(RegExp.prototype,fb,function(a){return m.Call(gb,a,[this])});v(String.prototype,"search",function(a){var b=m.RequireObjectCoercible(this);if(!V(a)){var c=m.GetMethod(a,fb);if("undefined"!==typeof c)return m.Call(c,a,[b])}return m.Call(gb,b,[m.ToString(a)])})}if(!C.symbol(A.replace)){var hb=ta("replace"),ib=String.prototype.replace;n(RegExp.prototype,hb,function(a,b){return m.Call(ib,a,[this,b])});v(String.prototype,"replace",function(a,b){var c=m.RequireObjectCoercible(this);
if(!V(a)){var d=m.GetMethod(a,hb);if("undefined"!==typeof d)return m.Call(d,a,[c,b])}return m.Call(ib,c,[m.ToString(a),b])})}if(!C.symbol(A.split)){var jb=ta("split"),kb=String.prototype.split;n(RegExp.prototype,jb,function(a,b){return m.Call(kb,a,[this,b])});v(String.prototype,"split",function(a,b){var c=m.RequireObjectCoercible(this);if(!V(a)){var d=m.GetMethod(a,jb);if("undefined"!==typeof d)return m.Call(d,a,[c,b])}return m.Call(kb,c,[m.ToString(a),b])})}var lb=C.symbol(A.match),Zb=lb&&function(){var a=
{};a[A.match]=function(){return 42};return 42!=="a".match(a)}();if(!lb||Zb){var mb=ta("match"),nb=String.prototype.match;n(RegExp.prototype,mb,function(a){return m.Call(nb,a,[this])});v(String.prototype,"match",function(a){var b=m.RequireObjectCoercible(this);if(!V(a)){var c=m.GetMethod(a,mb);if("undefined"!==typeof c)return m.Call(c,a,[b])}return m.Call(nb,b,[m.ToString(a)])})}}var ob=function(a,c,d){x.preserveToString(c,a);Object.setPrototypeOf&&Object.setPrototypeOf(a,c);b?k(Object.getOwnPropertyNames(a),
function(b){b in ea||d[b]||x.proxy(a,b,c)}):k(Object.keys(a),function(b){b in ea||d[b]||(c[b]=a[b])});c.prototype=a.prototype;x.redefine(a.prototype,"constructor",c)},$b=function(){return this},oa=function(a){b&&!sa(a,Ha)&&x.getter(a,Ha,$b)},S=function(a,b){b=b||function(){return this};n(a,R,b);!a[R]&&C.symbol(R)&&(a[R]=b)},pb=function(a,c,d){b?Object.defineProperty(a,c,{configurable:!0,enumerable:!0,writable:!0,value:d}):a[c]=d;if(!m.SameValue(a[c],d))throw new TypeError("property is nonconfigurable");
},Ma=function(a,b,c,d){if(!m.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+b.name);a=b.prototype;m.TypeIsObject(a)||(a=c);c=B(a);for(var e in d)sa(d,e)&&n(c,e,d[e],!0);return c};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var ac=String.fromCodePoint;v(String,"fromCodePoint",function(a){return m.Call(ac,this,arguments)})}var qb={fromCodePoint:function(a){for(var b=[],c,d=0,e=arguments.length;d<e;d++){c=Number(arguments[d]);if(!m.SameValue(c,m.ToInteger(c))||0>c||
1114111<c)throw new RangeError("Invalid code point "+c);65536>c?U(b,String.fromCharCode(c)):(c-=65536,U(b,String.fromCharCode((c>>10)+55296)),U(b,String.fromCharCode(c%1024+56320)))}return b.join("")},raw:function(a){var b=m.ToObject(a,"bad callSite");b=m.ToObject(b.raw,"bad raw value");var c=m.ToLength(b.length);if(0>=c)return"";for(var d=[],e=0,f;e<c;){f=m.ToString(e);f=m.ToString(b[f]);U(d,f);if(e+1>=c)break;f=e+1<arguments.length?arguments[e+1]:"";f=m.ToString(f);U(d,f);e+=1}return d.join("")}};
String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&v(String,"raw",qb.raw);w(String,qb);var bc=function Da(a,b){if(1>b)return"";if(b%2)return Da(a,b-1)+a;a=Da(a,b/2);return a+a},aa={repeat:function(a){var b=m.ToString(m.RequireObjectCoercible(this));a=m.ToInteger(a);if(0>a||Infinity<=a)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return bc(b,a)},startsWith:function(a){var b=m.ToString(m.RequireObjectCoercible(this));if(m.IsRegExp(a))throw new TypeError('Cannot call method "startsWith" with a regex');
var c=m.ToString(a),d;1<arguments.length&&(d=arguments[1]);d=D(m.ToInteger(d),0);return P(b,d,d+c.length)===c},endsWith:function(a){var b=m.ToString(m.RequireObjectCoercible(this));if(m.IsRegExp(a))throw new TypeError('Cannot call method "endsWith" with a regex');var c=m.ToString(a),d=b.length,e;1<arguments.length&&(e=arguments[1]);e="undefined"===typeof e?d:m.ToInteger(e);d=N(D(e,0),d);return P(b,d-c.length,d)===c},includes:function(a){if(m.IsRegExp(a))throw new TypeError('"includes" does not accept a RegExp');
var b=m.ToString(a),c;1<arguments.length&&(c=arguments[1]);return-1!==Ca(this,b,c)},codePointAt:function(a){var b=m.ToString(m.RequireObjectCoercible(this)),c=m.ToInteger(a),d=b.length;if(0<=c&&c<d){a=b.charCodeAt(c);if(55296>a||56319<a||c+1===d)return a;b=b.charCodeAt(c+1);return 56320>b||57343<b?a:1024*(a-55296)+(b-56320)+65536}}};String.prototype.includes&&!1!=="a".includes("a",Infinity)&&v(String.prototype,"includes",aa.includes);if(String.prototype.startsWith&&String.prototype.endsWith){var cc=
e(function(){return"/a/".startsWith(/a/)}),dc=a(function(){return!1==="abc".startsWith("a",Infinity)});cc&&dc||(v(String.prototype,"startsWith",aa.startsWith),v(String.prototype,"endsWith",aa.endsWith))}na&&(a(function(){var a=/a/;a[A.match]=!1;return"/a/".startsWith(a)})||v(String.prototype,"startsWith",aa.startsWith),a(function(){var a=/a/;a[A.match]=!1;return"/a/".endsWith(a)})||v(String.prototype,"endsWith",aa.endsWith),a(function(){var a=/a/;a[A.match]=!1;return"/a/".includes(a)})||v(String.prototype,
"includes",aa.includes));w(String.prototype,aa);var ec=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g,rb=function(){return m.ToString(m.RequireObjectCoercible(this)).replace(ec,"")},sb=/[\u0085\u200b\ufffe]/g,tb=/^[-+]0x[0-9a-f]+$/i;n(String.prototype,"trim",rb,!0);
var ba=function(a){return{value:a,done:0===arguments.length}},Na=function(a){m.RequireObjectCoercible(a);this._s=m.ToString(a);this._i=0};Na.prototype.next=function(){var a=this._s,b=this._i;if("undefined"===typeof a||b>=a.length)return this._s=void 0,ba();var c=a.charCodeAt(b);55296>c||56319<c||b+1===a.length?c=1:(c=a.charCodeAt(b+1),c=56320>c||57343<c?1:2);this._i=b+c;return ba(a.substr(b,c))};S(Na.prototype);S(String.prototype,function(){return new Na(this)});var ua={from:function(a){var b;1<arguments.length&&
(b=arguments[1]);var c;if("undefined"===typeof b)var d=!1;else{if(!m.IsCallable(b))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(c=arguments[2]);d=!0}var e;if("undefined"!==typeof(Ja(a)||m.GetMethod(a,R))){var f=m.IsConstructor(this)?Object(new this):[];var g=m.GetIterator(a);for(e=0;;){var k=m.IteratorStep(g);if(!1===k)break;k=k.value;try{d&&(k="undefined"===typeof c?b(k,e):h(b,c,k,e)),f[e]=k}catch(fc){throw m.IteratorClose(g,!0),fc;
}e+=1}g=e}else for(k=m.ToObject(a),g=m.ToLength(k.length),f=m.IsConstructor(this)?Object(new this(g)):Array(g),e=0;e<g;++e){var y=k[e];d&&(y="undefined"===typeof c?b(y,e):h(b,c,y,e));pb(f,e,y)}f.length=g;return f},of:function(){for(var a=arguments.length,b=l(this)||!m.IsCallable(this)?Array(a):m.Construct(this,[a]),c=0;c<a;++c)pb(b,c,arguments[c]);b.length=a;return b}};w(Array,ua);oa(Array);var Z=function(a,b){this.i=0;this.array=a;this.kind=b};w(Z.prototype,{next:function(){var a=this.i,b=this.array;
if(!(this instanceof Z))throw new TypeError("Not an ArrayIterator");if("undefined"!==typeof b)for(var c=m.ToLength(b.length);a<c;){c=this.kind;var d;"key"===c?d=a:"value"===c?d=b[a]:"entry"===c&&(d=[a,b[a]]);this.i=a+1;return ba(d)}this.array=void 0;return ba()}});S(Z.prototype);Array.of===ua.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}()||v(Array,"of",ua.of);var Ra={copyWithin:function(a,b){var c=m.ToObject(this),
d=m.ToLength(c.length),e=m.ToInteger(a),f=m.ToInteger(b);e=0>e?D(d+e,0):N(e,d);f=0>f?D(d+f,0):N(f,d);var g;2<arguments.length&&(g=arguments[2]);g="undefined"===typeof g?d:m.ToInteger(g);g=0>g?D(d+g,0):N(g,d);d=N(g-f,d-e);g=1;f<e&&e<f+d&&(g=-1,f+=d-1,e+=d-1);for(;0<d;)f in c?c[e]=c[f]:delete c[e],f+=g,e+=g,--d;return c},fill:function(a){var b;1<arguments.length&&(b=arguments[1]);var c;2<arguments.length&&(c=arguments[2]);var d=m.ToObject(this),e=m.ToLength(d.length);b=m.ToInteger("undefined"===typeof b?
0:b);c=m.ToInteger("undefined"===typeof c?e:c);b=0>b?D(e+b,0):N(b,e);for(c=0>c?e+c:c;b<e&&b<c;++b)d[b]=a;return d},find:function(a){var b=m.ToObject(this),c=m.ToLength(b.length);if(!m.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var d=1<arguments.length?arguments[1]:null,e=0,f;e<c;e++)if(f=b[e],d){if(h(a,d,f,e,b))return f}else if(a(f,e,b))return f},findIndex:function(a){var b=m.ToObject(this),c=m.ToLength(b.length);if(!m.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");
for(var d=1<arguments.length?arguments[1]:null,e=0;e<c;e++)if(d){if(h(a,d,b[e],e,b))return e}else if(a(b[e],e,b))return e;return-1},keys:function(){return new Z(this,"key")},values:function(){return new Z(this,"value")},entries:function(){return new Z(this,"entry")}};Array.prototype.keys&&!m.IsCallable([1].keys().next)&&delete Array.prototype.keys;Array.prototype.entries&&!m.IsCallable([1].entries().next)&&delete Array.prototype.entries;Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&
Array.prototype[R]&&(w(Array.prototype,{values:Array.prototype[R]}),C.symbol(A.unscopables)&&(Array.prototype[A.unscopables].values=!0));if(g&&Array.prototype.values&&"values"!==Array.prototype.values.name){var gc=Array.prototype.values;v(Array.prototype,"values",function(){return m.Call(gc,this,arguments)});n(Array.prototype,R,Array.prototype.values,!0)}w(Array.prototype,Ra);0>1/[!0].indexOf(!0,-0)&&n(Array.prototype,"indexOf",function(a){var b=Fa(this,arguments);return 0===b&&0>1/b?0:b},!0);S(Array.prototype,
function(){return this.values()});Object.getPrototypeOf&&S(Object.getPrototypeOf([].values()));var hc=function(){return a(function(){return 0===Array.from({length:-1}).length})}(),ic=function(){var a=Array.from([0].entries());return 1===a.length&&l(a[0])&&0===a[0][0]&&0===a[0][1]}();hc&&ic||v(Array,"from",ua.from);if(!function(){return a(function(){return Array.from([0],void 0)})}()){var ub=Array.from;v(Array,"from",function(a){return 1<arguments.length&&"undefined"!==typeof arguments[1]?m.Call(ub,
this,arguments):h(ub,this,a)})}var jc=-(Math.pow(2,32)-1),ca=function(b,c){var d={length:jc};d[c?(d.length>>>0)-1:0]=!0;return a(function(){h(b,d,function(){throw new RangeError("should not reach here");},[]);return!0})};if(!ca(Array.prototype.forEach)){var kc=Array.prototype.forEach;v(Array.prototype,"forEach",function(a){return m.Call(kc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.map)){var lc=Array.prototype.map;v(Array.prototype,"map",function(a){return m.Call(lc,0<=this.length?
this:[],arguments)},!0)}if(!ca(Array.prototype.filter)){var mc=Array.prototype.filter;v(Array.prototype,"filter",function(a){return m.Call(mc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.some)){var nc=Array.prototype.some;v(Array.prototype,"some",function(a){return m.Call(nc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.every)){var oc=Array.prototype.every;v(Array.prototype,"every",function(a){return m.Call(oc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.reduce)){var pc=
Array.prototype.reduce;v(Array.prototype,"reduce",function(a){return m.Call(pc,0<=this.length?this:[],arguments)},!0)}if(!ca(Array.prototype.reduceRight,!0)){var qc=Array.prototype.reduceRight;v(Array.prototype,"reduceRight",function(a){return m.Call(qc,0<=this.length?this:[],arguments)},!0)}var rc=8!==Number("0o10"),sc=2!==Number("0b10"),tc=z("\u0085\u200b\ufffe",function(a){return 0===Number(a+0+a)});if(rc||sc||tc){var W=Number,vb=/^0b[01]+$/i,wb=/^0o[0-7]+$/i,uc=vb.test.bind(vb),vc=wb.test.bind(wb),
wc=function(a){if("function"===typeof a.valueOf){var b=a.valueOf();if(C.primitive(b))return b}if("function"===typeof a.toString&&(b=a.toString(),C.primitive(b)))return b;throw new TypeError("No default value");},xc=sb.test.bind(sb),yc=tb.test.bind(tb),va=function(){var b=function(c){var d=0<arguments.length?C.primitive(c)?c:wc(c,"number"):0;if("string"===typeof d)if(d=m.Call(rb,d),uc(d))d=parseInt(P(d,2),2);else if(vc(d))d=parseInt(P(d,2),8);else if(xc(d)||yc(d))d=NaN;var e=this,f=a(function(){W.prototype.valueOf.call(e);
return!0});return e instanceof b&&!f?new W(d):W(d)};return b}();ob(W,va,{});w(va,{NaN:W.NaN,MAX_VALUE:W.MAX_VALUE,MIN_VALUE:W.MIN_VALUE,NEGATIVE_INFINITY:W.NEGATIVE_INFINITY,POSITIVE_INFINITY:W.POSITIVE_INFINITY});Number=va;x.redefine(r,"Number",va)}var xb=Math.pow(2,53)-1;w(Number,{MAX_SAFE_INTEGER:xb,MIN_SAFE_INTEGER:-xb,EPSILON:2.220446049250313E-16,parseInt:r.parseInt,parseFloat:r.parseFloat,isFinite:Ia,isInteger:function(a){return Ia(a)&&m.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&
I(a)<=Number.MAX_SAFE_INTEGER},isNaN:K});n(Number,"parseInt",r.parseInt,Number.parseInt!==r.parseInt);1===[,1].find(function(){return!0})&&v(Array.prototype,"find",Ra.find);0!==[,1].findIndex(function(){return!0})&&v(Array.prototype,"findIndex",Ra.findIndex);var yb=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),wa=function(a,c){b&&yb(a,c)&&Object.defineProperty(a,c,{enumerable:!1})},zc=function(){var a=Number(this),b=arguments.length,c=b-a;c=Array(0>c?0:c);for(var d=a;d<b;++d)c[d-
a]=arguments[d];return c},zb=function(a){return function(b,c){b[c]=a[c];return b}},Ac=function(a,b){var c=q(Object(b)),d;m.IsCallable(Object.getOwnPropertySymbols)&&(d=u(Object.getOwnPropertySymbols(Object(b)),yb(b)));return p(qa(c,d||[]),zb(b),a)},Ab={assign:function(a,b){var c=m.ToObject(a,"Cannot convert undefined or null to object");return p(m.Call(zc,1,arguments),Ac,c)},is:function(a,b){return m.SameValue(a,b)}};Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});
try{Object.assign(a,"xy")}catch(G){return"y"===a[1]}}()&&v(Object,"assign",Ab.assign);w(Object,Ab);if(b){var Bc={setPrototypeOf:function(a,b){var c=function(a,b){if(!m.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!m.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b);h(d,a,b);return a};try{var d=a.getOwnPropertyDescriptor(a.prototype,b).set;h(d,{},null)}catch(ra){if(a.prototype!=={}[b])return;d=function(a){this[b]=a};c.polyfill=
c(c({},null),a.prototype)instanceof a}return c}(Object,"__proto__")};w(Object,Bc)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var a=Object.create(null),b=Object.getPrototypeOf,c=Object.setPrototypeOf;Object.getPrototypeOf=function(c){c=b(c);return c===a?null:c};Object.setPrototypeOf=function(b,d){return c(b,null===d?a:d)};Object.setPrototypeOf.polyfill=!1}();if(e(function(){return Object.keys("foo")})){var Cc=
Object.keys;v(Object,"keys",function(a){return Cc(m.ToObject(a))});q=Object.keys}if(e(function(){return Object.keys(/a/g)})){var Dc=Object.keys;v(Object,"keys",function(a){if(C.regex(a)){var b=[],c;for(c in a)sa(a,c)&&U(b,c);return b}return Dc(a)});q=Object.keys}if(Object.getOwnPropertyNames&&e(function(){return Object.getOwnPropertyNames("foo")})){var Ec="object"===typeof window?Object.getOwnPropertyNames(window):[],Bb=Object.getOwnPropertyNames;v(Object,"getOwnPropertyNames",function(a){a=m.ToObject(a);
if("[object Window]"===t(a))try{return Bb(a)}catch(G){return qa([],Ec)}return Bb(a)})}if(Object.getOwnPropertyDescriptor&&e(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Fc=Object.getOwnPropertyDescriptor;v(Object,"getOwnPropertyDescriptor",function(a,b){return Fc(m.ToObject(a),b)})}if(Object.seal&&e(function(){return Object.seal("foo")})){var Gc=Object.seal;v(Object,"seal",function(a){return m.TypeIsObject(a)?Gc(a):a})}if(Object.isSealed&&e(function(){return Object.isSealed("foo")})){var Hc=
Object.isSealed;v(Object,"isSealed",function(a){return m.TypeIsObject(a)?Hc(a):!0})}if(Object.freeze&&e(function(){return Object.freeze("foo")})){var Ic=Object.freeze;v(Object,"freeze",function(a){return m.TypeIsObject(a)?Ic(a):a})}if(Object.isFrozen&&e(function(){return Object.isFrozen("foo")})){var Jc=Object.isFrozen;v(Object,"isFrozen",function(a){return m.TypeIsObject(a)?Jc(a):!0})}if(Object.preventExtensions&&e(function(){return Object.preventExtensions("foo")})){var Kc=Object.preventExtensions;
v(Object,"preventExtensions",function(a){return m.TypeIsObject(a)?Kc(a):a})}if(Object.isExtensible&&e(function(){return Object.isExtensible("foo")})){var Lc=Object.isExtensible;v(Object,"isExtensible",function(a){return m.TypeIsObject(a)?Lc(a):!1})}if(Object.getPrototypeOf&&e(function(){return Object.getPrototypeOf("foo")})){var Mc=Object.getPrototypeOf;v(Object,"getPrototypeOf",function(a){return Mc(m.ToObject(a))})}var Nc=b&&function(){var a=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");
return a&&m.IsCallable(a.get)}();b&&!Nc&&x.getter(RegExp.prototype,"flags",function(){if(!m.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var a="";this.global&&(a+="g");this.ignoreCase&&(a+="i");this.multiline&&(a+="m");this.unicode&&(a+="u");this.sticky&&(a+="y");return a});var Oc=b&&a(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Pc=na&&b&&function(){var a=/./;a[A.match]=!1;return RegExp(a)===a}(),Cb=a(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),
Qc=Cb&&a(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Cb||!Qc){var Db=RegExp.prototype.toString;n(RegExp.prototype,"toString",function(){var a=m.RequireObjectCoercible(this);if(C.regex(a))return h(Db,a);var b=Ka(a.source);a=Ka(a.flags);return"/"+b+"/"+a},!0);x.preserveToString(RegExp.prototype.toString,Db)}if(b&&(!Oc||Pc)){var Rc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Eb=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},
Sc=function(){return this.source},Tc=m.IsCallable(Eb.get)?Eb.get:Sc,Fb=RegExp,Sa=function(){return function Ea(a,b){var c=m.IsRegExp(a);return this instanceof Ea||!c||"undefined"!==typeof b||a.constructor!==Ea?C.regex(a)?(c=m.Call(Tc,a),a="undefined"===typeof b?m.Call(Rc,a):b,new Ea(c,a)):new Fb(a,b):a}}();ob(Fb,Sa,{$input:!0});RegExp=Sa;x.redefine(r,"RegExp",Sa)}if(b){var Ta={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};k(q(Ta),function(a){a in RegExp&&!(Ta[a]in RegExp)&&
x.getter(RegExp,Ta[a],function(){return RegExp[a]})})}oa(RegExp);var xa=1/Number.EPSILON,ya=Math.pow(2,-23),Uc=Math.pow(2,127)*(2-ya),Ua=Math.pow(2,-126),ia=Math.E,za=Math.LOG2E,Vc=Math.LOG10E,Gb=Number.prototype.clz;delete Number.prototype.clz;var L={acosh:function(a){var b=Number(a);if(K(b)||1>a)return NaN;if(1===b)return 0;if(Infinity===b)return b;a=1/(b*b);if(2>b)return ha(b-1+ka(1-a)*b);b/=2;return ha(b+ka(1-a)*b-1)+1/za},asinh:function(a){var b=Number(a);if(0===b||!F(b))return b;a=I(b);var c=
a*a;b=fa(b);return 1>a?b*ha(a+c/(ka(c+1)+1)):b*(ha(a/2+ka(1+1/c)*a/2-1)+1/za)},atanh:function(a){a=Number(a);if(0===a)return a;if(-1===a)return-Infinity;if(1===a)return Infinity;if(K(a)||-1>a||1<a)return NaN;var b=I(a);return fa(a)*ha(2*b/(1-b))/2},cbrt:function(a){a=Number(a);if(0===a)return a;var b=0>a;b&&(a=-a);if(Infinity===a)var c=Infinity;else c=X(ja(a)/3),c=(a/(c*c)+2*c)/3;return b?-c:c},clz32:function(a){a=m.ToUint32(Number(a));return 0===a?32:Gb?m.Call(Gb,a):31-J(ja(a+.5)*za)},cosh:function(a){a=
Number(a);if(0===a)return 1;if(K(a))return NaN;if(!F(a))return Infinity;a=X(I(a)-1);return ia/2*(a+1/(a*ia*ia))},expm1:function(a){a=Number(a);if(-Infinity===a)return-1;if(!F(a)||0===a)return a;if(.5<I(a))return X(a)-1;for(var b=a,c=0,d=1;c+b!==c;)c+=b,d+=1,b*=a/d;return c},hypot:function(a,b){for(var c=0,d=0,e=0;e<arguments.length;++e){var f=I(Number(arguments[e]));d<f?(c*=d/f*(d/f),c+=1,d=f):c+=0<f?f/d*(f/d):f}return Infinity===d?Infinity:d*ka(c)},log2:function(a){return ja(a)*za},log10:function(a){return ja(a)*
Vc},log1p:ha,sign:fa,sinh:function(a){a=Number(a);if(!F(a)||0===a)return a;var b=I(a);if(1>b)return b=Math.expm1(b),fa(a)*b*(1+1/(b+1))/2;b=X(b-1);return fa(a)*(b-1/(b*ia*ia))*(ia/2)},tanh:function(a){a=Number(a);return K(a)||0===a?a:20<=a?1:-20>=a?-1:(Math.expm1(a)-Math.expm1(-a))/(X(a)+X(-a))},trunc:function(a){a=Number(a);return 0>a?-J(-a):J(a)},imul:function(a,b){a=m.ToUint32(a);b=m.ToUint32(b);var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},fround:function(a){var b=
Number(a);if(0===b||Infinity===b||-Infinity===b||K(b))return b;a=fa(b);b=I(b);if(b<Ua)return a*(b/Ua/ya+xa-xa)*Ua*ya;var c=(1+ya/Number.EPSILON)*b;b=c-(c-b);return b>Uc||K(b)?Infinity*a:a*b}};w(Math,L);n(Math,"sinh",L.sinh,Infinity===Math.sinh(710));n(Math,"cosh",L.cosh,Infinity===Math.cosh(710));n(Math,"log1p",L.log1p,-1E-17!==Math.log1p(-1E-17));n(Math,"asinh",L.asinh,Math.asinh(-1E7)!==-Math.asinh(1E7));n(Math,"asinh",L.asinh,Infinity===Math.asinh(1E300));n(Math,"atanh",L.atanh,0===Math.atanh(1E-300));
n(Math,"tanh",L.tanh,-2E-17!==Math.tanh(-2E-17));n(Math,"acosh",L.acosh,Infinity===Math.acosh(Number.MAX_VALUE));n(Math,"acosh",L.acosh,!(8>I(1-Math.acosh(1+Number.EPSILON)/Math.sqrt(2*Number.EPSILON))/Number.EPSILON));n(Math,"cbrt",L.cbrt,!(8>I(1-Math.cbrt(1E-300)/1E-100)/Number.EPSILON));n(Math,"sinh",L.sinh,-2E-17!==Math.sinh(-2E-17));var Hb=Math.expm1(10);n(Math,"expm1",L.expm1,22025.465794806718<Hb||22025.465794806718>Hb);var Wc=Math.round,Xc=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+
Number.EPSILON/3.99),Yc=[xa+1,2*xa-1].every(function(a){return Math.round(a)===a});n(Math,"round",function(a){var b=J(a);return.5>a-b?b:-1===b?-0:b+1},!Xc||!Yc);x.preserveToString(Math.round,Wc);var Ib=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=L.imul,x.preserveToString(Math.imul,Ib));2!==Math.imul.length&&v(Math,"imul",function(a,b){return m.Call(Ib,Math,arguments)});var Aa=function(){var a=r.setTimeout;if("function"===typeof a||"object"===typeof a){m.IsPromise=function(a){return m.TypeIsObject(a)&&
"undefined"!==typeof a._promise?!0:!1};var b=function(a){if(!m.IsConstructor(a))throw new TypeError("Bad promise constructor");var b=this;b.resolve=void 0;b.reject=void 0;b.promise=new a(function(a,c){if(void 0!==b.resolve||void 0!==b.reject)throw new TypeError("Bad Promise implementation!");b.resolve=a;b.reject=c});if(!m.IsCallable(b.resolve)||!m.IsCallable(b.reject))throw new TypeError("Bad promise constructor");},c;"undefined"!==typeof window&&m.IsCallable(window.postMessage)&&(c=function(){var a=
[];window.addEventListener("message",function(b){b.source===window&&"zero-timeout-message"===b.data&&(b.stopPropagation(),0!==a.length&&Ga(a)())},!0);return function(b){U(a,b);window.postMessage("zero-timeout-message","*")}});var d=function(){var a=r.Promise,b=a&&a.resolve&&a.resolve();return b&&function(a){return b.then(a)}},e=m.IsCallable(r.setImmediate)?r.setImmediate:"object"===typeof process&&process.nextTick?process.nextTick:d()||(m.IsCallable(c)?c():function(b){a(b,0)}),f=function(a){return a},
g=function(a){throw a;},k={},l=function(a,b,c){e(function(){if(b===k)a(c);else{try{var d=a(c);var e=b.resolve}catch(Va){d=Va,e=b.reject}e(d)}})},q=function(a,b){var c=a._promise,d=c.reactionLength;if(0<d&&(l(c.fulfillReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,1<d))for(var e=1,f=0;e<d;e++,f+=3)l(c[f+0],c[f+2],b),a[f+0]=void 0,a[f+1]=void 0,a[f+2]=void 0;c.result=b;c.state=1;c.reactionLength=0},n=function(a,b){var c=
a._promise,d=c.reactionLength;if(0<d&&(l(c.rejectReactionHandler0,c.reactionCapability0,b),c.fulfillReactionHandler0=void 0,c.rejectReactions0=void 0,c.reactionCapability0=void 0,1<d))for(var e=1,f=0;e<d;e++,f+=3)l(c[f+1],c[f+2],b),a[f+0]=void 0,a[f+1]=void 0,a[f+2]=void 0;c.result=b;c.state=2;c.reactionLength=0},p=function(a){var b=!1;return{resolve:function(c){if(!b){b=!0;if(c===a)return n(a,new TypeError("Self resolution"));if(!m.TypeIsObject(c))return q(a,c);try{var d=c.then}catch(Zc){return n(a,
Zc)}if(!m.IsCallable(d))return q(a,c);e(function(){var b=d,e=p(a),f=e.resolve;e=e.reject;try{u(b,c,f,e)}catch($c){e($c)}})}},reject:function(c){if(!b)return b=!0,n(a,c)}}},u=function(a,b,c,d){a===z?h(a,b,c,d,k):h(a,b,c,d)},t=function(){var a=function(b){if(!(this instanceof a))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!m.IsCallable(b))throw new TypeError("not a valid resolver");var c=Ma(this,a,v,{_promise:{result:void 0,
state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),d=p(c),e=d.reject;try{b(d.resolve,e)}catch(Va){e(Va)}return c};return a}();var v=t.prototype;var x=function(a,b,c,d){var e=!1;return function(f){e||(e=!0,b[a]=f,0===--d.count&&(f=c.resolve,f(b)))}};w(t,{all:function(a){if(!m.TypeIsObject(this))throw new TypeError("Promise is not object");var c=new b(this),d;try{var e=m.GetIterator(a);a=d={iterator:e,done:!1};for(var f=a.iterator,g=[],
h={count:1},k,l,q=0;;){try{k=m.IteratorStep(f);if(!1===k){a.done=!0;break}l=k.value}catch(Xa){throw a.done=!0,Xa;}g[q]=void 0;var n=this.resolve(l),p=x(q,g,c,h);h.count+=1;u(n.then,n,p,c.reject);q+=1}if(0===--h.count){var y=c.resolve;y(g)}return c.promise}catch(Xa){f=Xa;if(d&&!d.done)try{m.IteratorClose(e,!0)}catch(bd){f=bd}e=c.reject;e(f);return c.promise}},race:function(a){if(!m.TypeIsObject(this))throw new TypeError("Promise is not object");var c=new b(this),d;try{var e=m.GetIterator(a);a=d={iterator:e,
done:!1};for(var f=a.iterator,g,h,k;;){try{g=m.IteratorStep(f);if(!1===g){a.done=!0;break}h=g.value}catch(Wa){throw a.done=!0,Wa;}k=this.resolve(h);u(k.then,k,c.resolve,c.reject)}return c.promise}catch(Wa){f=Wa;if(d&&!d.done)try{m.IteratorClose(e,!0)}catch(ad){f=ad}e=c.reject;e(f);return c.promise}},reject:function(a){if(!m.TypeIsObject(this))throw new TypeError("Bad promise constructor");var c=new b(this),d=c.reject;d(a);return c.promise},resolve:function(a){if(!m.TypeIsObject(this))throw new TypeError("Bad promise constructor");
if(m.IsPromise(a)&&a.constructor===this)return a;var c=new b(this),d=c.resolve;d(a);return c.promise}});w(v,{"catch":function(a){return this.then(null,a)},then:function(a,c){if(!m.IsPromise(this))throw new TypeError("not a promise");var d=m.SpeciesConstructor(this,t);d=2<arguments.length&&arguments[2]===k&&d===t?k:new b(d);var e=m.IsCallable(a)?a:f,h=m.IsCallable(c)?c:g,q=this._promise;if(0===q.state){if(0===q.reactionLength)q.fulfillReactionHandler0=e,q.rejectReactionHandler0=h,q.reactionCapability0=
d;else{var n=3*(q.reactionLength-1);q[n+0]=e;q[n+1]=h;q[n+2]=d}q.reactionLength+=1}else if(1===q.state)q=q.result,l(e,d,q);else if(2===q.state)q=q.result,l(h,d,q);else throw new TypeError("unexpected Promise state");return d.promise}});k=new b(t);var z=v.then;return t}}();r.Promise&&(delete r.Promise.accept,delete r.Promise.defer,delete r.Promise.prototype.chain);if("function"===typeof Aa){w(r,{Promise:Aa});var cd=M(r.Promise,function(a){return a.resolve(42).then(function(){})instanceof a}),dd=!e(function(){return r.Promise.reject(42).then(null,
5).then(null,ea)}),ed=e(function(){return r.Promise.call(3,ea)}),fd=function(a){var b=a.resolve(5);b.constructor={};a=a.resolve(b);try{a.then(null,ea).then(null,ea)}catch(Da){return!0}return b===a}(r.Promise),gd=b&&function(){var a=0,b=Object.defineProperty({},"then",{get:function(){a+=1}});Promise.resolve(b);return 1===a}(),Ya=function(a){var b=new Promise(a);a(3,function(){});this.then=b.then;this.constructor=BadResolverPromise_2};Ya.prototype=Promise.prototype;Ya.all=Promise.all;var hd=a(function(){return!!Ya.all([1,
2])});cd&&dd&&ed&&!fd&&gd&&!hd||(Promise=Aa,v(r,"Promise",Aa));if(1!==Promise.all.length){var id=Promise.all;v(Promise,"all",function(a){return m.Call(id,this,arguments)})}if(1!==Promise.race.length){var jd=Promise.race;v(Promise,"race",function(a){return m.Call(jd,this,arguments)})}if(1!==Promise.resolve.length){var kd=Promise.resolve;v(Promise,"resolve",function(a){return m.Call(kd,this,arguments)})}if(1!==Promise.reject.length){var ld=Promise.reject;v(Promise,"reject",function(a){return m.Call(ld,
this,arguments)})}wa(Promise,"all");wa(Promise,"race");wa(Promise,"resolve");wa(Promise,"reject");oa(Promise)}var Jb=function(a){var b=q(p(a,function(a,b){a[b]=!0;return a},{}));return a.join(":")===b.join(":")},md=Jb(["z","a","bb"]),nd=Jb(["z",1,"a","3",2]);if(b){var da=function(a,b){return b||md?V(a)?"^"+m.ToString(a):"string"===typeof a?"$"+a:"number"===typeof a?nd?a:"n"+a:"boolean"===typeof a?"b"+a:null:null},Ba=function(){return Object.create?Object.create(null):{}},Za=function(a,b,c){if(l(c)||
C.string(c))k(c,function(a){if(!m.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");b.set(a[0],a[1])});else if(c instanceof a)h(a.prototype.forEach,c,function(a,c){b.set(c,a)});else{if(!V(c)){var d=b.set;if(!m.IsCallable(d))throw new TypeError("bad map");var e=m.GetIterator(c)}if("undefined"!==typeof e)for(;;){a=m.IteratorStep(e);if(!1===a)break;a=a.value;try{if(!m.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");h(d,b,a[0],a[1])}catch(Oa){throw m.IteratorClose(e,
!0),Oa;}}}},Kb=function(a,b,c){if(l(c)||C.string(c))k(c,function(a){b.add(a)});else if(c instanceof a)h(a.prototype.forEach,c,function(a){b.add(a)});else{if(!V(c)){var d=b.add;if(!m.IsCallable(d))throw new TypeError("bad set");var e=m.GetIterator(c)}if("undefined"!==typeof e)for(;;){a=m.IteratorStep(e);if(!1===a)break;a=a.value;try{h(d,b,a)}catch(Oa){throw m.IteratorClose(e,!0),Oa;}}}},pa={Map:function(){var a={},b=function(a,b){this.key=a;this.value=b;this.prev=this.next=null};b.prototype.isRemoved=
function(){return this.key===a};var c=function(a,b){if(!m.TypeIsObject(a)||!a._es6map)throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+m.ToString(a));},d=function(a,b){c(a,"[[MapIterator]]");this.i=this.head=a._head;this.kind=b};d.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var a=this.i,b=this.kind,c=this.head;if("undefined"===typeof this.i)return ba();for(;a.isRemoved()&&a!==c;)a=a.prev;for(;a.next!==
c;)if(a=a.next,!a.isRemoved())return b="key"===b?a.key:"value"===b?a.value:[a.key,a.value],this.i=a,ba(b);this.i=void 0;return ba()}};S(d.prototype);var e=function Qa(){if(!(this instanceof Qa))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var a=Ma(this,Qa,f,{_es6map:!0,_head:null,_map:E?new E:null,_size:0,_storage:Ba()}),c=new b(null,null);c.next=c.prev=c;a._head=c;0<arguments.length&&Za(Qa,a,arguments[0]);return a};var f=e.prototype;
x.getter(f,"size",function(){if("undefined"===typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size});w(f,{get:function(a){c(this,"get");var b=da(a,!0);if(null!==b){if(a=this._storage[b])return a.value}else if(this._map){if(a=la.call(this._map,a))return a.value}else for(var d=b=this._head;(d=d.next)!==b;)if(m.SameValueZero(d.key,a))return d.value},has:function(a){c(this,"has");var b=da(a,!0);if(null!==b)return"undefined"!==typeof this._storage[b];if(this._map)return ma.call(this._map,
a);for(var d=b=this._head;(d=d.next)!==b;)if(m.SameValueZero(d.key,a))return!0;return!1},set:function(a,d){c(this,"set");var e=this._head,f=e,g=da(a,!0);if(null!==g){if("undefined"!==typeof this._storage[g])return this._storage[g].value=d,this;var h=this._storage[g]=new b(a,d);f=e.prev}else this._map&&(ma.call(this._map,a)?la.call(this._map,a).value=d:(h=new b(a,d),db.call(this._map,a,h),f=e.prev));for(;(f=f.next)!==e;)if(m.SameValueZero(f.key,a))return f.value=d,this;h=h||new b(a,d);m.SameValue(-0,
a)&&(h.key=0);h.next=this._head;h.prev=this._head.prev;h.prev.next=h;h.next.prev=h;this._size+=1;return this},"delete":function(b){c(this,"delete");var d=this._head,e=d,f=da(b,!0);if(null!==f){if("undefined"===typeof this._storage[f])return!1;e=this._storage[f].prev;delete this._storage[f]}else if(this._map){if(!ma.call(this._map,b))return!1;e=la.call(this._map,b).prev;Xb.call(this._map,b)}for(;(e=e.next)!==d;)if(m.SameValueZero(e.key,b))return e.key=a,e.value=a,e.prev.next=e.next,e.next.prev=e.prev,
--this._size,!0;return!1},clear:function(){c(this,"clear");this._map=E?new E:null;this._size=0;this._storage=Ba();for(var b=this._head,d,e=b.next;(d=e)!==b;)d.key=a,d.value=a,e=d.next,d.next=d.prev=b;b.next=b.prev=b},keys:function(){c(this,"keys");return new d(this,"key")},values:function(){c(this,"values");return new d(this,"value")},entries:function(){c(this,"entries");return new d(this,"key+value")},forEach:function(a){c(this,"forEach");for(var b=1<arguments.length?arguments[1]:null,d=this.entries(),
e=d.next();!e.done;e=d.next())b?h(a,b,e.value[1],e.value[0],this):a(e.value[1],e.value[0],this)}});S(f,f.entries);return e}(),Set:function(){var a=function(a,b){if(!m.TypeIsObject(a)||!a._es6set||"undefined"===typeof a._storage)throw new TypeError("Set.prototype."+b+" called on incompatible receiver "+m.ToString(a));},b=function Pa(){if(!(this instanceof Pa))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var a=Ma(this,Pa,c,{_es6set:!0,
"[[SetData]]":null,_storage:Ba()});if(!a._es6set)throw new TypeError("bad set");0<arguments.length&&Kb(Pa,a,arguments[0]);return a};var c=b.prototype;var d=function(a){if(!a["[[SetData]]"]){var b=new pa.Map;a["[[SetData]]"]=b;k(q(a._storage),function(a){if("^null"===a)a=null;else if("^undefined"!==a){var c=a.charAt(0);a="$"===c?P(a,1):"n"===c?+P(a,1):"b"===c?"btrue"===a:+a}else a=void 0;b.set(a,a)});a["[[SetData]]"]=b}a._storage=null};x.getter(b.prototype,"size",function(){a(this,"size");if(this._storage)return q(this._storage).length;
d(this);return this["[[SetData]]"].size});w(b.prototype,{has:function(b){a(this,"has");var c;if(this._storage&&null!==(c=da(b)))return!!this._storage[c];d(this);return this["[[SetData]]"].has(b)},add:function(b){a(this,"add");var c;if(this._storage&&null!==(c=da(b)))return this._storage[c]=!0,this;d(this);this["[[SetData]]"].set(b,b);return this},"delete":function(b){a(this,"delete");var c;if(this._storage&&null!==(c=da(b)))return b=sa(this._storage,c),delete this._storage[c]&&b;d(this);return this["[[SetData]]"]["delete"](b)},
clear:function(){a(this,"clear");this._storage&&(this._storage=Ba());this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){a(this,"values");d(this);return new e(this["[[SetData]]"].values())},entries:function(){a(this,"entries");d(this);return new e(this["[[SetData]]"].entries())},forEach:function(b){a(this,"forEach");var c=1<arguments.length?arguments[1]:null,e=this;d(e);this["[[SetData]]"].forEach(function(a,d){c?h(b,c,d,d,e):b(d,d,e)})}});n(b.prototype,"keys",b.prototype.values,!0);
S(b.prototype,b.prototype.values);var e=function(a){this.it=a};e.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}};S(e.prototype);return b}()};r.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(r.Set=pa.Set);if(r.Map||r.Set){a(function(){return 2===(new Map([[1,2]])).get(1)})||(r.Map=function G(){if(!(this instanceof G))throw new TypeError('Constructor Map requires "new"');
var a=new E;0<arguments.length&&Za(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,r.Map.prototype);return a},r.Map.prototype=B(E.prototype),n(r.Map.prototype,"constructor",r.Map,!0),x.preserveToString(r.Map,E));var Lb=new Map,Mb=function(){var a=new Map([[1,0],[2,0],[3,0],[4,0]]);a.set(-0,a);return a.get(0)===a&&a.get(-0)===a&&a.has(0)&&a.has(-0)}(),od=Lb.set(1,2)===Lb;Mb&&od||v(Map.prototype,"set",function(a,b){h(db,this,0===a?0:a,b);return this});Mb||(w(Map.prototype,{get:function(a){return h(la,
this,0===a?0:a)},has:function(a){return h(ma,this,0===a?0:a)}},!0),x.preserveToString(Map.prototype.get,la),x.preserveToString(Map.prototype.has,ma));var $a=new Set,Nb=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(a){a["delete"](0);a.add(-0);return!a.has(0)}($a),pd=$a.add(1)===$a;if(!Nb||!pd){var Ob=Set.prototype.add;Set.prototype.add=function(a){h(Ob,this,0===a?0:a);return this};x.preserveToString(Set.prototype.add,Ob)}if(!Nb){var Pb=Set.prototype.has;Set.prototype.has=
function(a){return h(Pb,this,0===a?0:a)};x.preserveToString(Set.prototype.has,Pb);var Qb=Set.prototype["delete"];Set.prototype["delete"]=function(a){return h(Qb,this,0===a?0:a)};x.preserveToString(Set.prototype["delete"],Qb)}var Rb=M(r.Map,function(a){var b=new a([]);b.set(42,42);return b instanceof a}),qd=Object.setPrototypeOf&&!Rb;try{var Sb=!(r.Map()instanceof r.Map)}catch(y){Sb=y instanceof TypeError}if(0!==r.Map.length||qd||!Sb)r.Map=function G(){if(!(this instanceof G))throw new TypeError('Constructor Map requires "new"');
var a=new E;0<arguments.length&&Za(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,G.prototype);return a},r.Map.prototype=E.prototype,n(r.Map.prototype,"constructor",r.Map,!0),x.preserveToString(r.Map,E);var rd=M(r.Set,function(a){var b=new a([]);b.add(42,42);return b instanceof a}),sd=Object.setPrototypeOf&&!rd;try{var Tb=!(r.Set()instanceof r.Set)}catch(y){Tb=y instanceof TypeError}if(0!==r.Set.length||sd||!Tb){var ab=r.Set;r.Set=function G(){if(!(this instanceof G))throw new TypeError('Constructor Set requires "new"');
var a=new ab;0<arguments.length&&Kb(G,a,arguments[0]);delete a.constructor;Object.setPrototypeOf(a,G.prototype);return a};r.Set.prototype=ab.prototype;n(r.Set.prototype,"constructor",r.Set,!0);x.preserveToString(r.Set,ab)}var bb=new r.Map,td=!a(function(){return bb.keys().next().done});("function"!==typeof r.Map.prototype.clear||0!==(new r.Set).size||0!==bb.size||"function"!==typeof r.Map.prototype.keys||"function"!==typeof r.Set.prototype.keys||"function"!==typeof r.Map.prototype.forEach||"function"!==
typeof r.Set.prototype.forEach||d(r.Map)||d(r.Set)||"function"!==typeof bb.keys().next||td||!Rb)&&w(r,{Map:pa.Map,Set:pa.Set},!0);r.Set.prototype.keys!==r.Set.prototype.values&&n(r.Set.prototype,"keys",r.Set.prototype.values,!0);S(Object.getPrototypeOf((new r.Map).keys()));S(Object.getPrototypeOf((new r.Set).keys()));if(g&&"has"!==r.Set.prototype.has.name){var ud=r.Set.prototype.has;v(r.Set.prototype,"has",function(a){return h(ud,this,a)})}}w(r,pa);oa(r.Map);oa(r.Set)}var T=function(a){if(!m.TypeIsObject(a))throw new TypeError("target must be an object");
},O={apply:function(){return m.Call(m.Call,null,arguments)},construct:function(a,b){if(!m.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var c=2<arguments.length?arguments[2]:a;if(!m.IsConstructor(c))throw new TypeError("new.target must be a constructor.");return m.Construct(a,b,c,"internal")},deleteProperty:function(a,c){T(a);if(b){var d=Object.getOwnPropertyDescriptor(a,c);if(d&&!d.configurable)return!1}return delete a[c]},has:function(a,b){T(a);return b in a}};Object.getOwnPropertyNames&&
Object.assign(O,{ownKeys:function(a){T(a);var b=Object.getOwnPropertyNames(a);m.IsCallable(Object.getOwnPropertySymbols)&&Q(b,Object.getOwnPropertySymbols(a));return b}});Object.preventExtensions&&Object.assign(O,{isExtensible:function(a){T(a);return Object.isExtensible(a)},preventExtensions:function(a){T(a);return!e(function(){return Object.preventExtensions(a)})}});if(b){var Ub=function(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(!d)return a=Object.getPrototypeOf(a),null===a?void 0:Ub(a,
b,c);if("value"in d)return d.value;if(d.get)return m.Call(d.get,c)},Vb=function(a,b,c,d){var e=Object.getOwnPropertyDescriptor(a,b);if(!e){a=Object.getPrototypeOf(a);if(null!==a)return Vb(a,b,c,d);e={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in e?e.writable&&m.TypeIsObject(d)?Object.getOwnPropertyDescriptor(d,b)?Y.defineProperty(d,b,{value:c}):Y.defineProperty(d,b,{value:c,writable:!0,enumerable:!0,configurable:!0}):!1:e.set?(h(e.set,d,c),!0):!1};Object.assign(O,{defineProperty:function(a,
b,c){T(a);return!e(function(){return Object.defineProperty(a,b,c)})},getOwnPropertyDescriptor:function(a,b){T(a);return Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){T(a);return Ub(a,b,2<arguments.length?arguments[2]:a)},set:function(a,b,c){T(a);return Vb(a,b,c,3<arguments.length?arguments[3]:a)}})}if(Object.getPrototypeOf){var vd=Object.getPrototypeOf;O.getPrototypeOf=function(a){T(a);return vd(a)}}Object.setPrototypeOf&&O.getPrototypeOf&&Object.assign(O,{setPrototypeOf:function(a,b){T(a);
if(null!==b&&!m.TypeIsObject(b))throw new TypeError("proto must be an object or null");if(b===Y.getPrototypeOf(a))return!0;if(Y.isExtensible&&!Y.isExtensible(a))return!1;var c;a:{for(c=b;c;){if(a===c){c=!0;break a}c=O.getPrototypeOf(c)}c=!1}if(c)return!1;Object.setPrototypeOf(a,b);return!0}});var wd=function(b,c){m.IsCallable(r.Reflect[b])?a(function(){r.Reflect[b](1);r.Reflect[b](NaN);r.Reflect[b](!0);return!0})&&v(r.Reflect,b,c):n(r.Reflect,b,c)};Object.keys(O).forEach(function(a){wd(a,O[a])});
var cb=r.Reflect.getPrototypeOf;g&&cb&&"getPrototypeOf"!==cb.name&&v(r.Reflect,"getPrototypeOf",function(a){return h(cb,r.Reflect,a)});r.Reflect.setPrototypeOf&&a(function(){r.Reflect.setPrototypeOf(1,{});return!0})&&v(r.Reflect,"setPrototypeOf",O.setPrototypeOf);r.Reflect.defineProperty&&(a(function(){var a=!r.Reflect.defineProperty(1,"test",{value:1}),b="function"!==typeof Object.preventExtensions||!r.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return a&&b})||v(r.Reflect,"defineProperty",
O.defineProperty));r.Reflect.construct&&(a(function(){var a=function(){};return r.Reflect.construct(function(){},[],a)instanceof a})||v(r.Reflect,"construct",O.construct));if("Invalid Date"!==String(new Date(NaN))){var xd=Date.prototype.toString;v(Date.prototype,"toString",function(){var a=+this;return a!==a?"Invalid Date":m.Call(xd,this)})}var Wb={anchor:function(a){return m.CreateHTML(this,"a","name",a)},big:function(){return m.CreateHTML(this,"big","","")},blink:function(){return m.CreateHTML(this,
"blink","","")},bold:function(){return m.CreateHTML(this,"b","","")},fixed:function(){return m.CreateHTML(this,"tt","","")},fontcolor:function(a){return m.CreateHTML(this,"font","color",a)},fontsize:function(a){return m.CreateHTML(this,"font","size",a)},italics:function(){return m.CreateHTML(this,"i","","")},link:function(a){return m.CreateHTML(this,"a","href",a)},small:function(){return m.CreateHTML(this,"small","","")},strike:function(){return m.CreateHTML(this,"strike","","")},sub:function(){return m.CreateHTML(this,
"sub","","")},sup:function(){return m.CreateHTML(this,"sup","","")}};k(Object.keys(Wb),function(a){var b=String.prototype[a];if(m.IsCallable(b)){b=h(b,"",' " ');var c=qa([],b.match(/"/g)).length;b=b!==b.toLowerCase()||2<c}else b=!0;b&&v(String.prototype,a,Wb[a])});var yd=function(){if(!na)return!1;var a="object"===typeof JSON&&"function"===typeof JSON.stringify?JSON.stringify:null;if(!a)return!1;if("undefined"!==typeof a(A())||"[null]"!==a([A()]))return!0;var b={a:A()};b[A()]=!0;return"{}"!==a(b)?
!0:!1}(),zd=a(function(){return na?"{}"===JSON.stringify(Object(A()))&&"[{}]"===JSON.stringify([Object(A())]):!0});if(yd||!zd){var Ad=JSON.stringify;v(JSON,"stringify",function(a){if("symbol"!==typeof a){var b;1<arguments.length&&(b=arguments[1]);var c=[a];if(l(b))c.push(b);else{var d=m.IsCallable(b)?b:null;c.push(function(a,b){a=d?h(d,this,a,b):b;if("symbol"!==typeof a)return C.symbol(a)?zb({})(a):a})}2<arguments.length&&c.push(arguments[2]);return Ad.apply(this,c)}})}return r});
(function(f){(function(f){(function(f){(function(f){var e=function(){function a(){this._promises=new Map}Object.defineProperty(a.prototype,"length",{get:function(){return this._promises.size},enumerable:!0,configurable:!0});a.prototype.make=function(a,c,b){if(this._promises.has(a))return b("Existing request with token "+a);this._promises.set(a,{reject:b,resolve:c})};a.prototype.keep=function(a,c){var b=this._promises.get(a);if(!b)throw Error("No promise associated with token: "+a);b=b.resolve;this._promises.delete(a);
return b(c)};a.prototype.break=function(a,c){var b=this._promises.get(a);if(!b)throw Error("No promise associated with token: "+a);this._promises.delete(a);b.reject(c)};return a}();f.PromiseStore=e})(f.prediction||(f.prediction={}))})(f.text||(f.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(f){(function(f){(function(f){var e=function(){function a(d,c){this._worker=c||new Worker(a.asBlobURI(LMLayerWorkerCode));this._worker.onmessage=this.onMessage.bind(this);this._declareLMLayerReady=null;this._predictPromises=new f.PromiseStore;this._wordbreakPromises=new f.PromiseStore;this._nextToken=Number.MIN_SAFE_INTEGER;this.sendConfig(d)}a.prototype.sendConfig=function(a){this._worker.postMessage({message:"config",capabilities:a})};a.prototype.loadModel=function(a){var c=
this;return new Promise(function(b,d){c._declareLMLayerReady=b;c._worker.postMessage({message:"load",model:a})})};a.prototype.unloadModel=function(){this._worker.postMessage({message:"unload"})};a.prototype.predict=function(a,c){var b=this,d=this._nextToken++;return new Promise(function(e,f){b._predictPromises.make(d,e,f);b._worker.postMessage({message:"predict",token:d,transform:a,context:c})})};a.prototype.wordbreak=function(a){var c=this,b=this._nextToken++;return new Promise(function(d,e){c._wordbreakPromises.make(b,
d,e);c._worker.postMessage({message:"wordbreak",token:b,context:a})})};a.prototype.onMessage=function(a){var c=a.data;if("error"===c.message)console.error(c.log),c.error&&console.error(c.error);else if("ready"===c.message)this._declareLMLayerReady(a.data.configuration);else if("suggestions"===c.message)this._predictPromises.keep(c.token,c.suggestions);else if("currentword"===c.message)this._wordbreakPromises.keep(c.token,c.word);else throw Error("Message not implemented: "+c.message);};a.prototype.shutdown=
function(){this._worker.terminate()};a.unwrap=function(a){return a.toString().match(/function[^{]+{((?:.|\r|\n)+)}[^}]*$/)[1]};a.asBlobURI=function(d){d=a.unwrap(d);d=new Blob([d],{type:"text/javascript"});return URL.createObjectURL(d)};return a}();f.LMLayer=e})(f.prediction||(f.prediction={}))})(f.text||(f.text={}))})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(){var f=com.keyman.text.prediction;"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports=f.LMLayer,f.LMLayer.PromiseStore=f.PromiseStore):window.LMLayer=f.LMLayer})();
(function(f){(function(h){(function(h){(function(l){var e=function(){return function(a,b){this.left=a.getTextBeforeCaret();this.startOfBuffer=this.left._kmwLength()>b.leftContextCodePoints;this.startOfBuffer||(this.left=this.left._kmwSubstr(-b.leftContextCodePoints));this.right=a.getTextAfterCaret();this.endOfBuffer=this.right._kmwLength()>b.leftContextCodePoints;this.endOfBuffer||(this.right=this.right._kmwSubstr(0,b.leftContextCodePoints))}}(),a=function(){return function(a,b){this.suggestions=
a;this.transcriptionID=b}}();l.ReadySuggestions=a;var d=function(){function c(){this.recentTranscriptions=[];this._mayCorrect=this._mayPredict=!0;this.registeredModels={};this.languageModelMap={}}c.prototype.init=function(){var a=f.keyman.singleton,c={maxLeftContextCodePoints:64,maxRightContextCodePoints:a.isEmbedded?0:64};this.canEnable()&&(this.lmEngine=new l.LMLayer(c),a.addEventListener("keyboardchange",this.onKeyboardChange.bind(this)))};Object.defineProperty(c.prototype,"activeModel",{get:function(){return this.currentModel},
enumerable:!0,configurable:!0});c.prototype.unloadModel=function(){this.lmEngine.unloadModel();delete this.currentModel;delete this.configuration};c.prototype.loadModel=function(a){if(!a)throw Error("Null reference not allowed.");var b=this;return this.lmEngine.loadModel(a.path).then(function(c){b.currentModel=a;b.configuration=c})};c.prototype.onKeyboardChange=function(a){var b,d=f.keyman.singleton;if(!this.mayPredict)return Promise.resolve();"string"==typeof a&&(a=(b={},b.internalName=d.keyboardManager.getActiveKeyboardName(),
b.languageCode=a,b.indirect=!0,b));var e=this.languageModelMap[a.languageCode],h;if(this.currentModel!==e&&(this.currentModel&&(this.unloadModel(),d.util.callEvent(c.EVENT_PREFIX+"modelchange","unloaded")),e&&(h=this.loadModel(e)),h)){var l=this;h.then(function(){l.mayPredict?d.util.callEvent(c.EVENT_PREFIX+"modelchange","loaded"):l.unloadModel()}).catch(function(a){console.error("Could not load model '"+e.id+"': "+a)})}};c.prototype.register=function(a){var b=f.keyman.singleton.keyboardManager.getActiveLanguage();
this.registeredModels[a.id]=a;var c=this;a.languages.forEach(function(d){c.languageModelMap[d]=a;if(d==b)c.onKeyboardChange(d)})};c.prototype.deregister=function(a){var b=f.keyman.singleton;if(this.registeredModels[a]){var d=this.registeredModels[a];delete this.registeredModels[a];this.currentModel&&this.currentModel.id==a&&(this.unloadModel(),b.util.callEvent(c.EVENT_PREFIX+"modelchange","unloaded"));var e=this;d.languages.forEach(function(b){e.languageModelMap[b].id==a&&delete e.languageModelMap[b]})}};
c.prototype.isRegistered=function(a){return!!this.registeredModels[a.id]};c.prototype.addEventListener=function(a,d){return f.keyman.singleton.util.addEventListener(c.EVENT_PREFIX+a,d)};c.prototype.removeEventListener=function(a,d){return f.keyman.singleton.util.removeEventListener(c.EVENT_PREFIX+a,d)};c.prototype.invalidateContext=function(){f.keyman.singleton.util.callEvent(c.EVENT_PREFIX+"invalidatesuggestions","context");this.currentModel&&this.configuration&&this.predict_internal()};c.prototype.wordbreak=
function(a){a=new e(h.Mock.from(a),this.configuration);return this.lmEngine.wordbreak(a)};c.prototype.predict=function(a){this.currentModel&&this.configuration&&(f.keyman.singleton.util.callEvent(c.EVENT_PREFIX+"invalidatesuggestions","new"),this.predict_internal(a))};c.prototype.predict_internal=function(b){var d=f.keyman.singleton;if(!b)if(b=h.Processor.getOutputTarget())b=b.buildTranscriptionFrom(b,null);else return;var k=new e(b.preInput,this.configuration);this.recordTranscription(b);var l=b.transform,
q=this.currentPromise=this.lmEngine.predict(b.alternates||b.transform,k),z=this;q.then(function(b){q==z.currentPromise&&(b=new a(b,l.id),d.util.callEvent(c.EVENT_PREFIX+"suggestionsready",b),z.currentPromise=null)})};c.prototype.recordTranscription=function(a){this.recentTranscriptions.push(a);this.recentTranscriptions.length>c.TRANSCRIPTION_BUFFER&&this.recentTranscriptions.splice(0,1)};c.prototype.getPredictionState=function(a){var b=this.recentTranscriptions.filter(function(b){return b.token==
a});return 0==b.length?null:b[0]};c.prototype.shutdown=function(){this.lmEngine.shutdown()};Object.defineProperty(c.prototype,"enabled",{get:function(){return this.activeModel&&this._mayPredict},enumerable:!0,configurable:!0});c.prototype.canEnable=function(){var a=f.keyman.singleton;return 10==a.util.getIEVersion()?(console.warn("KeymanWeb cannot properly initialize its WebWorker in this version of IE."),!1):10>a.util.getIEVersion()?(console.warn("WebWorkers are not supported in this version of IE."),
!1):!0};c.prototype.doEnable=function(a){var b=f.keyman.singleton;if(a){if(a=b.keyboardManager.getActiveLanguage(),this.languageModelMap[a])this.onKeyboardChange(a)}else this.activeModel&&this.unloadModel(),b.util.callEvent(c.EVENT_PREFIX+"modelchange","unloaded")};Object.defineProperty(c.prototype,"mayPredict",{get:function(){return this._mayPredict},set:function(a){var b=this.enabled;this.canEnable()&&(this._mayPredict=a,(b!=this.enabled||a)&&this.doEnable(a))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"mayCorrect",{get:function(){return this._mayCorrect},set:function(a){this._mayCorrect=a},enumerable:!0,configurable:!0});c.prototype.tryAcceptSuggestion=function(a){return!f.keyman.singleton.util.callEvent(c.EVENT_PREFIX+"tryaccept",a)};c.prototype.tryRevertSuggestion=function(){return!f.keyman.singleton.util.callEvent(c.EVENT_PREFIX+"tryrevert",null)};c.EVENT_PREFIX="kmw.mm.";return c}();l.ModelManager=d})(h.prediction||(h.prediction={}))})(h.text||(h.text={}))})(f.keyman||(f.keyman={}))})(com||
(com={}));
(function(f){(function(h){var l=function(){function l(){this._TitleElement=null;this._IE=0;this._MasterDocument=null;this._HotKeys=[];this.warned=!1;this.baseFont="sans-serif";this.appliedFont="";this.fontCheckTimer=null;this.protocol=this.rootPath=this.srcPath="";this.mustReloadKeyboard=!1;this.globalLanguageCode=this.globalKeyboard=null;this.isEmbedded=!1;this.refocusTimer=0;this.isHeadless=!1;this.build=300;this.options={root:"",resources:"",keyboards:"",fonts:"",attachType:"",ui:null};this.refreshElementContent=
null;this.util=this.util=new h.Util(this);window.KeymanWeb=this.interface=this["interface"]=new h.text.KeyboardInterface;this.ui=this.ui={};this.keyboardManager=new h.KeyboardManager(this);this.domManager=new h.DOMManager(this);this.hotkeyManager=new h.HotkeyManager(this);this.uiManager=new h.UIManager(this);this.keyMapManager=new h.KeyMapManager;this.textProcessor=new h.text.Processor;this.modelManager=new h.text.prediction.ModelManager;this.osk=this.osk=new f.keyman.osk.OSKManager;this.build=f.keyman.environment.BUILD;
this.srcPath=l._srcPath;this.rootPath=l._rootPath;this.protocol=l._protocol;this.version=f.keyman.environment.VERSION;this.helpURL="http://help.keyman.com/go";this.setInitialized(0);this.loaded=!0}l.prototype.setDefaultDeviceOptions=function(e){};l.prototype.getStyleSheetPath=function(e){return e};l.prototype.getKeyboardPath=function(e,a){return e};l.prototype.KC_=function(e,a,d){return""};l.prototype.handleRotationEvents=function(){};l.prototype.alignInputs=function(e){};l.prototype.hideInputs=function(){};
l.prototype.namespaceID=function(e){};l.prototype.preserveID=function(e){};l.prototype.setInitialized=function(e){this.initialized=this.initialized=e};l.prototype.delayedInit=function(){this.touchAliasing=this.util.device.touchable?this.domManager.touchHandlers:this.domManager.nonTouchHandlers};l.prototype.shutdown=function(){this.util.detachDOMEvent(window,"focus",this.pageFocusHandler,!1);this.util.detachDOMEvent(window,"blur",this.pageFocusHandler,!1);this.domManager.shutdown();this.osk.shutdown();
this.util.shutdown();this.keyboardManager.shutdown();this.modelManager.shutdown();this.ui&&this.ui.shutdown&&this.ui.shutdown();h.DOMEventHandlers.states=new h.CommonDOMStates};l.prototype.isFontAvailable=function(e){return this.util.checkFont({family:e})};l.prototype.addEventListener=function(e,a){return this.util.addEventListener("kmw."+e,a)};l.prototype._GetEventObject=function(e){if(!e&&(e=window.event,!e)){var a=this.domManager.getLastActiveElement();if(a){a=a.ownerDocument;if(a)var d=a.defaultView;
if(!d)return null;e=d.event}}return e};l.prototype._push=function(e,a){e.push?e.push(a):e=e.concat(a);return e};l.prototype.attachToControl=function(e){this.domManager.attachToControl(e)};l.prototype.detachFromControl=function(e){this.domManager.detachFromControl(e)};l.prototype.addKeyboards=function(e){0==arguments.length?this.keyboardManager.keymanCloudRequest("",!1):this.keyboardManager.addKeyboardArray(arguments)};l.prototype.addKeyboardsForLanguage=function(e){this.keyboardManager.addLanguageKeyboards(arguments)};
l.prototype.register=function(e){this.keyboardManager.register(e)};l.prototype.removeKeyboards=function(e){return this.keyboardManager.removeKeyboards(e)};l.prototype.setActiveKeyboard=function(e,a){return this.keyboardManager.setActiveKeyboard(e,a)};l.prototype.getActiveKeyboard=function(){return this.keyboardManager.getActiveKeyboardName()};l.prototype.getActiveLanguage=function(e){return this.keyboardManager.getActiveLanguage(e)};l.prototype.isAttached=function(e){return this.domManager.isAttached(e)};
l.prototype.isCJK=function(e){return this.keyboardManager.isCJK(e)};l.prototype.isChiral=function(e){return this.keyboardManager.isChiral(e)};l.prototype.getKeyboard=function(e,a){var d,c=this.keyboardManager.getDetailedKeyboards();for(d=0;d<c.length;d++){var b=c[d];if(b.InternalName==e||b.InternalName=="Keyboard_"+e)if(2>arguments.length||b.LanguageCode==a)return b}return null};l.prototype.getKeyboards=function(){return this.keyboardManager.getDetailedKeyboards()};l.prototype.getSavedKeyboard=function(){return this.keyboardManager.getSavedKeyboard()};
l.prototype.init=function(e){return this.domManager.init(e)};l.prototype.resetContext=function(){this.interface.resetContext()};l.prototype.setNumericLayer=function(){this.interface.setNumericLayer()};l.prototype.disableControl=function(e){this.domManager.disableControl(e)};l.prototype.enableControl=function(e){this.domManager.enableControl(e)};l.prototype.setKeyboardForControl=function(e,a,d){this.domManager.setKeyboardForControl(e,a,d)};l.prototype.getKeyboardForControl=function(e){this.domManager.getKeyboardForControl(e)};
l.prototype.getLanguageForControl=function(e){this.domManager.getLanguageForControl(e)};l.prototype.focusLastActiveElement=function(){this.domManager.focusLastActiveElement()};l.prototype.getLastActiveElement=function(){return this.domManager.getLastActiveElement()};l.prototype.setActiveElement=function(e,a){return this.domManager.setActiveElement(e,a)};l.prototype.moveToElement=function(e){this.domManager.moveToElement(e)};l.prototype.addHotKey=function(e,a,d){this.hotkeyManager.addHotKey(e,a,d)};
l.prototype.removeHotKey=function(e,a){this.hotkeyManager.removeHotkey(e,a)};l.prototype.getUIState=function(){return this.uiManager.getUIState()};l.prototype.activatingUI=function(e){this.uiManager.setActivatingUI(e)};l.prototype.BuildVisualKeyboard=function(e,a,d,c){return f.keyman.osk.VisualKeyboard.buildDocumentationKeyboard(e,a,d,c)};return l}();h.KeymanBase=l})(f.keyman||(f.keyman={}))})(com||(com={}));
var scripts=document.getElementsByTagName("script"),ss=scripts[scripts.length-1].src,sPath=ss.substr(0,ss.lastIndexOf("/")+1),KeymanBase=com.keyman.KeymanBase;KeymanBase._srcPath=sPath;KeymanBase._rootPath=sPath.replace(/(https?:\/\/)([^\/]*)(.*)/,"$1$2/");KeymanBase._protocol=sPath.replace(/(.{3,5}:)(.*)/,"$1");window.keyman&&window.keyman.loaded||function(){window.keyman=com.keyman.singleton=new KeymanBase}();
window.keyman.initialized||function(){var f=window.keyman,h=f.util;f.debug=f.debug=function(h){if(null==f.debugElement){var l=document.createElement("DIV");var e=l.style;e.position="absolute";e.width="30%";e.maxHeight="50%";e.top="0";e.right="0";e.minHeight="50px";e.border="1px solid blue";e.whiteSpace="pre-line";e.overflowY="scroll";e=document.createElement("P");e.id="debug_output";e.style.margin="2px";l.appendChild(e);document.body.appendChild(l);f.debugElement=e}if(null!=(e=document.getElementById("debug_output")))if(0==
arguments.length)"undefined"!=typeof e.textContent?e.textContent="":e.innerHTML="";else{l=(new Date).toTimeString().substr(3,5)+" ";var a,d;for(a=0;a<arguments.length;a++){0<a&&(l+="; ");var c=arguments[a];if("object"==typeof c)if(null==c)l+="null";else{var b="";for(d in c){0<b.length&&(b+=", ");b=b+d+":";switch(typeof c[d]){case "string":case "number":case "boolean":b+=c[d];break;default:b+=typeof c[d]}if(1024<b.length){b=b.substr(0,1E3)+"...";break}}0<b.length&&(l=l+"{"+b+"}")}else l+=c}1500<l.length&&
(l=l.substr(0,1500)+" (more)");"undefined"!=typeof e.textContent?e.textContent=l+"\n"+e.textContent:e.innerHTML=l+"<br />"+e.innerHTML}};f.debugElement=null;f.delayedInit();com.keyman.osk.Layouts._BaseLayout="undefined"!==typeof window.KeymanWeb_BaseLayout?window.KeymanWeb_BaseLayout:"us";f._BrowserIsSafari=0<=navigator.userAgent.indexOf("AppleWebKit");h.attachDOMEvent(window,"load",f.domManager._WindowLoad,!1);h.attachDOMEvent(window,"unload",f.domManager._WindowUnload,!1);h.attachDOMEvent(document,
"keyup",f.hotkeyManager._Process,!1);f.pageFocusHandler=f.interface.resetVKShift.bind(f.interface);h.attachDOMEvent(window,"focus",f.pageFocusHandler,!1);h.attachDOMEvent(window,"blur",f.pageFocusHandler,!1);String.kmwEnableSupplementaryPlane(!1)}();
(function(f){(function(f){var h=function(){function e(){this.innerWidth=window.innerWidth;this.innerHeight=window.innerHeight}e.prototype.equals=function(a){return this.innerWidth==a.innerWidth&&this.innerHeight==a.innerHeight};return e}(),q=function(){function e(a){this.idlePermutationCounter=e.IDLE_PERMUTATION_CAP;this.keyman=a}e.prototype.resolve=function(){this.keyman.alignInputs();var a=this.keyman.osk;a._Load();this.oskVisible&&a._Show();this.isActive=!1;this.updateTimer&&(window.clearInterval(this.updateTimer),
this.rotState=null)};e.prototype.initNewRotation=function(){this.oskVisible=this.keyman.osk.isVisible();this.keyman.osk.hideNow();this.isActive=!0};e.prototype.init=function(){if(!this.keyman.isEmbedded){var a=this.keyman.util.device.OS,d=this.keyman.util,c=this;"iOS"==a?(d.attachDOMEvent(window,"orientationchange",function(){c.iOSEventHandler();return!1}),d.attachDOMEvent(window,"resize",function(){c.iOSEventHandler();return!1})):"Android"==a&&("onmozorientationchange"in screen?d.attachDOMEvent(screen,
"mozorientationchange",function(){c.initNewRotation();return!1}):d.attachDOMEvent(window,"orientationchange",function(){c.initNewRotation();return!1}),d.attachDOMEvent(window,"resize",function(){c.resolve();return!1}))}};e.prototype.iOSEventHandler=function(){this.isActive||(this.initNewRotation(),this.rotState=new h,this.updateTimer=window.setInterval(this.iOSEventUpdate.bind(this),e.UPDATE_INTERVAL));this.idlePermutationCounter=0};e.prototype.iOSEventUpdate=function(){var a=new h;this.rotState.equals(a)?
++this.idlePermutationCounter==e.IDLE_PERMUTATION_CAP&&this.resolve():(this.rotState=a,this.idlePermutationCounter=0)};e.IDLE_PERMUTATION_CAP=15;e.UPDATE_INTERVAL=20;return e}();f.RotationManager=q})(f.keyman||(f.keyman={}))})(com||(com={}));
(function(f){(function(h){(function(l){l.VisualKeyboard.prototype.touchHold=function(f){this.subkeyDelayTimer&&(window.clearTimeout(this.subkeyDelayTimer),this.subkeyDelayTimer=null);"undefined"!=typeof f.subKeys&&null!=f.subKeys&&(this.subkeyDelayTimer=window.setTimeout(function(){this.clearPopup();this.showSubKeys(f)}.bind(this),this.popupDelay))};l.VisualKeyboard.prototype.optionKey=function(l,e,a){l=f.keyman.singleton;var d=l.osk;a&&(0<=e.indexOf("K_LOPT")?d.showLanguageMenu():0<=e.indexOf("K_ROPT")&&
(l.uiManager.setActivatingUI(!1),d._Hide(!0),e=l.domManager.getActiveElement(),h.dom.Utils.instanceof(e,"TouchAliasElement")&&e.hideCaret(),l.domManager.clearLastActiveElement()))};l.VisualKeyboard.prototype.highlightSubKeys=function(f,e,a){if(null!=f&&null!=f.subKeys){var d,c=document.getElementById("kmw-popup-keys");5<this.touchY-a&&null==c&&(this.subkeyDelayTimer&&window.clearTimeout(this.subkeyDelayTimer),this.showSubKeys(f),c=document.getElementById("kmw-popup-keys"));for(d=0;d<f.subKeys.length;d++)try{var b=
c.childNodes[d].firstChild;var g=h.dom.Utils.getAbsoluteX(b);var k=h.dom.Utils.getAbsoluteY(b);var l=g+b.offsetWidth;var q=k+b.offsetHeight;var z=e>g&&e<l&&a>k&&a<q;this.highlightKey(b,z);z&&this.highlightKey(f,!1)}catch(n){}}};l.VisualKeyboard.prototype.showKeyTip=function(l,e){var a=f.keyman.singleton,d=a.util,c=a.osk;a=this.keytip;if(null!=a&&(l!=a.key||e!=a.state)){var b=document.getElementById("kmw-popup-keys");b=b&&"visible"==b.style.visibility;if(e&&!b){var g=h.dom.Utils.getAbsoluteY(c._Box),
k=c._Box.offsetHeight;c=h.dom.Utils.getAbsoluteX(l);var p=h.dom.Utils.getAbsoluteY(l);b=l.offsetWidth;for(var q=l.offsetHeight,z=l.firstChild,n=a.element.style,w=a.element.childNodes[1],t=w.style,H=0,x=a.element.firstChild,B=0;B<l.childNodes.length&&(z=l.childNodes[B],!d.hasClass(z,"kmw-key-text"));B++);x.width=1.6*b;x.height=2.3*q;n.top="auto";n.bottom=g+k-p-q+"px";n.textAlign="center";n.overflow="visible";n.fontFamily=d.getStyleValue(z,"font-family");n.width=x.width+"px";n.height=x.height+"px";
d=d.getStyleInt(z,"font-size");0!=d&&(d*=1.8,n.fontSize=d+"px",g=f.keyman.osk.OSKKey.getTextWidth(this,w.textContent,n),g=.9*x.width/g,1>g&&(n.fontSize=d*g+"px"));w.textContent=z.textContent;t.display="block";t.position="absolute";t.textAlign="center";t.width="100%";t.top="2%";t.bottom="auto";d=(x.width-b)/2;c<d?(H=-1,c+=d):c>window.innerWidth-b-d&&(H=1,c-=d);this.drawPreview(x,b,q,H);n.left=c-d+"px";n.display="block"}else a.element.style.display="none";a.key=l;a.state=e}};l.VisualKeyboard.prototype.drawPreview=
function(h,e,a,d){a=f.keyman.singleton.util.device;var c=h.getContext("2d"),b=(h.width-e)/2,g=h.height,k=b,l=e+b;e+=2*b;var q=.5*g,z=.6*g,n=8;"Android"==a.OS&&(n=3);switch(d){case -1:k-=b;l-=b;break;case 1:k+=b,l+=b}c.clearRect(0,0,h.width,h.height);"Android"==a.OS&&(k=l=(k+l)/2);c.fillStyle=a.styles.popupCanvasBackgroundColor;c.lineWidth=1;c.strokeStyle="#cccccc";c.save();c.beginPath();c.moveTo(0+n,0);c.arcTo(e,0,e,n,n);"Android"==a.OS?(c.arcTo(e,q,l,z,n),c.arcTo(l,z,k,z,n)):(c.arcTo(e,q,l,z,n),
c.arcTo(l,z,l-n,g,n),c.arcTo(l,g,k,g,n),c.arcTo(k,g,k,z-n,n));c.arcTo(k,z,0,q-n,n);c.arcTo(0,q,0,n,n);c.arcTo(0,0,0+n,0,n);c.fill();c.stroke();c.restore()};l.VisualKeyboard.prototype.createKeyTip=function(){var h=f.keyman.singleton,e=h.util;if("phone"==h.util.device.formFactor){if(null==this.keytip){this.keytip={key:null,state:!1};var a=this.keytip.element=e._CreateElement("div");a.className="kmw-keytip";a.id="kmw-keytip";a.style.pointerEvents="none";a.appendChild(e._CreateElement("canvas"));a.appendChild(e._CreateElement("span"))}h.osk._Box.appendChild(this.keytip.element)}};
l.VisualKeyboard.prototype.addCallout=function(h){var e=f.keyman.singleton,a=e.util;if("phone"!=a.device.formFactor||"iOS"!=a.device.OS)return null;a=a._CreateElement("div");var d=a.style;a.id="kmw-popup-callout";e.osk._Box.appendChild(a);e=h.offsetLeft;var c=h.offsetWidth,b=h.offsetHeight;d.top=h.offsetTop-6+"px";d.left=e+"px";d.width=c+"px";d.height=b+6+"px";return a};l.VisualKeyboard.prototype.waitForFonts=function(h,e){var a=f.keyman.singleton,d=a.util;if("undefined"==typeof h&&"undefined"==typeof e||
"undefined"==typeof h.files&&"undefined"==typeof e.files)return!0;var c=d.checkFontDescriptor(h),b=d.checkFontDescriptor(e);if(c&&b)return!0;a.fontCheckTimer=window.setInterval(function(){d.checkFontDescriptor(h)&&d.checkFontDescriptor(e)&&(window.clearInterval(a.fontCheckTimer),a.fontCheckTimer=null,a.alignInputs())},100);window.setTimeout(function(){a.fontCheckTimer&&(window.clearInterval(a.fontCheckTimer),a.fontCheckTimer=null,a.alignInputs())},5E3);return!1}})(h.osk||(h.osk={}))})(f.keyman||(f.keyman=
{}))})(com||(com={}));
window.keyman.initialized||function(){var f=window.keyman,h=f.util,l=h.device,q=com.keyman.dom;f.isEmbedded=!1;f.setDefaultDeviceOptions=function(e){""==e.attachType&&(e.attachType=l.touchable?"manual":"auto")};h.wait=function(e){var a=this.waiting;if("undefined"!=typeof a&&null!=a&&!f.warned){var d=a.firstChild.childNodes;e?(a.pending=!0,window.setTimeout(function(){a.pending&&(window.scrollTo(0,0),d[0].style.display="none",d[1].className="kmw-wait-text",d[1].innerHTML=e,d[2].style.display="block",
a.style.display="block")},1E3)):a.pending&&(d[1].innerHTML="",a.pending=!1,a.style.display="none")}};f.getStyleSheetPath=function(e){return h.getOption("resources")+"osk/"+e};f.getKeyboardPath=function(e){return(/^(([\.]\/)|([\.][\.]\/)|(\/))|(:)/.test(e)?"":f.options.keyboards)+e};f.alignInputs=function(e){if(l.touchable){var a=f.domManager,d=[];e?e.forEach(function(a){a.base?d.push(a):a.kmw_ip&&d.push(a.kmw_ip)}):d=a.inputList;d.forEach(function(a){q.Utils.instanceof(a,"TouchAliasElement")&&a.updateInput();
a.style.visibility="visible";0<a.base.textContent.length&&(a.base.style.visibility="hidden")})}};f.hideInputs=function(){var e=f.domManager;if(l.touchable)for(var a=0;a<e.inputList.length;a++)e.inputList[a].style.visibility="hidden",e.inputList[a].base.style.visibility="visible"};f.isPositionSynthesized=function(){return l.touchable};f.handleRotationEvents=function(){(new com.keyman.RotationManager(f)).init()}}();
(function(){var f=window.keyman,h=window.setInterval(function(){"complete"===document.readyState&&(window.clearInterval(h),f.init(null))},10)})();(function(){var f=com.keyman.Util.prototype;f._GetAbsoluteX=f.getAbsoluteX;f._GetAbsoluteY=f.getAbsoluteY;f._GetAbsolute=f.getAbsolute;f.toNzString=f.nzString})();
(function(){var f=com.keyman.text.KeyboardInterface.prototype,h=function(h,q){f[h]=f[q]};h("KSF","saveFocus");h("KBR","beepReset");h("KT","insertText");h("KR","registerKeyboard");h("KRS","registerStub");h("KC","context");h("KN","nul");h("KCM","contextMatch");h("KFCM","fullContextMatch");h("KIK","isKeypress");h("KKM","keyMatch");h("KSM","stateMatch");h("KKI","keyInformation");h("KDM","deadkeyMatch");h("KB","beep");h("KA","any");h("KDC","deleteContext");h("KO","output");h("KDO","deadkeyOutput");h("KIO",
"indexOutput");h("KIFS","ifStore");h("KSETS","setStore");h("KLOAD","loadStore");h("KSAVE","saveStore")})();
//# sourceMappingURL=keymanweb.js.map
