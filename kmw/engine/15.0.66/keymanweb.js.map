{"version":3,"file":"keymanweb.js","lineCount":955,"mappings":"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","sources":["https://s.keyman.com/kmw/engine/15.0.66/src/environment.inc.ts","https://s.keyman.com/kmw/engine/15.0.66/src/deepCopy.ts","https://s.keyman.com/kmw/engine/15.0.66/src/globalObject.ts","https://s.keyman.com/kmw/engine/15.0.66/src/version.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwstring.ts","https://s.keyman.com/kmw/engine/15.0.66/src/deviceSpec.ts","https://s.keyman.com/kmw/engine/15.0.66/src/web-defaultWorker.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwtypedefs.ts","https://s.keyman.com/kmw/engine/15.0.66/src/es6-shim.min.js","https://s.keyman.com/kmw/engine/15.0.66/src/singleton.ts","https://s.keyman.com/kmw/engine/15.0.66/src/index.js","https://s.keyman.com/kmw/engine/15.0.66/src/codes.ts","https://s.keyman.com/kmw/engine/15.0.66/src/deadkeys.ts","https://s.keyman.com/kmw/engine/15.0.66/src/outputTarget.ts","https://s.keyman.com/kmw/engine/15.0.66/src/keyEvent.ts","https://s.keyman.com/kmw/engine/15.0.66/src/ruleBehavior.ts","https://s.keyman.com/kmw/engine/15.0.66/src/defaultOutput.ts","https://s.keyman.com/kmw/engine/15.0.66/src/defaultLayouts.ts","https://s.keyman.com/kmw/engine/15.0.66/src/activeLayout.ts","https://s.keyman.com/kmw/engine/15.0.66/src/systemStores.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kbdInterface.ts","https://s.keyman.com/kmw/engine/15.0.66/src/keyboard.ts","https://s.keyman.com/kmw/engine/15.0.66/src/keyMapping.ts","https://s.keyman.com/kmw/engine/15.0.66/src/keyboardProcessor.ts","https://s.keyman.com/kmw/engine/15.0.66/src/embedded_worker.js","https://s.keyman.com/kmw/engine/15.0.66/src/es6-shim.min.js","https://s.keyman.com/kmw/engine/15.0.66/src/promise-store.ts","https://s.keyman.com/kmw/engine/15.0.66/src/index.ts","https://s.keyman.com/kmw/engine/15.0.66/src/languageProcessor.ts","https://s.keyman.com/kmw/engine/15.0.66/src/inputProcessor.ts","https://s.keyman.com/kmw/engine/15.0.66/src/domKbdInterface.ts","https://s.keyman.com/kmw/engine/15.0.66/src/styleConstants.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwdevice.ts","https://s.keyman.com/kmw/engine/15.0.66/src/utils.ts","https://s.keyman.com/kmw/engine/15.0.66/src/touchAliasElement.ts","https://s.keyman.com/kmw/engine/15.0.66/src/preProcessor.ts","https://s.keyman.com/kmw/engine/15.0.66/src/domEventHandlers.ts","https://s.keyman.com/kmw/engine/15.0.66/src/domDefaultOutput.ts","https://s.keyman.com/kmw/engine/15.0.66/src/domOverrides.ts","https://s.keyman.com/kmw/engine/15.0.66/src/outputTarget.ts","https://s.keyman.com/kmw/engine/15.0.66/src/input.ts","https://s.keyman.com/kmw/engine/15.0.66/src/textarea.ts","https://s.keyman.com/kmw/engine/15.0.66/src/contentEditable.ts","https://s.keyman.com/kmw/engine/15.0.66/src/designIFrame.ts","https://s.keyman.com/kmw/engine/15.0.66/src/touchAlias.ts","https://s.keyman.com/kmw/engine/15.0.66/src/wrapElement.ts","https://s.keyman.com/kmw/engine/15.0.66/src/variableStoreCookieSerializer.ts","https://s.keyman.com/kmw/engine/15.0.66/src/domManager.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwutils.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwkeyboards.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwhotkeys.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwuimanager.ts","https://s.keyman.com/kmw/engine/15.0.66/src/languageMenu.ts","https://s.keyman.com/kmw/engine/15.0.66/src/preProcessor.ts","https://s.keyman.com/kmw/engine/15.0.66/src/visualKeyboard.ts","https://s.keyman.com/kmw/engine/15.0.66/src/uiTouchHandlerBase.ts","https://s.keyman.com/kmw/engine/15.0.66/src/banner.ts","https://s.keyman.com/kmw/engine/15.0.66/src/bannerManager.ts","https://s.keyman.com/kmw/engine/15.0.66/src/oskManager.ts","https://s.keyman.com/kmw/engine/15.0.66/src/modelManager.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwbase.ts","https://s.keyman.com/kmw/engine/15.0.66/src/keymanweb.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwrotation.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwnative.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwinit.ts","https://s.keyman.com/kmw/engine/15.0.66/src/kmwapi.ts"],"sourcesContent":["//Autogenerated file - do not modify!\nnamespace com.keyman.environment {\n  export var VERSION = \"15.0\";\n  export var BUILD = 66;\n  export var ENVIRONMENT = \"alpha\";\n  export var SENTRY_RELEASE = \"release-15.0.66-alpha\";\n}\n\n","namespace com.keyman.utils {\r\n  /**\r\n   * Function     deepCopy\r\n   * Scope        Private\r\n   * @param       {Object}      p           object to copy\r\n   * @param       {Array=}      c0          array member being copied\r\n   * @return      {Object}                  clone (\u0027deep copy\u0027) of object\r\n   * Description  Makes an actual copy (not a reference) of an object, copying simple members,\r\n   *              arrays and member objects but not functions, so use with care!\r\n   */\r\n  export function deepCopy\u003cT\u003e(p:T, c0?): T {\r\n    var c = c0 || {};\r\n    for (var i in p) {\r\n      if(typeof p[i] === \u0027object\u0027 \u0026\u0026 p[i] != null) {\r\n        c[i] = (p[i].constructor === Array ) ? [] : {};\r\n        deepCopy(p[i],c[i]);\r\n      }\r\n      else {\r\n        c[i] = p[i];\r\n      }\r\n    }\r\n\r\n    return c;\r\n  }\r\n}","namespace com.keyman.utils {\r\n  /**\r\n   * Returns the base global object available to the current JS platform.\r\n   * - In browsers, returns `window`.\r\n   * - In WebWorkers, returns `self`.\r\n   * - In Node, returns `global`.\r\n   */\r\n  export function getGlobalObject(): typeof globalThis {\r\n    // Evergreen browsers have started defining \u0027globalThis\u0027.  \r\n    // Refer to https://devblogs.microsoft.com/typescript/announcing-typescript-3-4/#type-checking-for-globalthis\r\n    // and its referenced polyfill.  Said polyfill is very complex, so we opt for this far leaner variant.\r\n    if(typeof globalThis != \u0027undefined\u0027) {\r\n      return globalThis;  // Not available in IE or older Edge versions\r\n      // @ts-ignore (TS will throw errors for whatever platform we\u0027re not compiling for.)\r\n    } else if(typeof window != \u0027undefined\u0027) {\r\n      // @ts-ignore\r\n      return window; // The browser-based classic\r\n      // @ts-ignore\r\n    } else if(typeof self != \u0027undefined\u0027) {\r\n      // @ts-ignore\r\n      return self; // WebWorker global\r\n    } else {\r\n      // Assumption - if neither of the above exist, we\u0027re in Node, for unit-testing.\r\n      // Node doesn\u0027t have as many methods and properties as the other two, but what \r\n      // matters for us is that it\u0027s the base global.\r\n      //\r\n      // Some other headless JS solutions use \u0027this\u0027 instead, but Node\u0027s enough for our needs.\r\n      // @ts-ignore\r\n      return (global as any) as typeof globalThis;\r\n    }\r\n  }\r\n}","// Ensure that this class contains no reference into core KMW code - it is referenced\r\n// by components intended to be modular and possible to separate from core KMW.\r\n\r\nnamespace com.keyman.utils {\r\n  // Dotted-decimal version\r\n  export class Version {\r\n    public static readonly CURRENT = new Version(com.keyman.environment.VERSION);\r\n\r\n    // Represents a default version value for keyboards compiled before this was compiled into keyboards.\r\n    // The exact version is unknown at this point, but the value is \"good enough\" for what we need.\r\n    public static readonly DEVELOPER_VERSION_FALLBACK = new Version([9, 0, 0]);\r\n\r\n    // For 12.0, the old default behavior of adding missing keycaps to the default layers was removed,\r\n    // as it results in unexpected, bug-like behavior for keyboard designers when it is unwanted.\r\n    public static readonly NO_DEFAULT_KEYCAPS = new Version([12, 0]);\r\n\r\n    public static readonly MAC_POSSIBLE_IPAD_ALIAS = new Version([10, 15]);\r\n\r\n    private readonly components: number[]\r\n\r\n    /**\r\n     * Parses version information, preparing it for use in comparisons.\r\n     * @param text Either a string representing a version number (ex: \"9.0.0\") or an array representing\r\n     *             its components (ex: [9, 0, 0]).\r\n     */\r\n    constructor(text: String | number[]) {\r\n      // If a keyboard doesn\u0027t specify a version, use the DEVELOPER_VERSION_FALLBACK values.\r\n      if(text === undefined || text === null) {\r\n        this.components = [].concat(Version.DEVELOPER_VERSION_FALLBACK.components);\r\n        return;\r\n      }\r\n\r\n      if(Array.isArray(text)) {\r\n        let components = text as number[];\r\n        if(components.length \u003c 2) {\r\n          throw new Error(\"Version string must have at least a major and minor component!\");\r\n        } else {\r\n          this.components = [].concat(components);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // else, standard constructor path.\r\n      let parts = text.split(\u0027.\u0027);\r\n      let componentArray: number[] = [];\r\n\r\n      if(parts.length \u003c 2) {\r\n        throw new Error(\"Version string must have at least a major and minor component!\");\r\n      }\r\n\r\n      for(let i=0; i \u003c parts.length; i++) {\r\n        let value = parseInt(parts[i], 10);\r\n        if(isNaN(value)) {\r\n          throw new Error(\"Version string components must be numerical!\");\r\n        }\r\n\r\n        componentArray.push(value);\r\n      }\r\n\r\n      this.components = componentArray;\r\n    }\r\n\r\n    get major(): number {\r\n      return this.components[0];\r\n    }\r\n\r\n    get minor(): number {\r\n      return this.components[1];\r\n    }\r\n\r\n    toString(): string {\r\n      return this.components.join(\u0027.\u0027);\r\n    }\r\n\r\n    toJSON(): string {\r\n      return this.toString();\r\n    }\r\n\r\n    equals(other: Version): boolean {\r\n      return this.compareTo(other) == 0;\r\n    }\r\n\r\n    precedes(other: Version): boolean {\r\n      return this.compareTo(other) \u003c 0;\r\n    }\r\n\r\n    compareTo(other: Version): number {\r\n      // If the version info depth differs, we need a flag to indicate which instance is shorter.\r\n      var isShorter: boolean = this.components.length \u003c other.components.length;\r\n      var maxDepth: number = (this.components.length \u003c other.components.length) ? this.components.length : other.components.length;\r\n\r\n      var i: number;\r\n      for(i = 0; i \u003c maxDepth; i++) {\r\n        let delta = this.components[i] - other.components[i];\r\n        if(delta != 0) {\r\n          return delta;\r\n        }\r\n      }\r\n\r\n      var longList = isShorter ? other.components : this.components;\r\n      do {\r\n        if(longList[i] \u003e 0) {\r\n          return isShorter ? -1 : 1;\r\n        }\r\n        i++;\r\n      } while (i \u003c longList.length);\r\n\r\n      // Equal.\r\n      return 0;\r\n    }\r\n  }\r\n}","/***\r\n   KeymanWeb 14.0\r\n   Copyright 2020 SIL International\r\n***/\r\n\r\n/*\r\n * TODO:  Remove this file as part of addressing https://github.com/keymanapp/keyman/issues/2492.\r\n */\r\n\r\ninterface StringConstructor {\r\n  kmwFromCharCode(cp0: number): string,\r\n  _kmwFromCharCode(cp0: number): string,\r\n  kmwEnableSupplementaryPlane(bEnable: boolean)\r\n}\r\n\r\ninterface String {\r\n  kmwCharCodeAt(codePointIndex: number): number,\r\n  kmwCharAt(codePointIndex: number) : string,\r\n  kmwIndexOf(searchValue: string, fromIndex?: number) : number,\r\n  kmwLastIndexOf(searchValue: string, fromIndex?: number) : number,\r\n  kmwSlice(beginSlice: number, endSlice: number) : string,\r\n  kmwSubstring(start: number, length: number) : string,\r\n  kmwSubstr(start: number, length?: number) : string,\r\n  kmwBMPSubstr(start: number, length?: number) : string,\r\n  kmwLength(): number,\r\n  kmwBMPLength(): number,\r\n  kmwNextChar(codeUnitIndex: number): number,\r\n  kmwBMPNextChar(codeUnitIndex: number): number,\r\n  kmwPrevChar(codeUnitIndex: number): number,\r\n  kmwBMPPrevChar(codeUnitIndex: number): number,\r\n  kmwCodePointToCodeUnit(codePointIndex: number) : number,\r\n  kmwBMPCodePointToCodeUnit(codePointIndex: number) : number,\r\n  kmwCodeUnitToCodePoint(codeUnitIndex: number) : number,\r\n  kmwBMPCodeUnitToCodePoint(codeUnitIndex: number) : number,\r\n  _kmwCharCodeAt(codePointIndex: number): number,\r\n  _kmwCharAt(codePointIndex: number) : string,\r\n  _kmwIndexOf(searchValue: string, fromIndex?: number) : number,\r\n  _kmwLastIndexOf(searchValue: string, fromIndex?: number) : number,\r\n  _kmwSlice(beginSlice: number, endSlice: number) : string,\r\n  _kmwSubstring(start: number, length?: number) : string,\r\n  _kmwSubstr(start: number, length?: number) : string,\r\n  _kmwLength(): number,\r\n  _kmwNextChar(codeUnitIndex: number): number,\r\n  _kmwPrevChar(codeUnitIndex: number): number,\r\n  _kmwCodePointToCodeUnit(codePointIndex: number) : number,\r\n  _kmwCodeUnitToCodePoint(codeUnitIndex: number) : number,\r\n}\r\n\r\n/**\r\n * Constructs a string from one or more Unicode character codepoint values \r\n * passed as integer parameters.\r\n * \r\n * @param  {number} cp0,...   1 or more Unicode codepoints, e.g. 0x0065, 0x10000\r\n * @return {string|null}      The new String object.\r\n */\r\nString.kmwFromCharCode = function(cp0) {\r\n  var chars = [], i;\r\n  for (i = 0; i \u003c arguments.length; i++) {\r\n    var c = Number(arguments[i]);\r\n    if (!isFinite(c) || c \u003c 0 || c \u003e 0x10FFFF || Math.floor(c) !== c) {\r\n      throw new RangeError(\"Invalid code point \" + c);\r\n    }\r\n    if (c \u003c 0x10000) {\r\n      chars.push(c);\r\n    } else {\r\n      c -= 0x10000;\r\n      chars.push((c \u003e\u003e 10) + 0xD800);\r\n      chars.push((c % 0x400) + 0xDC00);\r\n    }\r\n  }\r\n  return String.fromCharCode.apply(undefined, chars);\r\n}\r\n\r\n/**\r\n * Returns a number indicating the Unicode value of the character at the given \r\n * code point index, with support for supplementary plane characters.\r\n * \r\n * @param  {number}  codePointIndex  The code point index into the string (not \r\n                                     the code unit index) to return\r\n * @return {number}                  The Unicode character value\r\n */\r\nString.prototype.kmwCharCodeAt = function(codePointIndex) {\r\n  var str = String(this);\r\n  var codeUnitIndex = 0;\r\n  \r\n  if (codePointIndex \u003c 0 || codePointIndex  \u003e= str.length) {\r\n    return NaN;\r\n  }\r\n\r\n  for(var i = 0; i \u003c codePointIndex; i++) {\r\n    codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n    if(codeUnitIndex === null) return NaN;\r\n  }\r\n  \r\n  var first = str.charCodeAt(codeUnitIndex);\r\n  if (first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF \u0026\u0026 str.length \u003e codeUnitIndex + 1) {\r\n    var second = str.charCodeAt(codeUnitIndex + 1);\r\n    if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF) {\r\n      return ((first - 0xD800) \u003c\u003c 10) + (second - 0xDC00) + 0x10000;\r\n    }\r\n  }\r\n  return first;  \r\n}\r\n\r\n/**\r\n * Returns the code point index within the calling String object of the first occurrence\r\n * of the specified value, or -1 if not found.\r\n * \r\n * @param  {string}  searchValue    The value to search for\r\n * @param  {number}  [fromIndex]    Optional code point index to start searching from\r\n * @return {number}                 The code point index of the specified search value\r\n */\r\nString.prototype.kmwIndexOf = function(searchValue, fromIndex) {\r\n  var str = String(this);\r\n  var codeUnitIndex = str.indexOf(searchValue, fromIndex);\r\n  \r\n  if(codeUnitIndex \u003c 0) {\r\n    return codeUnitIndex;\r\n  }\r\n  \r\n  var codePointIndex = 0;\r\n  for(var i = 0; i !== null \u0026\u0026 i \u003c codeUnitIndex; i = str.kmwNextChar(i)) codePointIndex++;\r\n  return codePointIndex;\r\n}\r\n\r\n/**\r\n * Returns the code point index within the calling String object of the last occurrence \r\n * of the specified value, or -1 if not found.\r\n * \r\n * @param  {string}  searchValue    The value to search for\r\n * @param  {number}  fromIndex      Optional code point index to start searching from\r\n * @return {number}                 The code point index of the specified search value\r\n */\r\nString.prototype.kmwLastIndexOf = function(searchValue, fromIndex)\r\n{\r\n  var str = String(this);\r\n  var codeUnitIndex = str.lastIndexOf(searchValue, fromIndex);\r\n  \r\n  if(codeUnitIndex \u003c 0) {\r\n    return codeUnitIndex;\r\n  }\r\n  \r\n  var codePointIndex = 0;\r\n  for(var i = 0; i !== null \u0026\u0026 i \u003c codeUnitIndex; i = str.kmwNextChar(i)) codePointIndex++;\r\n  return codePointIndex;\r\n}\r\n\r\n/**\r\n * Returns the length of the string in code points, as opposed to code units.\r\n * \r\n * @return {number}                 The length of the string in code points\r\n */\r\nString.prototype.kmwLength = function() {\r\n  var str = String(this);\r\n  \r\n  if(str.length == 0) return 0;\r\n  \r\n  for(var i = 0, codeUnitIndex = 0; codeUnitIndex !== null; i++) \r\n    codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n  return i;\r\n}\r\n\r\n/**\r\n * Extracts a section of a string and returns a new string.\r\n * \r\n * @param  {number}  beginSlice    The start code point index in the string to \r\n *                                 extract from\r\n * @param  {number}  endSlice      Optional end code point index in the string\r\n *                                 to extract to\r\n * @return {string}                The substring as selected by beginSlice and\r\n *                                 endSlice\r\n */\r\nString.prototype.kmwSlice = function(beginSlice, endSlice) {\r\n  var str = String(this);\r\n  var beginSliceCodeUnit = str.kmwCodePointToCodeUnit(beginSlice);\r\n  var endSliceCodeUnit = str.kmwCodePointToCodeUnit(endSlice);\r\n  if(beginSliceCodeUnit === null || endSliceCodeUnit === null) \r\n    return \u0027\u0027;\r\n  else\r\n    return str.slice(beginSliceCodeUnit, endSliceCodeUnit);\r\n}\r\n\r\n/**\r\n * Returns the characters in a string beginning at the specified location through\r\n * the specified number of characters.\r\n * \r\n * @param  {number}  start         The start code point index in the string to \r\n *                                 extract from\r\n * @param  {number=}  length        Optional length to extract\r\n * @return {string}                The substring as selected by start and length\r\n */\r\nString.prototype.kmwSubstr = function(start, length?)\r\n{\r\n  var str = String(this);\r\n  if(start \u003c 0) \r\n  {\r\n    start = str.kmwLength() + start;\r\n  }\r\n\tif(start \u003c 0) start = 0;\r\n  var startCodeUnit = str.kmwCodePointToCodeUnit(start);\r\n  var endCodeUnit = startCodeUnit;\r\n  \r\n  if(startCodeUnit === null) return \u0027\u0027;\r\n  \r\n  if(arguments.length \u003c 2) {\r\n    endCodeUnit = str.length;\r\n  } else {\r\n    for(var i = 0; i \u003c length; i++) endCodeUnit = str.kmwNextChar(endCodeUnit);\r\n  }\r\n  if(endCodeUnit === null)\r\n    return str.substring(startCodeUnit);\r\n  else\r\n    return str.substring(startCodeUnit, endCodeUnit);\r\n}\r\n\r\n/**\r\n * Returns the characters in a string between two indexes into the string.\r\n * \r\n * @param  {number}  indexA        The start code point index in the string to \r\n *                                 extract from\r\n * @param  {number}  indexB        The end code point index in the string to \r\n *                                 extract to\r\n * @return {string}                The substring as selected by indexA and indexB\r\n */\r\nString.prototype.kmwSubstring = function(indexA, indexB)\r\n{\r\n  var str = String(this),indexACodeUnit,indexBCodeUnit;\r\n  \r\n  if(typeof(indexB) == \u0027undefined\u0027) \r\n  {\r\n    indexACodeUnit = str.kmwCodePointToCodeUnit(indexA);\r\n    indexBCodeUnit =  str.length;    \r\n  } \r\n  else\r\n  {\r\n    if(indexA \u003e indexB) { var c = indexA; indexA = indexB; indexB = c; }\r\n  \r\n    indexACodeUnit = str.kmwCodePointToCodeUnit(indexA);\r\n    indexBCodeUnit = str.kmwCodePointToCodeUnit(indexB);\r\n  }\r\n  if(isNaN(indexACodeUnit) || indexACodeUnit === null) indexACodeUnit = 0;\r\n  if(isNaN(indexBCodeUnit) || indexBCodeUnit === null) indexBCodeUnit = str.length;\r\n\r\n  return str.substring(indexACodeUnit, indexBCodeUnit);\r\n}\r\n\r\n/*\r\n  Helper functions\r\n*/\r\n\r\n/**\r\n * Returns the code unit index for the next code point in the string, accounting for\r\n * supplementary pairs \r\n *\r\n * @param  {number|null}  codeUnitIndex  The code unit position to increment\r\n * @return {number|null}                 The index of the next code point in the string,\r\n *                                       in code units\r\n */\r\nString.prototype.kmwNextChar = function(codeUnitIndex) {\r\n  var str = String(this);\r\n\r\n  if(codeUnitIndex === null || codeUnitIndex \u003c 0 || codeUnitIndex \u003e= str.length - 1) {\r\n    return null;\r\n  }\r\n  \r\n  var first = str.charCodeAt(codeUnitIndex);\r\n  if (first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF \u0026\u0026 str.length \u003e codeUnitIndex + 1) {\r\n    var second = str.charCodeAt(codeUnitIndex + 1);\r\n    if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF) {\r\n      if(codeUnitIndex == str.length - 2) {\r\n        return null;\r\n      }\r\n      return codeUnitIndex + 2;\r\n    }\r\n  }\r\n  return codeUnitIndex + 1;\r\n}\r\n\r\n/**\r\n * Returns the code unit index for the previous code point in the string, accounting\r\n * for supplementary pairs \r\n *\r\n * @param  {number|null}  codeUnitIndex  The code unit position to decrement\r\n * @return {number|null}                 The index of the previous code point in the\r\n *                                       string, in code units\r\n*/\r\nString.prototype.kmwPrevChar = function(codeUnitIndex) {\r\n  var str = String(this);\r\n\r\n  if(codeUnitIndex == null || codeUnitIndex \u003c= 0 || codeUnitIndex \u003e str.length) {\r\n    return null;\r\n  }\r\n  \r\n  var second = str.charCodeAt(codeUnitIndex - 1);\r\n  if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF \u0026\u0026 codeUnitIndex \u003e 1) {\r\n    var first = str.charCodeAt(codeUnitIndex - 2);\r\n    if(first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF) {\r\n      return codeUnitIndex - 2;\r\n    }\r\n  }\r\n  return codeUnitIndex - 1;\r\n}\r\n\r\n/**\r\n * Returns the corresponding code unit index to the code point index passed\r\n *\r\n * @param  {number|null} codePointIndex  A code point index in the string\r\n * @return {number|null}                 The corresponding code unit index\r\n */\r\nString.prototype.kmwCodePointToCodeUnit = function(codePointIndex) {\r\n  \r\n  if(codePointIndex === null) return null;\r\n  \r\n  var str = String(this);\r\n  var codeUnitIndex = 0;\r\n  \r\n  if(codePointIndex \u003c 0) {\r\n    codeUnitIndex = str.length;\r\n    for(var i = 0; i \u003e codePointIndex; i--) \r\n      codeUnitIndex = str.kmwPrevChar(codeUnitIndex);\t\r\n    return codeUnitIndex;\r\n  }\r\n  \r\n  if(codePointIndex == str.kmwLength()) return str.length;\r\n  \r\n  for(var i = 0; i \u003c codePointIndex; i++)\r\n    codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n  return codeUnitIndex;\r\n}\r\n\r\n/**\r\n * Returns the corresponding code point index to the code unit index passed\r\n *\r\n * @param  {number|null}  codeUnitIndex  A code unit index in the string\r\n * @return {number|null}                 The corresponding code point index\r\n */\r\nString.prototype.kmwCodeUnitToCodePoint = function(codeUnitIndex) {\r\n  var str = String(this);\r\n  \r\n  if(codeUnitIndex === null)\r\n    return null;\r\n  else if(codeUnitIndex == 0)\r\n    return 0;\r\n  else if(codeUnitIndex \u003c 0)     \r\n    return str.substr(codeUnitIndex).kmwLength();\r\n  else\r\n    return str.substr(0,codeUnitIndex).kmwLength();\r\n}\r\n\r\n/**\r\n * Returns the character at a the code point index passed\r\n *\r\n * @param  {number}  codePointIndex  A code point index in the string\r\n * @return {string}                  The corresponding character\r\n */\r\nString.prototype.kmwCharAt = function(codePointIndex) {\r\n  var str = String(this);\r\n  \r\n  if(codePointIndex \u003e= 0) return str.kmwSubstr(codePointIndex,1); else return \u0027\u0027;\r\n}\r\n\r\n/**\r\n * String prototype library extensions for basic plane characters, \r\n * to simplify enabling or disabling supplementary plane functionality (I3319)\r\n */\r\n \r\n/**\r\n * Returns the code unit index for the next code point in the string\r\n *\r\n * @param  {number}  codeUnitIndex    A code point index in the string\r\n * @return {number|null}                   The corresponding character\r\n */ \r\nString.prototype.kmwBMPNextChar = function(codeUnitIndex)\r\n{\r\n  var str = String(this);\r\n  if(codeUnitIndex \u003c 0 || codeUnitIndex \u003e= str.length - 1) {\r\n    return null;\r\n  }\r\n  return codeUnitIndex + 1;\r\n}  \r\n\r\n/**\r\n * Returns the code unit index for the previous code point in the string\r\n *\r\n * @param  {number}  codeUnitIndex    A code unit index in the string\r\n * @return {number|null}                   The corresponding character\r\n */ \r\nString.prototype.kmwBMPPrevChar = function(codeUnitIndex)\r\n{\r\n  var str = String(this);\r\n\r\n  if(codeUnitIndex \u003c= 0 || codeUnitIndex \u003e str.length) {\r\n    return null;\r\n  }\r\n  return codeUnitIndex - 1;\r\n}  \r\n\r\n/**\r\n * Returns the code unit index for a code point index\r\n *\r\n * @param  {number}  codePointIndex   A code point index in the string\r\n * @return {number}                   The corresponding character\r\n */ \r\nString.prototype.kmwBMPCodePointToCodeUnit = function(codePointIndex)\r\n{\r\n  return codePointIndex;\r\n}\r\n\r\n/**\r\n * Returns the code point index for a code unit index\r\n *\r\n * @param  {number}  codeUnitIndex    A code point index in the string\r\n * @return {number}                   The corresponding character\r\n */ \r\nString.prototype.kmwBMPCodeUnitToCodePoint = function(codeUnitIndex)\r\n{\r\n  return codeUnitIndex;\r\n}\r\n\r\n/**\r\n * Returns the length of a BMP string\r\n *\r\n * @return {number}                   The length in code points\r\n */ \r\nString.prototype.kmwBMPLength = function()\r\n{\r\n  var str = String(this);\r\n  return str.length;\r\n}\r\n\r\n\r\n/**\r\n * Returns a substring \r\n *\r\n * @param  {number}  n\r\n * @param  {number=}  ln\r\n * @return {string}                   \r\n */ \r\nString.prototype.kmwBMPSubstr = function(n,ln?)\r\n{\r\n  var str=String(this);\r\n  if(n \u003e -1) \r\n    return str.substr(n,ln);\r\n  else\r\n    return str.substr(str.length+n,-n);  \r\n}\r\n\r\n/**\r\n * Enable or disable supplementary plane string handling\r\n *\r\n * @param  {boolean}  bEnable\r\n */ \r\nString.kmwEnableSupplementaryPlane = function(bEnable)\r\n{\r\n  var p=String.prototype;\r\n  String._kmwFromCharCode = bEnable ? String.kmwFromCharCode : String.fromCharCode;\r\n  p._kmwCharAt = bEnable ? p.kmwCharAt : p.charAt;\r\n  p._kmwCharCodeAt = bEnable ? p.kmwCharCodeAt : p.charCodeAt;\r\n  p._kmwIndexOf = bEnable ? p.kmwIndexOf :p.indexOf;\r\n  p._kmwLastIndexOf = bEnable ? p.kmwLastIndexOf : p.lastIndexOf ;\r\n  p._kmwSlice = bEnable ? p.kmwSlice : p.slice;\r\n  p._kmwSubstring = bEnable ? p.kmwSubstring : p.substring;\r\n  p._kmwSubstr = bEnable ? p.kmwSubstr : p.kmwBMPSubstr;\r\n  p._kmwLength = bEnable ? p.kmwLength : p.kmwBMPLength;\r\n  p._kmwNextChar = bEnable ? p.kmwNextChar : p.kmwBMPNextChar;\r\n  p._kmwPrevChar = bEnable ? p.kmwPrevChar : p.kmwBMPPrevChar;\r\n  p._kmwCodePointToCodeUnit = bEnable ? p.kmwCodePointToCodeUnit : p.kmwBMPCodePointToCodeUnit;\r\n  p._kmwCodeUnitToCodePoint = bEnable ? p.kmwCodeUnitToCodePoint : p.kmwBMPCodeUnitToCodePoint;\r\n}\r\n\r\n","namespace com.keyman.utils {\r\n  export enum Browser {\r\n    Chrome = \u0027chrome\u0027,\r\n    Edge = \u0027edge\u0027,\r\n    Firefox = \u0027firefox\u0027,\r\n    Native = \u0027native\u0027, // Used by embedded mode\r\n    Opera = \u0027opera\u0027,\r\n    Safari = \u0027safari\u0027,\r\n    Other = \u0027other\u0027\r\n  }\r\n\r\n  export enum OperatingSystem {\r\n    Windows = \u0027windows\u0027,\r\n    macOS = \u0027macosx\u0027,\r\n    Linux = \u0027linux\u0027,\r\n    Android = \u0027android\u0027,\r\n    iOS = \u0027ios\u0027,\r\n    Other = \u0027other\u0027\r\n  }\r\n\r\n  export enum FormFactor {\r\n    Desktop = \u0027desktop\u0027,\r\n    Phone = \u0027phone\u0027,\r\n    Tablet = \u0027tablet\u0027\r\n  }\r\n\r\n  /**\r\n   * This class provides an abstract version of com.keyman.Device that is core-friendly, \r\n   * containing only the information needed by web-core for text processing use, devoid\r\n   * of any direct references to the DOM.\r\n   */\r\n  export class DeviceSpec {\r\n    readonly browser: Browser;\r\n    readonly formFactor: FormFactor;\r\n    readonly OS: OperatingSystem;\r\n    readonly touchable: boolean;\r\n\r\n    constructor(browser: string, formFactor: string, OS: string, touchable: boolean) {\r\n      switch(browser.toLowerCase() as Browser) {\r\n        case Browser.Chrome:\r\n        case Browser.Edge:\r\n        case Browser.Firefox:\r\n        case Browser.Native:\r\n        case Browser.Opera:\r\n        case Browser.Safari:\r\n          this.browser = browser.toLowerCase() as Browser;\r\n          break;\r\n        default:\r\n          this.browser = Browser.Other;\r\n      }\r\n\r\n      switch(formFactor.toLowerCase() as FormFactor) {\r\n        case FormFactor.Desktop:\r\n        case FormFactor.Phone:\r\n        case FormFactor.Tablet:\r\n          this.formFactor = formFactor.toLowerCase() as FormFactor;\r\n          break;\r\n        default:\r\n          throw (\"Invalid form factor specified for device: \" + formFactor);\r\n      }\r\n\r\n      switch(OS.toLowerCase() as OperatingSystem) {\r\n        case OperatingSystem.Windows.toLowerCase():\r\n        case OperatingSystem.macOS.toLowerCase():\r\n        case OperatingSystem.Linux.toLowerCase():\r\n        case OperatingSystem.Android.toLowerCase():\r\n        case OperatingSystem.iOS.toLowerCase():\r\n          this.OS = OS.toLowerCase() as OperatingSystem;\r\n          break;\r\n        default:\r\n          this.OS = OperatingSystem.Other;\r\n      }\r\n      \r\n      this.touchable = touchable;\r\n    }\r\n  }\r\n}","namespace com.keyman.text.prediction {\r\n  export class DefaultWorker {\r\n    static constructInstance(): Worker {\r\n      return new Worker(this.asBlobURI(LMLayerWorkerCode));\r\n    }\r\n    \r\n    /**\r\n     * Converts the INSIDE of a function into a blob URI that can\r\n     * be passed as a valid URI for a Worker.\r\n     * @param fn Function whose body will be referenced by a URI.\r\n     * \r\n     * This function makes the following possible:\r\n     * \r\n     *    let worker = new Worker(LMLayer.asBlobURI(function myWorkerCode () {\r\n     *      postMessage(\u0027inside Web Worker\u0027)\r\n     *      function onmessage(event) {\r\n     *        // handle message inside Web Worker.\r\n     *      }\r\n     *    }));\r\n     */\r\n    static asBlobURI(fn: Function): string {\r\n      let code = LMLayer.unwrap(fn);\r\n      let blob = new Blob([code], { type: \u0027text/javascript\u0027 });\r\n      return URL.createObjectURL(blob);\r\n    }\r\n  }\r\n}","namespace com.keyman {\r\n  export class AttachmentInfo {\r\n    /**\r\n     * Provides the core interface between the DOM and the actual keyboard.\r\n     */\r\n    interface:      text.OutputTarget;\r\n\r\n    /**\r\n     * Tracks the control\u0027s independent keyboard selection, when applicable.\r\n     */\r\n    keyboard:       string;\r\n\r\n    /**\r\n     * Tracks the language code corresponding to the `keyboard` field.\r\n     */\r\n    languageCode:   string;\r\n\r\n    /**\r\n     * Tracks if the control has an aliased control for touch functionality.\r\n     * \r\n     * Future note - could be changed to track the DOMEventHandler instance used by this control;\r\n     *               this may be useful for an eventual hybrid touch/non-touch implementation.\r\n     */\r\n    touchEnabled:   boolean;\r\n\r\n    constructor(eleInterface: text.OutputTarget, kbd: string, touch?: boolean) {\r\n      this.interface = eleInterface;\r\n      this.keyboard = kbd;\r\n      this.touchEnabled = touch || false;\r\n    }\r\n  }\r\n}","/*!\n * https://github.com/paulmillr/es6-shim\n * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n *   and contributors,  MIT License\n * es6-shim: v0.35.4\n * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE\n * Details and documentation:\n * https://github.com/paulmillr/es6-shim/\n */\n(function(e,t){if(typeof define===\"function\"\u0026\u0026define.amd){define(t)}else if(typeof exports===\"object\"){module.exports=t()}else{e.returnExports=t()}})(this,function(){\"use strict\";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},\"x\",{get:function(){}})})};var s=!!Object.defineProperty\u0026\u0026f();var c=function foo(){}.name===\"foo\";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n\u0026\u0026t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/===\"function\"?function IsCallableSlow(e){return typeof e===\"function\"\u0026\u0026g(e)===\"[object Function]\"}:function IsCallableFast(e){return typeof e===\"function\"};var m={getter:function(e,t,r){if(!s){throw new TypeError(\"getters require true ES5 support\")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError(\"getters require true ES5 support\")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if(\"value\"in r){e[t]=r.value}},preserveToString:function(e,t){if(t\u0026\u0026d(t.toString)){h(e,\"toString\",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!==\"undefined\"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!==\"undefined\"){return self}if(typeof window!==\"undefined\"){return window}if(typeof global!==\"undefined\"){return global}throw new Error(\"unable to locate global object\")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G\u0026\u0026G.prototype[\"delete\"];var V=G\u0026\u0026G.prototype.get;var B=G\u0026\u0026G.prototype.has;var U=G\u0026\u0026G.prototype.set;var $=S.Symbol||{};var J=$.species||\"@@species\";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e===\"number\"\u0026\u0026T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t\u003c0?-1:1};var Y=function log1p(e){var t=Number(e);if(t\u003c-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)===\"[object Arguments]\"};var ee=function isArguments(e){return e!==null\u0026\u0026typeof e===\"object\"\u0026\u0026typeof e.length===\"number\"\u0026\u0026e.length\u003e=0\u0026\u0026g(e)!==\"[object Array]\"\u0026\u0026g(e.callee)===\"[object Function]\"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!==\"function\"\u0026\u0026typeof e!==\"object\"},string:function(e){return g(e)===\"[object String]\"},regex:function(e){return g(e)===\"[object RegExp]\"},symbol:function(e){return typeof S.Symbol===\"function\"\u0026\u0026typeof e===\"symbol\"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $===\"function\"\u0026\u0026typeof $[\"for\"]===\"function\"\u0026\u0026re.symbol($());var ie=re.symbol($.iterator)?$.iterator:\"_es6-shim iterator_\";if(S.Set\u0026\u0026typeof(new S.Set)[\"@@iterator\"]===\"function\"){ie=\"@@iterator\"}if(!S.Reflect){h(S,\"Reflect\",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document===\"undefined\"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null\u0026\u0026e!==fe};var ce={Call:function Call(t,r){var n=arguments.length\u003e2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+\" is not a function\")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||\"Cannot call method on \"+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e===\"function\"||typeof e===\"object\"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)\u003e\u003e0},ToUint32:function(e){return ce.ToNumber(e)\u003e\u003e\u003e0},ToNumber:function(e){if(g(e)===\"[object Symbol]\"){throw new TypeError(\"Cannot convert a Symbol value to a number\")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t\u003e0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t\u003c=0){return 0}if(t\u003eNumber.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)\u0026\u0026X(t)},SameValueZero:function(e,t){return e===t||X(e)\u0026\u0026X(t)},IsIterable:function(e){return ce.TypeIsObject(e)\u0026\u0026(typeof e[ie]!==\"undefined\"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,\"value\")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError(\"value is not an iterable\")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError(\"bad iterator\")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError(\"Method not callable: \"+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,\"return\");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError(\"Iterator\u0027s return method returned a non-object.\")}},IteratorNext:function(e){var t=arguments.length\u003e1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError(\"bad iterator\")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r===\"undefined\"?e:r;if(!n\u0026\u0026ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError(\"Bad constructor\")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError(\"Bad @@species\")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i=\"\u003c\"+t;if(r!==\"\"){var a=ce.ToString(n);var u=a.replace(/\"/g,\"\u0026quot;\");i+=\" \"+r+\u0027=\"\u0027+u+\u0027\"\u0027}var f=i+\"\u003e\";var s=f+o;return s+\"\u003c/\"+t+\"\u003e\"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!==\"undefined\"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s\u0026\u0026oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$[\"for\"](\"Symbol.\"+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le(\"search\");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!==\"undefined\"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,\"search\",ye)}if(!re.symbol($.replace)){var he=le(\"replace\");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!==\"undefined\"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,\"replace\",ge)}if(!re.symbol($.split)){var de=le(\"split\");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!==\"undefined\"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,\"split\",Oe)}var we=re.symbol($.match);var je=we\u0026\u0026function(){var e={};e[$.match]=function(){return 42};return\"a\".match(e)!==42}();if(!we||je){var Se=le(\"match\");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!==\"undefined\"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,\"match\",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,\"constructor\",t)};var Pe=function(){return this};var Ce=function(e){if(s\u0026\u0026!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]\u0026\u0026re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError(\"property is nonconfigurable\")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError(\"Constructor requires `new`: \"+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint\u0026\u0026String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,\"fromCodePoint\",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n\u003co;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r\u003c0||r\u003e1114111){throw new RangeError(\"Invalid code point \"+r)}if(r\u003c65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r\u003e\u003e10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join(\"\")},raw:function raw(e){var t=ce.ToObject(e,\"bad callSite\");var r=ce.ToObject(t.raw,\"bad raw value\");var n=r.length;var o=ce.ToLength(n);if(o\u003c=0){return\"\"}var i=[];var a=0;var u,f,s,c;while(a\u003co){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1\u003e=o){break}f=a+1\u003carguments.length?arguments[a+1]:\"\";c=ce.ToString(f);M(i,c);a+=1}return i.join(\"\")}};if(String.raw\u0026\u0026String.raw({raw:{0:\"x\",1:\"y\",length:2}})!==\"xy\"){ne(String,\"raw\",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t\u003c1){return\"\"}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r\u003c0||r\u003e=Le){throw new RangeError(\"repeat count must be less than infinity and not overflow maximum string size\")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError(\u0027Cannot call method \"startsWith\" with a regex\u0027)}var r=ce.ToString(e);var n;if(arguments.length\u003e1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError(\u0027Cannot call method \"endsWith\" with a regex\u0027)}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length\u003e1){o=arguments[1]}var i=typeof o===\"undefined\"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError(\u0027\"includes\" does not accept a RegExp\u0027)}var t=ce.ToString(e);var r;if(arguments.length\u003e1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r\u003e=0\u0026\u0026r\u003cn){var o=t.charCodeAt(r);var i=r+1===n;if(o\u003c55296||o\u003e56319||i){return o}var a=t.charCodeAt(r+1);if(a\u003c56320||a\u003e57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes\u0026\u0026\"a\".includes(\"a\",Infinity)!==false){ne(String.prototype,\"includes\",Fe.includes)}if(String.prototype.startsWith\u0026\u0026String.prototype.endsWith){var De=i(function(){return\"/a/\".startsWith(/a/)});var ze=a(function(){return\"abc\".startsWith(\"a\",Infinity)===false});if(!De||!ze){ne(String.prototype,\"startsWith\",Fe.startsWith);ne(String.prototype,\"endsWith\",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".startsWith(e)});if(!qe){ne(String.prototype,\"startsWith\",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".endsWith(e)});if(!We){ne(String.prototype,\"endsWith\",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".includes(e)});if(!Ge){ne(String.prototype,\"includes\",Fe.includes)}}b(String.prototype,Fe);var He=[\"\\t\\n\\x0B\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\",\"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\",\"\\u2029\\ufeff\"].join(\"\");var Ve=new RegExp(\"(^[\"+He+\"]+)|([\"+He+\"]+$)\",\"g\");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,\"\")};var Ue=[\"\\x85\",\"\\u200b\",\"\\ufffe\"].join(\"\");var $e=new RegExp(\"[\"+Ue+\"]\",\"g\");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,\"trim\",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e===\"undefined\"||t\u003e=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r\u003c55296||r\u003e56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n\u003c56320||n\u003e57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length\u003e1){n=arguments[1]}var o,i;if(typeof n===\"undefined\"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError(\"Array.from: when provided, the second argument must be a function\")}if(arguments.length\u003e2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!==\"undefined\";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i===\"undefined\"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s\u003cu;++s){h=y[s];if(o){h=typeof i===\"undefined\"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o\u003ce;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError(\"Not an ArrayIterator\")}if(typeof t!==\"undefined\"){var r=ce.ToLength(t.length);for(;e\u003cr;e++){var n=this.kind;var o;if(n===\"key\"){o=e}else if(n===\"value\"){o=t[e]}else if(n===\"entry\"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e\u0026\u0026t.length===2}();if(!Qe){ne(Array,\"of\",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o\u003c0?A(n+o,0):R(o,n);var u=i\u003c0?A(n+i,0):R(i,n);var f;if(arguments.length\u003e2){f=arguments[2]}var s=typeof f===\"undefined\"?n:ce.ToInteger(f);var c=s\u003c0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u\u003ca\u0026\u0026a\u003cu+l){p=-1;u+=l-1;a+=l-1}while(l\u003e0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length\u003e1){t=arguments[1]}var r;if(arguments.length\u003e2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t===\"undefined\"?0:t);r=ce.ToInteger(typeof r===\"undefined\"?o:r);var i=t\u003c0?A(o+t,0):R(t,o);var a=r\u003c0?o+r:r;for(var u=i;u\u003co\u0026\u0026u\u003ca;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError(\"Array#find: predicate must be a function\")}var o=arguments.length\u003e1?arguments[1]:null;for(var i=0,a;i\u003cn;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError(\"Array#findIndex: predicate must be a function\")}var o=arguments.length\u003e1?arguments[1]:null;for(var i=0;i\u003cn;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,\"key\")},values:function values(){return new q(this,\"value\")},entries:function entries(){return new q(this,\"entry\")}};if(Array.prototype.keys\u0026\u0026!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries\u0026\u0026!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys\u0026\u0026Array.prototype.entries\u0026\u0026!Array.prototype.values\u0026\u0026Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c\u0026\u0026Array.prototype.values\u0026\u0026Array.prototype.values.name!==\"values\"){var tt=Array.prototype.values;ne(Array.prototype,\"values\",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)\u003c0){h(Array.prototype,\"indexOf\",function indexOf(e){var t=E(this,arguments);if(t===0\u0026\u00261/t\u003c0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1\u0026\u0026r(e[0])\u0026\u0026e[0][0]===0\u0026\u0026e[0][1]===0}();if(!rt||!nt){ne(Array,\"from\",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,\"from\",function from(e){if(arguments.length\u003e1\u0026\u0026typeof arguments[1]!==\"undefined\"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length\u003e\u003e\u003e0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError(\"should not reach here\")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,\"forEach\",function forEach(e){return ce.Call(ft,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,\"map\",function map(e){return ce.Call(st,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,\"filter\",function filter(e){return ce.Call(ct,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,\"some\",function some(e){return ce.Call(lt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,\"every\",function every(e){return ce.Call(pt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,\"reduce\",function reduce(e){return ce.Call(vt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,\"reduceRight\",function reduceRight(e){return ce.Call(yt,this.length\u003e=0?this:[],arguments)},true)}var ht=Number(\"0o10\")!==8;var bt=Number(\"0b10\")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf===\"function\"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString===\"function\"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError(\"No default value\")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length\u003e0){r=re.primitive(t)?t:St(t,\"number\")}else{r=0}if(typeof r===\"string\"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e\u0026\u0026!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,\"Number\",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)\u0026\u0026ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)\u0026\u0026k(e)\u003c=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,\"parseInt\",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,\"find\",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,\"findIndex\",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s\u0026\u0026Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r\u003c0?0:r);for(var o=e;o\u003ct;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,\"Cannot convert undefined or null to object\");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign\u0026\u0026Object.preventExtensions\u0026\u0026function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,\"xy\")}catch(t){return e[1]===\"y\"}}();if(_t){ne(Object,\"assign\",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError(\"cannot set prototype on a non-object\")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError(\"can only set prototype to an object or null\"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,\"__proto__\")};b(Object,kt)}if(Object.setPrototypeOf\u0026\u0026Object.getPrototypeOf\u0026\u0026Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null\u0026\u0026Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys(\"foo\")});if(!Lt){var Ft=Object.keys;ne(Object,\"keys\",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,\"keys\",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames(\"foo\")});if(!qt){var Wt=typeof window===\"object\"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,\"getOwnPropertyNames\",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)===\"[object Window]\"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor(\"foo\",\"bar\")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,\"getOwnPropertyDescriptor\",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal(\"foo\")});if(!Bt){var Ut=Object.seal;ne(Object,\"seal\",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed(\"foo\")});if(!$t){var Jt=Object.isSealed;ne(Object,\"isSealed\",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze(\"foo\")});if(!Xt){var Kt=Object.freeze;ne(Object,\"freeze\",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen(\"foo\")});if(!Zt){var Yt=Object.isFrozen;ne(Object,\"isFrozen\",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions(\"foo\")});if(!Qt){var er=Object.preventExtensions;ne(Object,\"preventExtensions\",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible(\"foo\")});if(!tr){var rr=Object.isExtensible;ne(Object,\"isExtensible\",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf(\"foo\")});if(!nr){var or=Object.getPrototypeOf;ne(Object,\"getPrototypeOf\",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s\u0026\u0026function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\");return e\u0026\u0026ce.IsCallable(e.get)}();if(s\u0026\u0026!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError(\"Method called on incompatible type: must be an object.\")}var e=\"\";if(this.global){e+=\"g\"}if(this.ignoreCase){e+=\"i\"}if(this.multiline){e+=\"m\"}if(this.unicode){e+=\"u\"}if(this.sticky){e+=\"y\"}return e};m.getter(RegExp.prototype,\"flags\",ar)}var ur=s\u0026\u0026a(function(){return String(new RegExp(/a/g,\"i\"))===\"/a/i\"});var fr=oe\u0026\u0026s\u0026\u0026function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:\"abc\"})===\"/abc/\"});var cr=sr\u0026\u0026a(function(){return RegExp.prototype.toString.call({source:\"a\",flags:\"b\"})===\"/a/b\"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,\"toString\",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return\"/\"+r+\"/\"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s\u0026\u0026(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,\"source\")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n\u0026\u0026r\u0026\u0026typeof t===\"undefined\"\u0026\u0026e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t===\"undefined\"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t===\"undefined\"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,\"RegExp\",gr)}if(s){var dr={input:\"$_\",lastMatch:\"$\u0026\",lastParen:\"$+\",leftContext:\"$`\",rightContext:\"$\u0027\"};l(n(dr),function(e){if(e in RegExp\u0026\u0026!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e\u003c1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t\u003c2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r\u003c1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t\u003c-1||t\u003e1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t\u003c0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)\u003e.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o\u003carguments.length;++o){var i=k(Number(arguments[o]));if(n\u003ci){r*=n/i*(n/i);r+=1;n=i}else{r+=i\u003e0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r\u003c1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t\u003e=20){return 1}if(t\u003c=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t\u003c0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r\u003e\u003e\u003e16\u002665535;var i=r\u002665535;var a=n\u003e\u003e\u003e16\u002665535;var u=n\u002665535;return i*u+(o*u+i*a\u003c\u003c16\u003e\u003e\u003e0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n\u003cSr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i\u003ejr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON\u003c(r||8)};b(Math,Cr);h(Math,\"sinh\",Cr.sinh,Math.sinh(710)===Infinity);h(Math,\"cosh\",Cr.cosh,Math.cosh(710)===Infinity);h(Math,\"log1p\",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,\"asinh\",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,\"asinh\",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,\"atanh\",Cr.atanh,Math.atanh(1e-300)===0);h(Math,\"tanh\",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);\nh(Math,\"acosh\",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,\"acosh\",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,\"cbrt\",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,\"sinh\",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,\"expm1\",Cr.expm1,xr\u003e22025.465794806718||xr\u003c22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0\u0026\u0026Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,\"round\",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t\u003c.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,\"imul\",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!==\"function\"\u0026\u0026typeof e!==\"object\"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise===\"undefined\"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError(\"Bad promise constructor\")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError(\"Bad Promise implementation!\")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)\u0026\u0026ce.IsCallable(t.reject))){throw new TypeError(\"Bad promise constructor\")}};var n;if(typeof window!==\"undefined\"\u0026\u0026ce.IsCallable(window.postMessage)){n=function(){var e=[];var t=\"zero-timeout-message\";var r=function(r){M(e,r);window.postMessage(t,\"*\")};var n=function(r){if(r.source===window\u0026\u0026r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener(\"message\",n,true);return r}}var o=function(){var e=S.Promise;var t=e\u0026\u0026e.resolve\u0026\u0026e.resolve();return t\u0026\u0026function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process===\"object\"\u0026\u0026process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n\u003e0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n\u003e1){for(var o=1,i=0;o\u003cn;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n\u003e0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n\u003e1){for(var o=1,i=0;o\u003cn;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError(\"Self resolution\"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError(\u0027Constructor Promise requires \"new\"\u0027)}if(this\u0026\u0026this._promise){throw new TypeError(\"Bad construction\")}if(!ce.IsCallable(t)){throw new TypeError(\"not a valid resolver\")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Promise is not object\")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i\u0026\u0026!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Promise is not object\")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i\u0026\u0026!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Bad promise constructor\")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Bad promise constructor\")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{\"catch\":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError(\"not a promise\")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length\u003e2\u0026\u0026arguments[2]===y;if(b\u0026\u0026o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError(\"unexpected Promise state\")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr===\"function\"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s\u0026\u0026function(){var e=0;var t=Object.defineProperty({},\"then\",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,\"Promise\",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,\"all\",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,\"race\",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,\"resolve\",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,\"reject\",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,\"all\");Mt(Promise,\"race\");Mt(Promise,\"resolve\");Mt(Promise,\"reject\");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(\":\")===t.join(\":\")};var Kr=Xr([\"z\",\"a\",\"bb\"]);var Zr=Xr([\"z\",1,\"a\",\"3\",2]);if(s){var Yr=function fastkey(e,t){if(!t\u0026\u0026!Kr){return null}if(se(e)){return\"^\"+ce.ToString(e)}else if(typeof e===\"string\"){return\"$\"+e}else if(typeof e===\"number\"){if(!Zr){return\"n\"+e}return e}else if(typeof e===\"boolean\"){return\"b\"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError(\"Iterator value \"+e+\" is not an entry object\")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError(\"bad map\")}i=ce.GetIterator(o)}if(typeof i!==\"undefined\"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError(\"Iterator value \"+f+\" is not an entry object\")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError(\"bad set\")}i=ce.GetIterator(o)}if(typeof i!==\"undefined\"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError(\"Method Map.prototype.\"+t+\" called on incompatible receiver \"+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,\"[[MapIterator]]\");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError(\"Not a MapIterator\")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i===\"undefined\"){return Ke()}while(e.isRemoved()\u0026\u0026e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t===\"key\"){n=e.key}else if(t===\"value\"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}if(this\u0026\u0026this._es6map){throw new TypeError(\"Bad construction\")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length\u003e0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,\"size\",function(){if(typeof this._size===\"undefined\"){throw new TypeError(\"size method called on incompatible Map\")}return this._size});b(a,{get:function get(e){o(this,\"get\");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,\"has\");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!==\"undefined\"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,\"set\");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!==\"undefined\"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},\"delete\":function(t){o(this,\"delete\");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]===\"undefined\"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,\"clear\");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,\"keys\");return new i(this,\"key\")},values:function values(){o(this,\"values\");return new i(this,\"value\")},entries:function entries(){o(this,\"entries\");return new i(this,\"key+value\")},forEach:function forEach(e){o(this,\"forEach\");var r=arguments.length\u003e1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set\u0026\u0026typeof e._storage!==\"undefined\"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError(\"Set.prototype.\"+r+\" called on incompatible receiver \"+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError(\u0027Constructor Set requires \"new\"\u0027)}if(this\u0026\u0026this._es6set){throw new TypeError(\"Bad construction\")}var e=Ae(this,Set,o,{_es6set:true,\"[[SetData]]\":null,_storage:Qr()});if(!e._es6set){throw new TypeError(\"bad set\")}if(arguments.length\u003e0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t===\"^null\"){return null}else if(t===\"^undefined\"){return void 0}else{var r=t.charAt(0);if(r===\"$\"){return C(t,1)}else if(r===\"n\"){return+C(t,1)}else if(r===\"b\"){return t===\"btrue\"}}return+t};var u=function ensureMap(e){if(!e[\"[[SetData]]\"]){var t=new rn.Map;e[\"[[SetData]]\"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e[\"[[SetData]]\"]=t}e._storage=null};m.getter(i.prototype,\"size\",function(){r(this,\"size\");if(this._storage){return n(this._storage).length}u(this);return this[\"[[SetData]]\"].size});b(i.prototype,{has:function has(e){r(this,\"has\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this[\"[[SetData]]\"].has(e)},add:function add(e){r(this,\"add\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this[\"[[SetData]]\"].set(e,e);return this},\"delete\":function(e){r(this,\"delete\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]\u0026\u0026n}u(this);return this[\"[[SetData]]\"][\"delete\"](e)},clear:function clear(){r(this,\"clear\");if(this._storage){this._storage=Qr()}if(this[\"[[SetData]]\"]){this[\"[[SetData]]\"].clear()}},values:function values(){r(this,\"values\");u(this);return new f(this[\"[[SetData]]\"].values())},entries:function entries(){r(this,\"entries\");u(this);return new f(this[\"[[SetData]]\"].entries())},forEach:function forEach(e){r(this,\"forEach\");var n=arguments.length\u003e1?arguments[1]:null;var o=this;u(o);this[\"[[SetData]]\"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,\"keys\",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError(\"Not a SetIterator\")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set\u0026\u0026!Set.prototype[\"delete\"]\u0026\u0026Set.prototype.remove\u0026\u0026Set.prototype.items\u0026\u0026Set.prototype.map\u0026\u0026Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}var e=new G;if(arguments.length\u003e0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,\"constructor\",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e\u0026\u0026e.get(-0)===e\u0026\u0026e.has(0)\u0026\u0026e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,\"set\",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype[\"delete\"]\u0026\u0026Set.prototype.add\u0026\u0026Set.prototype.has\u0026\u0026function(e){e[\"delete\"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype[\"delete\"];Set.prototype[\"delete\"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype[\"delete\"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf\u0026\u0026!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}var e=new G;if(arguments.length\u003e0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,\"constructor\",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf\u0026\u0026!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError(\u0027Constructor Set requires \"new\"\u0027)}var e=new wn;if(arguments.length\u003e0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,\"constructor\",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!==\"function\"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!==\"function\"||typeof S.Set.prototype.keys!==\"function\"||typeof S.Map.prototype.forEach!==\"function\"||typeof S.Set.prototype.forEach!==\"function\"||u(S.Map)||u(S.Set)||typeof jn.keys().next!==\"function\"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,\"keys\",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c\u0026\u0026S.Set.prototype.has.name!==\"has\"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,\"has\",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError(\"target must be an object\")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError(\"First argument must be a constructor.\")}var r=arguments.length\u003e2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError(\"new.target must be a constructor.\")}return ce.Construct(e,t,r,\"internal\")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r\u0026\u0026!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if(\"value\"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if(\"value\"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length\u003e2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length\u003e3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf\u0026\u0026En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null\u0026\u0026!ce.TypeIsObject(t)){throw new TypeError(\"proto must be an object or null\")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible\u0026\u0026!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c\u0026\u0026Rn\u0026\u0026Rn.name!==\"getPrototypeOf\"){ne(S.Reflect,\"getPrototypeOf\",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,\"setPrototypeOf\",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,\"test\",{value:1});var t=typeof Object.preventExtensions!==\"function\"||!S.Reflect.defineProperty(Object.preventExtensions({}),\"test\",{});return e\u0026\u0026t})){ne(S.Reflect,\"defineProperty\",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,\"construct\",En.construct)}}if(String(new Date(NaN))!==\"Invalid Date\"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return\"Invalid Date\"}return ce.Call(_n,this)};ne(Date.prototype,\"toString\",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,\"a\",\"name\",e)},big:function big(){return ce.CreateHTML(this,\"big\",\"\",\"\")},blink:function blink(){return ce.CreateHTML(this,\"blink\",\"\",\"\")},bold:function bold(){return ce.CreateHTML(this,\"b\",\"\",\"\")},fixed:function fixed(){return ce.CreateHTML(this,\"tt\",\"\",\"\")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,\"font\",\"color\",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,\"font\",\"size\",e)},italics:function italics(){return ce.CreateHTML(this,\"i\",\"\",\"\")},link:function link(e){return ce.CreateHTML(this,\"a\",\"href\",e)},small:function small(){return ce.CreateHTML(this,\"small\",\"\",\"\")},strike:function strike(){return ce.CreateHTML(this,\"strike\",\"\",\"\")},sub:function sub(){return ce.CreateHTML(this,\"sub\",\"\",\"\")},sup:function sub(){return ce.CreateHTML(this,\"sup\",\"\",\"\")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,\"\",\u0027 \" \u0027);var i=P([],o.match(/\"/g)).length;n=o!==o.toLowerCase()||i\u003e2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON===\"object\"\u0026\u0026typeof JSON.stringify===\"function\"?JSON.stringify:null;if(!e){return false}if(typeof e($())!==\"undefined\"){return true}if(e([$()])!==\"[null]\"){return true}var t={a:$()};t[$()]=true;if(e(t)!==\"{}\"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))===\"{}\"\u0026\u0026JSON.stringify([Object($())])===\"[{}]\"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,\"stringify\",function stringify(e){if(typeof e===\"symbol\"){return}var n;if(arguments.length\u003e1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!==\"symbol\"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length\u003e2){o.push(arguments[2])}return zn.apply(this,o)})}return S});\n//# sourceMappingURL=es6-shim.map\n","// By referencing this file first, before any other Keyman class definitions,\r\n// a globally-usable \u0027singleton\u0027 reference to KeymanWeb can be established.\r\n\r\nnamespace com.keyman {\r\n  export var singleton: KeymanBase;\r\n}","\u0027use strict\u0027;\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = \u0027~\u0027;\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== \u0027function\u0027) {\n    throw new TypeError(\u0027The listener must be a function\u0027);\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i \u003c l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i \u003c len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i \u003c length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j \u003c len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn \u0026\u0026\n      (!once || listeners.once) \u0026\u0026\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i \u003c length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once \u0026\u0026 !listeners[i].once) ||\n        (context \u0026\u0026 listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif (\u0027undefined\u0027 !== typeof module) {\n  module.exports = EventEmitter;\n}\n","namespace com.keyman.text {\r\n  export var Codes = {\r\n    // Define Keyman Developer modifier bit-flags (exposed for use by other modules)\r\n    // Compare against /common/core/desktop/src/kmx/kmx_file.h.  CTRL+F \"#define LCTRLFLAG\" to find the secton.\r\n    modifierCodes: {\r\n      \"LCTRL\":0x0001,           // LCTRLFLAG\r\n      \"RCTRL\":0x0002,           // RCTRLFLAG\r\n      \"LALT\":0x0004,            // LALTFLAG\r\n      \"RALT\":0x0008,            // RALTFLAG\r\n      \"SHIFT\":0x0010,           // K_SHIFTFLAG\r\n      \"CTRL\":0x0020,            // K_CTRLFLAG\r\n      \"ALT\":0x0040,             // K_ALTFLAG\r\n      // TENTATIVE:  Represents command keys, which some OSes use for shortcuts we don\u0027t\r\n      // want to block.  No rule will ever target a modifier set with this bit set to 1. \r\n      \"META\":0x0080,            // K_METAFLAG\r\n      \"CAPS\":0x0100,            // CAPITALFLAG\r\n      \"NO_CAPS\":0x0200,         // NOTCAPITALFLAG\r\n      \"NUM_LOCK\":0x0400,        // NUMLOCKFLAG\r\n      \"NO_NUM_LOCK\":0x0800,     // NOTNUMLOCKFLAG\r\n      \"SCROLL_LOCK\":0x1000,     // SCROLLFLAG\r\n      \"NO_SCROLL_LOCK\":0x2000,  // NOTSCROLLFLAG\r\n      \"VIRTUAL_KEY\":0x4000,     // ISVIRTUALKEY\r\n      \"VIRTUAL_CHAR_KEY\":0x8000 // VIRTUALCHARKEY // Unused by KMW, but reserved for use by other Keyman engines.\r\n    },\r\n\r\n    modifierBitmasks: {\r\n      \"ALL\":0x007F,\r\n      \"ALT_GR_SIM\": (0x0001 | 0x0004),\r\n      \"CHIRAL\":0x001F,    // The base bitmask for chiral keyboards.  Includes SHIFT, which is non-chiral.\r\n      \"IS_CHIRAL\":0x000F, // Used to test if a bitmask uses a chiral modifier.\r\n      \"NON_CHIRAL\":0x0070 // The default bitmask, for non-chiral keyboards\r\n    },\r\n\r\n    stateBitmasks: {\r\n      \"ALL\":0x3F00,\r\n      \"CAPS\":0x0300,\r\n      \"NUM_LOCK\":0x0C00,\r\n      \"SCROLL_LOCK\":0x3000\r\n    },\r\n\r\n    // Define standard keycode numbers (exposed for use by other modules)\r\n    keyCodes: {\r\n      \"K_BKSP\":8,\"K_TAB\":9,\"K_ENTER\":13,\r\n      \"K_SHIFT\":16,\"K_CONTROL\":17,\"K_ALT\":18,\"K_PAUSE\":19,\"K_CAPS\":20,\r\n      \"K_ESC\":27,\"K_SPACE\":32,\"K_PGUP\":33,\r\n      \"K_PGDN\":34,\"K_END\":35,\"K_HOME\":36,\"K_LEFT\":37,\"K_UP\":38,\r\n      \"K_RIGHT\":39,\"K_DOWN\":40,\"K_SEL\":41,\"K_PRINT\":42,\"K_EXEC\":43,\r\n      \"K_INS\":45,\"K_DEL\":46,\"K_HELP\":47,\"K_0\":48,\r\n      \"K_1\":49,\"K_2\":50,\"K_3\":51,\"K_4\":52,\"K_5\":53,\"K_6\":54,\"K_7\":55,\r\n      \"K_8\":56,\"K_9\":57,\"K_A\":65,\"K_B\":66,\"K_C\":67,\"K_D\":68,\"K_E\":69,\r\n      \"K_F\":70,\"K_G\":71,\"K_H\":72,\"K_I\":73,\"K_J\":74,\"K_K\":75,\"K_L\":76,\r\n      \"K_M\":77,\"K_N\":78,\"K_O\":79,\"K_P\":80,\"K_Q\":81,\"K_R\":82,\"K_S\":83,\r\n      \"K_T\":84,\"K_U\":85,\"K_V\":86,\"K_W\":87,\"K_X\":88,\"K_Y\":89,\"K_Z\":90,\r\n      \"K_NP0\":96,\"K_NP1\":97,\"K_NP2\":98,\r\n      \"K_NP3\":99,\"K_NP4\":100,\"K_NP5\":101,\"K_NP6\":102,\r\n      \"K_NP7\":103,\"K_NP8\":104,\"K_NP9\":105,\"K_NPSTAR\":106,\r\n      \"K_NPPLUS\":107,\"K_SEPARATOR\":108,\"K_NPMINUS\":109,\"K_NPDOT\":110,\r\n      \"K_NPSLASH\":111,\"K_F1\":112,\"K_F2\":113,\"K_F3\":114,\"K_F4\":115,\r\n      \"K_F5\":116,\"K_F6\":117,\"K_F7\":118,\"K_F8\":119,\"K_F9\":120,\r\n      \"K_F10\":121,\"K_F11\":122,\"K_F12\":123,\"K_NUMLOCK\":144,\"K_SCROLL\":145,\r\n      \"K_LSHIFT\":160,\"K_RSHIFT\":161,\"K_LCONTROL\":162,\"K_RCONTROL\":163,\r\n      \"K_LALT\":164,\"K_RALT\":165,\r\n      \"K_COLON\":186,\"K_EQUAL\":187,\"K_COMMA\":188,\"K_HYPHEN\":189,\r\n      \"K_PERIOD\":190,\"K_SLASH\":191,\"K_BKQUOTE\":192,\r\n      \"K_LBRKT\":219,\"K_BKSLASH\":220,\"K_RBRKT\":221,\r\n      \"K_QUOTE\":222,\"K_oE2\":226,\"K_OE2\":226,\r\n      \"K_LOPT\":50001,\"K_ROPT\":50002,\r\n      \"K_NUMERALS\":50003,\"K_SYMBOLS\":50004,\"K_CURRENCIES\":50005,\r\n      \"K_UPPER\":50006,\"K_LOWER\":50007,\"K_ALPHA\":50008,\r\n      \"K_SHIFTED\":50009,\"K_ALTGR\":50010,\r\n      \"K_TABBACK\":50011,\"K_TABFWD\":50012\r\n    },\r\n\r\n    codesUS: [\r\n      [\u00270123456789\u0027,\u0027;=,-./`\u0027, \u0027[\\\\]\\\u0027\u0027],\r\n      [\u0027)!@#$%^\u0026*(\u0027,\u0027:+\u003c_\u003e?~\u0027, \u0027{|}\"\u0027]\r\n    ]\r\n  }\r\n}","namespace com.keyman.text {\r\n  // Defines the base Deadkey-tracking object.\r\n  \r\n  export class Deadkey {\r\n    p: number;  // Position of deadkey\r\n    d: number;  // Numerical id of the deadkey\r\n    o: number;  // Ordinal value of the deadkey (resolves same-place conflicts)\r\n    matched: number;\r\n\r\n    static ordinalSeed: number = 0;\r\n\r\n    constructor(pos: number, id: number) {\r\n      this.p = pos;\r\n      this.d = id;\r\n      this.o = Deadkey.ordinalSeed++;\r\n    }\r\n\r\n    match(p: number, d: number): boolean {\r\n      var result:boolean = (this.p == p \u0026\u0026 this.d == d);\r\n\r\n      return result;\r\n    }\r\n\r\n    set(): void {\r\n      this.matched = 1;\r\n    }\r\n\r\n    reset(): void {\r\n      this.matched = 0;\r\n    }\r\n\r\n    before(other: Deadkey): boolean {\r\n      return this.o \u003c other.o;\r\n    }\r\n\r\n    clone(): Deadkey {\r\n      let dk = new Deadkey(this.p, this.d);\r\n      dk.o = this.o;\r\n\r\n      return dk;\r\n    }\r\n\r\n    /**\r\n     * Sorts the deadkeys in reverse order.\r\n     */\r\n    static sortFunc = function(a: Deadkey, b: Deadkey) {\r\n      // We want descending order, so we want \u0027later\u0027 deadkeys first.\r\n      if(a.p != b.p) {\r\n        return b.p - a.p;\r\n      } else {\r\n        return b.o - a.o;\r\n      }\r\n    };\r\n  }\r\n\r\n  // Object-orients deadkey management.\r\n  export class DeadkeyTracker {\r\n    dks: Deadkey[] = [];\r\n\r\n    toSortedArray(): Deadkey[] {\r\n      this.dks = this.dks.sort(Deadkey.sortFunc);\r\n      return [].concat(this.dks);\r\n    }\r\n\r\n    clone(): DeadkeyTracker {\r\n      let dkt = new DeadkeyTracker();\r\n      let dks = this.toSortedArray();\r\n\r\n      // Make sure to clone the deadkeys themselves - the Deadkey object is mutable.\r\n      dkt.dks = [];\r\n      dks.forEach(function(value: Deadkey) {\r\n        dkt.dks.push(value.clone());\r\n      });\r\n\r\n      return dkt;\r\n    }\r\n  \r\n    /**\r\n     * Function     isMatch      \r\n     * Scope        Public\r\n     * @param       {number}      caretPos  current cursor position\r\n     * @param       {number}      n         expected offset of deadkey from cursor\r\n     * @param       {number}      d         deadkey\r\n     * @return      {boolean}               True if deadkey found selected context matches val\r\n     * Description  Match deadkey at current cursor position\r\n     */\r\n    isMatch(caretPos: number, n: number, d: number): boolean {\r\n      if(this.dks.length == 0) {\r\n        return false; // I3318\r\n      }\r\n\r\n      var sp=caretPos;\r\n      n = sp - n;\r\n      for(var i = 0; i \u003c this.dks.length; i++) {\r\n        // Don\u0027t re-match an already-matched deadkey.  It\u0027s possible to have two identical \r\n        // entries, and they should be kept separately.\r\n        if(this.dks[i].match(n, d) \u0026\u0026 !this.dks[i].matched) {\r\n          this.dks[i].set();\r\n          // Assumption:  since we match the first possible entry in the array, we\r\n          // match the entry with the lower ordinal - the \u0027first\u0027 deadkey in the position.\r\n          return true; // I3318\r\n        }\r\n      }\r\n\r\n      this.resetMatched(); // I3318\r\n\r\n      return false;\r\n    }\r\n\r\n    add(dk: Deadkey) {\r\n      this.dks = this.dks.concat(dk);\r\n    }\r\n\r\n    remove(dk: Deadkey) {\r\n      var index = this.dks.indexOf(dk);\r\n      this.dks.splice(index, 1);\r\n    }\r\n\r\n    clear() {\r\n      this.dks = [];\r\n    }\r\n\r\n    resetMatched() {\r\n      for(let dk of this.dks) {\r\n        dk.reset();\r\n      }\r\n    }\r\n    \r\n    deleteMatched(): void {\r\n      for(var Li = 0; Li \u003c this.dks.length; Li++) {\r\n        if(this.dks[Li].matched) {\r\n          this.dks.splice(Li--, 1); // Don\u0027t forget to decrement!\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     adjustPositions (formerly _DeadkeyAdjustPos)\r\n     * Scope        Private\r\n     * @param       {number}      Lstart      start position in context\r\n     * @param       {number}      Ldelta      characters to adjust by   \r\n     * Description  Adjust saved positions of deadkeys in context\r\n     */\r\n    adjustPositions(Lstart: number, Ldelta: number): void {\r\n      if(Ldelta == 0) {\r\n        return;\r\n      }\r\n      \r\n      for(let dk of this.dks) {\r\n        if(dk.p \u003e Lstart) {\r\n          dk.p += Ldelta;\r\n        }\r\n      }\r\n    }\r\n\r\n    count(): number {\r\n      return this.dks.length;\r\n    }\r\n  }\r\n}","// Defines deadkey management in a manner attachable to each element interface.\r\n///\u003creference path=\"../text/deadkeys.ts\" /\u003e\r\n// Defines the KeyEvent type.\r\n///\u003creference path=\"keyEvent.ts\" /\u003e\r\n\r\n// Also relies on string-extensions provided by the web-utils package.\r\n\r\nnamespace com.keyman.text {\r\n  export class TextTransform implements Transform {\r\n    readonly insert: string;\r\n    readonly deleteLeft: number;\r\n    readonly deleteRight?: number;\r\n\r\n    constructor(insert: string, deleteLeft: number, deleteRight?: number) {\r\n      this.insert = insert;\r\n      this.deleteLeft = deleteLeft;\r\n      this.deleteRight = deleteRight || 0;\r\n    }\r\n\r\n    public static readonly nil = new TextTransform(\u0027\u0027, 0, 0);\r\n  }\r\n\r\n  export class Transcription {\r\n    readonly token: number;\r\n    readonly keystroke: KeyEvent;\r\n    readonly transform: Transform;\r\n    alternates: Alternate[]; // constructed after the rest of the transcription.\r\n    readonly preInput: Mock;\r\n\r\n    private static tokenSeed: number = 0;\r\n\r\n    constructor(keystroke: KeyEvent, transform: Transform, preInput: Mock, alternates?: Alternate[]/*, removedDks: Deadkey[], insertedDks: Deadkey[]*/) {\r\n      let token = this.token = Transcription.tokenSeed++;\r\n\r\n      this.keystroke = keystroke;\r\n      this.transform = transform;\r\n      this.alternates = alternates;\r\n      this.preInput = preInput;\r\n\r\n      this.transform.id = this.token;\r\n\r\n      // Assign the ID to each alternate, as well.\r\n      if(alternates) {\r\n        alternates.forEach(function(alt) {\r\n          alt.sample.id = token;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  export type Alternate = ProbabilityMass\u003cTransform\u003e;\r\n\r\n  export abstract class OutputTarget {\r\n    private _dks: text.DeadkeyTracker;\r\n\r\n    constructor() {\r\n      this._dks = new text.DeadkeyTracker();\r\n    }\r\n\r\n    /**\r\n     * Signifies that this OutputTarget has no default key processing behaviors.  This should be false\r\n     * for OutputTargets backed by web elements like HTMLInputElement or HTMLTextAreaElement.\r\n     */\r\n    get isSynthetic(): boolean {\r\n      return true;\r\n    }\r\n\r\n    resetContext(): void {\r\n      this.deadkeys().clear();\r\n    }\r\n\r\n    deadkeys(): text.DeadkeyTracker {\r\n      return this._dks;\r\n    }\r\n\r\n    hasDeadkeyMatch(n: number, d: number): boolean {\r\n      return this.deadkeys().isMatch(this.getDeadkeyCaret(), n, d);\r\n    }\r\n\r\n    insertDeadkeyBeforeCaret(d: number) {\r\n      var dk: Deadkey = new Deadkey(this.getDeadkeyCaret(), d);\r\n      this.deadkeys().add(dk);\r\n    }\r\n\r\n    /**\r\n     * Should be called by each output target immediately before text mutation operations occur.\r\n     * \r\n     * Maintains solutions to old issues:  I3318,I3319\r\n     * @param {number} delta  Use negative values if characters were deleted, positive if characters were added.\r\n     */\r\n    protected adjustDeadkeys(delta: number) {\r\n      this.deadkeys().adjustPositions(this.getDeadkeyCaret(), delta); \r\n    }\r\n\r\n    /**\r\n     * Needed to properly clone deadkeys for use with Mock element interfaces toward predictive text purposes.\r\n     * @param {object}  dks   An existing set of deadkeys to deep-copy for use by this element interface.\r\n     */\r\n    protected setDeadkeys(dks: text.DeadkeyTracker) {\r\n      this._dks = dks.clone();\r\n    }\r\n\r\n    /**\r\n     * Determines the basic operations needed to reconstruct the current OutputTarget\u0027s text from the prior state specified\r\n     * by another OutputTarget based on their text and caret positions.\r\n     * \r\n     * This is designed for use as a \"before and after\" comparison to determine the effect of a single keyboard rule at a time.\r\n     * As such, it assumes that the caret is immediately after any inserted text.\r\n     * @param from An output target (preferably a Mock) representing the prior state of the input/output system.\r\n     */\r\n    buildTransformFrom(original: OutputTarget): Transform {\r\n      let to = this.getText();\r\n      let from = original.getText();\r\n\r\n      let fromCaret = original.getDeadkeyCaret();\r\n      let toCaret = this.getDeadkeyCaret();\r\n\r\n      // Step 1:  Determine the number of left-deletions.\r\n      let maxSMPLeftMatch = fromCaret \u003c toCaret ? fromCaret : toCaret;\r\n\r\n      // We need the corresponding non-SMP caret location in order to binary-search efficiently.\r\n      // (Examining code units is much more computationally efficient.)\r\n      let maxLeftMatch = to._kmwCodePointToCodeUnit(maxSMPLeftMatch);\r\n\r\n      // 1.1:  use a non-SMP-aware binary search to determine the divergence point.\r\n      let start = 0;\r\n      let end = maxLeftMatch;  // the index AFTER the last possible matching char.\r\n\r\n      // This search is O(maxLeftMatch).  1/2 + 1/4 + 1/8 + ... converges to = 1.\r\n      while(start \u003c end) {\r\n        let mid = Math.floor((end+start+1) / 2); // round up (compare more)\r\n        let fromLeft = from.substr(start, mid-start);\r\n        let toLeft   = to.substr(start, mid-start);\r\n\r\n        if(fromLeft == toLeft) {\r\n          start = mid;\r\n        } else {\r\n          end = mid - 1;\r\n        }\r\n      }\r\n\r\n      // At the loop\u0027s end:  `end` now holds the non-SMP-aware divergence point.\r\n      // The \u0027caret\u0027 is after the last matching code unit.\r\n\r\n      // 1.2:  detect a possible surrogate-pair split scenario, correcting for it\r\n      //       (by moving the split before the high-surrogate) if detected.\r\n\r\n      // If the split location is precisely on either end of the context, we can\u0027t\r\n      // have split a surrogate pair.\r\n      if(end \u003e 0 \u0026\u0026 end \u003c maxLeftMatch) {\r\n        let potentialHigh    = from.charCodeAt(end-1);\r\n        let potentialFromLow = from.charCodeAt(end);\r\n        let potentialToLow   = to.charCodeAt(end);\r\n\r\n        // if potentialHigh is a possible high surrogate...\r\n        if(potentialHigh \u003e= 0xD800 \u0026\u0026 potentialHigh \u003c= 0xDBFF) {\r\n          // and at least one potential \u0027low\u0027 is a possible low surrogate...\r\n          let flag = potentialFromLow \u003e= 0xDC00 \u0026\u0026 potentialFromLow \u003c= 0xDFFF;\r\n          flag = flag || (potentialToLow \u003e= 0XDC00 \u0026\u0026 potentialToLow \u003c= 0xDFFF);\r\n\r\n          // Correct the split location, moving it \u0027before\u0027 the high surrogate.\r\n          if(flag) {\r\n            end = end - 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 1.3:  take substring from start to the split point; determine SMP-aware length.\r\n      //       This yields the SMP-aware divergence index, which gives the number of left-deletes.\r\n      let newCaret = from._kmwCodeUnitToCodePoint(end);\r\n      let deletedLeft = fromCaret - newCaret;\r\n\r\n      // Step 2:  Determine the other properties.\r\n      // Since the \u0027after\u0027 OutputTarget\u0027s caret indicates the end of any inserted text, we\r\n      // can easily calculate the rest.\r\n      let insertedLength = toCaret - newCaret;\r\n      let delta = to._kmwSubstr(newCaret, insertedLength);\r\n\r\n      let undeletedRight = to._kmwLength() - toCaret;\r\n      let originalRight = from._kmwLength() - fromCaret;\r\n      let deletedRight = originalRight - undeletedRight;\r\n\r\n      // May occur when reverting a suggestion that had been applied mid-word.\r\n      if(deletedRight \u003c 0) {\r\n        // Restores deleteRight characters.\r\n        delta = delta + to._kmwSubstr(toCaret, -deletedRight);\r\n        deletedRight = 0;\r\n      }\r\n\r\n      return new TextTransform(delta, deletedLeft, deletedRight);\r\n    }\r\n\r\n    buildTranscriptionFrom(original: OutputTarget, keyEvent: KeyEvent, alternates?: Alternate[]): Transcription {\r\n      let transform = this.buildTransformFrom(original);\r\n\r\n      // If we ever decide to re-add deadkey tracking, this is the place for it.\r\n\r\n      return new Transcription(keyEvent, transform, Mock.from(original), alternates);\r\n    }\r\n\r\n    /**\r\n     * Restores the `OutputTarget` to the indicated state.  Designed for use with `Transcription.preInput`.\r\n     * @param original An `OutputTarget` (usually a `Mock`).\r\n     */\r\n    restoreTo(original: OutputTarget) {\r\n      //\r\n      this.setTextBeforeCaret(original.getTextBeforeCaret());\r\n      this.setTextAfterCaret(original.getTextAfterCaret());\r\n\r\n      // Also, restore the deadkeys!\r\n      this._dks = original._dks.clone();\r\n    }\r\n\r\n    apply(transform: Transform) {\r\n      if(transform.deleteRight) {\r\n        this.setTextAfterCaret(this.getTextAfterCaret()._kmwSubstr(transform.deleteRight));\r\n      }\r\n\r\n      if(transform.deleteLeft) {\r\n        this.deleteCharsBeforeCaret(transform.deleteLeft);\r\n      }\r\n\r\n      if(transform.insert) {\r\n        this.insertTextBeforeCaret(transform.insert);\r\n      }\r\n\r\n      // We assume that all deadkeys are invalidated after applying a Transform, since\r\n      // prediction implies we\u0027ll be completing a word, post-deadkeys.\r\n      this._dks.clear();\r\n    }\r\n\r\n    /**\r\n     * Helper to `restoreTo` - allows directly setting the \u0027before\u0027 context to that of another\r\n     * `OutputTarget`.\r\n     * @param s \r\n     */\r\n    protected setTextBeforeCaret(s: string): void {\r\n      // This one\u0027s easy enough to provide a default implementation for.\r\n      this.deleteCharsBeforeCaret(this.getTextBeforeCaret()._kmwLength());\r\n      this.insertTextBeforeCaret(s);\r\n    }\r\n\r\n    /**\r\n     * Helper to `restoreTo` - allows directly setting the \u0027after\u0027 context to that of another\r\n     * `OutputTarget`.\r\n     * @param s \r\n     */\r\n    protected abstract setTextAfterCaret(s: string): void;\r\n\r\n    /**\r\n     * Clears any selected text within the wrapper\u0027s element(s).\r\n     * Silently does nothing if no such text exists.\r\n     */\r\n    abstract clearSelection(): void;\r\n\r\n    /**\r\n     * Clears any cached selection-related state values.\r\n     */\r\n    abstract invalidateSelection(): void;\r\n    \r\n    /**\r\n     * Indicates whether or not the underlying element has its own selection (input, textarea)\r\n     * or is part of (or possesses) the DOM\u0027s active selection.\r\n     */\r\n    abstract hasSelection(): boolean;\r\n\r\n    /**\r\n     * Returns an index corresponding to the caret\u0027s position for use with deadkeys.\r\n     */\r\n    abstract getDeadkeyCaret(): number;\r\n    \r\n    /**\r\n     * Relative to the caret, gets the current context within the wrapper\u0027s element.\r\n     */\r\n    abstract getTextBeforeCaret(): string;\r\n\r\n    /**\r\n     * Relative to the caret (and/or active selection), gets the element\u0027s text after the caret,\r\n     * excluding any actively selected text that would be immediately replaced upon text entry.\r\n     */\r\n    abstract getTextAfterCaret(): string;\r\n\r\n    /**\r\n     * Gets the element\u0027s full text, including any text that is actively selected.\r\n     */\r\n    abstract getText(): string;\r\n\r\n    /**\r\n     * Performs context deletions (from the left of the caret) as needed by the KeymanWeb engine and\r\n     * corrects the location of any affected deadkeys.\r\n     * \r\n     * Does not delete deadkeys (b/c KMW 1 \u0026 2 behavior maintenance).\r\n     * @param dn The number of characters to delete.  If negative, context will be left unchanged.\r\n     */\r\n    abstract deleteCharsBeforeCaret(dn: number): void;\r\n\r\n    /**\r\n     * Inserts text immediately before the caret\u0027s current position, moving the caret after the\r\n     * newly inserted text in the process along with any affected deadkeys.\r\n     * \r\n     * @param s Text to insert before the caret\u0027s current position.\r\n     */\r\n    abstract insertTextBeforeCaret(s: string): void;\r\n\r\n    /**\r\n     * Allows element-specific handling for ENTER key inputs.  Conceptually, this should usually\r\n     * correspond to `insertTextBeforeCaret(\u0027\\n\u0027), but actual implementation will vary greatly among\r\n     * elements.\r\n     */\r\n    abstract handleNewlineAtCaret(): void;\r\n\r\n    /**\r\n     * Saves element-specific state properties prone to mutation, enabling restoration after\r\n     * text-output operations.\r\n     */\r\n    saveProperties() {\r\n      // Most element interfaces won\u0027t need anything here.\r\n    }\r\n\r\n    /**\r\n     * Restores previously-saved element-specific state properties.  Designed for use after text-output\r\n     * ops to facilitate more-seamless web-dev and user interactions.\r\n     */\r\n    restoreProperties(){\r\n      // Most element interfaces won\u0027t need anything here. \r\n    }\r\n\r\n    /**\r\n     * Generates a synthetic event on the underlying element, signalling that its value has changed.\r\n     */\r\n    abstract doInputEvent(): void;\r\n  }\r\n\r\n  // Due to some interesting requirements on compile ordering in TS,\r\n  // this needs to be in the same file as OutputTarget now.\r\n  export class Mock extends OutputTarget {\r\n    text: string;\r\n    caretIndex: number;\r\n\r\n    constructor(text?: string, caretPos?: number) {\r\n      super();\r\n\r\n      this.text = text ? text : \"\";\r\n      var defaultLength = this.text._kmwLength();\r\n      // Ensures that `caretPos == 0` is handled correctly.\r\n      this.caretIndex = typeof caretPos == \"number\" ? caretPos : defaultLength;\r\n    }\r\n\r\n    // Clones the state of an existing EditableElement, creating a Mock version of its state.\r\n    static from(outputTarget: OutputTarget) {\r\n      let preText = outputTarget.getTextBeforeCaret();\r\n      let caretIndex = preText._kmwLength();\r\n\r\n      // We choose to ignore (rather, pre-emptively remove) any actively-selected text,\r\n      // as since it\u0027s always removed instantly during any text mutation operations.\r\n      let clone = new Mock(preText + outputTarget.getTextAfterCaret(), caretIndex);\r\n\r\n      clone.setDeadkeys(outputTarget.deadkeys());\r\n\r\n      return clone;\r\n    }\r\n    \r\n    clearSelection(): void {\r\n      return;\r\n    }\r\n\r\n    invalidateSelection(): void {\r\n      return;\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      return true;\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.caretIndex;\r\n    }\r\n\r\n    setDeadkeyCaret(index: number) {\r\n      if(index \u003c 0 || index \u003e this.text._kmwLength()) {\r\n        throw new Error(\"Provided caret index is out of range.\");\r\n      }\r\n      this.caretIndex = index;\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      return this.text.kmwSubstr(0, this.caretIndex);\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      return this.text.kmwSubstr(this.caretIndex);\r\n    }\r\n\r\n    getText(): string {\r\n      return this.text;\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number): void {\r\n      if(dn \u003e= 0) {\r\n        if(dn \u003e this.caretIndex) {\r\n          dn = this.caretIndex;\r\n        }\r\n        this.text = this.text.kmwSubstr(0, this.caretIndex - dn) + this.getTextAfterCaret();\r\n        this.caretIndex -= dn;\r\n      }\r\n    }\r\n\r\n    insertTextBeforeCaret(s: string): void {\r\n      this.text = this.getTextBeforeCaret() + s + this.getTextAfterCaret();\r\n      this.caretIndex += s.kmwLength();\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      this.insertTextBeforeCaret(\u0027\\n\u0027);\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string): void {\r\n      this.text = this.getTextBeforeCaret() + s;\r\n    }\r\n\r\n    doInputEvent() {\r\n      // Mock isn\u0027t backed by an element, so it won\u0027t have any event listeners.\r\n    }\r\n  }\r\n}","/// \u003creference path=\"outputTarget.ts\" /\u003e\r\n\r\nnamespace com.keyman.text {\r\n  // Represents a probability distribution over a keyboard\u0027s keys.\r\n  // Defined here to avoid compilation issues.\r\n  export type KeyDistribution = {keyId: string, p: number}[];\r\n\r\n  /**\r\n   * This class is defined within its own file so that it can be loaded by code outside of KMW without\r\n   * having to actually load the entirety of KMW.\r\n   */\r\n  export class KeyEvent {\r\n    Lcode: number;\r\n    Lstates: number;\r\n    LmodifierChange?: boolean;\r\n    Lmodifiers: number;\r\n    LisVirtualKey: boolean;\r\n    vkCode: number;\r\n    kName: string;\r\n    kLayer?: string;   // The key\u0027s layer property\r\n    kbdLayer?: string; // The virtual keyboard\u0027s active layer\r\n    kNextLayer?: string;\r\n    \r\n    // Holds relevant event properties leading to construction of this KeyEvent.\r\n    source?: any; // Technically, KeyEvent|MouseEvent|Touch - but those are DOM types that must be kept out of headless mode.\r\n    // Holds a generated fat-finger distribution (when appropriate)\r\n    keyDistribution?: KeyDistribution;\r\n    \r\n    /**\r\n     * The device model for web-core to follow when processing the keystroke.\r\n     */\r\n    device: utils.DeviceSpec;\r\n\r\n    /**\r\n     * `true` if this event was produced by sources other than a DOM-based KeyboardEvent.\r\n     */\r\n    isSynthetic: boolean = true;\r\n  };\r\n}","namespace com.keyman.text {\r\n  /**\r\n   * Represents the commands and state changes that result from a matched keyboard rule.\r\n   */\r\n  export class RuleBehavior {\r\n    /**\r\n     * The before-and-after Transform from matching a keyboard rule.  May be `null`\r\n     * if no keyboard rules were matched for the keystroke.\r\n     */\r\n    transcription: Transcription = null;\r\n\r\n    /**\r\n     * Indicates whether or not a BEEP command was issued by the matched keyboard rule.\r\n     */\r\n    beep?: boolean;\r\n\r\n    /**\r\n     * A set of changed store values triggered by the matched keyboard rule.\r\n     */\r\n    setStore: {[id: number]: string} = {};\r\n\r\n    /**\r\n     * A set of variable stores with save requests triggered by the matched keyboard rule\r\n     */\r\n    saveStore: {[name: string]: VariableStore} = {};\r\n\r\n    /**\r\n     * Denotes a non-output default behavior; this should be evaluated later, against the true keystroke.\r\n     */\r\n    triggersDefaultCommand: boolean = false;\r\n\r\n    /**\r\n     * Denotes error log messages generated when attempting to generate this behavior.\r\n     */\r\n    errorLog?: string;\r\n\r\n    /**\r\n     * Denotes warning log messages generated when attempting to generate this behavior.\r\n     */\r\n    warningLog?: string;\r\n\r\n    /**\r\n     * If predictive text is active, contains a Promise returning predictive Suggestions.\r\n     */\r\n    predictionPromise?: Promise\u003cSuggestion[]\u003e;\r\n\r\n    finalize(processor: KeyboardProcessor, outputTarget: OutputTarget) {\r\n      if(!this.transcription) {\r\n        throw \"Cannot finalize a RuleBehavior with no transcription.\";\r\n      }\r\n\r\n      if(processor.beepHandler \u0026\u0026 this.beep) {\r\n        processor.beepHandler(outputTarget);\r\n      }\r\n\r\n      for(let storeID in this.setStore) {\r\n        let sysStore = processor.keyboardInterface.systemStores[storeID];\r\n        if(sysStore) {\r\n          try {\r\n            sysStore.set(this.setStore[storeID]);\r\n          } catch (error) {\r\n            if(processor.errorLogger) {\r\n              processor.errorLogger(\"Rule attempted to perform illegal operation - \u0027platform\u0027 may not be changed.\");\r\n            }\r\n          }\r\n        } else if(processor.warningLogger) {\r\n          processor.warningLogger(\"Unknown store affected by keyboard rule: \" + storeID);\r\n        }\r\n      }\r\n\r\n      if(processor.keyboardInterface.variableStoreSerializer) {\r\n        for(let storeID in this.saveStore) {\r\n          processor.keyboardInterface.variableStoreSerializer.saveStore(processor.activeKeyboard.id, storeID, this.saveStore[storeID]);\r\n        }\r\n      }\r\n\r\n      if(this.triggersDefaultCommand) {\r\n        let keyEvent = this.transcription.keystroke;\r\n        DefaultOutput.applyCommand(keyEvent, outputTarget);\r\n      }\r\n\r\n      if(processor.warningLogger \u0026\u0026 this.warningLog) {\r\n        processor.warningLogger(this.warningLog);\r\n      } else if(processor.errorLogger \u0026\u0026 this.errorLog) {\r\n        processor.errorLogger(this.errorLog);\r\n      }\r\n    }\r\n  }\r\n}","// Establishes key-code definitions.\r\n/// \u003creference path=\"codes.ts\" /\u003e\r\n// Defines our generalized \"KeyEvent\" class.\r\n/// \u003creference path=\"keyEvent.ts\" /\u003e\r\n\r\nnamespace com.keyman.text {\r\n  export enum EmulationKeystrokes {\r\n    Enter = \u0027\\n\u0027,\r\n    Backspace = \u0027\\b\u0027\r\n  }\r\n\r\n  /**\r\n   * Defines a collection of static library functions that define KeymanWeb\u0027s default (implied) keyboard rule behaviors.\r\n   */\r\n  export class DefaultOutput {\r\n    private constructor() {\r\n    }\r\n\r\n    static codeForEvent(Lkc: KeyEvent) {\r\n      return Codes.keyCodes[Lkc.kName] || Lkc.Lcode;;\r\n    }\r\n\r\n    /**\r\n     * Serves as a default keycode lookup table.  This may be referenced safely by mnemonic handling without fear of side-effects.\r\n     * Also used by Processor.defaultRuleBehavior to generate output after filtering for special cases.\r\n     */\r\n    public static forAny(Lkc: KeyEvent, isMnemonic: boolean, ruleBehavior?: RuleBehavior) {\r\n      var char = \u0027\u0027;\r\n\r\n      // A pretty simple table of lookups, corresponding VERY closely to the original defaultKeyOutput.\r\n      if((char = DefaultOutput.forSpecialEmulation(Lkc, ruleBehavior)) != null) {\r\n        return char;\r\n      } else if(!isMnemonic \u0026\u0026 ((char = DefaultOutput.forNumpadKeys(Lkc, ruleBehavior)) != null)) {\r\n        return char;\r\n      } else if((char = DefaultOutput.forUnicodeKeynames(Lkc, ruleBehavior)) != null) {\r\n        return char;\r\n      } else if((char = DefaultOutput.forBaseKeys(Lkc, ruleBehavior)) != null) {\r\n        return char;\r\n      } else {\r\n        // // For headless and embeddded, we may well allow \u0027\\t\u0027.  It\u0027s DOM mode that has other uses.\r\n        // // Not originally defined for text output within defaultKeyOutput.\r\n        // // We can\u0027t enable it yet, as it\u0027ll cause hardware keystrokes in the DOM to output \u0027\\t\u0027 rather\r\n        // // than rely on the browser-default handling.\r\n        let code = DefaultOutput.codeForEvent(Lkc);\r\n        switch(code) {\r\n        //   case Codes.keyCodes[\u0027K_TAB\u0027]:\r\n        //   case Codes.keyCodes[\u0027K_TABBACK\u0027]:\r\n        //   case Codes.keyCodes[\u0027K_TABFWD\u0027]:\r\n        //     return \u0027\\t\u0027;\r\n          default:\r\n           return null;\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * isCommand - returns a boolean indicating if a non-text event should be triggered by the keystroke.\r\n     */\r\n    public static isCommand(Lkc: KeyEvent): boolean {\r\n      let code = DefaultOutput.codeForEvent(Lkc);\r\n\r\n      switch(code) {\r\n        // Should we ever implement them:\r\n        // case Codes.keyCodes[\u0027K_LEFT\u0027]:  // would not output text, but would alter the caret\u0027s position in the context.\r\n        // case Codes.keyCodes[\u0027K_RIGHT\u0027]:\r\n        //   return true;\r\n        default:\r\n          return false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Used when a RuleBehavior represents a non-text \"command\" within the Engine.  This will generally \r\n     * trigger events that require context reset - often by moving the caret or by moving what OutputTarget\r\n     * the caret is in.  However, we let those events perform the actual context reset.\r\n     * \r\n     * Note:  is extended by DOM-aware KeymanWeb code.\r\n     */\r\n    public static applyCommand(Lkc: KeyEvent, outputTarget: OutputTarget): void {\r\n      // Notes for potential default-handling extensions:\r\n      // \r\n      // switch(code) {\r\n        // // Problem:  clusters, and doing them right.\r\n        // // The commented-out code below should be a decent starting point, but clusters make it complex.\r\n        // // Mostly based on pre-12.0 code, but the general idea should be relatively clear.\r\n        //\r\n        // case Codes.keyCodes[\u0027K_LEFT\u0027]:\r\n        //   if(touchAlias) {\r\n        //     var caretPos = keymanweb.getTextCaret(Lelem);\r\n        //     keymanweb.setTextCaret(Lelem, caretPos - 1 \u003e= 0 ? caretPos - 1 : 0);\r\n        //   }\r\n        //   break;\r\n        // case Codes.keyCodes[\u0027K_RIGHT\u0027]:\r\n        //   if(touchAlias) {\r\n        //     var caretPos = keymanweb.getTextCaret(Lelem);\r\n        //     keymanweb.setTextCaret(Lelem, caretPos + 1);\r\n        //   }\r\n        //   if(code == VisualKeyboard.keyCodes[\u0027K_RIGHT\u0027]) {\r\n        //     break;\r\n        //   }\r\n      // }\r\n      //\r\n      // Note that these would be useful even outside of a DOM context.\r\n    }\r\n\r\n    /**\r\n     * Codes matched here generally have default implementations when in a browser but require emulation\r\n     * for \u0027synthetic\u0027 `OutputTarget`s like `Mock`s, which have no default text handling.\r\n     */\r\n    public static forSpecialEmulation(Lkc: KeyEvent, ruleBehavior?: RuleBehavior): EmulationKeystrokes {\r\n      let code = DefaultOutput.codeForEvent(Lkc);\r\n\r\n      switch(code) {\r\n        case Codes.keyCodes[\u0027K_BKSP\u0027]:\r\n          return EmulationKeystrokes.Backspace;\r\n        case Codes.keyCodes[\u0027K_ENTER\u0027]:\r\n          return EmulationKeystrokes.Enter;\r\n        // case Codes.keyCodes[\u0027K_DEL\u0027]:\r\n        //   return \u0027\\u007f\u0027; // 127, ASCII / Unicode control code for DEL.\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n\r\n    // Should not be used for mnenomic keyboards.  forAny()\u0027s use of this method checks first.\r\n    public static forNumpadKeys(Lkc: KeyEvent, ruleBehavior?: RuleBehavior) {\r\n      // Translate numpad keystrokes into their non-numpad equivalents\r\n      if(Lkc.Lcode \u003e= Codes.keyCodes[\"K_NP0\"]  \u0026\u0026  Lkc.Lcode \u003c= Codes.keyCodes[\"K_NPSLASH\"]) {\r\n        // Number pad, numlock on\r\n        if(Lkc.Lcode \u003c 106) {\r\n          var Lch = Lkc.Lcode-48;\r\n        } else {\r\n          Lch = Lkc.Lcode-64;\r\n        }\r\n        let ch = String._kmwFromCharCode(Lch); //I3319\r\n        return ch;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    // Test for fall back to U_xxxxxx key id\r\n    // For this first test, we ignore the keyCode and use the keyName\r\n    public static forUnicodeKeynames(Lkc: KeyEvent, ruleBehavior?: RuleBehavior) {\r\n      let keyName = Lkc.kName;\r\n\r\n      // Test for fall back to U_xxxxxx key id\r\n      // For this first test, we ignore the keyCode and use the keyName\r\n      if(!keyName || keyName.substr(0,2) != \u0027U_\u0027) {\r\n        return null;\r\n      }\r\n    \r\n      var codePoint = parseInt(keyName.substr(2,6), 16);\r\n      if (((0x0 \u003c= codePoint) \u0026\u0026 (codePoint \u003c= 0x1F)) || ((0x80 \u003c= codePoint) \u0026\u0026 (codePoint \u003c= 0x9F))) {\r\n        // Code points [U_0000 - U_001F] and [U_0080 - U_009F] refer to Unicode C0 and C1 control codes.\r\n        // Check the codePoint number and do not allow output of these codes via U_xxxxxx shortcuts.\r\n        if(ruleBehavior) {\r\n          ruleBehavior.errorLog = (\"Suppressing Unicode control code: U_00\" + codePoint.toString(16));\r\n        }\r\n        return null;\r\n      } else {\r\n        // String.fromCharCode() is inadequate to handle the entire range of Unicode\r\n        // Someday after upgrading to ES2015, can use String.fromCodePoint()\r\n        return String.kmwFromCharCode(codePoint);\r\n      }\r\n    }\r\n\r\n    // Test for otherwise unimplemented keys on the the base default \u0026 shift layers.\r\n    // Those keys must be blocked by keyboard rules if intentionally unimplemented; otherwise, this function will trigger.\r\n    public static forBaseKeys(Lkc: KeyEvent, ruleBehavior?: RuleBehavior) {\r\n      let n = Lkc.Lcode;\r\n      let keyShiftState = Lkc.Lmodifiers;\r\n\r\n      // check if exact match to SHIFT\u0027s code.  Only the \u0027default\u0027 and \u0027shift\u0027 layers should have default key outputs.\r\n      // TODO:  Extend to allow AltGr as well - better mnemonic support.\r\n      if(keyShiftState == Codes.modifierCodes[\u0027SHIFT\u0027]) {\r\n        keyShiftState = 1;\r\n      } else if(keyShiftState != 0) {\r\n        if(ruleBehavior) {\r\n          ruleBehavior.warningLog = \"KMW only defines default key output for the \u0027default\u0027 and \u0027shift\u0027 layers!\";\r\n        }\r\n        return null;\r\n      }\r\n\r\n      // Now that keyShiftState is either 0 or 1, we can use the following structure to determine the default output.\r\n      try {\r\n        if(n == Codes.keyCodes[\u0027K_SPACE\u0027]) {\r\n          return \u0027 \u0027;\r\n        } else if(n \u003e= Codes.keyCodes[\u0027K_0\u0027] \u0026\u0026 n \u003c= Codes.keyCodes[\u0027K_9\u0027]) { // The number keys.\r\n          return Codes.codesUS[keyShiftState][0][n-Codes.keyCodes[\u0027K_0\u0027]];\r\n        } else if(n \u003e= Codes.keyCodes[\u0027K_A\u0027] \u0026\u0026 n \u003c= Codes.keyCodes[\u0027K_Z\u0027]) { // The base letter keys\r\n          return String.fromCharCode(n+(keyShiftState?0:32));  // 32 is the offset from uppercase to lowercase.\r\n        } else if(n \u003e= Codes.keyCodes[\u0027K_COLON\u0027] \u0026\u0026 n \u003c= Codes.keyCodes[\u0027K_BKQUOTE\u0027]) {\r\n          return Codes.codesUS[keyShiftState][1][n-Codes.keyCodes[\u0027K_COLON\u0027]];\r\n        } else if(n \u003e= Codes.keyCodes[\u0027K_LBRKT\u0027] \u0026\u0026 n \u003c= Codes.keyCodes[\u0027K_QUOTE\u0027]) {\r\n          return Codes.codesUS[keyShiftState][2][n-Codes.keyCodes[\u0027K_LBRKT\u0027]];\r\n        }\r\n      } catch (e) {\r\n        if(ruleBehavior) {\r\n          ruleBehavior.errorLog = \"Error detected with default mapping for key:  code = \" + n + \", shift state = \" + (keyShiftState == 1 ? \u0027shift\u0027 : \u0027default\u0027);\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","/***\r\n   KeymanWeb 10.0\r\n   Copyright 2017 SIL International\r\n***/\r\n\r\n// Relies on web-utils for version and deep-copy functionality.\r\n\r\nnamespace com.keyman.keyboards {\r\n  let Codes = com.keyman.text.Codes;\r\n\r\n  export type KLS = {[layerName: string]: string[]};\r\n\r\n  // The following types provide type definitions for the full JSON format we use for visual keyboard definitions.\r\n  export type ButtonClass = number|\"0\"|\"1\"|\"2\"|\"3\"|\"4\"|\"5\"|\"6\"|\"7\"|\"8\"|\"9\"|\"10\"\r\n\r\n  export type LayoutKey = {\r\n    \"id\"?: string,\r\n    \"text\"?: string,\r\n    \"sp\"?: ButtonClass,\r\n    \"width\"?: string,\r\n    \"layer\"?: string, // Key derives any modifiers from the value set here if specified, not the actual display layer.\r\n    \"nextlayer\"?: string,\r\n    \"pad\"?: string,\r\n    \"sk\"?: LayoutKey[]\r\n  }\r\n\r\n  export type LayoutRow = {\r\n    \"id\": string, // represents a number, though...\r\n    \"key\": LayoutKey[]\r\n  };\r\n\r\n  export type LayoutLayer = {\r\n    \"id\": string,\r\n    \"row\": LayoutRow[],\r\n\r\n    // Post-processing elements.\r\n    shiftKey?: LayoutKey,\r\n    capsKey?: LayoutKey,\r\n    numKey?: LayoutKey,\r\n    scrollKey?: LayoutKey,\r\n    aligned?: boolean\r\n  }\r\n\r\n  export type LayoutFormFactor = {\r\n    \"displayUnderlying\"?: boolean,\r\n    \"font\": string,\r\n    \"layer\": LayoutLayer[],\r\n    isDefault?: boolean\r\n  }\r\n\r\n  export type LayoutSpec = {\r\n    \"desktop\"?: LayoutFormFactor,\r\n    \"phone\"?: LayoutFormFactor,\r\n    \"tablet\"?: LayoutFormFactor\r\n  }\r\n\r\n  // This class manages default layout construction for consumption by OSKs without a specified layout.\r\n  export class Layouts {\r\n    static dfltCodes=[\r\n      \"K_BKQUOTE\",\"K_1\",\"K_2\",\"K_3\",\"K_4\",\"K_5\",\"K_6\",\"K_7\",\"K_8\",\"K_9\",\"K_0\",\r\n      \"K_HYPHEN\",\"K_EQUAL\",\"K_*\",\"K_*\",\"K_*\",\"K_Q\",\"K_W\",\"K_E\",\"K_R\",\"K_T\",\r\n      \"K_Y\",\"K_U\",\"K_I\",\"K_O\",\"K_P\",\"K_LBRKT\",\"K_RBRKT\",\"K_BKSLASH\",\"K_*\",\r\n      \"K_*\",\"K_*\",\"K_A\",\"K_S\",\"K_D\",\"K_F\",\"K_G\",\"K_H\",\"K_J\",\"K_K\",\"K_L\",\r\n      \"K_COLON\",\"K_QUOTE\",\"K_*\",\"K_*\",\"K_*\",\"K_*\",\"K_*\",\"K_oE2\",\r\n      \"K_Z\",\"K_X\",\"K_C\",\"K_V\",\"K_B\",\"K_N\",\"K_M\",\"K_COMMA\",\"K_PERIOD\",\r\n      \"K_SLASH\",\"K_*\",\"K_*\",\"K_*\",\"K_*\",\"K_*\",\"K_SPACE\"\r\n    ];\r\n\r\n    static dfltText=\u0027`1234567890-=\\xA7~~qwertyuiop[]\\\\~~~asdfghjkl;\\\u0027~~~~~?zxcvbnm,./~~~~~ \u0027\r\n      +\u0027~!@#$%^\u0026*()_+\\xA7~~QWERTYUIOP{}\\\\~~~ASDFGHJKL:\"~~~~~?ZXCVBNM\u003c\u003e?~~~~~ \u0027;\r\n\r\n    static readonly DEFAULT_RAW_SPEC = {\u0027F\u0027:\u0027Tahoma\u0027, \u0027BK\u0027: Layouts.dfltText};\r\n\r\n    // Cross-reference with the ids in osk.setButtonClass.\r\n    static buttonClasses: {[name: string]: ButtonClass} = {\r\n      \u0027DEFAULT\u0027:\u00270\u0027,\r\n      \u0027SHIFT\u0027:\u00271\u0027,\r\n      \u0027SHIFT-ON\u0027:\u00272\u0027,\r\n      \u0027SPECIAL\u0027:\u00273\u0027,\r\n      \u0027SPECIAL-ON\u0027:\u00274\u0027,\r\n      \u0027DEADKEY\u0027:\u00278\u0027,\r\n      \u0027BLANK\u0027:\u00279\u0027,\r\n      \u0027HIDDEN\u0027:\u002710\u0027\r\n    };\r\n\r\n    static modifierSpecials = {\r\n      \u0027leftalt\u0027: \u0027*LAlt*\u0027,\r\n      \u0027rightalt\u0027: \u0027*RAlt*\u0027,\r\n      \u0027alt\u0027: \u0027*Alt*\u0027,\r\n      \u0027leftctrl\u0027: \u0027*LCtrl*\u0027,\r\n      \u0027rightctrl\u0027: \u0027*RCtrl*\u0027,\r\n      \u0027ctrl\u0027: \u0027*Ctrl*\u0027,\r\n      \u0027ctrl-alt\u0027: \u0027*AltGr*\u0027,\r\n      \u0027leftctrl-leftalt\u0027: \u0027*LAltCtrl*\u0027,\r\n      \u0027rightctrl-rightalt\u0027: \u0027*RAltCtrl*\u0027,\r\n      \u0027leftctrl-leftalt-shift\u0027: \u0027*LAltCtrlShift*\u0027,\r\n      \u0027rightctrl-rightalt-shift\u0027: \u0027*RAltCtrlShift*\u0027,\r\n      \u0027shift\u0027: \u0027*Shift*\u0027,\r\n      \u0027shift-alt\u0027: \u0027*AltShift*\u0027,\r\n      \u0027shift-ctrl\u0027: \u0027*CtrlShift*\u0027,\r\n      \u0027shift-ctrl-alt\u0027: \u0027*AltCtrlShift*\u0027,\r\n      \u0027leftalt-shift\u0027: \u0027*LAltShift*\u0027,\r\n      \u0027rightalt-shift\u0027: \u0027*RAltShift*\u0027,\r\n      \u0027leftctrl-shift\u0027: \u0027*LCtrlShift*\u0027,\r\n      \u0027rightctrl-shift\u0027: \u0027*RCtrlShift*\u0027\r\n    };\r\n\r\n    /**\r\n    * Build a default layout for keyboards with no explicit layout\r\n    *\r\n    * @param   {Object}  PVK         raw specifications\r\n    * @param   {Keyboard} keyboard   keyboard object (as loaded)\r\n    * @param   {string} formFactor   (really utils.FormFactor)\r\n    * @return  {LayoutFormFactor}\r\n    */\r\n    static buildDefaultLayout(PVK, keyboard: Keyboard, formFactor: string): LayoutFormFactor {\r\n      // Build a layout using the default for the device\r\n      var layoutType=formFactor;\r\n\r\n      if(typeof Layouts.dfltLayout[layoutType] != \u0027object\u0027) {\r\n        layoutType = \u0027desktop\u0027;\r\n      }\r\n\r\n      let kbdBitmask = Codes.modifierBitmasks[\u0027NON_CHIRAL\u0027];\r\n      // An unfortunate dependency there.  Should probably also set a version within web-core for use.\r\n      let kbdDevVersion = utils.Version.CURRENT;\r\n      if(keyboard) {\r\n        kbdBitmask = keyboard.modifierBitmask;\r\n        kbdDevVersion = keyboard.compilerVersion;\r\n      }\r\n\r\n      if(!PVK) {\r\n        PVK = this.DEFAULT_RAW_SPEC;\r\n      }\r\n\r\n      // Clone the default layout object for this device\r\n      var layout: LayoutFormFactor = utils.deepCopy(Layouts.dfltLayout[layoutType]);\r\n\r\n      var n,layers=layout[\u0027layer\u0027], keyLabels: KLS=PVK[\u0027KLS\u0027], key102=PVK[\u0027K102\u0027];\r\n      var i, j, k, m, row, rows: LayoutRow[], key: LayoutKey, keys: LayoutKey[];\r\n      var chiral: boolean = (kbdBitmask \u0026 Codes.modifierBitmasks.IS_CHIRAL) != 0;\r\n\r\n      var kmw10Plus = !(typeof keyLabels == \u0027undefined\u0027 || !keyLabels);\r\n      if(!kmw10Plus) {\r\n        // Save the processed key label information to the keyboard\u0027s general data.\r\n        // Makes things more efficient elsewhere and for reloading after keyboard swaps.\r\n        keyLabels = PVK[\u0027KLS\u0027] = Layouts.processLegacyDefinitions(PVK[\u0027BK\u0027]);\r\n      }\r\n\r\n      // Identify key labels (e.g. *Shift*) that require the special OSK font\r\n      var specialLabel=/\\*\\w+\\*/;\r\n\r\n      // *** Step 1:  instantiate the layer objects. ***\r\n\r\n      // Get the list of valid layers, enforcing that the \u0027default\u0027 layer must be the first one processed.\r\n      var validIdList = Object.getOwnPropertyNames(keyLabels), invalidIdList = [];\r\n      validIdList.splice(validIdList.indexOf(\u0027default\u0027), 1);\r\n      validIdList = [ \u0027default\u0027 ].concat(validIdList);\r\n\r\n      // Automatic AltGr emulation if the \u0027leftctrl-leftalt\u0027 layer is otherwise undefined.\r\n      if(keyboard \u0026\u0026 keyboard.emulatesAltGr) {\r\n        // We insert only the layers that need to be emulated.\r\n        if((validIdList.indexOf(\u0027leftctrl-leftalt\u0027) == -1) \u0026\u0026 validIdList.indexOf(\u0027rightalt\u0027) != -1) {\r\n          validIdList.push(\u0027leftctrl-leftalt\u0027);\r\n          keyLabels[\u0027leftctrl-leftalt\u0027] = keyLabels[\u0027rightalt\u0027];\r\n        }\r\n\r\n        if((validIdList.indexOf(\u0027leftctrl-leftalt-shift\u0027) == -1) \u0026\u0026 validIdList.indexOf(\u0027rightalt-shift\u0027) != -1) {\r\n          validIdList.push(\u0027leftctrl-leftalt-shift\u0027);\r\n          keyLabels[\u0027leftctrl-leftalt-shift\u0027] = keyLabels[\u0027rightalt-shift\u0027];\r\n        }\r\n      }\r\n\r\n      // If there is no predefined layout, even touch layouts will follow the desktop\u0027s\r\n      // setting for the displayUnderlying flag.  As the desktop layout uses a different\r\n      // format for its layout spec, that\u0027s found at the field referenced below.\r\n      layout[\"displayUnderlying\"] = keyboard ? !!keyboard.scriptObject[\u0027KDU\u0027] : false;\r\n\r\n      // For desktop devices, we must create all layers, even if invalid.\r\n      if(formFactor == \u0027desktop\u0027) {\r\n        invalidIdList = Layouts.generateLayerIds(chiral);\r\n\r\n        // Filter out all ids considered valid.  (We also don\u0027t want duplicates in the following list...)\r\n        for(n=0; n\u003cinvalidIdList.length; n++) {\r\n          if(validIdList.indexOf(invalidIdList[n]) != -1) {\r\n            invalidIdList.splice(n--, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      // This ensures all \u0027valid\u0027 layers are at the front of the layer array and managed by the main loop below.\r\n      // \u0027invalid\u0027 layers aren\u0027t handled by the loop and thus remain blank after it.\r\n      var idList = validIdList.concat(invalidIdList);\r\n\r\n      if(kmw10Plus \u0026\u0026 formFactor != \u0027desktop\u0027) { // KLS exists, so we know the exact layer set.\r\n        // Find the SHIFT key...\r\n        var shiftKey: LayoutKey = null;\r\n\r\n        rows = layers[0][\u0027row\u0027];\r\n        for(var r=0; r \u003c rows.length; r++) {\r\n          keys = rows[r][\u0027key\u0027];\r\n          for(var c=0; c \u003c keys.length; c++) {\r\n            key = keys[c];\r\n            if(key[\u0027id\u0027] == \u0027K_SHIFT\u0027) {\r\n              shiftKey = key;\r\n            }\r\n          }\r\n        }\r\n\r\n        if(shiftKey) {\r\n          // Erase the legacy shifted subkey array.\r\n          shiftKey[\u0027sk\u0027] = [];\r\n\r\n          for(var layerID in keyLabels) {\r\n            if(layerID == \u0027default\u0027 || layerID == \u0027shift\u0027) {\r\n              // These two are accessible from the layer without subkeys.\r\n              continue;\r\n            }\r\n\r\n            // Create a new subkey for the specified layer so that it will be accessible via OSK.\r\n            var specialChar = Layouts.modifierSpecials[layerID];\r\n            let subkey: LayoutKey = {\r\n              id: \"K_\" + specialChar,\r\n              text: specialChar,\r\n              sp: \"1\",\r\n              nextlayer: layerID\r\n            }\r\n            shiftKey[\u0027sk\u0027].push(subkey);\r\n          }\r\n        } else {\r\n          // Seriously, this should never happen.  It\u0027s here for the debugging log only.\r\n          console.warn(\"Error in default layout - cannot find default Shift key!\");\r\n        }\r\n      }\r\n\r\n      for(n=0; n\u003cidList.length; n++) {\r\n        // Populate non-default (shifted) keygroups\r\n        if(n \u003e 0) {\r\n          layers[n]=utils.deepCopy(layers[0]);\r\n        }\r\n        layers[n][\u0027id\u0027]=idList[n];\r\n        layers[n][\u0027nextlayer\u0027]=idList[n]; // This would only be different for a dynamic keyboard\r\n\r\n        // Extraced into a helper method to improve readability.\r\n        Layouts.formatDefaultLayer(layers[n], chiral, formFactor, !!key102);\r\n      }\r\n\r\n      // *** Step 2: Layer objects now exist; time to fill them with the appropriate key labels and key styles ***\r\n      for(n=0; n\u003clayers.length; n++) {\r\n        var layer=layers[n], kx, shiftKey: LayoutKey = null, nextKey=null, allText=\u0027\u0027;\r\n        var capsKey: LayoutKey = null, numKey: LayoutKey = null, scrollKey: LayoutKey = null;  // null if not in the OSK layout.\r\n        var layerSpec = keyLabels[layer[\u0027id\u0027]];\r\n        var isShift = layer[\u0027id\u0027] == \u0027shift\u0027 ? 1 : 0;\r\n        var isDefault = layer[\u0027id\u0027] == \u0027default\u0027 || isShift ? 1 : 0;\r\n\r\n        rows=layer[\u0027row\u0027];\r\n        for(i=0; i\u003crows.length; i++) {\r\n          keys=rows[i][\u0027key\u0027];\r\n          for(j=0; j\u003ckeys.length; j++) {\r\n            key=keys[j];\r\n            kx=Layouts.dfltCodes.indexOf(key[\u0027id\u0027]);\r\n\r\n            // Only create keys for defined layers.  (\u0027default\u0027 and \u0027shift\u0027 are always defined.)\r\n            if(layerSpec || isDefault) {\r\n              // Get keycap text from visual keyboard array, if defined in keyboard\r\n              if(layerSpec) {\r\n                if(kx \u003e= 0 \u0026\u0026 kx \u003c layerSpec.length) key[\u0027text\u0027]=layerSpec[kx];\r\n              }\r\n\r\n              // Legacy (pre 12.0) behavior:  fall back to US English keycap text as default for the base two layers\r\n              // if a key cap is not otherwise defined. (Any intentional \u0027ghost\u0027 keys must be explicitly defined.)\r\n              if(isDefault \u0026\u0026 kbdDevVersion.precedes(utils.Version.NO_DEFAULT_KEYCAPS)) {\r\n                if(key[\u0027id\u0027] != \u0027K_SPACE\u0027 \u0026\u0026 kx+65 * isShift \u003c Layouts.dfltText.length \u0026\u0026 key[\u0027text\u0027] !== null) {\r\n                  key[\u0027text\u0027] = key[\u0027text\u0027] || Layouts.dfltText[kx+65*isShift];\r\n                }\r\n              }\r\n            }\r\n\r\n            // Leave any unmarked key caps as null strings\r\n            if(key[\u0027text\u0027] !== null) {\r\n              key[\u0027text\u0027] = key[\u0027text\u0027] || \u0027\u0027;\r\n            }\r\n\r\n            // Detect important tracking keys.\r\n            switch(key[\u0027id\u0027]) {\r\n              case \"K_SHIFT\":\r\n                shiftKey=key;\r\n                break;\r\n              case \"K_TAB\":\r\n                nextKey=key;\r\n                break;\r\n              case \"K_CAPS\":\r\n                capsKey=key;\r\n                break;\r\n              case \"K_NUMLOCK\":\r\n                numKey=key;\r\n                break;\r\n              case \"K_SCROLL\":\r\n                scrollKey=key;\r\n                break;\r\n            }\r\n\r\n            // Remove pop-up shift keys referencing invalid layers (Build 349)\r\n            if(key[\u0027sk\u0027] != null) {\r\n              for(k=0; k\u003ckey[\u0027sk\u0027].length; k++) {\r\n                if(validIdList.indexOf(key[\u0027sk\u0027][k][\u0027nextlayer\u0027]) == -1) {\r\n                  key[\u0027sk\u0027].splice(k--, 1);\r\n                }\r\n              }\r\n\r\n              if(key[\u0027sk\u0027].length == 0) {\r\n                key[\u0027sk\u0027]=null;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // We\u0027re done with the layer keys initialization pass.  Time to do post-analysis layer-level init where necessary.\r\n        layer.shiftKey=shiftKey;\r\n        layer.capsKey=capsKey;\r\n        layer.numKey=numKey;\r\n        layer.scrollKey=scrollKey;\r\n\r\n        // Set modifier key appearance and behaviour for non-desktop devices using the default layout\r\n        if(formFactor != \u0027desktop\u0027) {\r\n          if(n \u003e 0 \u0026\u0026 shiftKey != null) {\r\n            shiftKey[\u0027sp\u0027]=Layouts.buttonClasses[\u0027SHIFT-ON\u0027];\r\n            shiftKey[\u0027sk\u0027]=null;\r\n            shiftKey[\u0027text\u0027] = Layouts.modifierSpecials[layers[n].id] ? Layouts.modifierSpecials[layers[n].id] : \"*Shift*\";\r\n          }\r\n        }\r\n      }\r\n\r\n      return layout;\r\n    }\r\n\r\n        /**\r\n     * Function     getLayerId\r\n     * Scope        Private\r\n     * @param       {number}      m     shift modifier code\r\n     * @return      {string}            layer string from shift modifier code (desktop keyboards)\r\n     * Description  Get name of layer from code, where the modifer order is determined by ascending bit-flag value.\r\n     */\r\n    static getLayerId(m: number): string {\r\n      let modifierCodes = Codes.modifierCodes;\r\n\r\n      var s=\u0027\u0027;\r\n      if(m == 0) {\r\n        return \u0027default\u0027;\r\n      } else {\r\n        if(m \u0026 modifierCodes[\u0027LCTRL\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027leftctrl\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027RCTRL\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027rightctrl\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027LALT\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027leftalt\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027RALT\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027rightalt\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027SHIFT\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027shift\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027CTRL\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027ctrl\u0027;\r\n        }\r\n        if(m \u0026 modifierCodes[\u0027ALT\u0027]) {\r\n          s = (s.length \u003e 0 ? s + \u0027-\u0027 : \u0027\u0027) + \u0027alt\u0027;\r\n        }\r\n        return s;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Generates a list of potential layer ids for the specified chirality mode.\r\n     *\r\n     * @param   {boolean}   chiral    // Does the keyboard use chiral modifiers or not?\r\n     */\r\n    static generateLayerIds(chiral: boolean): string[] {\r\n      var layerCnt, offset;\r\n\r\n      if(chiral) {\r\n        layerCnt=32;\r\n        offset=0x01;\r\n      } else {\r\n        layerCnt=8;\r\n        offset=0x10;\r\n      }\r\n\r\n      var layerIds = [];\r\n\r\n      for(var i=0; i \u003c layerCnt; i++) {\r\n        layerIds.push(Layouts.getLayerId(i * offset));\r\n      }\r\n\r\n      return layerIds;\r\n    }\r\n\r\n    /**\r\n     * Sets a formatting property for the modifier keys when constructing a default layout for a keyboard.\r\n     *\r\n     * @param   {Object}    layer   // One layer specification\r\n     * @param   {boolean}   chiral  // Whether or not the keyboard uses chiral modifier information.\r\n     * @param   {string}    formFactor  // The form factor of the device the layout is being constructed for.\r\n     * @param   {boolean}   key102      // Whether or not the extended key 102 should be hidden.\r\n     */\r\n    static formatDefaultLayer(layer: LayoutLayer, chiral: boolean, formFactor: string, key102: boolean) {\r\n      var layerId = layer[\u0027id\u0027];\r\n      let buttonClasses = Layouts.buttonClasses;\r\n\r\n      // Correct appearance of state-dependent modifier keys according to group\r\n      for(var i=0; i\u003clayer[\u0027row\u0027].length; i++) {\r\n        var row=layer[\u0027row\u0027][i];\r\n        var keys=row[\u0027key\u0027];\r\n        for(var j=0; j\u003ckeys.length; j++) {\r\n          var key=keys[j];\r\n          switch(key[\u0027id\u0027]) {\r\n            case \u0027K_SHIFT\u0027:\r\n            case \u0027K_LSHIFT\u0027:\r\n            case \u0027K_RSHIFT\u0027:\r\n              if(layerId.indexOf(\u0027shift\u0027) != -1) {\r\n                key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n              }\r\n              if(formFactor != \u0027desktop\u0027) {\r\n                if(layerId != \u0027default\u0027) {\r\n                  key[\u0027nextlayer\u0027]=\u0027default\u0027;\r\n                } else {\r\n                  key[\u0027nextlayer\u0027]=\u0027shift\u0027;\r\n                }\r\n              }\r\n              break;\r\n            case \u0027K_LCTRL\u0027:\r\n            case \u0027K_LCONTROL\u0027:\r\n              if(chiral) {\r\n                if(layerId.indexOf(\u0027leftctrl\u0027) != -1) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n                break;\r\n              }\r\n            case \u0027K_RCTRL\u0027:\r\n            case \u0027K_RCONTROL\u0027:\r\n              if(chiral) {\r\n                if(layerId.indexOf(\u0027rightctrl\u0027) != -1) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n                break;\r\n              }\r\n            case \u0027K_CONTROL\u0027:\r\n              if(layerId.indexOf(\u0027ctrl\u0027) != -1) {\r\n                if(!chiral || (layerId.indexOf(\u0027leftctrl\u0027) != -1 \u0026\u0026 layerId.indexOf(\u0027rightctrl\u0027) != -1)) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n              }\r\n              break;\r\n            case \u0027K_LALT\u0027:\r\n              if(chiral) {\r\n                if(layerId.indexOf(\u0027leftalt\u0027) != -1) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n                break;\r\n              }\r\n            case \u0027K_RALT\u0027:\r\n              if(chiral) {\r\n                if(layerId.indexOf(\u0027rightalt\u0027) != -1) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n                break;\r\n              }\r\n            case \u0027K_ALT\u0027:\r\n              if(layerId.indexOf(\u0027alt\u0027) != -1) {\r\n                if(!chiral || (layerId.indexOf(\u0027leftalt\u0027) != -1 \u0026\u0026 layerId.indexOf(\u0027rightalt\u0027) != -1)) {\r\n                  key[\u0027sp\u0027] = buttonClasses[\u0027SHIFT-ON\u0027];\r\n                }\r\n              }\r\n              break;\r\n            case \u0027K_oE2\u0027:\r\n              if(typeof key102 == \u0027undefined\u0027 || !key102) {\r\n                if(formFactor == \u0027desktop\u0027) {\r\n                  keys.splice(j--, 1);\r\n                  keys[0][\u0027width\u0027]=\u0027200\u0027;\r\n                } else {\r\n                  keys[j][\u0027sp\u0027]=buttonClasses[\u0027HIDDEN\u0027];\r\n                }\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Converts the legacy BK property from pre 10.0 into the KLS keyboard layer spec format,\r\n     * sparsifying it as possible to pre-emptively check invalid layers.\r\n     *\r\n     * @param   {Array}   BK      keyboard object (as loaded)\r\n     * @return  {Object}\r\n     */\r\n    static processLegacyDefinitions(BK: string[]): KLS {\r\n      //[\u0027default\u0027,\u0027shift\u0027,\u0027ctrl\u0027,\u0027shiftctrl\u0027,\u0027alt\u0027,\u0027shiftalt\u0027,\u0027ctrlalt\u0027,\u0027shiftctrlalt\u0027];\r\n      var idList=Layouts.generateLayerIds(false); // Non-chiral.\r\n\r\n      var KLS: KLS = {};\r\n\r\n      // The old default:  eight auto-managed layers...\r\n      for(var n=0; n\u003cidList.length; n++) {\r\n        var id = idList[n], arr = [], valid = false;\r\n\r\n        // ... with keycode mappings in blocks of 65.\r\n        for(var k=0; k \u003c 65; k++) {\r\n          var index = k + 65 * n;\r\n          arr.push(BK[index]);\r\n\r\n          // The entry for K_SPACE\u0027s keycode tends to hold \u0027 \u0027 instead of \u0027\u0027, which causes\r\n          // the whole layer to be treated as \u0027valid\u0027 if not included in the conditional.\r\n          if(index \u003c BK.length \u0026\u0026 BK[index] != \u0027\u0027 \u0026\u0026 k != Layouts.dfltCodes.indexOf(\u0027K_SPACE\u0027)) {\r\n            valid = true;\r\n          }\r\n        }\r\n\r\n        if(valid) {\r\n          KLS[id] = arr;\r\n        }\r\n      }\r\n\r\n      // There must always be at least a plain \u0027default\u0027 layer.  Array(65).fill(\u0027\u0027) would be preferable but isn\u0027t supported on IE,\r\n      // but buildDefaultLayer will set the defaults for these layers if no entry exists for them in the array due to length.\r\n      if(typeof KLS[\u0027default\u0027] == \u0027undefined\u0027 || ! KLS[\u0027default\u0027]) {\r\n        KLS[\u0027default\u0027] = [\u0027\u0027];\r\n      }\r\n\r\n      // There must always be at least a plain \u0027shift\u0027 layer.\r\n      if(typeof KLS[\u0027shift\u0027] == \u0027undefined\u0027 || ! KLS[\u0027shift\u0027]) {\r\n        KLS[\u0027shift\u0027] = [\u0027\u0027];\r\n      }\r\n\r\n      return KLS;\r\n    }\r\n\r\n    // Defines the default visual layout for a keyboard.\r\n    static dfltLayout: LayoutSpec = {\r\n        \"desktop\":\r\n        {\r\n            \"font\": \"Tahoma,Helvetica\",\r\n            \"layer\": [\r\n                {\r\n                    \"id\": \"default\",\r\n                    \"row\": [\r\n                        {\r\n                            \"id\": \"1\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_BKQUOTE\" },\r\n                                { \"id\": \"K_1\" },\r\n                                { \"id\": \"K_2\" },\r\n                                { \"id\": \"K_3\" },\r\n                                { \"id\": \"K_4\" },\r\n                                { \"id\": \"K_5\" },\r\n                                { \"id\": \"K_6\" },\r\n                                { \"id\": \"K_7\" },\r\n                                { \"id\": \"K_8\" },\r\n                                { \"id\": \"K_9\" },\r\n                                { \"id\": \"K_0\" },\r\n                                { \"id\": \"K_HYPHEN\" },\r\n                                { \"id\": \"K_EQUAL\" },\r\n                                { \"id\": \"K_BKSP\", \"text\": \"*BkSp*\", \"sp\": \"1\", \"width\": \"130\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"2\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_TAB\", \"text\": \"*Tab*\", \"sp\": \"1\", \"width\": \"130\" },\r\n                                { \"id\": \"K_Q\" },\r\n                                { \"id\": \"K_W\" },\r\n                                { \"id\": \"K_E\" },\r\n                                { \"id\": \"K_R\" },\r\n                                { \"id\": \"K_T\" },\r\n                                { \"id\": \"K_Y\" },\r\n                                { \"id\": \"K_U\" },\r\n                                { \"id\": \"K_I\" },\r\n                                { \"id\": \"K_O\" },\r\n                                { \"id\": \"K_P\" },\r\n                                { \"id\": \"K_LBRKT\" },\r\n                                { \"id\": \"K_RBRKT\" },\r\n                                { \"id\": \"K_BKSLASH\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"3\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_CAPS\", \"text\": \"*Caps*\", \"sp\": \"1\", \"width\": \"165\" },\r\n                                { \"id\": \"K_A\" },\r\n                                { \"id\": \"K_S\" },\r\n                                { \"id\": \"K_D\" },\r\n                                { \"id\": \"K_F\" },\r\n                                { \"id\": \"K_G\" },\r\n                                { \"id\": \"K_H\" },\r\n                                { \"id\": \"K_J\" },\r\n                                { \"id\": \"K_K\" },\r\n                                { \"id\": \"K_L\" },\r\n                                { \"id\": \"K_COLON\" },\r\n                                { \"id\": \"K_QUOTE\" },\r\n                                { \"id\": \"K_ENTER\", \"text\": \"*Enter*\", \"sp\": \"1\", \"width\": \"165\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"4\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_SHIFT\", \"text\": \"*Shift*\", \"sp\": \"1\", \"width\": \"130\" },\r\n                                { \"id\": \"K_oE2\" },\r\n                                { \"id\": \"K_Z\" },\r\n                                { \"id\": \"K_X\" },\r\n                                { \"id\": \"K_C\" },\r\n                                { \"id\": \"K_V\" },\r\n                                { \"id\": \"K_B\" },\r\n                                { \"id\": \"K_N\" },\r\n                                { \"id\": \"K_M\" },\r\n                                { \"id\": \"K_COMMA\" },\r\n                                { \"id\": \"K_PERIOD\" },\r\n                                { \"id\": \"K_SLASH\" },\r\n                                { \"id\": \"K_RSHIFT\", \"text\": \"*Shift*\", \"sp\": \"1\", \"width\": \"130\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"5\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_LCONTROL\", \"text\": \"*Ctrl*\", \"sp\": \"1\", \"width\": \"170\" },\r\n                                { \"id\": \"K_LALT\", \"text\": \"*Alt*\", \"sp\": \"1\", \"width\": \"160\" },\r\n                                { \"id\": \"K_SPACE\", \"text\": \"\", \"width\": \"770\" },\r\n                                { \"id\": \"K_RALT\", \"text\": \"*Alt*\", \"sp\": \"1\", \"width\": \"160\" },\r\n                                { \"id\": \"K_RCONTROL\", \"text\": \"*Ctrl*\", \"sp\": \"1\", \"width\": \"170\" }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"tablet\":\r\n        {\r\n            \"font\": \"Tahoma,Helvetica\",\r\n            \"layer\": [\r\n                {\r\n                    \"id\": \"default\",\r\n                    \"row\": [\r\n                        {\r\n                            \"id\": \"0\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_1\" },\r\n                                { \"id\": \"K_2\" },\r\n                                { \"id\": \"K_3\" },\r\n                                { \"id\": \"K_4\" },\r\n                                { \"id\": \"K_5\" },\r\n                                { \"id\": \"K_6\" },\r\n                                { \"id\": \"K_7\" },\r\n                                { \"id\": \"K_8\" },\r\n                                { \"id\": \"K_9\" },\r\n                                { \"id\": \"K_0\" },\r\n                                { \"id\": \"K_HYPHEN\" },\r\n                                { \"id\": \"K_EQUAL\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"1\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_Q\", \"pad\": \"25\" },\r\n                                { \"id\": \"K_W\" },\r\n                                { \"id\": \"K_E\" },\r\n                                { \"id\": \"K_R\" },\r\n                                { \"id\": \"K_T\" },\r\n                                { \"id\": \"K_Y\" },\r\n                                { \"id\": \"K_U\" },\r\n                                { \"id\": \"K_I\" },\r\n                                { \"id\": \"K_O\" },\r\n                                { \"id\": \"K_P\" },\r\n                                { \"id\": \"K_LBRKT\" },\r\n                                { \"id\": \"K_RBRKT\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"2\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_A\", \"pad\": \"50\" },\r\n                                { \"id\": \"K_S\" },\r\n                                { \"id\": \"K_D\" },\r\n                                { \"id\": \"K_F\" },\r\n                                { \"id\": \"K_G\" },\r\n                                { \"id\": \"K_H\" },\r\n                                { \"id\": \"K_J\" },\r\n                                { \"id\": \"K_K\" },\r\n                                { \"id\": \"K_L\" },\r\n                                { \"id\": \"K_COLON\" },\r\n                                { \"id\": \"K_QUOTE\" },\r\n                                { \"id\": \"K_BKSLASH\", \"width\": \"90\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"3\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_oE2\", \"width\": \"90\" },\r\n                                { \"id\": \"K_Z\" },\r\n                                { \"id\": \"K_X\" },\r\n                                { \"id\": \"K_C\" },\r\n                                { \"id\": \"K_V\" },\r\n                                { \"id\": \"K_B\" },\r\n                                { \"id\": \"K_N\" },\r\n                                { \"id\": \"K_M\" },\r\n                                { \"id\": \"K_COMMA\" },\r\n                                { \"id\": \"K_PERIOD\" },\r\n                                { \"id\": \"K_SLASH\" },\r\n                                { \"id\": \"K_BKQUOTE\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"4\",\r\n                            \"key\": [\r\n                                {\r\n                                    \"id\": \"K_SHIFT\", \"text\": \"*Shift*\", \"sp\": \"1\", \"width\": \"200\", \"sk\": [\r\n                                        { \"id\": \"K_LCONTROL\", \"text\": \"*Ctrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"ctrl\" },\r\n                                        { \"id\": \"K_LCONTROL\", \"text\": \"*LCtrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"leftctrl\" },\r\n                                        { \"id\": \"K_RCONTROL\", \"text\": \"*RCtrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"rightctrl\" },\r\n                                        { \"id\": \"K_LALT\", \"text\": \"*Alt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"alt\" },\r\n                                        { \"id\": \"K_LALT\", \"text\": \"*LAlt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"leftalt\" },\r\n                                        { \"id\": \"K_RALT\", \"text\": \"*RAlt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"rightalt\" },\r\n                                        { \"id\": \"K_ALTGR\", \"text\": \"*AltGr*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"ctrl-alt\" }]\r\n                                },\r\n                                { \"id\": \"K_LOPT\", \"text\": \"*Menu*\", \"sp\": \"1\", \"width\": \"150\" },\r\n                                { \"id\": \"K_SPACE\", \"text\": \"\", \"width\": \"570\" },\r\n                                { \"id\": \"K_BKSP\", \"text\": \"*BkSp*\", \"sp\": \"1\", \"width\": \"150\" },\r\n                                { \"id\": \"K_ENTER\", \"text\": \"*Enter*\", \"sp\": \"1\", \"width\": \"200\" }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        \"phone\":\r\n        {\r\n            \"font\": \"Tahoma,Helvetica\",\r\n            \"layer\": [\r\n                {\r\n                    \"id\": \"default\",\r\n                    \"row\": [\r\n                        {\r\n                            \"id\": \"0\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_1\" },\r\n                                { \"id\": \"K_2\" },\r\n                                { \"id\": \"K_3\" },\r\n                                { \"id\": \"K_4\" },\r\n                                { \"id\": \"K_5\" },\r\n                                { \"id\": \"K_6\" },\r\n                                { \"id\": \"K_7\" },\r\n                                { \"id\": \"K_8\" },\r\n                                { \"id\": \"K_9\" },\r\n                                { \"id\": \"K_0\" },\r\n                                { \"id\": \"K_HYPHEN\" },\r\n                                { \"id\": \"K_EQUAL\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"1\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_Q\", \"pad\": \"25\" },\r\n                                { \"id\": \"K_W\" },\r\n                                { \"id\": \"K_E\" },\r\n                                { \"id\": \"K_R\" },\r\n                                { \"id\": \"K_T\" },\r\n                                { \"id\": \"K_Y\" },\r\n                                { \"id\": \"K_U\" },\r\n                                { \"id\": \"K_I\" },\r\n                                { \"id\": \"K_O\" },\r\n                                { \"id\": \"K_P\" },\r\n                                { \"id\": \"K_LBRKT\" },\r\n                                { \"id\": \"K_RBRKT\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"2\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_A\", \"pad\": \"50\" },\r\n                                { \"id\": \"K_S\" },\r\n                                { \"id\": \"K_D\" },\r\n                                { \"id\": \"K_F\" },\r\n                                { \"id\": \"K_G\" },\r\n                                { \"id\": \"K_H\" },\r\n                                { \"id\": \"K_J\" },\r\n                                { \"id\": \"K_K\" },\r\n                                { \"id\": \"K_L\" },\r\n                                { \"id\": \"K_COLON\" },\r\n                                { \"id\": \"K_QUOTE\" },\r\n                                { \"id\": \"K_BKSLASH\", \"width\": \"90\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"3\",\r\n                            \"key\": [\r\n                                { \"id\": \"K_oE2\", \"width\": \"90\" },\r\n                                { \"id\": \"K_Z\" },\r\n                                { \"id\": \"K_X\" },\r\n                                { \"id\": \"K_C\" },\r\n                                { \"id\": \"K_V\" },\r\n                                { \"id\": \"K_B\" },\r\n                                { \"id\": \"K_N\" },\r\n                                { \"id\": \"K_M\" },\r\n                                { \"id\": \"K_COMMA\" },\r\n                                { \"id\": \"K_PERIOD\" },\r\n                                { \"id\": \"K_SLASH\" },\r\n                                { \"id\": \"K_BKQUOTE\" },\r\n                                { \"sp\": \"10\", \"width\": \"1\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            \"id\": \"4\",\r\n                            \"key\": [\r\n                                {\r\n                                    \"id\": \"K_SHIFT\", \"text\": \"*Shift*\", \"sp\": \"1\", \"width\": \"200\", \"sk\": [\r\n                                        { \"id\": \"K_LCONTROL\", \"text\": \"*Ctrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"ctrl\" },\r\n                                        { \"id\": \"K_LCONTROL\", \"text\": \"*LCtrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"leftctrl\" },\r\n                                        { \"id\": \"K_RCONTROL\", \"text\": \"*RCtrl*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"rightctrl\" },\r\n                                        { \"id\": \"K_LALT\", \"text\": \"*Alt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"alt\" },\r\n                                        { \"id\": \"K_LALT\", \"text\": \"*LAlt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"leftalt\" },\r\n                                        { \"id\": \"K_RALT\", \"text\": \"*RAlt*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"rightalt\" },\r\n                                        { \"id\": \"K_ALTGR\", \"text\": \"*AltGr*\", \"sp\": \"1\", \"width\": \"50\", \"nextlayer\": \"ctrl-alt\" }]\r\n                                },\r\n                                { \"id\": \"K_LOPT\", \"text\": \"*Menu*\", \"width\": \"150\", \"sp\": \"1\" },\r\n                                { \"id\": \"K_SPACE\", \"width\": \"570\", \"text\": \"\" },\r\n                                { \"id\": \"K_BKSP\", \"text\": \"*BkSp*\", \"width\": \"150\", \"sp\": \"1\" },\r\n                                { \"id\": \"K_ENTER\", \"text\": \"*Enter*\", \"width\": \"200\", \"sp\": \"1\" }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    };\r\n  }\r\n}\r\n","namespace com.keyman.keyboards {\r\n  type KeyDistribution = text.KeyDistribution;\r\n\r\n\r\n  export class ActiveKey implements LayoutKey {\r\n\r\n    static readonly DEFAULT_PAD=15;          // Padding to left of key, in virtual units\r\n    static readonly DEFAULT_RIGHT_MARGIN=15; // Padding to right of right-most key, in virtual units\r\n    static readonly DEFAULT_KEY_WIDTH=100;   // Width of a key, if not specified, in virtual units\r\n\r\n    // Defines key defaults\r\n    static readonly DEFAULT_KEY = {\r\n      text: \u0027\u0027,\r\n      width: ActiveKey.DEFAULT_KEY_WIDTH.toString(),\r\n      sp: \u00270\u0027,\r\n      pad: ActiveKey.DEFAULT_PAD.toString()\r\n    };\r\n\r\n    /** WARNING - DO NOT USE DIRECTLY outside of @keymanapp/keyboard-processor! */\r\n    id?: string;\r\n\r\n    // These are fine.\r\n    width?: string;\r\n    pad?: string;\r\n    layer: string;\r\n    displayLayer: string;\r\n    nextlayer: string;\r\n\r\n    private baseKeyEvent: text.KeyEvent;\r\n    isMnemonic: boolean = false;\r\n\r\n    proportionalX: number;\r\n    proportionalWidth: number;\r\n\r\n    sk?: ActiveKey[];\r\n\r\n    // Keeping things simple here, as this was added LATE in 14.0 beta.\r\n    // Could definitely extend in the future to instead return an object\r\n    // that denotes the \u0027nature\u0027 of the key.\r\n    // - isUnicode\r\n    // - isHardwareKey\r\n    // - etc.\r\n\r\n    // Reference for the terminology in the comments below:\r\n    // https://help.keyman.com/developer/current-version/guides/develop/creating-a-touch-keyboard-layout-for-amharic-the-nitty-gritty\r\n\r\n    /**\r\n     * Matches the key code as set within Keyman Developer for the layout.\r\n     * For example, K_R or U_0020.  Denotes either physical keys or virtual keys with custom output,\r\n     * with no additional metadata like layer or active modifiers.\r\n     * \r\n     * Is used to determine the keycode for input events, rule-matching, and keystroke processing.\r\n     */\r\n    public get baseKeyID(): string {\r\n      if(typeof this.id === \u0027undefined\u0027) {\r\n        return undefined;\r\n      }\r\n\r\n      return this.id;\r\n    }\r\n\r\n    /**\r\n     * A unique identifier based on both the key ID \u0026 the \u0027desktop layer\u0027 to be used for the key.\r\n     * \r\n     * Allows diambiguation of scenarios where the same key ID is used twice within a layer, but\r\n     * with different innate modifiers.  (Refer to https://github.com/keymanapp/keyman/issues/4617)\r\n     * The \u0027desktop layer\u0027 may be omitted if it matches the key\u0027s display layer.\r\n     * \r\n     * Examples, given a \u0027default\u0027 display layer, matching keys to Keyman keyboard language:\r\n     * \r\n     * ```\r\n     * \"K_Q\" \r\n     * + [K_Q]\r\n     * \"K_Q+shift\"\r\n     * + [K_Q SHIFT]\r\n     * ```\r\n     * \r\n     * Useful when the active layer of an input-event is already known.\r\n     */\r\n    public get coreID(): string {\r\n      if(typeof this.id === \u0027undefined\u0027) {\r\n        return undefined;\r\n      }\r\n\r\n      let baseID = this.id || \u0027\u0027;\r\n      \r\n      if(this.displayLayer != this.layer) {\r\n        baseID = baseID + \u0027+\u0027 + this.layer;\r\n      }\r\n\r\n      return baseID;\r\n    }\r\n\r\n    /**\r\n     * A keyboard-unique identifier to be used for any display elements representing this key\r\n     * in user interfaces and/or on-screen keyboards.\r\n     * \r\n     * Distinguishes between otherwise-identical keys on different layers of an OSK.\r\n     * Includes identifying information about the key\u0027s display layer.\r\n     * \r\n     * Examples, given a \u0027default\u0027 display layer, matching keys to Keyman keyboard language:\r\n     * \r\n     * ```\r\n     * \"default-K_Q\" \r\n     * + [K_Q]\r\n     * \"default-K_Q+shift\"\r\n     * + [K_Q SHIFT]\r\n     * ```\r\n     * \r\n     * Useful when only the active keyboard is known about an input event.\r\n     */\r\n    public get elementID(): string {\r\n      if(typeof this.id === \u0027undefined\u0027) {\r\n        return undefined;\r\n      }\r\n\r\n      return this.displayLayer + \u0027-\u0027 + this.coreID;\r\n    }\r\n\r\n    static polyfill(key: LayoutKey, layout: ActiveLayout, displayLayer: string) {\r\n      // Add class functions to the existing layout object, allowing it to act as an ActiveLayout.\r\n      let dummy = new ActiveKey();\r\n      let proto = Object.getPrototypeOf(dummy);\r\n\r\n      for(let prop in dummy) {\r\n        if(!key.hasOwnProperty(prop)) {\r\n          let descriptor = Object.getOwnPropertyDescriptor(proto, prop);\r\n          if(descriptor) {\r\n            // It\u0027s a computed property!  Copy the descriptor onto the key\u0027s object.\r\n            Object.defineProperty(key, prop, descriptor);\r\n          } else {\r\n            key[prop] = dummy[prop];\r\n          }\r\n        }\r\n      }\r\n\r\n      // Ensure subkeys are also properly extended.\r\n      if(key.sk) {\r\n        for(let subkey of key.sk) {\r\n          ActiveKey.polyfill(subkey, layout, displayLayer);\r\n        }\r\n      }\r\n\r\n      let aKey = key as ActiveKey;\r\n      aKey.displayLayer = displayLayer;\r\n      aKey.layer = aKey.layer || displayLayer;\r\n\r\n      // Compute the key\u0027s base KeyEvent properties for use in future event generation\r\n      aKey.constructBaseKeyEvent(layout, displayLayer);\r\n    }\r\n\r\n    private constructBaseKeyEvent(layout: ActiveLayout, displayLayer: string) {\r\n      // Get key name and keyboard shift state (needed only for default layouts and physical keyboard handling)\r\n      // Note - virtual keys should be treated case-insensitive, so we force uppercasing here.\r\n      let layer = this.layer || displayLayer || \u0027\u0027;\r\n      let keyName= this.id ? this.id.toUpperCase() : null;\r\n\r\n      // Start:  mirrors _GetKeyEventProperties\r\n\r\n      // Override key shift state if specified for key in layout (corrected for popup keys KMEW-93)\r\n      let keyShiftState = text.KeyboardProcessor.getModifierState(layer);\r\n\r\n      // First check the virtual key, and process shift, control, alt or function keys\r\n      var Lkc: text.KeyEvent = {\r\n        Lmodifiers: keyShiftState,\r\n        Lstates: 0,\r\n        Lcode: keyName ? text.Codes.keyCodes[keyName] : 0,\r\n        LisVirtualKey: true,\r\n        vkCode: 0,\r\n        kName: keyName,\r\n        kLayer: layer,\r\n        kbdLayer: displayLayer,\r\n        kNextLayer: this.nextlayer,\r\n        device: null,\r\n        isSynthetic: true\r\n      };\r\n\r\n      if(layout.keyboard) {\r\n        let keyboard = layout.keyboard;\r\n\r\n        // Include *limited* support for mnemonic keyboards (Sept 2012)\r\n        // If a touch layout has been defined for a mnemonic keyout, do not perform mnemonic mapping for rules on touch devices.\r\n        if(keyboard.isMnemonic \u0026\u0026 !(layout.isDefault \u0026\u0026 layout.formFactor != \u0027desktop\u0027)) {\r\n          if(Lkc.Lcode != text.Codes.keyCodes[\u0027K_SPACE\u0027]) { // exception required, March 2013\r\n            // Jan 2019 - interesting that \u0027K_SPACE\u0027 also affects the caps-state check...\r\n            Lkc.vkCode = Lkc.Lcode;\r\n            this.isMnemonic = true;\r\n          }\r\n        } else {\r\n          Lkc.vkCode=Lkc.Lcode;\r\n        }\r\n\r\n        // Support version 1.0 KeymanWeb keyboards that do not define positional vs mnemonic\r\n        if(!keyboard.definesPositionalOrMnemonic) {\r\n          // Not the best pattern, but currently safe - we don\u0027t look up any properties of any of the\r\n          // arguments in this use case, and the object\u0027s scope is extremely limited.\r\n          Lkc.Lcode = KeyMapping._USKeyCodeToCharCode(this.constructKeyEvent(null, null));\r\n          Lkc.LisVirtualKey=false;\r\n        }\r\n      }\r\n\r\n      this.baseKeyEvent = Lkc;\r\n    }\r\n\r\n    constructKeyEvent(keyboardProcessor: text.KeyboardProcessor, device: utils.DeviceSpec): text.KeyEvent {\r\n      // Make a deep copy of our preconstructed key event, filling it out from there.\r\n      let Lkc = utils.deepCopy(this.baseKeyEvent);\r\n      Lkc.device = device;\r\n\r\n      if(this.isMnemonic) {\r\n        text.KeyboardProcessor.setMnemonicCode(Lkc, this.layer.indexOf(\u0027shift\u0027) != -1, keyboardProcessor ? keyboardProcessor.stateKeys[\u0027K_CAPS\u0027] : false);\r\n      }\r\n\r\n      // Performs common pre-analysis for both \u0027native\u0027 and \u0027embedded\u0027 OSK key \u0026 subkey input events.\r\n      // This part depends on the keyboard processor\u0027s active state.\r\n      if(keyboardProcessor) {\r\n        keyboardProcessor.setSyntheticEventDefaults(Lkc);\r\n      }\r\n\r\n      return Lkc;\r\n    }\r\n\r\n    public getSubkey(id: string): ActiveKey {\r\n      if(this.sk) {\r\n        for(let key of this.sk) {\r\n          if(key.id == id) {\r\n            return key;\r\n          }\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  class ActiveRow implements LayoutRow {\r\n    // Identify key labels (e.g. *Shift*) that require the special OSK font\r\n    static readonly SPECIAL_LABEL=/\\*\\w+\\*/;\r\n\r\n    id: string;\r\n    key: ActiveKey[];\r\n\r\n    /**\r\n     * Used for calculating fat-fingering offsets.\r\n     */\r\n    proportionalY: number;\r\n\r\n    private constructor() {\r\n\r\n    }\r\n\r\n    static polyfill(row: LayoutRow, layout: ActiveLayout, displayLayer: string, totalWidth: number, proportionalY: number) {\r\n      // Apply defaults, setting the width and other undefined properties for each key\r\n      let keys=row[\u0027key\u0027];\r\n      for(let j=0; j\u003ckeys.length; j++) {\r\n        let key=keys[j];\r\n        for(var tp in ActiveKey.DEFAULT_KEY) {\r\n          if(typeof key[tp] != \u0027string\u0027) {\r\n            key[tp]=ActiveKey.DEFAULT_KEY[tp];\r\n          }\r\n        }\r\n\r\n        // Modify the key type for special keys with non-standard labels\r\n        // to allow the keyboard font to ovveride the SpecialOSK font.\r\n        // Blank keys are no longer reclassed - can use before/after CSS to add text\r\n        switch(key[\u0027sp\u0027]) {\r\n          case \u00271\u0027:\r\n            if(!ActiveRow.SPECIAL_LABEL.test(key[\u0027text\u0027]) \u0026\u0026 key[\u0027text\u0027] != \u0027\u0027) {\r\n              key[\u0027sp\u0027]=\u00273\u0027;\r\n            }\r\n            break;\r\n          case \u00272\u0027:\r\n            if(!ActiveRow.SPECIAL_LABEL.test(key[\u0027text\u0027]) \u0026\u0026 key[\u0027text\u0027] != \u0027\u0027) {\r\n              key[\u0027sp\u0027]=\u00274\u0027;\r\n            }\r\n            break;\r\n        }\r\n\r\n        ActiveKey.polyfill(key, layout, displayLayer);\r\n      }\r\n\r\n      /* The calculations here are effectively \u0027virtualized\u0027.  When used with the OSK, the VisualKeyboard\r\n       * will overwrite these values with their true runtime geometry.\r\n       *\r\n       * These calculations approximate those of the actual OSK (without fitting to a specific resolution)\r\n       * and are intended for use with layout testing (while headless) in the future.\r\n       */\r\n\r\n      // Calculate percentage-based scalings by summing defined widths and scaling each key to %.\r\n      // Save each percentage key width as a separate member (do *not* overwrite layout specified width!)\r\n      var keyPercent: number, padPercent: number, totalPercent=0;\r\n      for(let j=0; j\u003ckeys.length-1; j++) {\r\n        keyPercent=parseInt(keys[j][\u0027width\u0027],10)/totalWidth;\r\n        keys[j][\u0027widthpc\u0027]=keyPercent;\r\n        padPercent=parseInt(keys[j][\u0027pad\u0027],10)/totalWidth;\r\n        keys[j][\u0027padpc\u0027]=padPercent;\r\n\r\n        // compute center\u0027s default x-coord (used in headless modes)\r\n        (\u003cActiveKey\u003e keys[j]).proportionalX = (totalPercent + padPercent + (keyPercent/2));\r\n        (\u003cActiveKey\u003e keys[j]).proportionalWidth = keyPercent;\r\n\r\n        totalPercent += padPercent+keyPercent;\r\n      }\r\n\r\n      // Allow for right OSK margin (15 layout units)\r\n      let rightMargin = ActiveKey.DEFAULT_RIGHT_MARGIN/totalWidth;\r\n      totalPercent += rightMargin;\r\n\r\n      // If a single key, and padding is negative, add padding to right align the key\r\n      if(keys.length == 1 \u0026\u0026 parseInt(keys[0][\u0027pad\u0027],10) \u003c 0) {\r\n        keyPercent=parseInt(keys[0][\u0027width\u0027],10)/totalWidth;\r\n        keys[0][\u0027widthpc\u0027]=keyPercent;\r\n        totalPercent += keyPercent;\r\n        keys[0][\u0027padpc\u0027]=1-totalPercent;\r\n\r\n        // compute center\u0027s default x-coord (used in headless modes)\r\n        (\u003cActiveKey\u003e keys[0]).proportionalX = ((totalPercent - rightMargin) -  keyPercent/2);\r\n        (\u003cActiveKey\u003e keys[0]).proportionalWidth = keyPercent;\r\n\r\n      } else if(keys.length \u003e 0) {\r\n        let j=keys.length-1;\r\n        padPercent=parseInt(keys[j][\u0027pad\u0027],10)/totalWidth;\r\n        keys[j][\u0027padpc\u0027]=padPercent;\r\n        totalPercent += padPercent;\r\n        keys[j][\u0027widthpc\u0027] = keyPercent = 1-totalPercent;\r\n\r\n        // compute center\u0027s default x-coord (used in headless modes)\r\n        (\u003cActiveKey\u003e keys[j]).proportionalX = (1 - rightMargin) - keyPercent/2;\r\n        (\u003cActiveKey\u003e keys[j]).proportionalWidth = keyPercent;\r\n      }\r\n\r\n      // Add class functions to the existing layout object, allowing it to act as an ActiveLayout.\r\n      let dummy = new ActiveRow();\r\n      for(let key in dummy) {\r\n        if(!row.hasOwnProperty(key)) {\r\n          row[key] = dummy[key];\r\n        }\r\n      }\r\n\r\n      let aRow = row as ActiveRow;\r\n      aRow.proportionalY = proportionalY;\r\n    }\r\n\r\n    populateKeyMap(map: {[keyId: string]: ActiveKey}) {\r\n      this.key.forEach(function(key: ActiveKey) {\r\n        if(key.coreID) {\r\n          map[key.coreID] = key;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  export class ActiveLayer implements LayoutLayer {\r\n    row: ActiveRow[];\r\n    id: string;\r\n\r\n    totalWidth: number;\r\n\r\n    defaultKeyProportionalWidth: number;\r\n    rowProportionalHeight: number;\r\n\r\n    /**\r\n     * Facilitates mapping key id strings to their specification objects.\r\n     */\r\n    keyMap: {[keyId: string]: ActiveKey};\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    static polyfill(layer: LayoutLayer, layout: ActiveLayout) {\r\n      layer.aligned=false;\r\n\r\n      // Create a DIV for each row of the group\r\n      let rows=layer[\u0027row\u0027];\r\n\r\n      // Calculate the maximum row width (in layout units)\r\n      var totalWidth=0;\r\n      for(let i=0; i\u003clayer[\u0027row\u0027].length; i++) {\r\n        var width=0;\r\n        let row=rows[i];\r\n        let keys=row[\u0027key\u0027];\r\n        for(let j=0; j\u003ckeys.length; j++) {\r\n          let key=keys[j];\r\n\r\n          // Test for a trailing comma included in spec, added as null object by IE\r\n          if(key == null) {\r\n            keys.length = keys.length-1;\r\n          } else {\r\n            var kw, kp;\r\n            kw = (typeof key[\u0027width\u0027] == \u0027string\u0027 \u0026\u0026 key[\u0027width\u0027] != \u0027\u0027) ? parseInt(key[\u0027width\u0027],10) : ActiveKey.DEFAULT_KEY_WIDTH;\r\n            if(isNaN(kw) || kw == 0) kw = ActiveKey.DEFAULT_KEY_WIDTH;\r\n            key[\u0027width\u0027] = kw.toString();\r\n            kp = (typeof key[\u0027pad\u0027] == \u0027string\u0027 \u0026\u0026 key[\u0027pad\u0027] != \u0027\u0027) ? parseInt(key[\u0027pad\u0027],10) : ActiveKey.DEFAULT_PAD;\r\n            if(isNaN(kp) || kp == 0) kp = ActiveKey.DEFAULT_PAD;  // KMEW-119\r\n            key[\u0027pad\u0027] = kp.toString();\r\n            width += kw + kp;\r\n            //if(typeof key[\u0027width\u0027] == \u0027string\u0027 \u0026\u0026 key[\u0027width\u0027] != \u0027\u0027) width += parseInt(key[\u0027width\u0027],10); else width += DEFAULT_KEY_WIDTH;\r\n            //if(typeof key[\u0027pad\u0027] == \u0027string\u0027 \u0026\u0026 key[\u0027pad\u0027] != \u0027\u0027) width += parseInt(key[\u0027pad\u0027],10); else width += 5;\r\n          }\r\n        }\r\n        if(width \u003e totalWidth) {\r\n          totalWidth = width;\r\n        }\r\n      }\r\n\r\n      // Add default right margin\r\n      if(layout.formFactor == \u0027desktop\u0027) {\r\n        totalWidth += 5; // TODO: resolve difference between touch and desktop; why don\u0027t we use ActiveKey.DEFAULT_RIGHT_MARGIN?\r\n      } else {\r\n        totalWidth += ActiveKey.DEFAULT_RIGHT_MARGIN;\r\n      }\r\n\r\n      let rowCount = layer.row.length;\r\n      for(let i=0; i\u003crowCount; i++) {\r\n        // Calculate proportional y-coord of row.  0 is at top with highest y-coord.\r\n        let rowProportionalY = (i + 0.5) / rowCount;\r\n        ActiveRow.polyfill(layer.row[i], layout, layer.id, totalWidth, rowProportionalY);\r\n      }\r\n\r\n      // Add class functions and properties to the existing layout object, allowing it to act as an ActiveLayout.\r\n      let dummy = new ActiveLayer();\r\n      for(let key in dummy) {\r\n        if(!layer.hasOwnProperty(key)) {\r\n          layer[key] = dummy[key];\r\n        }\r\n      }\r\n\r\n      let aLayer = layer as ActiveLayer;\r\n      aLayer.totalWidth = totalWidth;\r\n      aLayer.defaultKeyProportionalWidth = parseInt(ActiveKey.DEFAULT_KEY.width, 10) / totalWidth;\r\n      aLayer.rowProportionalHeight = 1.0 / rowCount;\r\n      aLayer.keyMap = aLayer.constructKeyMap();\r\n    }\r\n\r\n    private constructKeyMap(): {[keyId: string]: ActiveKey} {\r\n      let map: {[keyId: string]: ActiveKey} = {};\r\n      this.row.forEach(function(row: ActiveRow) {\r\n        row.populateKeyMap(map);\r\n      });\r\n\r\n      return map;\r\n    }\r\n\r\n    /**\r\n     * Builds a sorted-order array of most likely keys to be intended for a given touch.\r\n     * @param touchCoords A proportional (x, y) coordinate of the touch within the keyboard\u0027s geometry.\r\n     *                           Should be within [0, 0] to [1, 1].\r\n     * @param kbdScaleRatio The ratio of the keyboard\u0027s horizontal scale to its vertical scale.\r\n     *                           For a 400 x 200 keyboard, should be 2.\r\n     */\r\n    getTouchProbabilities(touchCoords: {x: number, y: number}, kbdScaleRatio: number): KeyDistribution {\r\n      let distribution = this.simpleTouchDistribution(touchCoords, kbdScaleRatio);\r\n      let list: {keyId: string, p: number}[] = [];\r\n\r\n      for(let key in distribution) {\r\n        list.push({keyId: key, p: distribution[key]});\r\n      }\r\n\r\n      return list.sort(function(a, b) {\r\n        return b.p - a.p; // Largest probability keys should be listed first.\r\n      })\r\n    }\r\n\r\n    /**\r\n     * Computes a probability distribution regarding the likelihood of a touch command being intended\r\n     * for each of the layout\u0027s keys.\r\n     * @param touchCoords A proportional (x, y) coordinate of the touch within the keyboard\u0027s geometry.\r\n     *                           Should be within [0, 0] to [1, 1].\r\n     * @param kbdScaleRatio The ratio of the keyboard\u0027s horizontal scale to its vertical scale.\r\n     *                           For a 400 x 200 keyboard, should be 2.\r\n     */\r\n    simpleTouchDistribution(touchCoords: {x: number, y: number}, kbdScaleRatio: number): {[keyId: string]: number} {\r\n      let keyDists = this.keyTouchDistances(touchCoords, kbdScaleRatio);\r\n      let keyProbs: {[keyId: string]: number} = {};\r\n\r\n      let totalMass = 0;\r\n\r\n      // Should we wish to allow multiple different transforms for distance -\u003e probability, use a function parameter in place\r\n      // of the formula in the loop below.\r\n      for(let key in keyDists) {\r\n        totalMass += keyProbs[key] = 1 / (keyDists[key] + 1e-6); // Prevent div-by-0 errors.\r\n      }\r\n\r\n      for(let key in keyProbs) {\r\n        keyProbs[key] /= totalMass;\r\n      }\r\n\r\n      return keyProbs;\r\n    }\r\n\r\n    /**\r\n     * Computes a squared \u0027pseudo-distance\u0027 for the touch from each key.  (Not a proper metric.)\r\n     * Intended for use in generating a probability distribution over the keys based on the touch input.\r\n     * @param touchCoords A proportional (x, y) coordinate of the touch within the keyboard\u0027s geometry.\r\n     *                           Should be within [0, 0] to [1, 1].\r\n     * @param kbdScaleRatio The ratio of the keyboard\u0027s horizontal scale to its vertical scale.\r\n     *                           For a 400 x 200 keyboard, should be 2.\r\n     */\r\n    private keyTouchDistances(touchCoords: {x: number, y: number}, kbdScaleRatio: number): {[keyId: string]: number} {\r\n      let layer = this;\r\n\r\n      let keyDists: {[keyId: string]: number} = {};\r\n\r\n      // This double-nested loop computes a pseudo-distance for the touch from each key.  Quite useful for\r\n      // generating a probability distribution.\r\n      this.row.forEach(function(row: ActiveRow): void {\r\n        row.key.forEach(function(key: ActiveKey): void {\r\n          // If the key lacks an ID, just skip it.  Sometimes used for padding.\r\n          if(!key.baseKeyID) {\r\n            return;\r\n          } else {\r\n            // Attempt to filter out known non-output keys.\r\n            // Results in a more optimized distribution.\r\n            switch(key.baseKeyID) {\r\n              case \u0027K_SHIFT\u0027:\r\n              case \u0027K_LOPT\u0027:\r\n              case \u0027K_ROPT\u0027:\r\n              case \u0027K_NUMLOCK\u0027: // Often used for numeric layers.\r\n              case \u0027K_CAPS\u0027:\r\n                // As these aren\u0027t output keys, they shouldn\u0027t be possible fat-finger targets.\r\n                return;\r\n              default:\r\n                // Refer to text/codes.ts - these are Keyman-custom \"keycodes\" used for\r\n                // layer shifting keys.  To be safe, we currently let K_TABBACK and \r\n                // K_TABFWD through, though we might be able to drop them too.\r\n                let code = com.keyman.text.Codes[key.baseKeyID];\r\n                if(code \u003e 50000 \u0026\u0026 code \u003c 50011) {\r\n                  return;\r\n                }\r\n            }\r\n          }\r\n          // These represent the within-key distance of the touch from the key\u0027s center.\r\n          // Both should be on the interval [0, 0.5].\r\n          let dx = Math.abs(touchCoords.x - key.proportionalX);\r\n          let dy = Math.abs(touchCoords.y - row.proportionalY);\r\n\r\n          // If the touch isn\u0027t within the key, these store the out-of-key distance\r\n          // from the closest point on the key being checked.\r\n          let distX: number, distY: number;\r\n\r\n          if(dx \u003e 0.5 * key.proportionalWidth) {\r\n            distX = (dx - 0.5 * key.proportionalWidth);\r\n            dx = 0.5;\r\n          } else {\r\n            distX = 0;\r\n            dx /= key.proportionalWidth;\r\n          }\r\n\r\n          if(dy \u003e 0.5 * layer.rowProportionalHeight) {\r\n            distY = (dy - 0.5 * layer.rowProportionalHeight);\r\n            dy = 0.5;\r\n          } else {\r\n            distY = 0;\r\n            dy /= layer.rowProportionalHeight;\r\n          }\r\n\r\n          // Now that the differentials are computed, it\u0027s time to do distance scaling.\r\n          //\r\n          // For out-of-key distance, we scale the X component by the keyboard\u0027s aspect ratio\r\n          // to get the actual out-of-key distance rather than proportional.\r\n          distX *= kbdScaleRatio;\r\n\r\n          // While the keys are rarely perfect squares, we map all within-key distance\r\n          // to a square shape.  (ALT/CMD should seem as close to SPACE as a \u0027B\u0027.)\r\n          //\r\n          // For that square, we take the rowHeight as its edge lengths.\r\n          distX += dx * layer.rowProportionalHeight;\r\n          distY += dy * layer.rowProportionalHeight;\r\n\r\n          let distance = distX * distX + distY * distY;\r\n          keyDists[key.coreID] = distance;\r\n        });\r\n      });\r\n\r\n      return keyDists;\r\n    }\r\n\r\n    getKey(keyId: string) {\r\n      // Keys usually are specified in a \"long form\" prefixed with their layer\u0027s ID.\r\n      if(keyId.indexOf(this.id + \u0027-\u0027) == 0) {\r\n        keyId = keyId.replace(this.id + \u0027-\u0027, \u0027\u0027);\r\n      }\r\n\r\n      let idComponents = keyId.split(\u0027::\u0027);\r\n      if(idComponents.length \u003e 1) {\r\n        let baseKey = this.keyMap[idComponents[0]];\r\n        return baseKey.getSubkey(idComponents[1]);\r\n      } else {\r\n        return this.keyMap[keyId];\r\n      }\r\n    }\r\n  }\r\n\r\n  export class ActiveLayout implements LayoutFormFactor{\r\n    layer: ActiveLayer[];\r\n    font: string;\r\n    keyLabels: boolean;\r\n    isDefault?: boolean;\r\n    keyboard: Keyboard;\r\n    formFactor: utils.FormFactor;\r\n\r\n    /**\r\n     * Facilitates mapping layer id strings to their specification objects.\r\n     */\r\n    layerMap: {[layerId: string]: ActiveLayer};\r\n\r\n    private constructor() {\r\n\r\n    }\r\n\r\n    getLayer(layerId: string): ActiveLayer {\r\n      return this.layerMap[layerId];\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param layout\r\n     * @param formFactor\r\n     */\r\n    static polyfill(layout: LayoutFormFactor, keyboard: Keyboard, formFactor: utils.FormFactor): ActiveLayout {\r\n      if(layout == null) {\r\n        throw new Error(\"Cannot build an ActiveLayout for a null specification.\");\r\n      }\r\n\r\n      // Create a separate OSK div for each OSK layer, only one of which will ever be visible\r\n      var n: number, i: number;\r\n      var layers: LayoutLayer[], layer: LayoutLayer;\r\n      let layerMap: {[layerId: string]: ActiveLayer} = {};\r\n      var rows: LayoutRow[];\r\n\r\n      layers=layout[\u0027layer\u0027];\r\n\r\n      // ***Delete any empty rows at the end added by compiler bug...\r\n      for(n=0; n\u003clayers.length; n++) {\r\n        layer=layers[n]; rows=layer[\u0027row\u0027];\r\n        for(i=rows.length; i\u003e0; i--) {\r\n          if(rows[i-1][\u0027key\u0027].length \u003e 0) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        if(i \u003c rows.length) {\r\n          rows.splice(i-rows.length,rows.length-i);\r\n        }\r\n      }\r\n      // ...remove to here when compiler bug fixed ***\r\n\r\n      // Add class functions to the existing layout object, allowing it to act as an ActiveLayout.\r\n      let dummy = new ActiveLayout();\r\n      for(let key in dummy) {\r\n        if(!layout.hasOwnProperty(key)) {\r\n          layout[key] = dummy[key];\r\n        }\r\n      }\r\n\r\n      let aLayout = layout as ActiveLayout;\r\n      aLayout.keyboard = keyboard;\r\n      aLayout.formFactor = formFactor;\r\n\r\n      for(n=0; n\u003clayers.length; n++) {\r\n        ActiveLayer.polyfill(layers[n], aLayout);\r\n        layerMap[layers[n].id] = layers[n] as ActiveLayer;\r\n      }\r\n\r\n      aLayout.layerMap = layerMap;\r\n\r\n      return aLayout;\r\n    }\r\n  }\r\n}","namespace com.keyman.text {\r\n  /**\r\n   * Defines common behaviors associated with system stores.\r\n   */\r\n  export abstract class SystemStore {\r\n    public readonly id: number;\r\n\r\n    constructor(id: number) {\r\n      this.id = id;\r\n    }\r\n\r\n    abstract matches(value: string): boolean;\r\n\r\n    set(value: string): void {\r\n      throw new Error(\"System store with ID \" + this.id + \" may not be directly set.\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * A handler designed to receive feedback whenever a system store\u0027s value is changed.\r\n   * @param source    The system store being mutated, before the value change occurs.\r\n   * @param newValue  The new value being set\r\n   * @returns         `false` / `undefined` to allow the change, `true` to block the change.\r\n   */\r\n  export type SystemStoreMutationHandler = (source: MutableSystemStore, newValue: string) =\u003e boolean;\r\n\r\n  export class MutableSystemStore extends SystemStore {\r\n    private _value: string;\r\n    handler?: SystemStoreMutationHandler = null;\r\n\r\n    constructor(id: number, defaultValue: string) {\r\n      super(id);\r\n      this._value = defaultValue;\r\n    }\r\n\r\n    get value() {\r\n      return this._value;\r\n    }\r\n\r\n    matches(value: string) {\r\n      return this._value == value;\r\n    }\r\n\r\n    set(value: string) {\r\n      if(this.handler) {\r\n        if(this.handler(this, value)) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      this._value = value;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles checks against the current platform.\r\n   */\r\n  export class PlatformSystemStore extends SystemStore {\r\n    private readonly kbdInterface: KeyboardInterface;\r\n\r\n    constructor(keyboardInterface: KeyboardInterface) {\r\n      super(KeyboardInterface.TSS_PLATFORM);\r\n\r\n      this.kbdInterface = keyboardInterface;\r\n    }\r\n\r\n    matches(value: string) {\r\n      var i,constraint,constraints=value.split(\u0027 \u0027);\r\n      let device = this.kbdInterface.activeDevice;\r\n\r\n      for(i=0; i\u003cconstraints.length; i++) {\r\n        constraint=constraints[i].toLowerCase();\r\n        switch(constraint) {\r\n          case \u0027touch\u0027:\r\n          case \u0027hardware\u0027:\r\n            if(device.touchable != (constraint == \u0027touch\u0027)) {\r\n              return false;\r\n            }\r\n            break;\r\n\r\n          case \u0027macos\u0027:\r\n          case \u0027mac\u0027:\r\n            constraint = \u0027macosx\u0027;\r\n            // fall through\r\n          case \u0027macosx\u0027:\r\n          case \u0027windows\u0027:\r\n          case \u0027android\u0027:\r\n          case \u0027ios\u0027:\r\n          case \u0027linux\u0027:\r\n            if(device.OS != constraint) {\r\n              return false;\r\n            }\r\n            break;\r\n\r\n          case \u0027tablet\u0027:\r\n          case \u0027phone\u0027:\r\n          case \u0027desktop\u0027:\r\n            if(device.formFactor != constraint) {\r\n              return false;\r\n            }\r\n            break;\r\n\r\n          case \u0027web\u0027:\r\n            if(device.browser == \u0027native\u0027) {\r\n              return false; // web matches anything other than \u0027native\u0027\r\n            }\r\n            break;\r\n            \r\n          case \u0027native\u0027:\r\n            // This will return true for embedded KeymanWeb\r\n          case \u0027ie\u0027:\r\n          case \u0027chrome\u0027:\r\n          case \u0027firefox\u0027:\r\n          case \u0027safari\u0027:\r\n          case \u0027edge\u0027:\r\n          case \u0027opera\u0027:\r\n            if(device.browser != constraint) {\r\n              return false;\r\n            }\r\n            break;\r\n            \r\n          default:\r\n            return false;\r\n        }\r\n      }\r\n\r\n      // Everything we checked against was valid and had matches - it\u0027s a match!\r\n      return true;\r\n    }\r\n  }\r\n}","/// \u003creference path=\"deadkeys.ts\" /\u003e\r\n/// \u003creference path=\"ruleBehavior.ts\" /\u003e\r\n\r\n// Defines classes for handling system stores\r\n/// \u003creference path=\"systemStores.ts\" /\u003e\r\n\r\n/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\n\r\nnamespace com.keyman.text {\r\n  //#region Helper type definitions\r\n\r\n  export class KeyInformation {\r\n    vk: boolean;\r\n    code: number;\r\n    modifiers: number;\r\n  }\r\n\r\n  /*\r\n  * Type alias definitions to reflect the parameters of the fullContextMatch() callback (KMW 10+).\r\n  * No constructors or methods since keyboards will not utilize the same backing prototype, and\r\n  * property names are shorthanded to promote minification.\r\n  */\r\n  type PlainKeyboardStore = string;\r\n\r\n  export type KeyboardStoreElement = (string|StoreNonCharEntry);\r\n  export type ComplexKeyboardStore = KeyboardStoreElement[];\r\n\r\n  type KeyboardStore = PlainKeyboardStore | ComplexKeyboardStore;\r\n\r\n  export type VariableStore = {[name: string]: string};\r\n\r\n  type RuleChar = string;\r\n\r\n  class RuleDeadkey {\r\n    /** Discriminant field - \u0027d\u0027 for Deadkey.\r\n     */\r\n    [\u0027t\u0027]: \u0027d\u0027;\r\n\r\n    /**\r\n     * Value:  the deadkey\u0027s ID.\r\n     */\r\n    [\u0027d\u0027]: number; // For \u0027d\u0027eadkey; also reflects the Deadkey class\u0027s \u0027d\u0027 property.\r\n  }\r\n\r\n  class ContextAny {\r\n    /** Discriminant field - \u0027a\u0027 for `any()`.\r\n     */\r\n    [\u0027t\u0027]: \u0027a\u0027;\r\n\r\n    /**\r\n     * Value:  the store to search.\r\n     */\r\n    [\u0027a\u0027]: KeyboardStore; // For \u0027a\u0027ny statement.\r\n\r\n    /**\r\n     * If set to true, negates the \u0027any\u0027.\r\n     */\r\n    [\u0027n\u0027]: boolean|0|1;\r\n  }\r\n\r\n  class RuleIndex {\r\n    /** Discriminant field - \u0027i\u0027 for `index()`.\r\n     */\r\n    [\u0027t\u0027]: \u0027i\u0027;\r\n\r\n    /**\r\n     * Value: the Store from which to output\r\n     */\r\n    [\u0027i\u0027]: KeyboardStore;\r\n\r\n    /**\r\n     * Offset: the offset in context for the corresponding `any()`.\r\n     */\r\n    [\u0027o\u0027]: number;\r\n  }\r\n\r\n  class ContextEx {\r\n    /** Discriminant field - \u0027c\u0027 for `context()`.\r\n     */\r\n    [\u0027t\u0027]: \u0027c\u0027;\r\n\r\n    /**\r\n     * Value:  The offset into the current rule\u0027s context to be matched.\r\n     */\r\n    [\u0027c\u0027]: number; // For \u0027c\u0027ontext statement.\r\n  }\r\n\r\n  class ContextNul {\r\n    /** Discriminant field - \u0027n\u0027 for `nul`\r\n     */\r\n    [\u0027t\u0027]: \u0027n\u0027;\r\n  }\r\n\r\n  class StoreBeep {\r\n    /** Discriminant field - \u0027b\u0027 for `beep`\r\n     */\r\n    [\u0027t\u0027]: \u0027b\u0027;\r\n  }\r\n\r\n  type ContextNonCharEntry = RuleDeadkey | ContextAny | RuleIndex | ContextEx | ContextNul;\r\n  type ContextEntry = RuleChar | ContextNonCharEntry;\r\n\r\n  type StoreNonCharEntry = RuleDeadkey | StoreBeep;\r\n\r\n  /**\r\n   * Cache of context storing and retrieving return values from KC\r\n   * Must be reset prior to each keystroke and after any text changes\r\n   * MCD 3/1/14\r\n   **/\r\n  class CachedContext {\r\n    _cache: string[][];\r\n\r\n    reset(): void {\r\n      this._cache = [];\r\n    }\r\n\r\n    get(n: number, ln: number): string {\r\n      // return null; // uncomment this line to disable context caching\r\n      if(typeof this._cache[n] == \u0027undefined\u0027) {\r\n        return null;\r\n      } else if(typeof this._cache[n][ln] == \u0027undefined\u0027) {\r\n        return null;\r\n      }\r\n      return this._cache[n][ln];\r\n    }\r\n\r\n    set(n: number, ln: number, val: string): void {\r\n      if(typeof this._cache[n] == \u0027undefined\u0027) {\r\n        this._cache[n] = [];\r\n      }\r\n      this._cache[n][ln] = val;\r\n    }\r\n  };\r\n\r\n  type CachedExEntry = {valContext: (string|number)[], deadContext: text.Deadkey[]};\r\n  /**\r\n   * An extended version of cached context storing designed to work with\r\n   * `fullContextMatch` and its helper functions.\r\n   */\r\n  class CachedContextEx {\r\n    _cache: CachedExEntry[][];\r\n\r\n    reset(): void {\r\n      this._cache = [];\r\n    }\r\n\r\n    get(n: number, ln: number): CachedExEntry {\r\n      // return null; // uncomment this line to disable context caching\r\n      if(typeof this._cache[n] == \u0027undefined\u0027) {\r\n        return null;\r\n      } else if(typeof this._cache[n][ln] == \u0027undefined\u0027) {\r\n        return null;\r\n      }\r\n      return this._cache[n][ln];\r\n    }\r\n\r\n    set(n: number, ln: number, val: CachedExEntry): void {\r\n      if(typeof this._cache[n] == \u0027undefined\u0027) {\r\n        this._cache[n] = [];\r\n      }\r\n      this._cache[n][ln] = val;\r\n    }\r\n\r\n    clone(): CachedContextEx {\r\n      let r = new CachedContextEx();\r\n      r._cache = this._cache;\r\n      return r;\r\n    }\r\n  };\r\n\r\n  //#endregion\r\n\r\n  export class KeyboardInterface {\r\n    static readonly GLOBAL_NAME = \u0027KeymanWeb\u0027;\r\n\r\n    cachedContext: CachedContext = new CachedContext();\r\n    cachedContextEx: CachedContextEx = new CachedContextEx();\r\n    ruleContextEx: CachedContextEx;\r\n\r\n    activeTargetOutput: OutputTarget;\r\n    ruleBehavior: RuleBehavior;\r\n\r\n    static readonly TSS_LAYER:    number = 33;\r\n    static readonly TSS_PLATFORM: number = 31;\r\n\r\n    systemStores: {[storeID: number]: SystemStore};\r\n\r\n    _AnyIndices:  number[] = [];    // AnyIndex - array of any/index match indices\r\n\r\n    // Must be accessible to some of the keyboard API methods.\r\n    activeKeyboard: keyboards.Keyboard;\r\n    activeDevice: utils.DeviceSpec;\r\n\r\n    variableStoreSerializer?: VariableStoreSerializer;\r\n\r\n    constructor(variableStoreSerializer: VariableStoreSerializer = null) {\r\n      this.systemStores = {};\r\n\r\n      this.systemStores[KeyboardInterface.TSS_PLATFORM] = new PlatformSystemStore(this);\r\n      this.systemStores[KeyboardInterface.TSS_LAYER] = new MutableSystemStore(KeyboardInterface.TSS_LAYER, \u0027default\u0027);\r\n\r\n      this.variableStoreSerializer = variableStoreSerializer;\r\n    }\r\n\r\n    /**\r\n     * Function     KSF\r\n     * Scope        Public\r\n     *\r\n     * Saves the document\u0027s current focus settings on behalf of the keyboard.  Often paired with insertText.\r\n     */\r\n    saveFocus(): void { }\r\n\r\n    /**\r\n     * A text-insertion method used by custom OSKs for helpHTML interaction, like with sil_euro_latin.\r\n     *\r\n     * This function currently bypasses web-core\u0027s standard text handling control path and all predictive text processing.\r\n     * It also has DOM-dependencies that help ensure KMW\u0027s active OutputTarget retains focus during use.\r\n     */\r\n    insertText?: (Ptext: string, PdeadKey: number) =\u003e boolean;\r\n\r\n    /**\r\n     * Function     registerKeyboard  KR\r\n     * Scope        Public\r\n     * @param       {Object}      Pk      Keyboard  object\r\n     * Description  Registers a keyboard with KeymanWeb once its script has fully loaded.\r\n     *\r\n     *              In web-core, this also activates the keyboard; in other modules, this method\r\n     *              may be replaced with other implementations.\r\n     */\r\n    registerKeyboard(Pk): void {\r\n      // NOTE:  This implementation is web-core specific and is intentionally replaced, whole-sale,\r\n      //        by DOM-aware code.\r\n      let keyboard = new keyboards.Keyboard(Pk);\r\n      this.activeKeyboard = keyboard;\r\n    }\r\n\r\n    /**\r\n     * Used by DOM-aware KeymanWeb to add keyboard stubs, used by the `KeyboardManager` type\r\n     * to optimize resource use.\r\n     */\r\n    registerStub?: (Pstub) =\u003e number;\r\n\r\n    /**\r\n     * Get *cached or uncached* keyboard context for a specified range, relative to caret\r\n     *\r\n     * @param       {number}      n       Number of characters to move back from caret\r\n     * @param       {number}      ln      Number of characters to return\r\n     * @param       {Object}      Pelem   Element to work with (must be currently focused element)\r\n     * @return      {string}              Context string\r\n     *\r\n     * Example     [abcdef|ghi] as INPUT, with the caret position marked by |:\r\n     *             KC(2,1,Pelem) == \"e\"\r\n     *             KC(3,3,Pelem) == \"def\"\r\n     *             KC(10,10,Pelem) == \"abcdef\"  i.e. return as much as possible of the requested string\r\n     */\r\n\r\n    context(n: number, ln: number, outputTarget: OutputTarget): string {\r\n      var v = this.cachedContext.get(n, ln);\r\n      if(v !== null) {\r\n        return v;\r\n      }\r\n\r\n      var r = this.KC_(n, ln, outputTarget);\r\n      this.cachedContext.set(n, ln, r);\r\n      return r;\r\n    }\r\n\r\n    /**\r\n     * Get (uncached) keyboard context for a specified range, relative to caret\r\n     *\r\n     * @param       {number}      n       Number of characters to move back from caret\r\n     * @param       {number}      ln      Number of characters to return\r\n     * @param       {Object}      Pelem   Element to work with (must be currently focused element)\r\n     * @return      {string}              Context string\r\n     *\r\n     * Example     [abcdef|ghi] as INPUT, with the caret position marked by |:\r\n     *             KC(2,1,Pelem) == \"e\"\r\n     *             KC(3,3,Pelem) == \"def\"\r\n     *             KC(10,10,Pelem) == \"XXXXabcdef\"  i.e. return as much as possible of the requested string, where X = \\uFFFE\r\n     */\r\n    private KC_(n: number, ln: number, outputTarget: OutputTarget): string {\r\n      var tempContext = \u0027\u0027;\r\n\r\n      tempContext = outputTarget.getTextBeforeCaret();\r\n\r\n      if(tempContext._kmwLength() \u003c n) {\r\n        tempContext = Array(n-tempContext._kmwLength()+1).join(\"\\uFFFE\") + tempContext;\r\n      }\r\n\r\n      return tempContext._kmwSubstr(-n)._kmwSubstr(0,ln);\r\n    }\r\n\r\n    /**\r\n     * Function     nul           KN\r\n     * Scope        Public\r\n     * @param       {number}      n       Length of context to check\r\n     * @param       {Object}      Ptarg   Element to work with (must be currently focused element)\r\n     * @return      {boolean}             True if length of context is less than or equal to n\r\n     * Description  Test length of context, return true if the length of the context is less than or equal to n\r\n     *\r\n     * Example     [abc|def] as INPUT, with the caret position marked by |:\r\n     *             KN(3,Pelem) == TRUE\r\n     *             KN(2,Pelem) == FALSE\r\n     *             KN(4,Pelem) == TRUE\r\n     */\r\n    nul(n: number, outputTarget: OutputTarget): boolean {\r\n      var cx=this.context(n+1, 1, outputTarget);\r\n\r\n      // With #31, the result will be a replacement character if context is empty.\r\n      return cx === \"\\uFFFE\";\r\n    }\r\n\r\n    /**\r\n     * Function     contextMatch  KCM\r\n     * Scope        Public\r\n     * @param       {number}      n       Number of characters to move back from caret\r\n     * @param       {Object}      Ptarg   Focused element\r\n     * @param       {string}      val     String to match\r\n     * @param       {number}      ln      Number of characters to return\r\n     * @return      {boolean}             True if selected context matches val\r\n     * Description  Test keyboard context for match\r\n     */\r\n    contextMatch(n: number, outputTarget: OutputTarget, val: string, ln: number): boolean {\r\n      var cx=this.context(n, ln, outputTarget);\r\n      if(cx === val) {\r\n        return true; // I3318\r\n      }\r\n      outputTarget.deadkeys().resetMatched(); // I3318\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Builds the *cached or uncached* keyboard context for a specified range, relative to caret\r\n     *\r\n     * @param       {number}      n       Number of characters to move back from caret\r\n     * @param       {number}      ln      Number of characters to return\r\n     * @param       {Object}      Pelem   Element to work with (must be currently focused element)\r\n     * @return      {Array}               Context array (of strings and numbers)\r\n     */\r\n    private _BuildExtendedContext(n: number, ln: number, outputTarget: OutputTarget): CachedExEntry {\r\n      var cache: CachedExEntry = this.cachedContextEx.get(n, ln);\r\n      if(cache !== null) {\r\n        return cache;\r\n      } else {\r\n        // By far the easiest way to correctly build what we want is to start from the right and work to what we need.\r\n        // We may have done it for a similar cursor position before.\r\n        cache = this.cachedContextEx.get(n, n);\r\n        if(cache === null) {\r\n          // First, let\u0027s make sure we have a cloned, sorted copy of the deadkey array.\r\n          let unmatchedDeadkeys = outputTarget.deadkeys().toSortedArray(); // Is reverse-order sorted for us already.\r\n\r\n          // Time to build from scratch!\r\n          var index = 0;\r\n          cache = { valContext: [], deadContext: []};\r\n          while(cache.valContext.length \u003c n) {\r\n            // As adapted from `deadkeyMatch`.\r\n            var sp = outputTarget.getDeadkeyCaret();\r\n            var deadPos = sp - index;\r\n            if(unmatchedDeadkeys.length \u003e 0 \u0026\u0026 unmatchedDeadkeys[0].p \u003e deadPos) {\r\n              // We have deadkeys at the right-hand side of the caret!  They don\u0027t belong in the context, so pop \u0027em off.\r\n              unmatchedDeadkeys.splice(0, 1);\r\n              continue;\r\n            } else if(unmatchedDeadkeys.length \u003e 0 \u0026\u0026 unmatchedDeadkeys[0].p == deadPos) {\r\n              // Take the deadkey.\r\n              cache.deadContext[n-cache.valContext.length-1] = unmatchedDeadkeys[0];\r\n              cache.valContext = ([unmatchedDeadkeys[0].d] as (string|number)[]).concat(cache.valContext);\r\n              unmatchedDeadkeys.splice(0, 1);\r\n            } else {\r\n              // Take the character.  We get \"\\ufffe\" if it doesn\u0027t exist.\r\n              var kc = this.context(++index, 1, outputTarget);\r\n              cache.valContext = ([kc] as (string|number)[]).concat(cache.valContext);\r\n            }\r\n          }\r\n          this.cachedContextEx.set(n, n, cache);\r\n        }\r\n\r\n        // Now that we have the cache...\r\n        var subCache = cache;\r\n        subCache.valContext = subCache.valContext.slice(0, ln);\r\n        for(var i=0; i \u003c subCache.valContext.length; i++) {\r\n          if(subCache[i] == \u0027\\ufffe\u0027) {\r\n            subCache.valContext.splice(0, 1);\r\n            subCache.deadContext.splice(0, 1);\r\n          }\r\n        }\r\n\r\n        if(subCache.valContext.length == 0) {\r\n          subCache.valContext = [\u0027\\ufffe\u0027];\r\n          subCache.deadContext = [];\r\n        }\r\n\r\n        this.cachedContextEx.set(n, ln, subCache);\r\n\r\n        return subCache;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function       fullContextMatch    KFCM\r\n     * Scope          Private\r\n     * @param         {number}    n       Number of characters to move back from caret\r\n     * @param         {Object}    Ptarg   Focused element\r\n     * @param         {Array}     rule    An array of ContextEntries to match.\r\n     * @return        {boolean}           True if the fully-specified rule context matches the current KMW state.\r\n     *\r\n     * A KMW 10+ function designed to bring KMW closer to Keyman Desktop functionality,\r\n     * near-directly modeling (externally) the compiled form of Desktop rules\u0027 context section.\r\n     */\r\n    fullContextMatch(n: number, outputTarget: OutputTarget, rule: ContextEntry[]): boolean {\r\n      // Stage one:  build the context index map.\r\n      var fullContext = this._BuildExtendedContext(n, rule.length, outputTarget);\r\n      this.ruleContextEx = this.cachedContextEx.clone();\r\n      var context = fullContext.valContext;\r\n      var deadContext = fullContext.deadContext;\r\n\r\n      var mismatch = false;\r\n\r\n      // This symbol internally indicates lack of context in a position.  (See KC_)\r\n      const NUL_CONTEXT = \"\\uFFFE\";\r\n\r\n      var assertNever = function(x: never): never {\r\n        // Could be accessed by improperly handwritten calls to `fullContextMatch`.\r\n        throw new Error(\"Unexpected object in fullContextMatch specification: \" + x);\r\n      }\r\n\r\n      // Stage two:  time to match against the rule specified.\r\n      for(var i=0; i \u003c rule.length; i++) {\r\n        if(typeof rule[i] == \u0027string\u0027) {\r\n          var str = rule[i] as string;\r\n          if(str !== context[i]) {\r\n            mismatch = true;\r\n            break;\r\n          }\r\n        } else {\r\n          // TypeScript needs a cast to this intermediate type to do its discriminated union magic.\r\n          var r = rule[i] as ContextNonCharEntry;\r\n          switch(r.t) {\r\n            case \u0027d\u0027:\r\n              // We still need to set a flag here;\r\n              if(r[\u0027d\u0027] !== context[i]) {\r\n                mismatch = true;\r\n              } else {\r\n                deadContext[i].set();\r\n              }\r\n              break;\r\n            case \u0027a\u0027:\r\n              var lookup: KeyboardStoreElement;\r\n\r\n              if(typeof context[i] == \u0027string\u0027) {\r\n                lookup = context[i] as string;\r\n              } else {\r\n                lookup = {\u0027t\u0027: \u0027d\u0027, \u0027d\u0027: context[i] as number};\r\n              }\r\n\r\n              var result = this.any(i, lookup, r.a);\r\n\r\n              if(!r.n) { // If it\u0027s a standard \u0027any\u0027...\r\n                if(!result) {\r\n                  mismatch = true;\r\n                } else if(deadContext[i] !== undefined) {\r\n                  // It\u0027s a deadkey match, so indicate that.\r\n                  deadContext[i].set();\r\n                }\r\n                // \u0027n\u0027 for \u0027notany\u0027.\r\n                // - if `result === true`, `any` would match:  this should thus fail.\r\n                // - if `context[i] === NUL_CONTEXT`, `notany` should not match.\r\n              } else if(r.n \u0026\u0026 (result || context[i] === NUL_CONTEXT)) {\r\n                mismatch = true;\r\n              }\r\n              break;\r\n            case \u0027i\u0027:\r\n              // The context will never hold a \u0027beep.\u0027\r\n              var ch = this._Index(r.i, r.o) as string | RuleDeadkey;\r\n\r\n              if(ch !== undefined \u0026\u0026 (typeof(ch) == \u0027string\u0027 ? ch : ch.d) !== context[i]) {\r\n                mismatch = true;\r\n              } else if(deadContext[i] !== undefined) {\r\n                deadContext[i].set();\r\n              }\r\n              break;\r\n            case \u0027c\u0027:\r\n              if(context[r.c - 1] !== context[i]) {\r\n                mismatch = true;\r\n              } else if(deadContext[i] !== undefined) {\r\n                deadContext[i].set();\r\n              }\r\n              break;\r\n            case \u0027n\u0027:\r\n              // \\uFFFE is the internal \u0027no context here sentinel\u0027.\r\n              if(context[i] != NUL_CONTEXT) {\r\n                mismatch = true;\r\n              }\r\n              break;\r\n            default:\r\n              assertNever(r);\r\n          }\r\n        }\r\n      }\r\n\r\n      if(mismatch) {\r\n        // Reset the matched \u0027any\u0027 indices, if any.\r\n        outputTarget.deadkeys().resetMatched();\r\n        this._AnyIndices = [];\r\n      }\r\n\r\n      return !mismatch;\r\n    }\r\n\r\n    /**\r\n     * Function     KIK\r\n     * Scope        Public\r\n     * @param       {Object}  e   keystroke event\r\n     * @return      {boolean}     true if keypress event\r\n     * Description  Test if event as a keypress event\r\n     */\r\n    isKeypress(e: KeyEvent): boolean {\r\n      if(this.activeKeyboard.isMnemonic) {   // I1380 - support KIK for positional layouts\r\n        return !e.LisVirtualKey;             // will now return true for U_xxxx keys, but not for T_xxxx keys\r\n      } else {\r\n        return KeyMapping._USKeyCodeToCharCode(e) ? true : false; // I1380 - support KIK for positional layouts\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     keyMatch      KKM\r\n     * Scope        Public\r\n     * @param       {Object}      e           keystroke event\r\n     * @param       {number}      Lruleshift\r\n     * @param       {number}      Lrulekey\r\n     * @return      {boolean}                 True if key matches rule\r\n     * Description  Test keystroke with modifiers against rule\r\n     */\r\n    keyMatch(e: KeyEvent, Lruleshift:number, Lrulekey:number): boolean {\r\n      var retVal = false; // I3318\r\n      var keyCode = (e.Lcode == 173 ? 189 : e.Lcode);  //I3555 (Firefox hyphen issue)\r\n\r\n      let bitmask = this.activeKeyboard.modifierBitmask;\r\n      let Codes = com.keyman.text.Codes;\r\n      var modifierBitmask = bitmask \u0026 Codes.modifierBitmasks[\"ALL\"];\r\n      var stateBitmask = bitmask \u0026 Codes.stateBitmasks[\"ALL\"];\r\n\r\n      if(e.vkCode \u003e 255) {\r\n        keyCode = e.vkCode; // added to support extended (touch-hold) keys for mnemonic layouts\r\n      }\r\n\r\n      if(e.LisVirtualKey || keyCode \u003e 255) {\r\n        if((Lruleshift \u0026 0x4000) == 0x4000 || (keyCode \u003e 255)) { // added keyCode test to support extended keys\r\n          retVal = ((Lrulekey == keyCode) \u0026\u0026 ((Lruleshift \u0026 modifierBitmask) == e.Lmodifiers)); //I3318, I3555\r\n          retVal = retVal \u0026\u0026 this.stateMatch(e, Lruleshift \u0026 stateBitmask);\r\n        }\r\n      } else if((Lruleshift \u0026 0x4000) == 0) {\r\n        retVal = (keyCode == Lrulekey); // I3318, I3555\r\n      }\r\n      if(!retVal) {\r\n        this.activeTargetOutput.deadkeys().resetMatched();  // I3318\r\n      }\r\n      return retVal; // I3318\r\n    };\r\n\r\n    /**\r\n     * Function     stateMatch    KSM\r\n     * Scope        Public\r\n     * @param       {Object}      e       keystroke event\r\n     * @param       {number}      Lstate\r\n     * Description  Test keystroke against state key rules\r\n     */\r\n    stateMatch(e: KeyEvent, Lstate: number) {\r\n      return ((Lstate \u0026 e.Lstates) == Lstate);\r\n    }\r\n\r\n    /**\r\n     * Function     keyInformation  KKI\r\n     * Scope        Public\r\n     * @param       {Object}      e\r\n     * @return      {Object}              Object with event\u0027s virtual key flag, key code, and modifiers\r\n     * Description  Get object with extended key event information\r\n     */\r\n    keyInformation(e: KeyEvent): KeyInformation {\r\n      var ei = new KeyInformation();\r\n      ei[\u0027vk\u0027] = e.LisVirtualKey;\r\n      ei[\u0027code\u0027] = e.Lcode;\r\n      ei[\u0027modifiers\u0027] = e.Lmodifiers;\r\n      return ei;\r\n    };\r\n\r\n    /**\r\n     * Function     deadkeyMatch  KDM\r\n     * Scope        Public\r\n     * @param       {number}      n       offset from current cursor position\r\n     * @param       {Object}      Ptarg   target element\r\n     * @param       {number}      d       deadkey\r\n     * @return      {boolean}             True if deadkey found selected context matches val\r\n     * Description  Match deadkey at current cursor position\r\n     */\r\n    deadkeyMatch(n: number, outputTarget: OutputTarget, d: number): boolean {\r\n      return outputTarget.hasDeadkeyMatch(n, d);\r\n    }\r\n\r\n    /**\r\n     * Function     beep          KB\r\n     * Scope        Public\r\n     * @param       {Object}      Pelem     element to flash\r\n     * Description  Flash body as substitute for audible beep; notify embedded device to vibrate\r\n     */\r\n    beep(outputTarget: OutputTarget): void {\r\n      this.resetContextCache();\r\n\r\n      // Denote as part of the matched rule\u0027s behavior.\r\n      this.ruleBehavior.beep = true;\r\n    }\r\n\r\n    _ExplodeStore(store: KeyboardStore): ComplexKeyboardStore {\r\n      if(typeof(store) == \u0027string\u0027) {\r\n        let cachedStores = this.activeKeyboard.explodedStores;\r\n\r\n        // Is the result cached?\r\n        if(cachedStores[store]) {\r\n          return cachedStores[store];\r\n        }\r\n\r\n        // Nope, so let\u0027s build its cache.\r\n        var result: ComplexKeyboardStore = [];\r\n        for(var i=0; i \u003c store._kmwLength(); i++) {\r\n          result.push(store._kmwCharAt(i));\r\n        }\r\n\r\n        // Cache the result for later!\r\n        cachedStores[store] = result;\r\n        return result;\r\n      } else {\r\n        return store;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     any           KA\r\n     * Scope        Public\r\n     * @param       {number}      n     character position (index)\r\n     * @param       {string}      ch    character to find in string\r\n     * @param       {string}      s     \u0027any\u0027 string\r\n     * @return      {boolean}           True if character found in \u0027any\u0027 string, sets index accordingly\r\n     * Description  Test for character matching\r\n     */\r\n    any(n: number, ch: KeyboardStoreElement, s: KeyboardStore): boolean {\r\n      if(ch == \u0027\u0027) {\r\n        return false;\r\n      }\r\n\r\n      s = this._ExplodeStore(s);\r\n      var Lix = -1;\r\n      for(var i=0; i \u003c s.length; i++) {\r\n        if(typeof(s[i]) == \u0027string\u0027) {\r\n          if(s[i] == ch) {\r\n            Lix = i;\r\n            break;\r\n          }\r\n        } else if(s[i][\u0027d\u0027] === ch[\u0027d\u0027]) {\r\n          Lix = i;\r\n          break;\r\n        }\r\n      }\r\n      this._AnyIndices[n] = Lix;\r\n      return Lix \u003e= 0;\r\n    }\r\n\r\n    /**\r\n     * Function     _Index\r\n     * Scope        Public\r\n     * @param       {string}      Ps      string\r\n     * @param       {number}      Pn      index\r\n     * Description  Returns the character from a store string according to the offset in the index array\r\n     */\r\n    _Index(Ps: KeyboardStore, Pn: number): KeyboardStoreElement {\r\n      Ps = this._ExplodeStore(Ps);\r\n\r\n      if(this._AnyIndices[Pn-1] \u003c Ps.length) {   //I3319\r\n        return Ps[this._AnyIndices[Pn-1]];\r\n      } else {\r\n        /* Should not be possible for a compiled keyboard, but may arise\r\n        * during the development of handwritten keyboards.\r\n        */\r\n        console.warn(\"Unmatched contextual index() statement detected in rule with index \" + Pn + \"!\");\r\n        return \"\";\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     indexOutput   KIO\r\n     * Scope        Public\r\n     * @param       {number}      Pdn     no of character to overwrite (delete)\r\n     * @param       {string}      Ps      string\r\n     * @param       {number}      Pn      index\r\n     * @param       {Object}      Pelem   element to output to\r\n     * Description  Output a character selected from the string according to the offset in the index array\r\n     */\r\n    indexOutput(Pdn: number, Ps: KeyboardStore, Pn: number, outputTarget: OutputTarget): void {\r\n      this.resetContextCache();\r\n\r\n      var assertNever = function(x: never): never {\r\n        // Could be accessed by improperly handwritten calls to `fullContextMatch`.\r\n        throw new Error(\"Unexpected object in fullContextMatch specification: \" + x);\r\n      }\r\n\r\n      var indexChar = this._Index(Ps, Pn);\r\n      if(indexChar !== \"\") {\r\n        if(typeof indexChar == \u0027string\u0027 ) {\r\n          this.output(Pdn, outputTarget, indexChar);  //I3319\r\n        } else if(indexChar[\u0027t\u0027]) {\r\n          var storeEntry = indexChar as StoreNonCharEntry;\r\n\r\n          switch(storeEntry.t) {\r\n            case \u0027b\u0027: // Beep commands may appear within stores.\r\n              this.beep(outputTarget);\r\n              break;\r\n            case \u0027d\u0027:\r\n              this.deadkeyOutput(Pdn, outputTarget, indexChar[\u0027d\u0027]);\r\n              break;\r\n            default:\r\n              assertNever(storeEntry);\r\n          }\r\n        } else { // For keyboards developed during 10.0\u0027s alpha phase - t:\u0027d\u0027 was assumed.\r\n          this.deadkeyOutput(Pdn, outputTarget, indexChar[\u0027d\u0027]);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Function     deleteContext KDC\r\n     * Scope        Public\r\n     * @param       {number}      dn      number of context entries to overwrite\r\n     * @param       {Object}      Pelem   element to output to\r\n     * @param       {string}      s       string to output\r\n     * Description  Keyboard output\r\n     */\r\n    deleteContext(dn: number, outputTarget: OutputTarget): void {\r\n      var context: CachedExEntry;\r\n\r\n      // We want to control exactly which deadkeys get removed.\r\n      if(dn \u003e 0) {\r\n        context = this._BuildExtendedContext(dn, dn, outputTarget);\r\n        let nulCount = 0;\r\n\r\n        for(var i=0; i \u003c context.valContext.length; i++) {\r\n          var dk = context.deadContext[i];\r\n\r\n          if(dk) {\r\n            // Remove deadkey in context.\r\n            outputTarget.deadkeys().remove(dk);\r\n\r\n            // Reduce our reported context size.\r\n            dn--;\r\n          } else if(context.valContext[i] == \"\\uFFFE\") {\r\n            // Count any `nul` sentinels that would contribute to our deletion count.\r\n            nulCount++;\r\n          }\r\n        }\r\n\r\n        // Prevent attempts to delete nul sentinels, as they don\u0027t exist in the actual context.\r\n        // (Addresses regression from KMW v 12.0 paired with Developer bug through same version)\r\n        let contextLength = context.valContext.length - nulCount;\r\n        if(dn \u003e contextLength) {\r\n          dn = contextLength;\r\n        }\r\n      }\r\n\r\n      // If a matched deadkey hasn\u0027t been deleted, we don\u0027t WANT to delete it.\r\n      outputTarget.deadkeys().resetMatched();\r\n\r\n      // Why reinvent the wheel?  Delete the remaining characters by \u0027inserting a blank string\u0027.\r\n      this.output(dn, outputTarget, \u0027\u0027);\r\n    }\r\n\r\n    /**\r\n     * Function     output        KO\r\n     * Scope        Public\r\n     * @param       {number}      dn      number of characters to overwrite\r\n     * @param       {Object}      Pelem   element to output to\r\n     * @param       {string}      s       string to output\r\n     * Description  Keyboard output\r\n     */\r\n    output(dn: number, outputTarget: OutputTarget, s:string): void {\r\n      this.resetContextCache();\r\n\r\n      outputTarget.saveProperties();\r\n      outputTarget.clearSelection();\r\n      outputTarget.deadkeys().deleteMatched(); // I3318\r\n      if(dn \u003e= 0) {\r\n        // Automatically manages affected deadkey positions.  Does not delete deadkeys b/c legacy behavior support.\r\n        outputTarget.deleteCharsBeforeCaret(dn);\r\n      }\r\n      // Automatically manages affected deadkey positions.\r\n      outputTarget.insertTextBeforeCaret(s);\r\n      outputTarget.restoreProperties();\r\n    }\r\n\r\n    /**\r\n     * `contextExOutput` function emits the character or object at `contextOffset` from the\r\n     * current matched rule\u0027s context. Introduced in Keyman 14.0, in order to resolve a\r\n     * gap between desktop and web core functionality for context(n) matching on notany().\r\n     * See #917 for additional detail.\r\n     * @alias       KCXO\r\n     * @public\r\n     * @param       {number}        Pdn            number of characters to delete left of cursor\r\n     * @param       {OutputTarget}  outputTarget   target to output to\r\n     * @param       {number}        contextLength  length of current rule context to retrieve\r\n     * @param       {number}        contextOffset  offset from start of current rule context, 1-based\r\n     */\r\n    contextExOutput(Pdn: number, outputTarget: OutputTarget, contextLength: number, contextOffset: number): void {\r\n      this.resetContextCache();\r\n\r\n      if(Pdn \u003e= 0) {\r\n        this.output(Pdn, outputTarget, \"\");\r\n      }\r\n\r\n      const context = this.ruleContextEx.get(contextLength, contextLength);\r\n      const dk = context.deadContext[contextOffset-1], vc = context.valContext[contextOffset-1];\r\n      if(dk) {\r\n        outputTarget.insertDeadkeyBeforeCaret(dk.d);\r\n      } else if(typeof vc == \u0027string\u0027) {\r\n        this.output(-1, outputTarget, vc);\r\n      } else {\r\n        throw new Error(\"contextExOutput: should never be a numeric valContext with no corresponding deadContext\");\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     deadkeyOutput KDO\r\n     * Scope        Public\r\n     * @param       {number}      Pdn     no of character to overwrite (delete)\r\n     * @param       {Object}      Pelem   element to output to\r\n     * @param       {number}      Pd      deadkey id\r\n     * Description  Record a deadkey at current cursor position, deleting Pdn characters first\r\n     */\r\n    deadkeyOutput(Pdn: number, outputTarget: OutputTarget, Pd: number): void {\r\n      this.resetContextCache();\r\n\r\n      if(Pdn \u003e= 0) {\r\n        this.output(Pdn, outputTarget,\"\");  //I3318 corrected to \u003e=\r\n      }\r\n\r\n      outputTarget.insertDeadkeyBeforeCaret(Pd);\r\n      //    _DebugDeadKeys(Pelem, \u0027KDeadKeyOutput: dn=\u0027+Pdn+\u0027; deadKey=\u0027+Pd);\r\n    }\r\n\r\n    /**\r\n     * KIFS compares the content of a system store with a string value\r\n     *\r\n     * @param       {number}      systemId    ID of the system store to test (only TSS_LAYER currently supported)\r\n     * @param       {string}      strValue    String value to compare to\r\n     * @param       {Object}      Pelem       Currently active element (may be needed by future tests)\r\n     * @return      {boolean}                 True if the test succeeds\r\n     */\r\n    ifStore(systemId: number, strValue: string, outputTarget: OutputTarget): boolean {\r\n      var result=true;\r\n      let store = this.systemStores[systemId];\r\n      if(store) {\r\n        result = store.matches(strValue);\r\n      }\r\n      return result; //Moved from previous line, now supports layer selection, Build 350\r\n    }\r\n\r\n    /**\r\n     * KSETS sets the value of a system store to a string\r\n     *\r\n     * @param       {number}      systemId    ID of the system store to set (only TSS_LAYER currently supported)\r\n     * @param       {string}      strValue    String to set as the system store content\r\n     * @param       {Object}      Pelem       Currently active element (may be needed in future tests)\r\n     * @return      {boolean}                 True if command succeeds\r\n     *                                        (i.e. for TSS_LAYER, if the layer is successfully selected)\r\n     *\r\n     * Note that option/variable stores are instead set within keyboard script code, as they only\r\n     * affect keyboard behavior.\r\n     */\r\n    setStore(systemId: number, strValue: string, outputTarget: OutputTarget): boolean {\r\n      this.resetContextCache();\r\n      if(systemId == KeyboardInterface.TSS_LAYER) {\r\n        // Denote the changed store as part of the matched rule\u0027s behavior.\r\n        this.ruleBehavior.setStore[systemId] = strValue;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Load an option store value from a cookie or default value\r\n     *\r\n     * @param       {string}      kbdName     keyboard internal name\r\n     * @param       {string}      storeName   store (option) name, embedded in cookie name\r\n     * @param       {string}      dfltValue   default value\r\n     * @return      {string}                  current or default option value\r\n     *\r\n     * This will only ever be called when the keyboard is loaded, as it is used by keyboards\r\n     * to initialize a store value on the keyboard\u0027s script object.\r\n     */\r\n    loadStore(kbdName: string, storeName:string, dfltValue:string): string {\r\n      this.resetContextCache();\r\n      if(this.variableStoreSerializer) {\r\n        let cValue = this.variableStoreSerializer.loadStore(kbdName, storeName);\r\n        return cValue[storeName] || dfltValue;\r\n      } else {\r\n        return dfltValue;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Save an option store value to a cookie\r\n     *\r\n     * @param       {string}      storeName   store (option) name, embedded in cookie name\r\n     * @param       {string}      optValue    option value to save\r\n     * @return      {boolean}                 true if save successful\r\n     *\r\n     * Note that a keyboard will freely manipulate the value of its variable stores on the\r\n     * script object within its own code.  This function\u0027s use is merely to _persist_ that\r\n     * value across sessions, providing a custom user default for later uses of the keyboard.\r\n     */\r\n    saveStore(storeName:string, optValue:string): boolean {\r\n      this.resetContextCache();\r\n      var kbd=this.activeKeyboard;\r\n      if(!kbd || typeof kbd.id == \u0027undefined\u0027 || kbd.id == \u0027\u0027) {\r\n        return false;\r\n      }\r\n\r\n      // And the lookup under that entry looks for the value under the store name, again.\r\n      let valueObj: VariableStore = {};\r\n      valueObj[storeName] = optValue;\r\n\r\n      // Null-check in case of invocation during unit-test\r\n      if(this.ruleBehavior) {\r\n        this.ruleBehavior.saveStore[storeName] = valueObj;\r\n      } else {\r\n        // We\u0027re in a unit-test environment, directly invoking this method from outside of a keyboard.\r\n        // In this case, we should immediately commit the change.\r\n        this.variableStoreSerializer.saveStore(this.activeKeyboard.id, storeName, valueObj);\r\n      }\r\n      return true;\r\n    }\r\n\r\n    resetContextCache(): void {\r\n      this.cachedContext.reset();\r\n      this.cachedContextEx.reset();\r\n    }\r\n\r\n    defaultBackspace(outputTarget: OutputTarget) {\r\n      this.output(1, outputTarget, \"\");\r\n    }\r\n\r\n    /**\r\n     * Function     processKeystroke\r\n     * Scope        Private\r\n     * @param       {Object}        element     The page element receiving input\r\n     * @param       {Object}        keystroke   The input keystroke (with its properties) to be mapped by the keyboard.\r\n     * Description  Encapsulates calls to keyboard input processing.\r\n     * @returns     {number}        0 if no match is made, otherwise 1.\r\n     */\r\n    processKeystroke(outputTarget: OutputTarget, keystroke: KeyEvent): RuleBehavior {\r\n      // Clear internal state tracking data from prior keystrokes.\r\n      if(!outputTarget) {\r\n        throw \"No target specified for keyboard output!\";\r\n      } else if(!this.activeKeyboard) {\r\n        throw \"No active keyboard for keystroke processing!\";\r\n      }\r\n\r\n      outputTarget.invalidateSelection();\r\n\r\n      outputTarget.deadkeys().resetMatched();       // I3318\r\n      this.resetContextCache();\r\n\r\n      // Capture the initial state of the OutputTarget before any rules are matched.\r\n      let preInput = Mock.from(outputTarget);\r\n\r\n      // Establishes the results object, allowing corresponding commands to set values here as appropriate.\r\n      this.ruleBehavior = new RuleBehavior();\r\n\r\n      // Ensure the settings are in place so that KIFS/ifState activates and deactivates\r\n      // the appropriate rule(s) for the modeled device.\r\n      this.activeDevice = keystroke.device;\r\n\r\n      // Calls the start-group of the active keyboard.\r\n      this.activeTargetOutput = outputTarget;\r\n      var matched = this.activeKeyboard.process(outputTarget, keystroke);\r\n      this.activeTargetOutput = null;\r\n\r\n      if(!matched) {\r\n        return null;\r\n      }\r\n\r\n      // Finalize the rule\u0027s results.\r\n      this.ruleBehavior.transcription = outputTarget.buildTranscriptionFrom(preInput, keystroke);\r\n\r\n      // Clear our result-tracking variable to prevent any possible pollution for future processing.\r\n      let behavior = this.ruleBehavior;\r\n      this.ruleBehavior = null;\r\n\r\n      return behavior;\r\n    }\r\n\r\n    /**\r\n     * Publishes the KeyboardInterface\u0027s shorthand API names.  As this assigns the current functions\r\n     * held by the longform versions, note that this should be called after replacing any of them via\r\n     * JS method extension.\r\n     *\r\n     * DOM-aware KeymanWeb should call this after its domKbdInterface.ts code is loaded, as it replaces\r\n     * a few.  (This is currently done within its kmwapi.ts.)\r\n     */\r\n    static __publishShorthandAPI() {\r\n      // Keyboard callbacks\r\n      let prototype = this.prototype;\r\n\r\n      var exportKBCallback = function(miniName: string, longName: string) {\r\n        prototype[miniName] = prototype[longName];\r\n      }\r\n\r\n      exportKBCallback(\u0027KSF\u0027, \u0027saveFocus\u0027);\r\n      exportKBCallback(\u0027KBR\u0027, \u0027beepReset\u0027);\r\n      exportKBCallback(\u0027KT\u0027, \u0027insertText\u0027);\r\n      exportKBCallback(\u0027KR\u0027, \u0027registerKeyboard\u0027);\r\n      exportKBCallback(\u0027KRS\u0027, \u0027registerStub\u0027);\r\n      exportKBCallback(\u0027KC\u0027, \u0027context\u0027);\r\n      exportKBCallback(\u0027KN\u0027, \u0027nul\u0027);\r\n      exportKBCallback(\u0027KCM\u0027, \u0027contextMatch\u0027);\r\n      exportKBCallback(\u0027KFCM\u0027, \u0027fullContextMatch\u0027);\r\n      exportKBCallback(\u0027KIK\u0027, \u0027isKeypress\u0027);\r\n      exportKBCallback(\u0027KKM\u0027, \u0027keyMatch\u0027);\r\n      exportKBCallback(\u0027KSM\u0027, \u0027stateMatch\u0027);\r\n      exportKBCallback(\u0027KKI\u0027, \u0027keyInformation\u0027);\r\n      exportKBCallback(\u0027KDM\u0027, \u0027deadkeyMatch\u0027);\r\n      exportKBCallback(\u0027KB\u0027, \u0027beep\u0027);\r\n      exportKBCallback(\u0027KA\u0027, \u0027any\u0027);\r\n      exportKBCallback(\u0027KDC\u0027, \u0027deleteContext\u0027);\r\n      exportKBCallback(\u0027KO\u0027, \u0027output\u0027);\r\n      exportKBCallback(\u0027KDO\u0027, \u0027deadkeyOutput\u0027);\r\n      exportKBCallback(\u0027KCXO\u0027, \u0027contextExOutput\u0027);\r\n      exportKBCallback(\u0027KIO\u0027, \u0027indexOutput\u0027);\r\n      exportKBCallback(\u0027KIFS\u0027, \u0027ifStore\u0027);\r\n      exportKBCallback(\u0027KSETS\u0027, \u0027setStore\u0027);\r\n      exportKBCallback(\u0027KLOAD\u0027, \u0027loadStore\u0027);\r\n      exportKBCallback(\u0027KSAVE\u0027, \u0027saveStore\u0027);\r\n    }\r\n  }\r\n\r\n  (function() {\r\n    // This will be the only call within the keyboard-processor module.\r\n    KeyboardInterface.__publishShorthandAPI();\r\n  }());\r\n}","/// \u003creference path=\"defaultLayouts.ts\" /\u003e\r\n/// \u003creference path=\"activeLayout.ts\" /\u003e\r\n/// \u003creference path=\"../text/kbdInterface.ts\" /\u003e\r\n\r\nnamespace com.keyman.keyboards {\r\n  /**\r\n   * Stores preprocessed properties of a keyboard for quick retrieval later.\r\n   */\r\n  class CacheTag {\r\n    stores: {[storeName: string]: text.ComplexKeyboardStore};\r\n\r\n    constructor() {\r\n      this.stores = {};\r\n    }\r\n  }\r\n\r\n  export enum LayoutState {\r\n    NOT_LOADED = undefined,\r\n    POLYFILLED = 1,\r\n    CALIBRATED = 2\r\n  }\r\n\r\n  /**\r\n   * Acts as a wrapper class for Keyman keyboards compiled to JS, providing type information\r\n   * and keyboard-centered functionality in an object-oriented way without modifying the \r\n   * wrapped keyboard itself.\r\n   */\r\n  export class Keyboard {\r\n    public static DEFAULT_SCRIPT_OBJECT = {\r\n      \u0027gs\u0027: function(outputTarget, keystroke) { return false; }, // no matching rules; rely on defaultRuleOutput entirely\r\n      \u0027KI\u0027: \u0027\u0027, // The currently-existing default keyboard ID; we already have checks that focus against this.\r\n      \u0027KN\u0027: \u0027\u0027,\r\n      \u0027KV\u0027: Layouts.DEFAULT_RAW_SPEC,\r\n      \u0027KM\u0027: 0 // May not be the best default, but this matches current behavior when there is no activeKeyboard.\r\n    }\r\n\r\n    /**\r\n     * This is the object provided to KeyboardInterface.registerKeyboard - that is, the keyboard\r\n     * being wrapped.\r\n     * \r\n     * TODO:  Make this private instead.  But there are a LOT of references that must be rooted out first.\r\n     */\r\n    public readonly scriptObject: any;\r\n    private layoutStates: {[layout: string]: LayoutState};\r\n\r\n    constructor(keyboardScript: any) {\r\n      if(keyboardScript) {\r\n        this.scriptObject = keyboardScript;\r\n      } else {\r\n        this.scriptObject = Keyboard.DEFAULT_SCRIPT_OBJECT;\r\n      }\r\n      this.layoutStates = {};\r\n    }\r\n\r\n    /**\r\n     * Calls the keyboard\u0027s `gs` function, which represents the keyboard source\u0027s group(main).\r\n     */\r\n    process(outputTarget: text.OutputTarget, keystroke: text.KeyEvent): boolean {\r\n      return this.scriptObject[\u0027gs\u0027](outputTarget, keystroke);\r\n    }\r\n\r\n    get isHollow(): boolean {\r\n      return this.scriptObject == Keyboard.DEFAULT_SCRIPT_OBJECT;\r\n    }\r\n\r\n    get id(): string {\r\n      return this.scriptObject[\u0027KI\u0027];\r\n    }\r\n\r\n    get name(): string {\r\n      return this.scriptObject[\u0027KN\u0027];\r\n    }\r\n\r\n    // TODO:  Better typing.\r\n    private get _legacyLayoutSpec(): any {\r\n      return this.scriptObject[\u0027KV\u0027];  // used with buildDefaultLayout; layout must be constructed at runtime.\r\n    }\r\n\r\n    // May return null if no layouts exist or have been initialized.\r\n    private get _layouts(): {[formFactor: string]: LayoutFormFactor} {\r\n      return this.scriptObject[\u0027KVKL\u0027];  // This one is compiled by Developer\u0027s visual keyboard layout editor.\r\n    }\r\n\r\n    private set _layouts(value) {\r\n      this.scriptObject[\u0027KVKL\u0027] = value;\r\n    }\r\n\r\n    get compilerVersion(): utils.Version {\r\n      return new utils.Version(this.scriptObject[\u0027KVER\u0027]);\r\n    }\r\n\r\n    get isMnemonic(): boolean {\r\n      return !!this.scriptObject[\u0027KM\u0027];\r\n    }\r\n\r\n    get definesPositionalOrMnemonic(): boolean {\r\n      return typeof this.scriptObject[\u0027KM\u0027] != \u0027undefined\u0027;\r\n    }\r\n\r\n    /**\r\n     * HTML help text which is a one liner intended for the status bar of the desktop OSK originally.\r\n     * \r\n     * Reference: https://help.keyman.com/developer/language/reference/kmw_helptext\r\n     */\r\n    get helpText(): string {\r\n      return this.scriptObject[\u0027KH\u0027];\r\n    }\r\n\r\n    get hasHelpHTML(): boolean {\r\n      return !!this.scriptObject[\u0027KHF\u0027];\r\n    }\r\n\r\n    /**\r\n     * Replaces the OSK with custom HTML, which may be interactive (like with sil_euro_latin).\r\n     * \r\n     * Reference: https://help.keyman.com/developer/language/reference/kmw_helpfile\r\n     */\r\n    insertHelpHTML(e: any) {\r\n      // e:  Expects the OSKManager\u0027s _Box element.  We don\u0027t add type info here b/c it would\r\n      //     reference the DOM.\r\n      this.scriptObject[\u0027KHF\u0027](e);\r\n    }\r\n\r\n    get oskStyling(): string {\r\n      return this.scriptObject[\u0027KCSS\u0027];\r\n    }\r\n\r\n    /**\r\n     * true if this keyboard uses a (legacy) pick list (Chinese, Japanese, Korean, etc.)\r\n     * \r\n     * TODO:  Make a property on keyboards (say, `isPickList` / `KPL`) to signal this when we\r\n     *        get around to better, generalized picker-list support.\r\n     */    \r\n    get isCJK(): boolean { // I3363 (Build 301)\r\n      var lg: string;\r\n      if(typeof(this.scriptObject[\u0027KLC\u0027]) != \u0027undefined\u0027) {\r\n        lg = this.scriptObject[\u0027KLC\u0027];\r\n      } else if(typeof(this.scriptObject[\u0027LanguageCode\u0027]) != \u0027undefined\u0027) {\r\n        lg = this.scriptObject[\u0027LanguageCode\u0027];\r\n      }\r\n      \r\n      // While some of these aren\u0027t proper BCP-47 language codes, the CJK keyboards predate our use of BCP-47.\r\n      // So, we preserve the old ISO 639-3 codes, as that\u0027s what the keyboards are matching against.\r\n      return ((lg == \u0027cmn\u0027) || (lg == \u0027jpn\u0027) || (lg == \u0027kor\u0027));\r\n    }\r\n\r\n    get isRTL(): boolean {\r\n      return !!this.scriptObject[\u0027KRTL\u0027];\r\n    }\r\n\r\n    /**\r\n     * Obtains the currently-active modifier bitmask for the active keyboard.\r\n     */\r\n    get modifierBitmask(): number {\r\n      // NON_CHIRAL is the default bitmask if KMBM is not defined.\r\n      // We always need a bitmask to compare against, as seen in `isChiral`.\r\n      return this.scriptObject[\u0027KMBM\u0027] || text.Codes.modifierBitmasks[\u0027NON_CHIRAL\u0027];\r\n    }\r\n\r\n    get isChiral(): boolean {\r\n      return !!(this.modifierBitmask \u0026 text.Codes.modifierBitmasks[\u0027IS_CHIRAL\u0027]);\r\n    }\r\n\r\n    get desktopFont(): string {\r\n      if(this.scriptObject[\u0027KV\u0027]) {\r\n        return this.scriptObject[\u0027KV\u0027][\u0027F\u0027];\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    private get cacheTag(): CacheTag {\r\n      let tag = this.scriptObject[\u0027_kmw\u0027];\r\n\r\n      if(!tag) {\r\n        tag = new CacheTag();\r\n        this.scriptObject[\u0027_kmw\u0027] = tag;\r\n      }\r\n\r\n      return tag; \r\n    }\r\n\r\n    get explodedStores(): {[storeName: string]: text.ComplexKeyboardStore} {\r\n      return this.cacheTag.stores;\r\n    }\r\n\r\n    /**\r\n     * Signifies whether or not a layout or OSK should include AltGr / Right-alt emulation for this keyboard.\r\n     * @param   {Object=}   keyLabels\r\n     * @return  {boolean}\r\n     */\r\n    get emulatesAltGr(): boolean {\r\n      let modifierCodes = text.Codes.modifierCodes;\r\n\r\n      // If we\u0027re not chiral, we\u0027re not emulating.\r\n      if(!this.isChiral) {\r\n        return false;\r\n      }\r\n\r\n      if(this._legacyLayoutSpec == null) {\r\n        return false;\r\n      }\r\n      \r\n      // Only exists in KMW 10.0+, but before that Web had no chirality support, so... return false.\r\n      let layers = this._legacyLayoutSpec[\u0027KLS\u0027];\r\n      if(!layers) {\r\n        return false;\r\n      }\r\n\r\n      var emulationMask = modifierCodes[\u0027LCTRL\u0027] | modifierCodes[\u0027LALT\u0027];\r\n      var unshiftedEmulationLayer = layers[Layouts.getLayerId(emulationMask)];\r\n      var shiftedEmulationLayer = layers[Layouts.getLayerId(modifierCodes[\u0027SHIFT\u0027] | emulationMask)];\r\n      \r\n      // buildDefaultLayout ensures that these are aliased to the original modifier set being emulated.\r\n      // As a result, we can directly test for reference equality.\r\n      //\r\n      // This allows us to still return `true` after creating the layers for emulation; during keyboard\r\n      // construction, the two layers should be null for AltGr emulation to succeed.\r\n      if(unshiftedEmulationLayer != null \u0026\u0026 \r\n          unshiftedEmulationLayer != layers[Layouts.getLayerId(modifierCodes[\u0027RALT\u0027])]) {\r\n        return false;\r\n      }\r\n\r\n      if(shiftedEmulationLayer != null \u0026\u0026 \r\n          shiftedEmulationLayer != layers[Layouts.getLayerId(modifierCodes[\u0027RALT\u0027] | modifierCodes[\u0027SHIFT\u0027])]) {\r\n        return false;\r\n      }\r\n\r\n      // It\u0027s technically possible for the OSK to not specify anything while allowing chiral input.  A last-ditch catch:\r\n      var bitmask = this.modifierBitmask;\r\n      if((bitmask \u0026 emulationMask) != emulationMask) {\r\n        // At least one of the emulation modifiers is never used by the keyboard!  We can confirm everything\u0027s safe.\r\n        return true;\r\n      }\r\n\r\n      if(unshiftedEmulationLayer == null \u0026\u0026 shiftedEmulationLayer == null) {\r\n        // We\u0027ve run out of things to go on; we can\u0027t detect if chiral AltGr emulation is intended or not.\r\n        // TODO:  handle this again!\r\n        // if(!osk.altGrWarning) {\r\n        //   console.warn(\"Could not detect if AltGr emulation is safe, but defaulting to active emulation!\")\r\n        //   // Avoid spamming the console with warnings on every call of the method.\r\n        //   osk.altGrWarning = true;\r\n        // }\r\n        return true;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    get usesSupplementaryPlaneChars(): boolean {\r\n      let kbd = this.scriptObject;\r\n      // I3319 - SMP extension, I3363 (Build 301)\r\n      return kbd \u0026\u0026 ((kbd[\u0027KS\u0027] \u0026\u0026 kbd[\u0027KS\u0027] == 1) || kbd[\u0027KN\u0027] == \u0027Hieroglyphic\u0027);\r\n    }\r\n\r\n    usesDesktopLayoutOnDevice(device: utils.DeviceSpec) {\r\n      if(this.scriptObject[\u0027KVKL\u0027]) {\r\n        // A custom mobile layout is defined... but are we using it?\r\n        return device.formFactor == utils.FormFactor.Desktop;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param       {number}    _PCommand     event code (16,17,18) or 0\r\n     * @param       {Object}    _PTarget      target element\r\n     * @param       {number}    _PData        1 or 0    \r\n     * Notifies keyboard of keystroke or other event\r\n     */    \r\n    notify(_PCommand: number, _PTarget: text.OutputTarget, _PData: number) { // I2187\r\n      // Good example use case - the Japanese CJK-picker keyboard\r\n      if(typeof(this.scriptObject[\u0027KNS\u0027]) == \u0027function\u0027) {\r\n        this.scriptObject[\u0027KNS\u0027](_PCommand, _PTarget, _PData);\r\n      }\r\n    }\r\n\r\n    private findOrConstructLayout(formFactor: utils.FormFactor): LayoutFormFactor {\r\n      if(this._layouts) {\r\n        // Search for viable layouts.  `null` is allowed for desktop form factors when help text is available,\r\n        // so we check explicitly against `undefined`.\r\n        if(this._layouts[formFactor] !== undefined) {\r\n          return this._layouts[formFactor];\r\n        } else if(formFactor == utils.FormFactor.Phone \u0026\u0026 this._layouts[utils.FormFactor.Tablet]) {\r\n          return this._layouts[utils.FormFactor.Phone] = this._layouts[utils.FormFactor.Tablet];\r\n        } else if(formFactor == utils.FormFactor.Tablet \u0026\u0026 this._layouts[utils.FormFactor.Phone]) {\r\n          return this._layouts[utils.FormFactor.Tablet] = this._layouts[utils.FormFactor.Phone];\r\n        }\r\n      }\r\n\r\n      // No pre-built layout available; time to start constructing it via defaults.\r\n      // First, if we have non-default keys specified by the [\u0027BK\u0027] array, we\u0027ve got\r\n      // enough to work with to build a default layout.\r\n      let rawSpecifications: any = null;  // TODO:  better typing, same type as this._legacyLayoutSpec.\r\n      if(this._legacyLayoutSpec != null \u0026\u0026 this._legacyLayoutSpec[\u0027KLS\u0027]) { // KLS is only specified whenever there are non-default keys.\r\n        rawSpecifications = this._legacyLayoutSpec;\r\n      } else if(this._legacyLayoutSpec != null \u0026\u0026 this._legacyLayoutSpec[\u0027BK\u0027] != null) {\r\n        var keyCaps=this._legacyLayoutSpec[\u0027BK\u0027];\r\n        for(var i=0; i\u003ckeyCaps.length; i++) {\r\n          if(keyCaps[i].length \u003e 0) {\r\n            rawSpecifications = this._legacyLayoutSpec;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If we don\u0027t have key definitions to use for a layout but also lack help text or are a touch-based layout,\r\n      // we make a default layout anyway.  We have to show display something usable.\r\n      if(!rawSpecifications \u0026\u0026 (this.helpText == \u0027\u0027 || formFactor != utils.FormFactor.Desktop)) {\r\n        rawSpecifications = {\u0027F\u0027:\u0027Tahoma\u0027, \u0027BK\u0027: Layouts.dfltText};\r\n      }\r\n\r\n      // Regardless of success, we\u0027ll want to initialize the field that backs the property; \r\n      // may as well cache the default layout we just built, or a \u0027null\u0027 if it shouldn\u0027t exist..\r\n      if(!this._layouts) {\r\n        this._layouts = {};\r\n      }\r\n\r\n      // Final check - do we construct a layout, or is this a case where helpText / insertHelpHTML should take over?\r\n      if(rawSpecifications) {\r\n        // Now to generate a layout from our raw specifications.\r\n        let layout = this._layouts[formFactor] = Layouts.buildDefaultLayout(rawSpecifications, this, formFactor);\r\n        layout.isDefault = true;\r\n        return layout;\r\n      } else {\r\n        // The fact that it doesn\u0027t exist will indicate that help text/HTML should be inserted instead.\r\n        this._layouts[formFactor] = null; // provides a cached value for the check at the top of this method.\r\n        return null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns an ActiveLayout object representing the keyboard\u0027s layout for this form factor.  May return null if a custom desktop \"help\" OSK is defined, as with sil_euro_latin.\r\n     * \r\n     * In such cases, please use either `helpText` or `insertHelpHTML` instead.\r\n     * @param formFactor {string} The desired form factor for the layout.\r\n     */\r\n    public layout(formFactor: utils.FormFactor): ActiveLayout {\r\n      let rawLayout = this.findOrConstructLayout(formFactor);\r\n\r\n      if(rawLayout) {\r\n        // Prevents accidentally reprocessing layouts; it\u0027s a simple enough check.\r\n        if(this.layoutStates[formFactor] == LayoutState.NOT_LOADED) {\r\n          rawLayout = ActiveLayout.polyfill(rawLayout, this, formFactor);\r\n          this.layoutStates[formFactor] = LayoutState.POLYFILLED;\r\n        }\r\n\r\n        return rawLayout as ActiveLayout;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    public refreshLayouts() {\r\n      let formFactors = [ utils.FormFactor.Desktop, utils.FormFactor.Phone, utils.FormFactor.Tablet ];\r\n\r\n      let _this = this;\r\n\r\n      formFactors.forEach(function(form) {\r\n        // Currently doesn\u0027t work if we reset it to POLYFILLED, likely due to how \u0027calibration\u0027\r\n        // currently works.\r\n        _this.layoutStates[form] = LayoutState.NOT_LOADED;\r\n      });\r\n    }\r\n\r\n    public markLayoutCalibrated(formFactor: utils.FormFactor) {\r\n      if(this.layoutStates[formFactor] != LayoutState.NOT_LOADED) {\r\n        this.layoutStates[formFactor] = LayoutState.CALIBRATED;\r\n      }\r\n    }\r\n\r\n    public getLayoutState(formFactor: utils.FormFactor) {\r\n      return this.layoutStates[formFactor];\r\n    }\r\n  }\r\n}","/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\nnamespace com.keyman {\r\n\r\n  class KeyMap {\r\n    [keycode: string]: number;\r\n  }\r\n\r\n  class BrowserKeyMaps {\r\n    FF:     KeyMap = new KeyMap();\r\n    Safari: KeyMap = new KeyMap();\r\n    Opera:  KeyMap = new KeyMap();\r\n\r\n    constructor() {\r\n      // All three have been around since at least May 2014 / FF 29.\r\n      // It\u0027d hard to find precise history, but at least that much has been confirmed.\r\n      // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode, on Feb 26 2021.\r\n      this.FF[\u0027k61\u0027] = 187;  // =   // FF 2.0\r\n      this.FF[\u0027k59\u0027] = 186;  // ;\r\n      this.FF[\u0027k173\u0027] = 189; // -/_\r\n    }\r\n  }\r\n\r\n  class LanguageKeyMaps {\r\n    [languageCode: string]: KeyMap;\r\n\r\n    // // Here are some old legacy definitions that were no longer referenced but are likely related:\r\n    // static _BaseLayoutEuro: {[code: string]: string} = {\r\n    //   \u0027se\u0027: \u0027\\u00a71234567890+´~~~QWERTYUIOP\\u00c5\\u00a8\\\u0027~~~ASDFGHJKL\\u00d6\\u00c4~~~~~\u003cZXCVBNM,.-~~~~~ \u0027,  // Swedish\r\n    //   \u0027uk\u0027: \u0027`1234567890-=~~~QWERTYUIOP[]#~~~ASDFGHJKL;\\\u0027~~~~~\\\\ZXCVBNM,./~~~~~ \u0027 // UK\r\n\r\n    constructor() {\r\n      /* I732 START - 13/03/2007 MCD: Swedish: Start mapping of keystroke to US keyboard #2 */\r\n      // Swedish key map\r\n      this[\u0027se\u0027] = new KeyMap();\r\n      this[\u0027se\u0027][\u0027k220\u0027] =  192; // `\r\n      this[\u0027se\u0027][\u0027k187\u0027] =  189; // -\r\n      this[\u0027se\u0027][\u0027k219\u0027] =  187; // =\r\n      this[\u0027se\u0027][\u0027k221\u0027] =  219; // [\r\n      this[\u0027se\u0027][\u0027k186\u0027] =  221; // ]\r\n      this[\u0027se\u0027][\u0027k191\u0027] =  220; // \\\r\n      this[\u0027se\u0027][\u0027k192\u0027] =  186; // ;\r\n      this[\u0027se\u0027][\u0027k189\u0027] =  191; // /\r\n\r\n      this[\u0027uk\u0027] = new KeyMap();  // I1299\r\n      this[\u0027uk\u0027][\u0027k223\u0027] =  192; // // ` U+00AC (logical not) =\u003e  ` ~\r\n      this[\u0027uk\u0027][\u0027k192\u0027] =  222; // \u0027 @  =\u003e  \u0027 \"\r\n      this[\u0027uk\u0027][\u0027k222\u0027] =  226; // # ~  =\u003e K_oE2     // I1504 - UK keyboard mixup #, \\\r\n      this[\u0027uk\u0027][\u0027k220\u0027] =  220; // \\ |  =\u003e \\ |       // I1504 - UK keyboard mixup #, \\\r\n    }\r\n  }\r\n\r\n  export class KeyMapping {\r\n    static readonly browserMap: BrowserKeyMaps = new BrowserKeyMaps();\r\n    static readonly languageMap: LanguageKeyMaps = new LanguageKeyMaps();\r\n\r\n    private static _usCharCodes: KeyMap[];\r\n\r\n    private constructor() {\r\n      // Do not construct this class.\r\n    }\r\n\r\n    private static _usCodeInit() {\r\n      var s0=new KeyMap(),s1=new KeyMap();\r\n\r\n      s0[\u0027k192\u0027] = 96;\r\n      s0[\u0027k49\u0027] = 49;\r\n      s0[\u0027k50\u0027] = 50;\r\n      s0[\u0027k51\u0027] = 51;\r\n      s0[\u0027k52\u0027] = 52;\r\n      s0[\u0027k53\u0027] = 53;\r\n      s0[\u0027k54\u0027] = 54;\r\n      s0[\u0027k55\u0027] = 55;\r\n      s0[\u0027k56\u0027] = 56;\r\n      s0[\u0027k57\u0027] = 57;\r\n      s0[\u0027k48\u0027] = 48;\r\n      s0[\u0027k189\u0027] = 45;\r\n      s0[\u0027k187\u0027] = 61;\r\n      s0[\u0027k81\u0027] = 113;\r\n      s0[\u0027k87\u0027] = 119;\r\n      s0[\u0027k69\u0027] = 101;\r\n      s0[\u0027k82\u0027] = 114;\r\n      s0[\u0027k84\u0027] = 116;\r\n      s0[\u0027k89\u0027] = 121;\r\n      s0[\u0027k85\u0027] = 117;\r\n      s0[\u0027k73\u0027] = 105;\r\n      s0[\u0027k79\u0027] = 111;\r\n      s0[\u0027k80\u0027] = 112;\r\n      s0[\u0027k219\u0027] = 91;\r\n      s0[\u0027k221\u0027] = 93;\r\n      s0[\u0027k220\u0027] = 92;\r\n      s0[\u0027k65\u0027] = 97;\r\n      s0[\u0027k83\u0027] = 115;\r\n      s0[\u0027k68\u0027] = 100;\r\n      s0[\u0027k70\u0027] = 102;\r\n      s0[\u0027k71\u0027] = 103;\r\n      s0[\u0027k72\u0027] = 104;\r\n      s0[\u0027k74\u0027] = 106;\r\n      s0[\u0027k75\u0027] = 107;\r\n      s0[\u0027k76\u0027] = 108;\r\n      s0[\u0027k186\u0027] = 59;\r\n      s0[\u0027k222\u0027] = 39;\r\n      s0[\u0027k90\u0027] = 122;\r\n      s0[\u0027k88\u0027] = 120;\r\n      s0[\u0027k67\u0027] = 99;\r\n      s0[\u0027k86\u0027] = 118;\r\n      s0[\u0027k66\u0027] = 98;\r\n      s0[\u0027k78\u0027] = 110;\r\n      s0[\u0027k77\u0027] = 109;\r\n      s0[\u0027k188\u0027] = 44;\r\n      s0[\u0027k190\u0027] = 46;\r\n      s0[\u0027k191\u0027] = 47;\r\n\r\n      s1[\u0027k192\u0027] = 126;\r\n      s1[\u0027k49\u0027] = 33;\r\n      s1[\u0027k50\u0027] = 64;\r\n      s1[\u0027k51\u0027] = 35;\r\n      s1[\u0027k52\u0027] = 36;\r\n      s1[\u0027k53\u0027] = 37;\r\n      s1[\u0027k54\u0027] = 94;\r\n      s1[\u0027k55\u0027] = 38;\r\n      s1[\u0027k56\u0027] = 42;\r\n      s1[\u0027k57\u0027] = 40;\r\n      s1[\u0027k48\u0027] = 41;\r\n      s1[\u0027k189\u0027] = 95;\r\n      s1[\u0027k187\u0027] = 43;\r\n      s1[\u0027k81\u0027] = 81;\r\n      s1[\u0027k87\u0027] = 87;\r\n      s1[\u0027k69\u0027] = 69;\r\n      s1[\u0027k82\u0027] = 82;\r\n      s1[\u0027k84\u0027] = 84;\r\n      s1[\u0027k89\u0027] = 89;\r\n      s1[\u0027k85\u0027] = 85;\r\n      s1[\u0027k73\u0027] = 73;\r\n      s1[\u0027k79\u0027] = 79;\r\n      s1[\u0027k80\u0027] = 80;\r\n      s1[\u0027k219\u0027] = 123;\r\n      s1[\u0027k221\u0027] = 125;\r\n      s1[\u0027k220\u0027] = 124;\r\n      s1[\u0027k65\u0027] = 65;\r\n      s1[\u0027k83\u0027] = 83;\r\n      s1[\u0027k68\u0027] = 68;\r\n      s1[\u0027k70\u0027] = 70;\r\n      s1[\u0027k71\u0027] = 71;\r\n      s1[\u0027k72\u0027] = 72;\r\n      s1[\u0027k74\u0027] = 74;\r\n      s1[\u0027k75\u0027] = 75;\r\n      s1[\u0027k76\u0027] = 76;\r\n      s1[\u0027k186\u0027] = 58;\r\n      s1[\u0027k222\u0027] = 34;\r\n      s1[\u0027k90\u0027] = 90;\r\n      s1[\u0027k88\u0027] = 88;\r\n      s1[\u0027k67\u0027] = 67;\r\n      s1[\u0027k86\u0027] = 86;\r\n      s1[\u0027k66\u0027] = 66;\r\n      s1[\u0027k78\u0027] = 78;\r\n      s1[\u0027k77\u0027] = 77;\r\n      s1[\u0027k188\u0027] = 60;\r\n      s1[\u0027k190\u0027] = 62;\r\n      s1[\u0027k191\u0027] = 63;\r\n\r\n      KeyMapping._usCharCodes = [s0,s1];\r\n    }\r\n\r\n    /**\r\n     * Function     _USKeyCodeToCharCode\r\n     * Scope        Private\r\n     * @param       {Event}     Levent      KMW event object\r\n     * @return      {number}                Character code \r\n     * Description Translate keyboard codes to standard US layout codes\r\n     */    \r\n    static _USKeyCodeToCharCode(Levent: com.keyman.text.KeyEvent) {\r\n      return KeyMapping.usCharCodes[Levent.Lmodifiers \u0026 0x10 ? 1 : 0][\u0027k\u0027+Levent.Lcode];\r\n    };\r\n\r\n    public static get usCharCodes() {\r\n      if(!KeyMapping._usCharCodes) {\r\n        KeyMapping._usCodeInit();\r\n      }\r\n\r\n      return KeyMapping._usCharCodes;\r\n    }\r\n  }\r\n}","// Establishes key-code definitions.\r\n/// \u003creference path=\"codes.ts\" /\u003e\r\n// Defines our generalized \"KeyEvent\" class.\r\n/// \u003creference path=\"keyEvent.ts\" /\u003e\r\n// Defines the RuleBehavior keyboard-processing return object.\r\n/// \u003creference path=\"ruleBehavior.ts\" /\u003e\r\n// Defines default key handling behaviors.\r\n/// \u003creference path=\"defaultOutput.ts\" /\u003e\r\n// Defines the keyboard wrapper object.\r\n/// \u003creference path=\"../keyboards/keyboard.ts\" /\u003e\r\n// Defines built-in keymapping.\r\n/// \u003creference path=\"keyMapping.ts\" /\u003e\r\n\r\n// Also relies on @keymanapp/web-utils, which is included via tsconfig.json.\r\n\r\nnamespace com.keyman.text {\r\n  export type BeepHandler = (outputTarget: OutputTarget) =\u003e void;\r\n  export type LogMessageHandler = (str: string) =\u003e void;\r\n\r\n  export interface VariableStoreSerializer {\r\n    loadStore(keyboardID: string, storeName: string): VariableStore;\r\n    saveStore(keyboardID: string, storeName: string, storeMap: VariableStore);\r\n  }\r\n\r\n  export interface ProcessorInitOptions {\r\n    baseLayout?: string;\r\n    variableStoreSerializer?: VariableStoreSerializer;\r\n  }\r\n\r\n  export class KeyboardProcessor {\r\n    public static readonly DEFAULT_OPTIONS: ProcessorInitOptions = {\r\n      baseLayout: \u0027us\u0027\r\n    }\r\n\r\n    // Tracks the simulated value for supported state keys, allowing the OSK to mirror a physical keyboard for them.\r\n    // Using the exact keyCode name from the Codes definitions will allow for certain optimizations elsewhere in the code.\r\n    stateKeys = {\r\n      \"K_CAPS\":false,\r\n      \"K_NUMLOCK\":false,\r\n      \"K_SCROLL\":false\r\n    };\r\n\r\n    // Tracks the most recent modifier state information in order to quickly detect changes\r\n    // in keyboard state not otherwise captured by the hosting page in the browser.\r\n    // Needed for AltGr simulation.\r\n    modStateFlags: number = 0;\r\n\r\n    keyboardInterface: KeyboardInterface;\r\n\r\n    baseLayout: string;\r\n\r\n    // Callbacks for various feedback types\r\n    beepHandler?: BeepHandler;\r\n    warningLogger?: LogMessageHandler;\r\n    errorLogger?: LogMessageHandler;\r\n\r\n    constructor(options?: ProcessorInitOptions) {\r\n      if(!options) {\r\n        options = KeyboardProcessor.DEFAULT_OPTIONS;\r\n      }\r\n\r\n      this.baseLayout = options.baseLayout || KeyboardProcessor.DEFAULT_OPTIONS.baseLayout;\r\n      this.keyboardInterface = new KeyboardInterface(options.variableStoreSerializer);\r\n      this.installInterface();\r\n    }\r\n\r\n    private installInterface() {\r\n      // We must ensure that the keyboard can find the API functions at the expected place.\r\n      let globalThis = utils.getGlobalObject();\r\n      globalThis[KeyboardInterface.GLOBAL_NAME] = this.keyboardInterface;\r\n\r\n      // Ensure that the active keyboard is set on the keyboard interface object.\r\n      if(this.activeKeyboard) {\r\n        this.keyboardInterface.activeKeyboard = this.activeKeyboard;\r\n      }\r\n    }\r\n\r\n    public get activeKeyboard(): keyboards.Keyboard {\r\n      return this.keyboardInterface.activeKeyboard;\r\n    }\r\n\r\n    public set activeKeyboard(keyboard: keyboards.Keyboard) {\r\n      this.keyboardInterface.activeKeyboard = keyboard;\r\n\r\n      // All old deadkeys and keyboard-specific cache should immediately be invalidated\r\n      // on a keyboard change.\r\n      this.resetContext();\r\n    }\r\n\r\n    get layerStore(): MutableSystemStore {\r\n      return this.keyboardInterface.systemStores[KeyboardInterface.TSS_LAYER] as MutableSystemStore;\r\n    }\r\n\r\n    public get layerId(): string {\r\n      return this.layerStore.value;\r\n    }\r\n\r\n    // Note:  will trigger an \u0027event\u0027 callback designed to notify the OSK of layer changes.\r\n    public set layerId(value: string) {\r\n      this.layerStore.set(value);\r\n    }\r\n\r\n    /**\r\n     * Get the default RuleBehavior for the specified key, attempting to mimic standard browser defaults \r\n     * where and when appropriate.\r\n     *\r\n     * @param   {object}  Lkc           The pre-analyzed KeyEvent object\r\n     * @param   {boolean} outputTarget  The OutputTarget receiving the KeyEvent\r\n     * @return  {string}\r\n     */\r\n    defaultRuleBehavior(Lkc: KeyEvent, outputTarget: OutputTarget): RuleBehavior {\r\n      let preInput = Mock.from(outputTarget);\r\n      let ruleBehavior = new RuleBehavior();\r\n\r\n      let matched = false;\r\n      var char = \u0027\u0027;\r\n      var special: EmulationKeystrokes;\r\n      if(Lkc.isSynthetic || outputTarget.isSynthetic) {\r\n        matched = true;  // All the conditions below result in matches until the final else, which restores the expected default\r\n                         // if no match occurs.\r\n\r\n        if(DefaultOutput.isCommand(Lkc)) {\r\n          // Note this in the rule behavior, return successfully.  We\u0027ll consider applying it later.\r\n          ruleBehavior.triggersDefaultCommand = true;\r\n\r\n          // We\u0027d rather let the browser handle these keys, but we\u0027re using emulated keystrokes, forcing KMW\r\n          // to emulate default behavior here.\r\n        } else if((special = DefaultOutput.forSpecialEmulation(Lkc)) != null) { \r\n          switch(special) {\r\n            case EmulationKeystrokes.Backspace:\r\n              this.keyboardInterface.defaultBackspace(outputTarget);\r\n              break;\r\n            case EmulationKeystrokes.Enter:\r\n              outputTarget.handleNewlineAtCaret();\r\n              break;\r\n            // case \u0027\\u007f\u0027: // K_DEL\r\n              // // For (possible) future implementation.\r\n              // // Would recommend (conceptually) equaling K_RIGHT + K_BKSP, the former of which would technically be a \u0027command\u0027.\r\n            default:\r\n              // In case we extend the allowed set, but forget to implement its handling case above.\r\n              ruleBehavior.errorLog = \"Unexpected \u0027special emulation\u0027 character (\\\\u\" + (special as String).kmwCharCodeAt(0).toString(16) + \") went unhandled!\";\r\n          } \r\n        } else {\r\n          // Back to the standard default, pending normal matching.\r\n          matched = false;\r\n        }\r\n      } \r\n\r\n      let isMnemonic = this.activeKeyboard \u0026\u0026 this.activeKeyboard.isMnemonic;\r\n\r\n      if(!matched) {\r\n        if((char = DefaultOutput.forAny(Lkc, isMnemonic)) != null) {\r\n          special = DefaultOutput.forSpecialEmulation(Lkc)\r\n          if(special == EmulationKeystrokes.Backspace) {\r\n            // A browser\u0027s default backspace may fail to delete both parts of an SMP character.\r\n            this.keyboardInterface.defaultBackspace(outputTarget);\r\n          } else if(special || DefaultOutput.isCommand(Lkc)) { // Filters out \u0027commands\u0027 like TAB.\r\n            // We only do the \"for special emulation\" cases under the condition above... aside from backspace\r\n            // Let the browser handle those.\r\n            return null;\r\n          } else {\r\n            this.keyboardInterface.output(0, outputTarget, char);\r\n          }\r\n        } else {\r\n          // No match, no default RuleBehavior.\r\n          return null;\r\n        }\r\n      }\r\n\r\n      // Shortcut things immediately if there were issues generating this rule behavior.\r\n      if(ruleBehavior.errorLog) {\r\n        return ruleBehavior;\r\n      }\r\n\r\n      let transcription = outputTarget.buildTranscriptionFrom(preInput, Lkc);\r\n      ruleBehavior.transcription = transcription;\r\n\r\n      return ruleBehavior;\r\n    }\r\n\r\n    setSyntheticEventDefaults(Lkc: text.KeyEvent) {\r\n      // Set the flags for the state keys.\r\n      Lkc.Lstates |= this.stateKeys[\u0027K_CAPS\u0027]    ? Codes.modifierCodes[\u0027CAPS\u0027] : Codes.modifierCodes[\u0027NO_CAPS\u0027];\r\n      Lkc.Lstates |= this.stateKeys[\u0027K_NUMLOCK\u0027] ? Codes.modifierCodes[\u0027NUM_LOCK\u0027] : Codes.modifierCodes[\u0027NO_NUM_LOCK\u0027];\r\n      Lkc.Lstates |= this.stateKeys[\u0027K_SCROLL\u0027]  ? Codes.modifierCodes[\u0027SCROLL_LOCK\u0027] : Codes.modifierCodes[\u0027NO_SCROLL_LOCK\u0027];\r\n\r\n      // Set LisVirtualKey to false to ensure that nomatch rule does fire for U_xxxx keys\r\n      if(Lkc.kName \u0026\u0026 Lkc.kName.substr(0,2) == \u0027U_\u0027) {\r\n        Lkc.LisVirtualKey=false;\r\n      }\r\n\r\n      // Get code for non-physical keys (T_KOKAI, U_05AB etc)\r\n      if(typeof Lkc.Lcode == \u0027undefined\u0027) {\r\n        Lkc.Lcode = this.getVKDictionaryCode(Lkc.kName);// Updated for Build 347\r\n        if(!Lkc.Lcode) {\r\n          // Special case for U_xxxx keys. This vk code will never be used\r\n          // in a keyboard, so we use this to ensure that keystroke processing\r\n          // occurs for the key.\r\n          Lkc.Lcode = 1; \r\n        }\r\n      }\r\n\r\n      // Handles modifier states when the OSK is emulating rightalt through the leftctrl-leftalt layer.\r\n      if((Lkc.Lmodifiers \u0026 Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027]) == Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027] \u0026\u0026 this.activeKeyboard.emulatesAltGr) {\r\n        Lkc.Lmodifiers \u0026= ~Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027];\r\n        Lkc.Lmodifiers |= Codes.modifierCodes[\u0027RALT\u0027];\r\n      }\r\n    }\r\n\r\n    processKeystroke(keyEvent: KeyEvent, outputTarget: OutputTarget): RuleBehavior {\r\n      var matchBehavior: RuleBehavior;\r\n\r\n      // Pass this key code and state to the keyboard program\r\n      if(this.activeKeyboard \u0026\u0026 keyEvent.Lcode != 0) {\r\n        /*\r\n         * The `this.installInterface()` call is insurance against something I\u0027ve seen in unit tests when things break a bit.\r\n         *\r\n         * Currently, when a KMW shutdown doesn\u0027t go through properly or completely, sometimes we end up with parallel\r\n         * versions of KMW running, and an old, partially-shutdown one will \"snipe\" a command meant for the most-recent \r\n         * one\u0027s test. So, installing here ensures that the active Processor has its matching KeyboardInterface ready, \r\n         * even should that occur.\r\n         */\r\n        this.installInterface();\r\n        matchBehavior = this.keyboardInterface.processKeystroke(outputTarget, keyEvent);\r\n      }\r\n\r\n      if(!matchBehavior) {\r\n        // Restore the virtual key code if a mnemonic keyboard is being used\r\n        // If no vkCode value was stored, maintain the original Lcode value.\r\n        keyEvent.Lcode=keyEvent.vkCode || keyEvent.Lcode;\r\n\r\n        // Handle unmapped keys, including special keys\r\n        // The following is physical layout dependent, so should be avoided if possible.  All keys should be mapped.\r\n        this.keyboardInterface.activeTargetOutput = outputTarget;\r\n\r\n        // Match against the \u0027default keyboard\u0027 - rules to mimic the default string output when typing in a browser.\r\n        // Many keyboards rely upon these \u0027implied rules\u0027.\r\n        matchBehavior = this.defaultRuleBehavior(keyEvent, outputTarget);\r\n\r\n        this.keyboardInterface.activeTargetOutput = null;\r\n      }\r\n\r\n      return matchBehavior;\r\n    }\r\n\r\n    // FIXME:  makes some bad assumptions.\r\n    static setMnemonicCode(Lkc: KeyEvent, shifted: boolean, capsActive: boolean) {\r\n      // K_SPACE is not handled by defaultKeyOutput for physical keystrokes unless using touch-aliased elements.\r\n      // It\u0027s also a \"exception required, March 2013\" for clickKey, so at least they both have this requirement.\r\n      if(Lkc.Lcode != Codes.keyCodes[\u0027K_SPACE\u0027]) {\r\n        // So long as the key name isn\u0027t prefixed with \u0027U_\u0027, we\u0027ll get a default mapping based on the Lcode value.\r\n        // We need to determine the mnemonic base character - for example, SHIFT + K_PERIOD needs to map to \u0027\u003e\u0027.\r\n        let mappingEvent: KeyEvent = new KeyEvent();\r\n        for(var key in Lkc) {\r\n          mappingEvent[key] = Lkc[key];\r\n        }\r\n        \r\n        // To facilitate storing relevant commands, we should probably reverse-lookup\r\n        // the actual keyname instead.\r\n        mappingEvent.kName = \u0027K_xxxx\u0027;\r\n        mappingEvent.Lmodifiers = (shifted ? 0x10 : 0);  // mnemonic lookups only exist for default \u0026 shift layers.\r\n        var mappedChar: string = DefaultOutput.forAny(mappingEvent, true);\r\n        \r\n        /* First, save a backup of the original code.  This one won\u0027t needlessly trigger keyboard\r\n         * rules, but allows us to replicate/emulate commands after rule processing if needed.\r\n         * (Like backspaces)\r\n         */\r\n        Lkc.vkCode = Lkc.Lcode;\r\n        if(mappedChar) {\r\n          // Will return 96 for \u0027a\u0027, which is a keycode corresponding to Codes.keyCodes(\u0027K_NP1\u0027) - a numpad key.\r\n          // That stated, we\u0027re in mnemonic mode - this keyboard\u0027s rules are based on the char codes.\r\n          Lkc.Lcode = mappedChar.charCodeAt(0);\r\n        } else {\r\n          // Don\u0027t let command-type keys (like K_DEL, which will output \u0027.\u0027 otherwise!)\r\n          // trigger keyboard rules.\r\n          //\r\n          // However, DO make sure modifier keys pass through safely.\r\n          // (https://github.com/keymanapp/keyman/issues/3744)\r\n          if(!KeyboardProcessor.isModifier(Lkc)) {\r\n            delete Lkc.Lcode;\r\n          }\r\n        }\r\n      }\r\n\r\n      if(capsActive) {\r\n        // TODO:  Needs fixing - does not properly mirror physical keystrokes, as Lcode range 96-111 corresponds\r\n        // to numpad keys!  (Physical keyboard section has its own issues here.)\r\n        if((Lkc.Lcode \u003e= 65 \u0026\u0026 Lkc.Lcode \u003c= 90) /* \u0027A\u0027 - \u0027Z\u0027 */ || (Lkc.Lcode \u003e= 97 \u0026\u0026 Lkc.Lcode \u003c= 122) /* \u0027a\u0027 - \u0027z\u0027 */) {\r\n          Lkc.Lmodifiers ^= 0x10;  // Flip the \u0027shifted\u0027 bit, so it\u0027ll act as the opposite key.\r\n          Lkc.Lcode ^= 0x20; // Flips the \u0027upper\u0027 vs \u0027lower\u0027 bit for the base \u0027a\u0027-\u0027z\u0027 ASCII alphabetics.\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get modifier key state from layer id\r\n     *\r\n     * @param       {string}      layerId       layer id (e.g. ctrlshift)\r\n     * @return      {number}                    modifier key state (desktop keyboards)\r\n     */\r\n    static getModifierState(layerId: string): number {\r\n      var modifier=0;\r\n      if(layerId.indexOf(\u0027shift\u0027) \u003e= 0) {\r\n        modifier |= Codes.modifierCodes[\u0027SHIFT\u0027];\r\n      }\r\n\r\n      // The chiral checks must not be directly exclusive due each other to visual OSK feedback.\r\n      var ctrlMatched=false;\r\n      if(layerId.indexOf(\u0027leftctrl\u0027) \u003e= 0) {\r\n        modifier |= Codes.modifierCodes[\u0027LCTRL\u0027];\r\n        ctrlMatched=true;\r\n      } \r\n      if(layerId.indexOf(\u0027rightctrl\u0027) \u003e= 0) {\r\n        modifier |= Codes.modifierCodes[\u0027RCTRL\u0027];\r\n        ctrlMatched=true;\r\n      } \r\n      if(layerId.indexOf(\u0027ctrl\u0027)  \u003e= 0 \u0026\u0026 !ctrlMatched) {\r\n        modifier |= Codes.modifierCodes[\u0027CTRL\u0027];\r\n      }\r\n\r\n      var altMatched=false;\r\n      if(layerId.indexOf(\u0027leftalt\u0027) \u003e= 0) {\r\n        modifier |= Codes.modifierCodes[\u0027LALT\u0027];\r\n        altMatched=true;\r\n      } \r\n      if(layerId.indexOf(\u0027rightalt\u0027) \u003e= 0) {\r\n        modifier |= Codes.modifierCodes[\u0027RALT\u0027];\r\n        altMatched=true;\r\n      } \r\n      if(layerId.indexOf(\u0027alt\u0027)  \u003e= 0 \u0026\u0026 !altMatched) {\r\n        modifier |= Codes.modifierCodes[\u0027ALT\u0027];\r\n      }\r\n\r\n      return modifier;\r\n    }\r\n\r\n    /**\r\n     * @summary Look up a custom virtual key code in the virtual key code dictionary KVKD.  On first run, will build the dictionary.\r\n     *\r\n     * `VKDictionary` is constructed from the keyboard\u0027s `KVKD` member. This list is constructed \r\n     * at compile-time and is a list of \u0027additional\u0027 virtual key codes, starting at 256 (i.e. \r\n     * outside the range of standard virtual key codes). These additional codes are both \r\n     * `[T_xxx]` and `[U_xxxx]` custom key codes from the Keyman keyboard language. However, \r\n     * `[U_xxxx]` keys only generate an entry in `KVKD` if there is a corresponding rule that \r\n     * is associated with them in the keyboard rules. If the `[U_xxxx]` key code is only \r\n     * referenced as the id of a key in the touch layout, then it does not get an entry in \r\n     * the `KVKD` property.\r\n     *\r\n     * @private\r\n     * @param       {string}      keyName   custom virtual key code to lookup in the dictionary\r\n     * @return      {number}                key code \u003e 255 on success, or 0 if not found\r\n     */\r\n    getVKDictionaryCode(keyName: string) {\r\n      var activeKeyboard = this.activeKeyboard;\r\n      if(!activeKeyboard.scriptObject[\u0027VKDictionary\u0027]) {\r\n        var a=[];\r\n        if(typeof activeKeyboard.scriptObject[\u0027KVKD\u0027] == \u0027string\u0027) {\r\n          // Build the VK dictionary\r\n          // TODO: Move the dictionary build into the compiler -- so compiler generates code such as following.  \r\n          // Makes the VKDictionary member unnecessary.\r\n          //       this.KVKD={\"K_ABC\":256,\"K_DEF\":257,...};\r\n          var s=activeKeyboard.scriptObject[\u0027KVKD\u0027].split(\u0027 \u0027);\r\n          for(var i=0; i\u003cs.length; i++) {\r\n            a[s[i].toUpperCase()]=i+256; // We force upper-case since virtual keys should be case-insensitive.\r\n          }\r\n        }\r\n        activeKeyboard.scriptObject[\u0027VKDictionary\u0027]=a;\r\n      }\r\n\r\n      var res=activeKeyboard.scriptObject[\u0027VKDictionary\u0027][keyName.toUpperCase()];\r\n      return res ? res : 0;\r\n    }\r\n\r\n    /**\r\n     * Function     _UpdateVKShift\r\n     * Scope        Private\r\n     * @param       {Object}            e     OSK event\r\n     * @param       {number}            v     keyboard shift state\r\n     * @param       {(boolean|number)}  d     set (1) or clear(0) shift state bits\r\n     * @return      {boolean}                 Always true\r\n     * Description  Updates the current shift state within KMW, updating the OSK\u0027s visualization thereof.\r\n     */\r\n    _UpdateVKShift(e: KeyEvent, v: number, d: boolean|number): boolean {\r\n      var keyShiftState=0, lockStates=0, i;\r\n\r\n      var lockNames  = [\u0027CAPS\u0027, \u0027NUM_LOCK\u0027, \u0027SCROLL_LOCK\u0027];\r\n      var lockKeys   = [\u0027K_CAPS\u0027, \u0027K_NUMLOCK\u0027, \u0027K_SCROLL\u0027];\r\n\r\n      if(!this.activeKeyboard) {\r\n        return true;\r\n      }\r\n\r\n      if(e) {\r\n        // read shift states from Pevent\r\n        keyShiftState = e.Lmodifiers;\r\n        lockStates = e.Lstates;\r\n\r\n        // Are we simulating AltGr?  If it\u0027s a simulation and not real, time to un-simulate for the OSK.\r\n        if(this.activeKeyboard.isChiral \u0026\u0026 (this.activeKeyboard.emulatesAltGr) \u0026\u0026 \r\n            (this.modStateFlags \u0026 Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027]) == Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027]) {\r\n          keyShiftState |= Codes.modifierBitmasks[\u0027ALT_GR_SIM\u0027];\r\n          keyShiftState \u0026= ~Codes.modifierCodes[\u0027RALT\u0027];\r\n        }\r\n\r\n        for(i=0; i \u003c lockNames.length; i++) {\r\n          if(lockStates \u0026 Codes.stateBitmasks[lockNames[i]]) {\r\n            this.stateKeys[lockKeys[i]] = lockStates \u0026 Codes.modifierCodes[lockNames[i]];\r\n          }\r\n        }\r\n      } else if(d) {\r\n        keyShiftState |= v;\r\n\r\n        for(i=0; i \u003c lockNames.length; i++) {\r\n          if(v \u0026 Codes.stateBitmasks[lockNames[i]]) {\r\n            this.stateKeys[lockKeys[i]] = true;\r\n          }\r\n        }\r\n      } else {\r\n        keyShiftState \u0026= ~v;\r\n\r\n        for(i=0; i \u003c lockNames.length; i++) {\r\n          if(v \u0026 Codes.stateBitmasks[lockNames[i]]) {\r\n            this.stateKeys[lockKeys[i]] = false;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.layerId = this.getLayerId(keyShiftState);\r\n      return true;\r\n    }\r\n\r\n    getLayerId(modifier: number): string {\r\n      return keyboards.Layouts.getLayerId(modifier);\r\n    }\r\n\r\n    /**\r\n     * Select the OSK\u0027s next keyboard layer based upon layer switching keys as a default\r\n     * The next layer will be determined from the key name unless otherwise specifed\r\n     *\r\n     *  @param  {string}                    keyName     key identifier\r\n     *  @param  {number|string|undefined}   nextLayerIn optional next layer identifier\r\n     *  @return {boolean}                               return true if keyboard layer changed\r\n     */\r\n    selectLayer(keyEvent: KeyEvent, fromNameOnly: boolean = false): boolean {\r\n      let keyName = keyEvent.kName;\r\n      var nextLayer = fromNameOnly ? null : keyEvent.kNextLayer;\r\n      var isChiral = this.activeKeyboard \u0026\u0026 this.activeKeyboard.isChiral;\r\n\r\n      // Layer must be identified by name, not number (27/08/2015)\r\n      if(typeof nextLayer == \u0027number\u0027) {\r\n        nextLayer = this.getLayerId(nextLayer * 0x10);\r\n      }\r\n\r\n      // Identify next layer, if required by key\r\n      if(!nextLayer) {\r\n        switch(keyName) {\r\n          case \u0027K_LSHIFT\u0027:\r\n          case \u0027K_RSHIFT\u0027:\r\n          case \u0027K_SHIFT\u0027:\r\n            nextLayer = \u0027shift\u0027;\r\n            break;\r\n          case \u0027K_LCONTROL\u0027:\r\n          case \u0027K_LCTRL\u0027:\r\n            if(isChiral) {\r\n              nextLayer = \u0027leftctrl\u0027;\r\n              break;\r\n            }\r\n          case \u0027K_RCONTROL\u0027:\r\n          case \u0027K_RCTRL\u0027:\r\n            if(isChiral) {\r\n              nextLayer = \u0027rightctrl\u0027;\r\n              break;\r\n            }\r\n          case \u0027K_CTRL\u0027:\r\n            nextLayer = \u0027ctrl\u0027;\r\n            break;\r\n          case \u0027K_LMENU\u0027:\r\n          case \u0027K_LALT\u0027:\r\n            if(isChiral) {\r\n              nextLayer = \u0027leftalt\u0027;\r\n              break;\r\n            }\r\n          case \u0027K_RMENU\u0027:\r\n          case \u0027K_RALT\u0027:\r\n            if(isChiral) {\r\n              nextLayer = \u0027rightalt\u0027;\r\n              break;\r\n            }\r\n          case \u0027K_ALT\u0027:\r\n            nextLayer = \u0027alt\u0027;\r\n            break;\r\n          case \u0027K_ALTGR\u0027:\r\n            if(isChiral) {\r\n              nextLayer = \u0027leftctrl-rightalt\u0027;\r\n            } else {\r\n              nextLayer = \u0027ctrl-alt\u0027;\r\n            }\r\n            break;\r\n          case \u0027K_CURRENCIES\u0027:\r\n          case \u0027K_NUMERALS\u0027:\r\n          case \u0027K_SHIFTED\u0027:\r\n          case \u0027K_UPPER\u0027:\r\n          case \u0027K_LOWER\u0027:\r\n          case \u0027K_SYMBOLS\u0027:\r\n            nextLayer = \u0027default\u0027;\r\n            break;\r\n        }\r\n      }\r\n\r\n      // If no key corresponding to a layer transition is pressed, maintain the current layer.\r\n      if(!nextLayer) {\r\n        return false;\r\n      }\r\n\r\n      // Change layer and refresh OSK\r\n      this.updateLayer(keyEvent, nextLayer);\r\n\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Sets the new layer id, allowing for toggling shift/ctrl/alt while preserving the remainder\r\n     * of the modifiers represented by the current layer id (where applicable)\r\n     *\r\n     * @param       {string}      id      layer id (e.g. ctrlshift)\r\n     */\r\n    updateLayer(keyEvent: KeyEvent, id: string) {\r\n      let activeLayer = this.layerId;\r\n      var s = activeLayer;\r\n\r\n      // Do not change layer unless needed (27/08/2015)\r\n      if(id == activeLayer \u0026\u0026 keyEvent.device.formFactor != utils.FormFactor.Desktop) {\r\n        return false;\r\n      }\r\n\r\n      var idx=id;\r\n      var i;\r\n\r\n      if(keyEvent.device.formFactor == utils.FormFactor.Desktop) {\r\n        // Need to test if target layer is a standard layer (based on the plain \u0027default\u0027)\r\n        var replacements= [\u0027leftctrl\u0027, \u0027rightctrl\u0027, \u0027ctrl\u0027, \u0027leftalt\u0027, \u0027rightalt\u0027, \u0027alt\u0027, \u0027shift\u0027];\r\n\r\n        for(i=0; i \u003c replacements.length; i++) {\r\n          // Don\u0027t forget to remove the kebab-case hyphens!\r\n          idx=idx.replace(replacements[i] + \u0027-\u0027, \u0027\u0027);\r\n          idx=idx.replace(replacements[i],\u0027\u0027);\r\n        }\r\n\r\n        // If we are presently on the default layer, drop the \u0027default\u0027 and go straight to the shifted mode.\r\n        // If on a common symbolic layer, drop out of symbolic mode and go straight to the shifted mode.\r\n        if(activeLayer == \u0027default\u0027 || activeLayer == \u0027numeric\u0027 || activeLayer == \u0027symbol\u0027 || activeLayer == \u0027currency\u0027 || idx != \u0027\u0027) {\r\n          s = id;\r\n        }\r\n        // Otherwise, we are based upon a layer that accepts modifier variations.\r\n        // Modify the layer according to the current state and key pressed.\r\n        //\r\n        // TODO:  Consider:  should this ever be allowed for a base layer other than \u0027default\u0027?  If not,\r\n        // if(idx == \u0027\u0027) with accompanying if-else structural shift would be a far better test here.\r\n        else {\r\n          // Save our current modifier state.\r\n          var modifier=KeyboardProcessor.getModifierState(s);\r\n\r\n          // Strip down to the base modifiable layer.\r\n          for(i=0; i \u003c replacements.length; i++) {\r\n            // Don\u0027t forget to remove the kebab-case hyphens!\r\n            s=s.replace(replacements[i] + \u0027-\u0027, \u0027\u0027);\r\n            s=s.replace(replacements[i],\u0027\u0027);\r\n          }\r\n\r\n          // Toggle the modifier represented by our input argument.\r\n          switch(id) {\r\n            case \u0027shift\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027SHIFT\u0027];\r\n              break;\r\n            case \u0027leftctrl\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027LCTRL\u0027];\r\n              break;\r\n            case \u0027rightctrl\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027RCTRL\u0027];\r\n              break;\r\n            case \u0027ctrl\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027CTRL\u0027];\r\n              break;\r\n            case \u0027leftalt\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027LALT\u0027];\r\n              break;\r\n            case \u0027rightalt\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027RALT\u0027];\r\n              break;\r\n            case \u0027alt\u0027:\r\n              modifier ^= Codes.modifierCodes[\u0027ALT\u0027];\r\n              break;\r\n            default:\r\n              s = id;\r\n          }\r\n\r\n          // Combine our base modifiable layer and attach the new modifier variation info to obtain our destination layer.\r\n          if(s != \u0027default\u0027) {\r\n            if(s == \u0027\u0027) {\r\n              s = this.getLayerId(modifier);\r\n            } else {\r\n              s = this.getLayerId(modifier) + \u0027-\u0027 + s;\r\n            }\r\n          }\r\n        }\r\n        \r\n        if(s == \u0027\u0027) {\r\n          s = \u0027default\u0027;\r\n        }\r\n      } else {\r\n        // Mobile form-factor.  Either the layout is specified by a keyboard developer with direct layer name references\r\n        // or all layers are accessed via subkey of a single layer-shifting key - no need for modifier-combining logic.\r\n        s = id;\r\n      }\r\n\r\n      let layout = this.activeKeyboard.layout(keyEvent.device.formFactor);\r\n      if(layout.getLayer(s)) {\r\n        this.layerId = s;\r\n      } else {\r\n        this.layerId = \u0027default\u0027;\r\n      }\r\n    }\r\n\r\n    static isModifier(Levent: KeyEvent): boolean {\r\n      switch(Levent.Lcode) {\r\n        case 16: //\"K_SHIFT\":16,\"K_CONTROL\":17,\"K_ALT\":18\r\n        case 17: \r\n        case 18: \r\n        case 20: //\"K_CAPS\":20, \"K_NUMLOCK\":144,\"K_SCROLL\":145\r\n        case 144:\r\n        case 145:\r\n          return true;\r\n        default:\r\n          return false;\r\n      }\r\n    }\r\n\r\n    // Returns true if the key event is a modifier press, allowing keyPress to return selectively\r\n    // in those cases.\r\n    doModifierPress(Levent: KeyEvent, outputTarget: OutputTarget, isKeyDown: boolean): boolean {\r\n      if(!this.activeKeyboard) {\r\n        return false;\r\n      }\r\n\r\n      if(Levent.Lcode == 8) {\r\n        // I3318 (always clear deadkeys after backspace)\r\n        outputTarget.deadkeys().clear();\r\n      } else if(KeyboardProcessor.isModifier(Levent)) {\r\n        // For eventual integration - we bypass an OSK update for physical keystrokes when in touch mode.\r\n        this.activeKeyboard.notify(Levent.Lcode, outputTarget, isKeyDown ? 1 : 0); \r\n        if(!Levent.device.touchable) {\r\n          return this._UpdateVKShift(Levent, Levent.Lcode-15, 1); // I2187\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if(Levent.LmodifierChange) {\r\n        this.activeKeyboard.notify(0, outputTarget, 1); \r\n        this._UpdateVKShift(Levent, 0, 1);\r\n      }\r\n\r\n      // No modifier keypresses detected.\r\n      return false;\r\n    }\r\n\r\n    resetContext() {\r\n      this.layerId = \u0027default\u0027;\r\n\r\n      this.keyboardInterface.resetContextCache();\r\n      this._UpdateVKShift(null, 15, 0);\r\n    };\r\n\r\n    setNumericLayer(device: utils.DeviceSpec) {\r\n      let layout = this.activeKeyboard.layout(device.formFactor);\r\n      if(layout.getLayer(\u0027numeric\u0027)) {\r\n        this.layerId = \u0027numeric\u0027;\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\n(function () {\r\n  let ns = com.keyman.text;\r\n\r\n  // Let the Keyboard Processor be available both in the browser and in Node.\r\n  if (typeof module !== \u0027undefined\u0027 \u0026\u0026 typeof module.exports !== \u0027undefined\u0027) {\r\n    module.exports = ns.KeyboardProcessor;\r\n    //@ts-ignore\r\n    ns.KeyboardProcessor.com = com; // Export the root namespace so that all KeyboardProcessor classes are accessible by unit tests.\r\n  }\r\n}());","// Autogenerated code. Do not modify!\nfunction LMLayerWorkerCode () {\n/*! https://mths.be/codepointat v0.2.0 by @mathias */\nif (!String.prototype.codePointAt) {\n\t(function() {\n\t\t\u0027use strict\u0027; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) \u0026\u0026 $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar codePointAt = function(position) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tvar size = string.length;\n\t\t\t// `ToInteger`\n\t\t\tvar index = position ? Number(position) : 0;\n\t\t\tif (index != index) { // better `isNaN`\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices:\n\t\t\tif (index \u003c 0 || index \u003e= size) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// Get the first code unit\n\t\t\tvar first = string.charCodeAt(index);\n\t\t\tvar second;\n\t\t\tif ( // check if it’s the start of a surrogate pair\n\t\t\t\tfirst \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF \u0026\u0026 // high surrogate\n\t\t\t\tsize \u003e index + 1 // there is a next code unit\n\t\t\t) {\n\t\t\t\tsecond = string.charCodeAt(index + 1);\n\t\t\t\tif (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF) { // low surrogate\n\t\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\t\treturn (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn first;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, \u0027codePointAt\u0027, {\n\t\t\t\t\u0027value\u0027: codePointAt,\n\t\t\t\t\u0027configurable\u0027: true,\n\t\t\t\t\u0027writable\u0027: true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.codePointAt = codePointAt;\n\t\t}\n\t}());\n}\n/*! http://mths.be/startswith v0.2.0 by @mathias */\nif (!String.prototype.startsWith) {\n\t(function() {\n\t\t\u0027use strict\u0027; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) \u0026\u0026 $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar toString = {}.toString;\n\t\tvar startsWith = function(search) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tif (search \u0026\u0026 toString.call(search) == \u0027[object RegExp]\u0027) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar stringLength = string.length;\n\t\t\tvar searchString = String(search);\n\t\t\tvar searchLength = searchString.length;\n\t\t\tvar position = arguments.length \u003e 1 ? arguments[1] : undefined;\n\t\t\t// `ToInteger`\n\t\t\tvar pos = position ? Number(position) : 0;\n\t\t\tif (pos != pos) { // better `isNaN`\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t\tvar start = Math.min(Math.max(pos, 0), stringLength);\n\t\t\t// Avoid the `indexOf` call if no match is possible\n\t\t\tif (searchLength + start \u003e stringLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar index = -1;\n\t\t\twhile (++index \u003c searchLength) {\n\t\t\t\tif (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, \u0027startsWith\u0027, {\n\t\t\t\t\u0027value\u0027: startsWith,\n\t\t\t\t\u0027configurable\u0027: true,\n\t\t\t\t\u0027writable\u0027: true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.startsWith = startsWith;\n\t\t}\n\t}());\n}\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\r\nif (!Array.prototype.fill) {\r\n  Object.defineProperty(Array.prototype, \u0027fill\u0027, {\r\n    value: function(value) {\r\n\r\n      // Steps 1-2.\r\n      if (this == null) {\r\n        throw new TypeError(\u0027this is null or not defined\u0027);\r\n      }\r\n\r\n      var O = Object(this);\r\n\r\n      // Steps 3-5.\r\n      var len = O.length \u003e\u003e\u003e 0;\r\n\r\n      // Steps 6-7.\r\n      var start = arguments[1];\r\n      var relativeStart = start \u003e\u003e 0;\r\n\r\n      // Step 8.\r\n      var k = relativeStart \u003c 0 ?\r\n        Math.max(len + relativeStart, 0) :\r\n        Math.min(relativeStart, len);\r\n\r\n      // Steps 9-10.\r\n      var end = arguments[2];\r\n      var relativeEnd = end === undefined ?\r\n        len : end \u003e\u003e 0;\r\n\r\n      // Step 11.\r\n      var finalValue = relativeEnd \u003c 0 ?\r\n        Math.max(len + relativeEnd, 0) :\r\n        Math.min(relativeEnd, len);\r\n\r\n      // Step 12.\r\n      while (k \u003c finalValue) {\r\n        O[k] = value;\r\n        k++;\r\n      }\r\n\r\n      // Step 13.\r\n      return O;\r\n    }\r\n  });\r\n}// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n// Any npm-based ones require use of `require`, which won\u0027t work for us.\r\n\r\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\r\nif (!Array.from) {\r\n  Array.from = (function () {\r\n    var toStr = Object.prototype.toString;\r\n    var isCallable = function (fn) {\r\n      return typeof fn === \u0027function\u0027 || toStr.call(fn) === \u0027[object Function]\u0027;\r\n    };\r\n    var toInteger = function (value) {\r\n      var number = Number(value);\r\n      if (isNaN(number)) { return 0; }\r\n      if (number === 0 || !isFinite(number)) { return number; }\r\n      return (number \u003e 0 ? 1 : -1) * Math.floor(Math.abs(number));\r\n    };\r\n    var maxSafeInteger = Math.pow(2, 53) - 1;\r\n    var toLength = function (value) {\r\n      var len = toInteger(value);\r\n      return Math.min(Math.max(len, 0), maxSafeInteger);\r\n    };\r\n\r\n    // The length property of the from method is 1.\r\n    return function from(arrayLike/*, mapFn, thisArg */) {\r\n      // 1. Let C be the this value.\r\n      var C = this;\r\n\r\n      // 2. Let items be ToObject(arrayLike).\r\n      var items = Object(arrayLike);\r\n\r\n      // 3. ReturnIfAbrupt(items).\r\n      if (arrayLike == null) {\r\n        throw new TypeError(\u0027Array.from requires an array-like object - not null or undefined\u0027);\r\n      }\r\n\r\n      // 4. If mapfn is undefined, then let mapping be false.\r\n      var mapFn = arguments.length \u003e 1 ? arguments[1] : void undefined;\r\n      var T;\r\n      if (typeof mapFn !== \u0027undefined\u0027) {\r\n        // 5. else\r\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\r\n        if (!isCallable(mapFn)) {\r\n          throw new TypeError(\u0027Array.from: when provided, the second argument must be a function\u0027);\r\n        }\r\n\r\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n        if (arguments.length \u003e 2) {\r\n          T = arguments[2];\r\n        }\r\n      }\r\n\r\n      // 10. Let lenValue be Get(items, \"length\").\r\n      // 11. Let len be ToLength(lenValue).\r\n      var len = toLength(items.length);\r\n\r\n      // 13. If IsConstructor(C) is true, then\r\n      // 13. a. Let A be the result of calling the [[Construct]] internal method \r\n      // of C with an argument list containing the single item len.\r\n      // 14. a. Else, Let A be ArrayCreate(len).\r\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\r\n\r\n      // 16. Let k be 0.\r\n      var k = 0;\r\n      // 17. Repeat, while k \u003c len… (also steps a - h)\r\n      var kValue;\r\n      while (k \u003c len) {\r\n        kValue = items[k];\r\n        if (mapFn) {\r\n          A[k] = typeof T === \u0027undefined\u0027 ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\r\n        } else {\r\n          A[k] = kValue;\r\n        }\r\n        k += 1;\r\n      }\r\n      // 18. Let putStatus be Put(A, \"length\", len, true).\r\n      A.length = len;\r\n      // 20. Return A.\r\n      return A;\r\n    };\r\n  }());\r\n}\r\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\r\nif (!Object.keys) {\r\n  Object.keys = (function() {\r\n    \u0027use strict\u0027;\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty,\r\n        hasDontEnumBug = !({ toString: null }).propertyIsEnumerable(\u0027toString\u0027),\r\n        dontEnums = [\r\n          \u0027toString\u0027,\r\n          \u0027toLocaleString\u0027,\r\n          \u0027valueOf\u0027,\r\n          \u0027hasOwnProperty\u0027,\r\n          \u0027isPrototypeOf\u0027,\r\n          \u0027propertyIsEnumerable\u0027,\r\n          \u0027constructor\u0027\r\n        ],\r\n        dontEnumsLength = dontEnums.length;\r\n\r\n    return function(obj) {\r\n      if (typeof obj !== \u0027function\u0027 \u0026\u0026 (typeof obj !== \u0027object\u0027 || obj === null)) {\r\n        throw new TypeError(\u0027Object.keys called on non-object\u0027);\r\n      }\r\n\r\n      var result = [], prop, i;\r\n\r\n      for (prop in obj) {\r\n        if (hasOwnProperty.call(obj, prop)) {\r\n          result.push(prop);\r\n        }\r\n      }\r\n\r\n      if (hasDontEnumBug) {\r\n        for (i = 0; i \u003c dontEnumsLength; i++) {\r\n          if (hasOwnProperty.call(obj, dontEnums[i])) {\r\n            result.push(dontEnums[i]);\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n  }());\r\n}\r\n\r\n// Now for Object.values, from https://github.com/tc39/proposal-object-values-entries/blob/master/polyfill.js\r\n// Early Android APIs do not support Reflect, hence the need to \u0027mesh\u0027 them like this.\r\n\r\nconst reduce = Function.bind.call(Function.call, Array.prototype.reduce);\r\nconst isEnumerable = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable);\r\nconst concat = Function.bind.call(Function.call, Array.prototype.concat);\r\n//const keys = Reflect.ownKeys;\r\nconst keys = Object.keys;\r\n\r\nif (!Object.values) {\r\n\tObject.values = function values(O) {\r\n\t\treturn reduce(keys(O), (v, k) =\u003e concat(v, typeof k === \u0027string\u0027 \u0026\u0026 isEnumerable(O, k) ? [O[k]] : []), []);\r\n\t};\r\n}\r\n\r\nif (!Object.entries) {\r\n\tObject.entries = function entries(O) {\r\n\t\treturn reduce(keys(O), (e, k) =\u003e concat(e, typeof k === \u0027string\u0027 \u0026\u0026 isEnumerable(O, k) ? [[k, O[k]]] : []), []);\r\n\t};\r\n}// From https://rousan.io/symbol-es6/, lightly modified to be worker-compatible for Android Lollipop.\r\n!function(global,factory){\"use strict\";\"object\"==typeof module\u0026\u0026\"object\"==typeof module.exports?module.exports=factory(global):factory(global)}(\"undefined\"!=typeof window?window:(self?self:global),function(global){\"use strict\";var defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,symbolHiddenCounter=0,globalSymbolRegistry=[],slice=Array.prototype.slice,ES6=\"object\"==typeof global.ES6?global.ES6:global.ES6={},isArray=Array.isArray,objectToString=Object.prototype.toString,push=Array.prototype.push,emptyFunction=function(){},simpleFunction=function(arg){return arg},isCallable=function(fn){return\"function\"==typeof fn},Iterator=function(){},ArrayIterator=function(array,flag){this._array=array,this._flag=flag,this._nextIndex=0},StringIterator=function(string,flag){this._string=string,this._flag=flag,this._nextIndex=0},isObject=function(value){return null!==value\u0026\u0026(\"object\"==typeof value||\"function\"==typeof value)},setupSymbolInternals=function(symbol,desc){return defineProperties(symbol,{_description:{value:desc},_isSymbol:{value:!0},_id:{value:symbolHiddenCounter++}}),symbol},appendArray=function(array1,array2){if(\"number\"==typeof array1.length\u0026\u0026array1.length\u003e=0\u0026\u0026\"number\"==typeof array2.length\u0026\u0026array2.length\u003e=0){var length1=Math.floor(array1.length),length2=Math.floor(array2.length),i=0;for(array1.length=length1+length2;i\u003clength2;++i)array2.hasOwnProperty(i)\u0026\u0026(array1[length1+i]=array2[i])}},simpleInheritance=function(child,parent){if(\"function\"!=typeof child||\"function\"!=typeof parent)throw new TypeError(\"Child and Parent must be function type\");child.prototype=Object.create(parent.prototype),child.prototype.constructor=child},Symbol=function Symbol(desc){if(desc=void 0===desc?\"\":String(desc),this instanceof Symbol)throw new TypeError(\"Symbol is not a constructor\");return setupSymbolInternals(Object.create(Symbol.prototype),desc)};defineProperties(Symbol,{for:{value:function(key){key=String(key);for(var record,registryLength=globalSymbolRegistry.length,i=0;i\u003cregistryLength;++i)if((record=globalSymbolRegistry[i]).key===key)return record.symbol;return record={key:key,symbol:Symbol(key)},globalSymbolRegistry.push(record),record.symbol},writable:!0,configurable:!0},keyFor:{value:function(symbol){if(!ES6.isSymbol(symbol))throw new TypeError(String(symbol)+\" is not a symbol\");for(var record,registryLength=globalSymbolRegistry.length,i=0;i\u003cregistryLength;++i)if((record=globalSymbolRegistry[i]).symbol===symbol)return record.key},writable:!0,configurable:!0},hasInstance:{value:Symbol(\"Symbol.hasInstance\")},isConcatSpreadable:{value:Symbol(\"Symbol.isConcatSpreadable\")},iterator:{value:Symbol(\"Symbol.iterator\")},toStringTag:{value:Symbol(\"Symbol.toStringTag\")}}),Symbol.prototype.toString=function(){return\"@@_____\"+this._id+\"_____\"},Symbol.prototype.valueOf=function(){return this},defineProperty(Iterator.prototype,Symbol.iterator.toString(),{value:function(){return this},writable:!0,configurable:!0}),simpleInheritance(ArrayIterator,Iterator),simpleInheritance(StringIterator,Iterator),defineProperty(ArrayIterator.prototype,Symbol.toStringTag.toString(),{value:\"Array Iterator\",configurable:!0}),defineProperty(StringIterator.prototype,Symbol.toStringTag.toString(),{value:\"String Iterator\",configurable:!0}),ArrayIterator.prototype.next=function(){if(!(this instanceof ArrayIterator))throw new TypeError(\"Method Array Iterator.prototype.next called on incompatible receiver \"+String(this));var nextValue;return-1===this._nextIndex?{done:!0,value:void 0}:\"number\"==typeof this._array.length\u0026\u0026this._array.length\u003e=0\u0026\u0026this._nextIndex\u003cMath.floor(this._array.length)?(1===this._flag?nextValue=[this._nextIndex,this._array[this._nextIndex]]:2===this._flag?nextValue=this._array[this._nextIndex]:3===this._flag\u0026\u0026(nextValue=this._nextIndex),this._nextIndex++,{done:!1,value:nextValue}):(this._nextIndex=-1,{done:!0,value:void 0})},StringIterator.prototype.next=function(){if(!(this instanceof StringIterator))throw new TypeError(\"Method String Iterator.prototype.next called on incompatible receiver \"+String(this));var nextValue,stringObject=new String(this._string);return-1===this._nextIndex?{done:!0,value:void 0}:this._nextIndex\u003cstringObject.length?(nextValue=stringObject[this._nextIndex],this._nextIndex++,{done:!1,value:nextValue}):(this._nextIndex=-1,{done:!0,value:void 0})};var SpreadOperatorImpl=function(target,thisArg){this._target=target,this._values=[],this._thisArg=thisArg};SpreadOperatorImpl.prototype.spread=function(){var self=this;return slice.call(arguments).forEach(function(iterable){ES6.forOf(iterable,function(value){self._values.push(value)})}),self},SpreadOperatorImpl.prototype.add=function(){var self=this;return slice.call(arguments).forEach(function(value){self._values.push(value)}),self},SpreadOperatorImpl.prototype.call=function(thisArg){if(\"function\"!=typeof this._target)throw new TypeError(\"Target is not a function\");return thisArg=arguments.length\u003c=0?this._thisArg:thisArg,this._target.apply(thisArg,this._values)},SpreadOperatorImpl.prototype.new=function(){if(\"function\"!=typeof this._target)throw new TypeError(\"Target is not a constructor\");var temp,returnValue;return temp=Object.create(this._target.prototype),returnValue=this._target.apply(temp,this._values),isObject(returnValue)?returnValue:temp},SpreadOperatorImpl.prototype.array=function(){if(!isArray(this._target))throw new TypeError(\"Target is not a array\");return push.apply(this._target,this._values),this._target};return defineProperties(ES6,{isSymbol:{value:function(symbol){return symbol instanceof Symbol\u0026\u0026function(symbol){return!0===symbol._isSymbol\u0026\u0026\"number\"==typeof symbol._id\u0026\u0026\"string\"==typeof symbol._description}(symbol)},writable:!0,configurable:!0},instanceOf:{value:function(object,constructor){if(!isObject(constructor))throw new TypeError(\"Right-hand side of \u0027instanceof\u0027 is not an object\");var hasInstanceSymbolProp=constructor[Symbol.hasInstance];if(void 0===hasInstanceSymbolProp)return object instanceof constructor;if(\"function\"!=typeof hasInstanceSymbolProp)throw new TypeError(typeof hasInstanceSymbolProp+\" is not a function\");return hasInstanceSymbolProp.call(constructor,object)},writable:!0,configurable:!0},forOf:{value:function(iterable,callback,thisArg){if(callback=\"function\"!=typeof callback?emptyFunction:callback,\"function\"!=typeof iterable[Symbol.iterator])throw new TypeError(\"Iterable[Symbol.iterator] is not a function\");var iterationResult,iterator=iterable[Symbol.iterator]();if(\"function\"!=typeof iterator.next)throw new TypeError(\".iterator.next is not a function\");for(;;){if(iterationResult=iterator.next(),!isObject(iterationResult))throw new TypeError(\"Iterator result \"+iterationResult+\" is not an object\");if(iterationResult.done)break;callback.call(thisArg,iterationResult.value)}},writable:!0,configurable:!0},spreadOperator:{value:function(target,thisArg){if(\"function\"!=typeof target\u0026\u0026!isArray(target))throw new TypeError(\"Spread operator only supports on array and function objects at this moment\");return new SpreadOperatorImpl(target,thisArg)},writable:!0,configurable:!0}}),defineProperty(global,\"Symbol\",{value:Symbol,writable:!0,configurable:!0}),defineProperty(Function.prototype,Symbol.hasInstance.toString(),{value:function(instance){return\"function\"==typeof this\u0026\u0026instance instanceof this}}),defineProperty(Array.prototype,\"concat\",{value:function(){if(void 0===this||null===this)throw new TypeError(\"Array.prototype.concat called on null or undefined\");var self=Object(this),targets=slice.call(arguments),outputs=[];return targets.unshift(self),targets.forEach(function(target){isObject(target)?void 0!==target[Symbol.isConcatSpreadable]?target[Symbol.isConcatSpreadable]?appendArray(outputs,target):outputs.push(target):isArray(target)?appendArray(outputs,target):outputs.push(target):outputs.push(target)}),outputs},writable:!0,configurable:!0}),defineProperty(Object.prototype,\"toString\",{value:function(){return void 0===this||null===this?objectToString.call(this):\"string\"==typeof this[Symbol.toStringTag]?\"[object \"+this[Symbol.toStringTag]+\"]\":objectToString.call(this)},writable:!0,configurable:!0}),defineProperty(Array.prototype,Symbol.iterator.toString(),{value:function(){if(void 0===this||null===this)throw new TypeError(\"Cannot convert undefined or null to object\");var self=Object(this);return new ArrayIterator(self,2)},writable:!0,configurable:!0}),defineProperty(Array,\"from\",{value:function(arrayLike,mapFn,thisArg){var constructor,length,outputs,i=0;if(constructor=isCallable(this)?this:Array,void 0===arrayLike||null===arrayLike)throw new TypeError(\"Cannot convert undefined or null to object\");if(arrayLike=Object(arrayLike),void 0===mapFn)mapFn=simpleFunction;else if(!isCallable(mapFn))throw new TypeError(mapFn+\" is not a function\");if(void 0===arrayLike[Symbol.iterator]){if(!(\"number\"==typeof arrayLike.length\u0026\u0026arrayLike.length\u003e=0))return(outputs=new constructor(0)).length=0,outputs;for(length=Math.floor(arrayLike.length),(outputs=new constructor(length)).length=length;i\u003clength;++i)outputs[i]=mapFn.call(thisArg,arrayLike[i])}else(outputs=new constructor).length=0,ES6.forOf(arrayLike,function(value){outputs.length++,outputs[outputs.length-1]=mapFn.call(thisArg,value)});return outputs},writable:!0,configurable:!0}),defineProperty(Array.prototype,\"entries\",{value:function(){if(void 0===this||null===this)throw new TypeError(\"Cannot convert undefined or null to object\");var self=Object(this);return new ArrayIterator(self,1)},writable:!0,configurable:!0}),defineProperty(Array.prototype,\"keys\",{value:function(){if(void 0===this||null===this)throw new TypeError(\"Cannot convert undefined or null to object\");var self=Object(this);return new ArrayIterator(self,3)},writable:!0,configurable:!0}),defineProperty(String.prototype,Symbol.iterator.toString(),{value:function(){if(void 0===this||null===this)throw new TypeError(\"String.prototype[Symbol.iterator] called on null or undefined\");return new StringIterator(String(this),0)},writable:!0,configurable:!0}),ES6});if(!String.prototype.normalize) {\r\n  (function() {\r\n    /* This table is of all characters in the range of U+0100 to U+2200 that \r\n     * have a canonical decomposition in NFD form. For some characters, this \r\n     * translates them into their canonical characters (e.g., K -\u003e K). For \r\n     * characters with combining diacritical marks, this leaves behind the base \r\n     * character, removing its diacritics (e.g., É -\u003e E). \r\n     */ \r\n    var PARTIAL_NFD_LOOKUP = {\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Ç\":\"C\",\r\n                              \"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\r\n                              \"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\r\n                              \"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\r\n                              \"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"ç\":\"c\",\r\n                              \"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\r\n                              \"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\r\n                              \"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"ÿ\":\"y\",\r\n                              \"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\r\n                              \"Ć\":\"C\",\"ć\":\"c\",\"Ĉ\":\"C\",\"ĉ\":\"c\",\"Ċ\":\"C\",\"ċ\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\r\n                              \"Ē\":\"E\",\"ē\":\"e\",\"Ĕ\":\"E\",\"ĕ\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\r\n                              \"Ę\":\"E\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\r\n                              \"Ĝ\":\"G\",\"ĝ\":\"g\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ġ\":\"G\",\"ġ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"ĥ\":\"h\",\r\n                              \"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"I\",\"ī\":\"i\",\"Ĭ\":\"I\",\"ĭ\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\r\n                              \"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"Ĺ\":\"L\",\"ĺ\":\"l\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\r\n                              \"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\r\n                              \"Ō\":\"O\",\"ō\":\"o\",\"Ŏ\":\"O\",\"ŏ\":\"o\",\"Ő\":\"O\",\"ő\":\"o\",\r\n                              \"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ŗ\":\"R\",\"ŗ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\r\n                              \"Ś\":\"S\",\"ś\":\"s\",\"Ŝ\":\"S\",\"ŝ\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\r\n                              \"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\r\n                              \"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"U\",\"ū\":\"u\",\"Ŭ\":\"U\",\"ŭ\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\r\n                              \"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\r\n                              \"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\",\r\n                              \"Ơ\":\"O\",\"ơ\":\"o\",\"Ư\":\"U\",\"ư\":\"u\",\"Ǎ\":\"A\",\"ǎ\":\"a\",\"Ǐ\":\"I\",\"ǐ\":\"i\",\r\n                              \"Ǒ\":\"O\",\"ǒ\":\"o\",\"Ǔ\":\"U\",\"ǔ\":\"u\",\"Ǖ\":\"U\",\"ǖ\":\"u\",\"Ǘ\":\"U\",\"ǘ\":\"u\",\"Ǚ\":\"U\",\r\n                              \"ǚ\":\"u\",\"Ǜ\":\"U\",\"ǜ\":\"u\",\"Ǟ\":\"A\",\"ǟ\":\"a\",\"Ǡ\":\"A\",\"ǡ\":\"a\",\"Ǣ\":\"Æ\",\"ǣ\":\"æ\",\r\n                              \"Ǧ\":\"G\",\"ǧ\":\"g\",\"Ǩ\":\"K\",\"ǩ\":\"k\",\"Ǫ\":\"O\",\"ǫ\":\"o\",\"Ǭ\":\"O\",\"ǭ\":\"o\",\r\n                              \"Ǯ\":\"Ʒ\",\"ǯ\":\"ʒ\",\"ǰ\":\"j\",\"Ǵ\":\"G\",\"ǵ\":\"g\",\"Ǹ\":\"N\",\"ǹ\":\"n\",\r\n                              \"Ǻ\":\"A\",\"ǻ\":\"a\",\"Ǽ\":\"Æ\",\"ǽ\":\"æ\",\"Ǿ\":\"Ø\",\"ǿ\":\"ø\",\"Ȁ\":\"A\",\"ȁ\":\"a\",\"Ȃ\":\"A\",\"ȃ\":\"a\",\r\n                              \"Ȅ\":\"E\",\"ȅ\":\"e\",\"Ȇ\":\"E\",\"ȇ\":\"e\",\"Ȉ\":\"I\",\"ȉ\":\"i\",\"Ȋ\":\"I\",\"ȋ\":\"i\",\r\n                              \"Ȍ\":\"O\",\"ȍ\":\"o\",\"Ȏ\":\"O\",\"ȏ\":\"o\",\"Ȑ\":\"R\",\"ȑ\":\"r\",\"Ȓ\":\"R\",\"ȓ\":\"r\",\r\n                              \"Ȕ\":\"U\",\"ȕ\":\"u\",\"Ȗ\":\"U\",\"ȗ\":\"u\",\"Ș\":\"S\",\"ș\":\"s\",\"Ț\":\"T\",\"ț\":\"t\",\r\n                              \"Ȟ\":\"H\",\"ȟ\":\"h\",\"Ȧ\":\"A\",\"ȧ\":\"a\",\"Ȩ\":\"E\",\"ȩ\":\"e\",\r\n                              \"Ȫ\":\"O\",\"ȫ\":\"o\",\"Ȭ\":\"O\",\"ȭ\":\"o\",\"Ȯ\":\"O\",\"ȯ\":\"o\",\"Ȱ\":\"O\",\"ȱ\":\"o\",\r\n                              \"Ȳ\":\"Y\",\"ȳ\":\"y\",\"̀\":\"̀\",\"́\":\"́\",\"̓\":\"̓\",\"̈́\":\"̈\",\"ʹ\":\"ʹ\",\";\":\";\",\"΅\":\"¨\",\r\n                              \"Ά\":\"Α\",\"·\":\"·\",\"Έ\":\"Ε\",\"Ή\":\"Η\",\"Ί\":\"Ι\",\"Ό\":\"Ο\",\"Ύ\":\"Υ\",\"Ώ\":\"Ω\",\r\n                              \"ΐ\":\"ι\",\"Ϊ\":\"Ι\",\"Ϋ\":\"Υ\",\"ά\":\"α\",\"έ\":\"ε\",\"ή\":\"η\",\"ί\":\"ι\",\r\n                              \"ϊ\":\"ι\",\"ϋ\":\"υ\",\"ό\":\"ο\",\"ύ\":\"υ\",\"ώ\":\"ω\",\"ϓ\":\"ϒ\",\"ϔ\":\"ϒ\",\r\n                              \"Ѐ\":\"Е\",\"Ё\":\"Е\",\"Ѓ\":\"Г\",\"Ї\":\"І\",\"Ќ\":\"К\",\"Ѝ\":\"И\",\"Ў\":\"У\",\"Й\":\"И\",\"й\":\"и\",\r\n                              \"ѐ\":\"е\",\"ё\":\"е\",\"ѓ\":\"г\",\"ї\":\"і\",\"ќ\":\"к\",\"ѝ\":\"и\",\"ў\":\"у\",\"Ѷ\":\"Ѵ\",\"ѷ\":\"ѵ\",\r\n                              \"Ӂ\":\"Ж\",\"ӂ\":\"ж\",\"Ӑ\":\"А\",\"ӑ\":\"а\",\"Ӓ\":\"А\",\"ӓ\":\"а\",\r\n                              \"Ӗ\":\"Е\",\"ӗ\":\"е\",\"Ӛ\":\"Ә\",\"ӛ\":\"ә\",\"Ӝ\":\"Ж\",\"ӝ\":\"ж\",\"Ӟ\":\"З\",\"ӟ\":\"з\",\r\n                              \"Ӣ\":\"И\",\"ӣ\":\"и\",\"Ӥ\":\"И\",\"ӥ\":\"и\",\"Ӧ\":\"О\",\"ӧ\":\"о\",\"Ӫ\":\"Ө\",\"ӫ\":\"ө\",\r\n                              \"Ӭ\":\"Э\",\"ӭ\":\"э\",\"Ӯ\":\"У\",\"ӯ\":\"у\",\"Ӱ\":\"У\",\"ӱ\":\"у\",\"Ӳ\":\"У\",\"ӳ\":\"у\",\r\n                              \"Ӵ\":\"Ч\",\"ӵ\":\"ч\",\"Ӹ\":\"Ы\",\"ӹ\":\"ы\",\"Ḁ\":\"A\",\"ḁ\":\"a\",\r\n                              \"Ḃ\":\"B\",\"ḃ\":\"b\",\"Ḅ\":\"B\",\"ḅ\":\"b\",\"Ḇ\":\"B\",\"ḇ\":\"b\",\"Ḉ\":\"C\",\"ḉ\":\"c\",\r\n                              \"Ḋ\":\"D\",\"ḋ\":\"d\",\"Ḍ\":\"D\",\"ḍ\":\"d\",\"Ḏ\":\"D\",\"ḏ\":\"d\",\"Ḑ\":\"D\",\"ḑ\":\"d\",\"Ḓ\":\"D\",\"ḓ\":\"d\",\r\n                              \"Ḕ\":\"E\",\"ḕ\":\"e\",\"Ḗ\":\"E\",\"ḗ\":\"e\",\"Ḙ\":\"E\",\"ḙ\":\"e\",\"Ḛ\":\"E\",\"ḛ\":\"e\",\"Ḝ\":\"E\",\"ḝ\":\"e\",\r\n                              \"Ḟ\":\"F\",\"ḟ\":\"f\",\"Ḡ\":\"G\",\"ḡ\":\"g\",\"Ḣ\":\"H\",\"ḣ\":\"h\",\"Ḥ\":\"H\",\r\n                              \"ḥ\":\"h\",\"Ḧ\":\"H\",\"ḧ\":\"h\",\"Ḩ\":\"H\",\"ḩ\":\"h\",\"Ḫ\":\"H\",\"ḫ\":\"h\",\r\n                              \"Ḭ\":\"I\",\"ḭ\":\"i\",\"Ḯ\":\"I\",\"ḯ\":\"i\",\"Ḱ\":\"K\",\"ḱ\":\"k\",\"Ḳ\":\"K\",\"ḳ\":\"k\",\"Ḵ\":\"K\",\"ḵ\":\"k\",\r\n                              \"Ḷ\":\"L\",\"ḷ\":\"l\",\"Ḹ\":\"L\",\"ḹ\":\"l\",\"Ḻ\":\"L\",\"ḻ\":\"l\",\"Ḽ\":\"L\",\"ḽ\":\"l\",\r\n                              \"Ḿ\":\"M\",\"ḿ\":\"m\",\"Ṁ\":\"M\",\"ṁ\":\"m\",\"Ṃ\":\"M\",\"ṃ\":\"m\",\r\n                              \"Ṅ\":\"N\",\"ṅ\":\"n\",\"Ṇ\":\"N\",\"ṇ\":\"n\",\"Ṉ\":\"N\",\"ṉ\":\"n\",\"Ṋ\":\"N\",\"ṋ\":\"n\",\r\n                              \"Ṍ\":\"O\",\"ṍ\":\"o\",\"Ṏ\":\"O\",\"ṏ\":\"o\",\"Ṑ\":\"O\",\"ṑ\":\"o\",\"Ṓ\":\"O\",\"ṓ\":\"o\",\r\n                              \"Ṕ\":\"P\",\"ṕ\":\"p\",\"Ṗ\":\"P\",\"ṗ\":\"p\",\"Ṙ\":\"R\",\"ṙ\":\"r\",\"Ṛ\":\"R\",\r\n                              \"ṛ\":\"r\",\"Ṝ\":\"R\",\"ṝ\":\"r\",\"Ṟ\":\"R\",\"ṟ\":\"r\",\r\n                              \"Ṡ\":\"S\",\"ṡ\":\"s\",\"Ṣ\":\"S\",\"ṣ\":\"s\",\"Ṥ\":\"S\",\"ṥ\":\"s\",\"Ṧ\":\"S\",\"ṧ\":\"s\",\"Ṩ\":\"S\",\"ṩ\":\"s\",\r\n                              \"Ṫ\":\"T\",\"ṫ\":\"t\",\"Ṭ\":\"T\",\"ṭ\":\"t\",\"Ṯ\":\"T\",\"ṯ\":\"t\",\"Ṱ\":\"T\",\"ṱ\":\"t\",\r\n                              \"Ṳ\":\"U\",\"ṳ\":\"u\",\"Ṵ\":\"U\",\"ṵ\":\"u\",\"Ṷ\":\"U\",\"ṷ\":\"u\",\"Ṹ\":\"U\",\"ṹ\":\"u\",\"Ṻ\":\"U\",\"ṻ\":\"u\",\r\n                              \"Ṽ\":\"V\",\"ṽ\":\"v\",\"Ṿ\":\"V\",\"ṿ\":\"v\",\"Ẁ\":\"W\",\"ẁ\":\"w\",\"Ẃ\":\"W\",\r\n                              \"ẃ\":\"w\",\"Ẅ\":\"W\",\"ẅ\":\"w\",\"Ẇ\":\"W\",\"ẇ\":\"w\",\"Ẉ\":\"W\",\"ẉ\":\"w\",\r\n                              \"Ẋ\":\"X\",\"ẋ\":\"x\",\"Ẍ\":\"X\",\"ẍ\":\"x\",\"Ẏ\":\"Y\",\"ẏ\":\"y\",\r\n                              \"Ẑ\":\"Z\",\"ẑ\":\"z\",\"Ẓ\":\"Z\",\"ẓ\":\"z\",\"Ẕ\":\"Z\",\"ẕ\":\"z\",\r\n                              \"ẖ\":\"h\",\"ẗ\":\"t\",\"ẘ\":\"w\",\"ẙ\":\"y\",\"ẛ\":\"ſ\",\r\n                              \"Ạ\":\"A\",\"ạ\":\"a\",\"Ả\":\"A\",\"ả\":\"a\",\"Ấ\":\"A\",\"ấ\":\"a\",\"Ầ\":\"A\",\"ầ\":\"a\",\r\n                              \"Ẩ\":\"A\",\"ẩ\":\"a\",\"Ẫ\":\"A\",\"ẫ\":\"a\",\"Ậ\":\"A\",\"ậ\":\"a\",\"Ắ\":\"A\",\"ắ\":\"a\",\r\n                              \"Ằ\":\"A\",\"ằ\":\"a\",\"Ẳ\":\"A\",\"ẳ\":\"a\",\"Ẵ\":\"A\",\"ẵ\":\"a\",\"Ặ\":\"A\",\"ặ\":\"a\",\r\n                              \"Ẹ\":\"E\",\"ẹ\":\"e\",\"Ẻ\":\"E\",\"ẻ\":\"e\",\"Ẽ\":\"E\",\"ẽ\":\"e\",\"Ế\":\"E\",\"ế\":\"e\",\r\n                              \"Ề\":\"E\",\"ề\":\"e\",\"Ể\":\"E\",\"ể\":\"e\",\"Ễ\":\"E\",\"ễ\":\"e\",\"Ệ\":\"E\",\"ệ\":\"e\",\r\n                              \"Ỉ\":\"I\",\"ỉ\":\"i\",\"Ị\":\"I\",\"ị\":\"i\",\r\n                              \"Ọ\":\"O\",\"ọ\":\"o\",\"Ỏ\":\"O\",\"ỏ\":\"o\",\"Ố\":\"O\",\"ố\":\"o\",\"Ồ\":\"O\",\"ồ\":\"o\",\r\n                              \"Ổ\":\"O\",\"ổ\":\"o\",\"Ỗ\":\"O\",\"ỗ\":\"o\",\"Ộ\":\"O\",\"ộ\":\"o\",\"Ớ\":\"O\",\"ớ\":\"o\",\r\n                              \"Ờ\":\"O\",\"ờ\":\"o\",\"Ở\":\"O\",\"ở\":\"o\",\"Ỡ\":\"O\",\"ỡ\":\"o\",\"Ợ\":\"O\",\"ợ\":\"o\",\r\n                              \"Ụ\":\"U\",\"ụ\":\"u\",\"Ủ\":\"U\",\"ủ\":\"u\",\"Ứ\":\"U\",\"ứ\":\"u\",\"Ừ\":\"U\",\"ừ\":\"u\",\r\n                              \"Ử\":\"U\",\"ử\":\"u\",\"Ữ\":\"U\",\"ữ\":\"u\",\"Ự\":\"U\",\"ự\":\"u\",\r\n                              \"Ỳ\":\"Y\",\"ỳ\":\"y\",\"Ỵ\":\"Y\",\"ỵ\":\"y\",\"Ỷ\":\"Y\",\"ỷ\":\"y\",\"Ỹ\":\"Y\",\"ỹ\":\"y\",\r\n                              \"ἀ\":\"α\",\"ἁ\":\"α\",\"ἂ\":\"α\",\"ἃ\":\"α\",\"ἄ\":\"α\",\"ἅ\":\"α\",\"ἆ\":\"α\",\"ἇ\":\"α\",\r\n                              \"Ἀ\":\"Α\",\"Ἁ\":\"Α\",\"Ἂ\":\"Α\",\"Ἃ\":\"Α\",\"Ἄ\":\"Α\",\"Ἅ\":\"Α\",\"Ἆ\":\"Α\",\"Ἇ\":\"Α\",\r\n                              \"ἐ\":\"ε\",\"ἑ\":\"ε\",\"ἒ\":\"ε\",\"ἓ\":\"ε\",\"ἔ\":\"ε\",\"ἕ\":\"ε\",\"Ἐ\":\"Ε\",\"Ἑ\":\"Ε\",\r\n                              \"Ἒ\":\"Ε\",\"Ἓ\":\"Ε\",\"Ἔ\":\"Ε\",\"Ἕ\":\"Ε\",\r\n                              \"ἠ\":\"η\",\"ἡ\":\"η\",\"ἢ\":\"η\",\"ἣ\":\"η\",\"ἤ\":\"η\",\"ἥ\":\"η\",\"ἦ\":\"η\",\"ἧ\":\"η\",\r\n                              \"Ἠ\":\"Η\",\"Ἡ\":\"Η\",\"Ἢ\":\"Η\",\"Ἣ\":\"Η\",\"Ἤ\":\"Η\",\"Ἥ\":\"Η\",\"Ἦ\":\"Η\",\"Ἧ\":\"Η\",\r\n                              \"ἰ\":\"ι\",\"ἱ\":\"ι\",\"ἲ\":\"ι\",\"ἳ\":\"ι\",\"ἴ\":\"ι\",\"ἵ\":\"ι\",\"ἶ\":\"ι\",\"ἷ\":\"ι\",\r\n                              \"Ἰ\":\"Ι\",\"Ἱ\":\"Ι\",\"Ἲ\":\"Ι\",\"Ἳ\":\"Ι\",\"Ἴ\":\"Ι\",\"Ἵ\":\"Ι\",\"Ἶ\":\"Ι\",\"Ἷ\":\"Ι\",\r\n                              \"ὀ\":\"ο\",\"ὁ\":\"ο\",\"ὂ\":\"ο\",\"ὃ\":\"ο\",\"ὄ\":\"ο\",\"ὅ\":\"ο\",\"Ὀ\":\"Ο\",\"Ὁ\":\"Ο\",\r\n                              \"Ὂ\":\"Ο\",\"Ὃ\":\"Ο\",\"Ὄ\":\"Ο\",\"Ὅ\":\"Ο\",\r\n                              \"ὐ\":\"υ\",\"ὑ\":\"υ\",\"ὒ\":\"υ\",\"ὓ\":\"υ\",\"ὔ\":\"υ\",\"ὕ\":\"υ\",\"ὖ\":\"υ\",\"ὗ\":\"υ\",\r\n                              \"Ὑ\":\"Υ\",\"Ὓ\":\"Υ\",\"Ὕ\":\"Υ\",\"Ὗ\":\"Υ\",\r\n                              \"ὠ\":\"ω\",\"ὡ\":\"ω\",\"ὢ\":\"ω\",\"ὣ\":\"ω\",\"ὤ\":\"ω\",\"ὥ\":\"ω\",\"ὦ\":\"ω\",\"ὧ\":\"ω\",\r\n                              \"Ὠ\":\"Ω\",\"Ὡ\":\"Ω\",\"Ὢ\":\"Ω\",\"Ὣ\":\"Ω\",\"Ὤ\":\"Ω\",\"Ὥ\":\"Ω\",\"Ὦ\":\"Ω\",\"Ὧ\":\"Ω\",\r\n                              \"ὰ\":\"α\",\"ὲ\":\"ε\",\"ὴ\":\"η\",\"ὶ\":\"ι\",\"ὸ\":\"ο\",\"ὺ\":\"υ\",\"ὼ\":\"ω\",\r\n                              \"ᾀ\":\"α\",\"ᾁ\":\"α\",\"ᾂ\":\"α\",\"ᾃ\":\"α\",\"ᾄ\":\"α\",\"ᾅ\":\"α\",\"ᾆ\":\"α\",\"ᾇ\":\"α\",\r\n                              \"ᾈ\":\"Α\",\"ᾉ\":\"Α\",\"ᾊ\":\"Α\",\"ᾋ\":\"Α\",\"ᾌ\":\"Α\",\"ᾍ\":\"Α\",\"ᾎ\":\"Α\",\"ᾏ\":\"Α\",\r\n                              \"ᾐ\":\"η\",\"ᾑ\":\"η\",\"ᾒ\":\"η\",\"ᾓ\":\"η\",\"ᾔ\":\"η\",\"ᾕ\":\"η\",\"ᾖ\":\"η\",\"ᾗ\":\"η\",\r\n                              \"ᾘ\":\"Η\",\"ᾙ\":\"Η\",\"ᾚ\":\"Η\",\"ᾛ\":\"Η\",\"ᾜ\":\"Η\",\"ᾝ\":\"Η\",\"ᾞ\":\"Η\",\"ᾟ\":\"Η\",\r\n                              \"ᾠ\":\"ω\",\"ᾡ\":\"ω\",\"ᾢ\":\"ω\",\"ᾣ\":\"ω\",\"ᾤ\":\"ω\",\"ᾥ\":\"ω\",\"ᾦ\":\"ω\",\"ᾧ\":\"ω\",\r\n                              \"ᾨ\":\"Ω\",\"ᾩ\":\"Ω\",\"ᾪ\":\"Ω\",\"ᾫ\":\"Ω\",\"ᾬ\":\"Ω\",\"ᾭ\":\"Ω\",\"ᾮ\":\"Ω\",\"ᾯ\":\"Ω\",\r\n                              \"ᾰ\":\"α\",\"ᾱ\":\"α\",\"ᾲ\":\"α\",\"ᾳ\":\"α\",\"ᾴ\":\"α\",\"ᾶ\":\"α\",\"ᾷ\":\"α\",\r\n                              \"Ᾰ\":\"Α\",\"Ᾱ\":\"Α\",\"Ὰ\":\"Α\",\"ᾼ\":\"Α\",\r\n                              \"ι\":\"ι\",\"῁\":\"¨\",\"ῂ\":\"η\",\"ῃ\":\"η\",\"ῄ\":\"η\",\"ῆ\":\"η\",\"ῇ\":\"η\",\r\n                              \"Ὲ\":\"Ε\",\"Ὴ\":\"Η\",\"ῌ\":\"Η\",\"῍\":\"᾿\",\"῎\":\"᾿\",\"῏\":\"᾿\",\r\n                              \"ῐ\":\"ι\",\"ῑ\":\"ι\",\"ῒ\":\"ι\",\"ῖ\":\"ι\",\"ῗ\":\"ι\",\"Ῐ\":\"Ι\",\"Ῑ\":\"Ι\",\"Ὶ\":\"Ι\",\r\n                              \"῝\":\"῾\",\"῞\":\"῾\",\"῟\":\"῾\",\"ῠ\":\"υ\",\"ῡ\":\"υ\",\"ῢ\":\"υ\",\"ΰ\":\"υ\",\"ῤ\":\"ρ\",\"ῥ\":\"ρ\",\r\n                              \"ῦ\":\"υ\",\"ῧ\":\"υ\",\"Ῠ\":\"Υ\",\"Ῡ\":\"Υ\",\"Ὺ\":\"Υ\",\"Ῥ\":\"Ρ\",\r\n                              \"῭\":\"¨\",\"`\":\"`\",\"ῲ\":\"ω\",\"ῳ\":\"ω\",\"ῴ\":\"ω\",\"ῶ\":\"ω\",\"ῷ\":\"ω\",\r\n                              \"Ὸ\":\"Ο\",\"Ὼ\":\"Ω\",\"ῼ\":\"Ω\",\"´\":\"´\",\" \":\" \",\" \":\" \",\"Ω\":\"Ω\",\"K\":\"K\"};\r\n    /* A VERY naive fill-in for the String.normalize function.\r\n     * Mobile Safari only supports the function in iOS 10+, while\r\n     * we currently support iOS 9.  (The last 32-bit iOS version)\r\n     *\r\n     * Note that this implementation assumes that all usage of String.normalize\r\n     * is for use in wordform-keying operations common within the LMLayer.\r\n     */\r\n    String.prototype.normalize = function() {\r\n      let chars = this.split(\u0027\u0027);\r\n      return chars.map(function(c) {\r\n        if (c in PARTIAL_NFD_LOOKUP) {\r\n          return PARTIAL_NFD_LOOKUP[c];\r\n        }\r\n        return c;\r\n      }).join(\u0027\u0027);\r\n    }\r\n  })();\r\n}\n//Autogenerated file - do not modify!\r\nvar com;\r\n(function (com) {\r\n    var keyman;\r\n    (function (keyman) {\r\n        var environment;\r\n        (function (environment) {\r\n            environment.VERSION = \"15.0\";\r\n            environment.BUILD = 66;\r\n            environment.ENVIRONMENT = \"alpha\";\r\n            environment.SENTRY_RELEASE = \"release-15.0.66-alpha\";\r\n        })(environment = keyman.environment || (keyman.environment = {}));\r\n    })(keyman = com.keyman || (com.keyman = {}));\r\n})(com || (com = {}));\r\nvar com;\r\n(function (com) {\r\n    var keyman;\r\n    (function (keyman) {\r\n        var utils;\r\n        (function (utils) {\r\n            /**\r\n             * Function     deepCopy\r\n             * Scope        Private\r\n             * @param       {Object}      p           object to copy\r\n             * @param       {Array=}      c0          array member being copied\r\n             * @return      {Object}                  clone (\u0027deep copy\u0027) of object\r\n             * Description  Makes an actual copy (not a reference) of an object, copying simple members,\r\n             *              arrays and member objects but not functions, so use with care!\r\n             */\r\n            function deepCopy(p, c0) {\r\n                var c = c0 || {};\r\n                for (var i in p) {\r\n                    if (typeof p[i] === \u0027object\u0027 \u0026\u0026 p[i] != null) {\r\n                        c[i] = (p[i].constructor === Array) ? [] : {};\r\n                        deepCopy(p[i], c[i]);\r\n                    }\r\n                    else {\r\n                        c[i] = p[i];\r\n                    }\r\n                }\r\n                return c;\r\n            }\r\n            utils.deepCopy = deepCopy;\r\n        })(utils = keyman.utils || (keyman.utils = {}));\r\n    })(keyman = com.keyman || (com.keyman = {}));\r\n})(com || (com = {}));\r\nvar com;\r\n(function (com) {\r\n    var keyman;\r\n    (function (keyman) {\r\n        var utils;\r\n        (function (utils) {\r\n            /**\r\n             * Returns the base global object available to the current JS platform.\r\n             * - In browsers, returns `window`.\r\n             * - In WebWorkers, returns `self`.\r\n             * - In Node, returns `global`.\r\n             */\r\n            function getGlobalObject() {\r\n                // Evergreen browsers have started defining \u0027globalThis\u0027.  \r\n                // Refer to https://devblogs.microsoft.com/typescript/announcing-typescript-3-4/#type-checking-for-globalthis\r\n                // and its referenced polyfill.  Said polyfill is very complex, so we opt for this far leaner variant.\r\n                if (typeof globalThis != \u0027undefined\u0027) {\r\n                    return globalThis; // Not available in IE or older Edge versions\r\n                    // @ts-ignore (TS will throw errors for whatever platform we\u0027re not compiling for.)\r\n                }\r\n                else if (typeof window != \u0027undefined\u0027) {\r\n                    // @ts-ignore\r\n                    return window; // The browser-based classic\r\n                    // @ts-ignore\r\n                }\r\n                else if (typeof self != \u0027undefined\u0027) {\r\n                    // @ts-ignore\r\n                    return self; // WebWorker global\r\n                }\r\n                else {\r\n                    // Assumption - if neither of the above exist, we\u0027re in Node, for unit-testing.\r\n                    // Node doesn\u0027t have as many methods and properties as the other two, but what \r\n                    // matters for us is that it\u0027s the base global.\r\n                    //\r\n                    // Some other headless JS solutions use \u0027this\u0027 instead, but Node\u0027s enough for our needs.\r\n                    // @ts-ignore\r\n                    return global;\r\n                }\r\n            }\r\n            utils.getGlobalObject = getGlobalObject;\r\n        })(utils = keyman.utils || (keyman.utils = {}));\r\n    })(keyman = com.keyman || (com.keyman = {}));\r\n})(com || (com = {}));\r\n// Ensure that this class contains no reference into core KMW code - it is referenced\r\n// by components intended to be modular and possible to separate from core KMW.\r\nvar com;\r\n(function (com) {\r\n    var keyman;\r\n    (function (keyman) {\r\n        var utils;\r\n        (function (utils) {\r\n            // Dotted-decimal version\r\n            var Version = /** @class */ (function () {\r\n                /**\r\n                 * Parses version information, preparing it for use in comparisons.\r\n                 * @param text Either a string representing a version number (ex: \"9.0.0\") or an array representing\r\n                 *             its components (ex: [9, 0, 0]).\r\n                 */\r\n                function Version(text) {\r\n                    // If a keyboard doesn\u0027t specify a version, use the DEVELOPER_VERSION_FALLBACK values.\r\n                    if (text === undefined || text === null) {\r\n                        this.components = [].concat(Version.DEVELOPER_VERSION_FALLBACK.components);\r\n                        return;\r\n                    }\r\n                    if (Array.isArray(text)) {\r\n                        var components = text;\r\n                        if (components.length \u003c 2) {\r\n                            throw new Error(\"Version string must have at least a major and minor component!\");\r\n                        }\r\n                        else {\r\n                            this.components = [].concat(components);\r\n                            return;\r\n                        }\r\n                    }\r\n                    // else, standard constructor path.\r\n                    var parts = text.split(\u0027.\u0027);\r\n                    var componentArray = [];\r\n                    if (parts.length \u003c 2) {\r\n                        throw new Error(\"Version string must have at least a major and minor component!\");\r\n                    }\r\n                    for (var i = 0; i \u003c parts.length; i++) {\r\n                        var value = parseInt(parts[i], 10);\r\n                        if (isNaN(value)) {\r\n                            throw new Error(\"Version string components must be numerical!\");\r\n                        }\r\n                        componentArray.push(value);\r\n                    }\r\n                    this.components = componentArray;\r\n                }\r\n                Object.defineProperty(Version.prototype, \"major\", {\r\n                    get: function () {\r\n                        return this.components[0];\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Version.prototype, \"minor\", {\r\n                    get: function () {\r\n                        return this.components[1];\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Version.prototype.toString = function () {\r\n                    return this.components.join(\u0027.\u0027);\r\n                };\r\n                Version.prototype.toJSON = function () {\r\n                    return this.toString();\r\n                };\r\n                Version.prototype.equals = function (other) {\r\n                    return this.compareTo(other) == 0;\r\n                };\r\n                Version.prototype.precedes = function (other) {\r\n                    return this.compareTo(other) \u003c 0;\r\n                };\r\n                Version.prototype.compareTo = function (other) {\r\n                    // If the version info depth differs, we need a flag to indicate which instance is shorter.\r\n                    var isShorter = this.components.length \u003c other.components.length;\r\n                    var maxDepth = (this.components.length \u003c other.components.length) ? this.components.length : other.components.length;\r\n                    var i;\r\n                    for (i = 0; i \u003c maxDepth; i++) {\r\n                        var delta = this.components[i] - other.components[i];\r\n                        if (delta != 0) {\r\n                            return delta;\r\n                        }\r\n                    }\r\n                    var longList = isShorter ? other.components : this.components;\r\n                    do {\r\n                        if (longList[i] \u003e 0) {\r\n                            return isShorter ? -1 : 1;\r\n                        }\r\n                        i++;\r\n                    } while (i \u003c longList.length);\r\n                    // Equal.\r\n                    return 0;\r\n                };\r\n                Version.CURRENT = new Version(com.keyman.environment.VERSION);\r\n                // Represents a default version value for keyboards compiled before this was compiled into keyboards.\r\n                // The exact version is unknown at this point, but the value is \"good enough\" for what we need.\r\n                Version.DEVELOPER_VERSION_FALLBACK = new Version([9, 0, 0]);\r\n                // For 12.0, the old default behavior of adding missing keycaps to the default layers was removed,\r\n                // as it results in unexpected, bug-like behavior for keyboard designers when it is unwanted.\r\n                Version.NO_DEFAULT_KEYCAPS = new Version([12, 0]);\r\n                Version.MAC_POSSIBLE_IPAD_ALIAS = new Version([10, 15]);\r\n                return Version;\r\n            }());\r\n            utils.Version = Version;\r\n        })(utils = keyman.utils || (keyman.utils = {}));\r\n    })(keyman = com.keyman || (com.keyman = {}));\r\n})(com || (com = {}));\r\n/***\r\n   KeymanWeb 14.0\r\n   Copyright 2020 SIL International\r\n***/\r\n/**\r\n * Constructs a string from one or more Unicode character codepoint values\r\n * passed as integer parameters.\r\n *\r\n * @param  {number} cp0,...   1 or more Unicode codepoints, e.g. 0x0065, 0x10000\r\n * @return {string|null}      The new String object.\r\n */\r\nString.kmwFromCharCode = function (cp0) {\r\n    var chars = [], i;\r\n    for (i = 0; i \u003c arguments.length; i++) {\r\n        var c = Number(arguments[i]);\r\n        if (!isFinite(c) || c \u003c 0 || c \u003e 0x10FFFF || Math.floor(c) !== c) {\r\n            throw new RangeError(\"Invalid code point \" + c);\r\n        }\r\n        if (c \u003c 0x10000) {\r\n            chars.push(c);\r\n        }\r\n        else {\r\n            c -= 0x10000;\r\n            chars.push((c \u003e\u003e 10) + 0xD800);\r\n            chars.push((c % 0x400) + 0xDC00);\r\n        }\r\n    }\r\n    return String.fromCharCode.apply(undefined, chars);\r\n};\r\n/**\r\n * Returns a number indicating the Unicode value of the character at the given\r\n * code point index, with support for supplementary plane characters.\r\n *\r\n * @param  {number}  codePointIndex  The code point index into the string (not\r\n                                     the code unit index) to return\r\n * @return {number}                  The Unicode character value\r\n */\r\nString.prototype.kmwCharCodeAt = function (codePointIndex) {\r\n    var str = String(this);\r\n    var codeUnitIndex = 0;\r\n    if (codePointIndex \u003c 0 || codePointIndex \u003e= str.length) {\r\n        return NaN;\r\n    }\r\n    for (var i = 0; i \u003c codePointIndex; i++) {\r\n        codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n        if (codeUnitIndex === null)\r\n            return NaN;\r\n    }\r\n    var first = str.charCodeAt(codeUnitIndex);\r\n    if (first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF \u0026\u0026 str.length \u003e codeUnitIndex + 1) {\r\n        var second = str.charCodeAt(codeUnitIndex + 1);\r\n        if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF) {\r\n            return ((first - 0xD800) \u003c\u003c 10) + (second - 0xDC00) + 0x10000;\r\n        }\r\n    }\r\n    return first;\r\n};\r\n/**\r\n * Returns the code point index within the calling String object of the first occurrence\r\n * of the specified value, or -1 if not found.\r\n *\r\n * @param  {string}  searchValue    The value to search for\r\n * @param  {number}  [fromIndex]    Optional code point index to start searching from\r\n * @return {number}                 The code point index of the specified search value\r\n */\r\nString.prototype.kmwIndexOf = function (searchValue, fromIndex) {\r\n    var str = String(this);\r\n    var codeUnitIndex = str.indexOf(searchValue, fromIndex);\r\n    if (codeUnitIndex \u003c 0) {\r\n        return codeUnitIndex;\r\n    }\r\n    var codePointIndex = 0;\r\n    for (var i = 0; i !== null \u0026\u0026 i \u003c codeUnitIndex; i = str.kmwNextChar(i))\r\n        codePointIndex++;\r\n    return codePointIndex;\r\n};\r\n/**\r\n * Returns the code point index within the calling String object of the last occurrence\r\n * of the specified value, or -1 if not found.\r\n *\r\n * @param  {string}  searchValue    The value to search for\r\n * @param  {number}  fromIndex      Optional code point index to start searching from\r\n * @return {number}                 The code point index of the specified search value\r\n */\r\nString.prototype.kmwLastIndexOf = function (searchValue, fromIndex) {\r\n    var str = String(this);\r\n    var codeUnitIndex = str.lastIndexOf(searchValue, fromIndex);\r\n    if (codeUnitIndex \u003c 0) {\r\n        return codeUnitIndex;\r\n    }\r\n    var codePointIndex = 0;\r\n    for (var i = 0; i !== null \u0026\u0026 i \u003c codeUnitIndex; i = str.kmwNextChar(i))\r\n        codePointIndex++;\r\n    return codePointIndex;\r\n};\r\n/**\r\n * Returns the length of the string in code points, as opposed to code units.\r\n *\r\n * @return {number}                 The length of the string in code points\r\n */\r\nString.prototype.kmwLength = function () {\r\n    var str = String(this);\r\n    if (str.length == 0)\r\n        return 0;\r\n    for (var i = 0, codeUnitIndex = 0; codeUnitIndex !== null; i++)\r\n        codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n    return i;\r\n};\r\n/**\r\n * Extracts a section of a string and returns a new string.\r\n *\r\n * @param  {number}  beginSlice    The start code point index in the string to\r\n *                                 extract from\r\n * @param  {number}  endSlice      Optional end code point index in the string\r\n *                                 to extract to\r\n * @return {string}                The substring as selected by beginSlice and\r\n *                                 endSlice\r\n */\r\nString.prototype.kmwSlice = function (beginSlice, endSlice) {\r\n    var str = String(this);\r\n    var beginSliceCodeUnit = str.kmwCodePointToCodeUnit(beginSlice);\r\n    var endSliceCodeUnit = str.kmwCodePointToCodeUnit(endSlice);\r\n    if (beginSliceCodeUnit === null || endSliceCodeUnit === null)\r\n        return \u0027\u0027;\r\n    else\r\n        return str.slice(beginSliceCodeUnit, endSliceCodeUnit);\r\n};\r\n/**\r\n * Returns the characters in a string beginning at the specified location through\r\n * the specified number of characters.\r\n *\r\n * @param  {number}  start         The start code point index in the string to\r\n *                                 extract from\r\n * @param  {number=}  length        Optional length to extract\r\n * @return {string}                The substring as selected by start and length\r\n */\r\nString.prototype.kmwSubstr = function (start, length) {\r\n    var str = String(this);\r\n    if (start \u003c 0) {\r\n        start = str.kmwLength() + start;\r\n    }\r\n    if (start \u003c 0)\r\n        start = 0;\r\n    var startCodeUnit = str.kmwCodePointToCodeUnit(start);\r\n    var endCodeUnit = startCodeUnit;\r\n    if (startCodeUnit === null)\r\n        return \u0027\u0027;\r\n    if (arguments.length \u003c 2) {\r\n        endCodeUnit = str.length;\r\n    }\r\n    else {\r\n        for (var i = 0; i \u003c length; i++)\r\n            endCodeUnit = str.kmwNextChar(endCodeUnit);\r\n    }\r\n    if (endCodeUnit === null)\r\n        return str.substring(startCodeUnit);\r\n    else\r\n        return str.substring(startCodeUnit, endCodeUnit);\r\n};\r\n/**\r\n * Returns the characters in a string between two indexes into the string.\r\n *\r\n * @param  {number}  indexA        The start code point index in the string to\r\n *                                 extract from\r\n * @param  {number}  indexB        The end code point index in the string to\r\n *                                 extract to\r\n * @return {string}                The substring as selected by indexA and indexB\r\n */\r\nString.prototype.kmwSubstring = function (indexA, indexB) {\r\n    var str = String(this), indexACodeUnit, indexBCodeUnit;\r\n    if (typeof (indexB) == \u0027undefined\u0027) {\r\n        indexACodeUnit = str.kmwCodePointToCodeUnit(indexA);\r\n        indexBCodeUnit = str.length;\r\n    }\r\n    else {\r\n        if (indexA \u003e indexB) {\r\n            var c = indexA;\r\n            indexA = indexB;\r\n            indexB = c;\r\n        }\r\n        indexACodeUnit = str.kmwCodePointToCodeUnit(indexA);\r\n        indexBCodeUnit = str.kmwCodePointToCodeUnit(indexB);\r\n    }\r\n    if (isNaN(indexACodeUnit) || indexACodeUnit === null)\r\n        indexACodeUnit = 0;\r\n    if (isNaN(indexBCodeUnit) || indexBCodeUnit === null)\r\n        indexBCodeUnit = str.length;\r\n    return str.substring(indexACodeUnit, indexBCodeUnit);\r\n};\r\n/*\r\n  Helper functions\r\n*/\r\n/**\r\n * Returns the code unit index for the next code point in the string, accounting for\r\n * supplementary pairs\r\n *\r\n * @param  {number|null}  codeUnitIndex  The code unit position to increment\r\n * @return {number|null}                 The index of the next code point in the string,\r\n *                                       in code units\r\n */\r\nString.prototype.kmwNextChar = function (codeUnitIndex) {\r\n    var str = String(this);\r\n    if (codeUnitIndex === null || codeUnitIndex \u003c 0 || codeUnitIndex \u003e= str.length - 1) {\r\n        return null;\r\n    }\r\n    var first = str.charCodeAt(codeUnitIndex);\r\n    if (first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF \u0026\u0026 str.length \u003e codeUnitIndex + 1) {\r\n        var second = str.charCodeAt(codeUnitIndex + 1);\r\n        if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF) {\r\n            if (codeUnitIndex == str.length - 2) {\r\n                return null;\r\n            }\r\n            return codeUnitIndex + 2;\r\n        }\r\n    }\r\n    return codeUnitIndex + 1;\r\n};\r\n/**\r\n * Returns the code unit index for the previous code point in the string, accounting\r\n * for supplementary pairs\r\n *\r\n * @param  {number|null}  codeUnitIndex  The code unit position to decrement\r\n * @return {number|null}                 The index of the previous code point in the\r\n *                                       string, in code units\r\n*/\r\nString.prototype.kmwPrevChar = function (codeUnitIndex) {\r\n    var str = String(this);\r\n    if (codeUnitIndex == null || codeUnitIndex \u003c= 0 || codeUnitIndex \u003e str.length) {\r\n        return null;\r\n    }\r\n    var second = str.charCodeAt(codeUnitIndex - 1);\r\n    if (second \u003e= 0xDC00 \u0026\u0026 second \u003c= 0xDFFF \u0026\u0026 codeUnitIndex \u003e 1) {\r\n        var first = str.charCodeAt(codeUnitIndex - 2);\r\n        if (first \u003e= 0xD800 \u0026\u0026 first \u003c= 0xDBFF) {\r\n            return codeUnitIndex - 2;\r\n        }\r\n    }\r\n    return codeUnitIndex - 1;\r\n};\r\n/**\r\n * Returns the corresponding code unit index to the code point index passed\r\n *\r\n * @param  {number|null} codePointIndex  A code point index in the string\r\n * @return {number|null}                 The corresponding code unit index\r\n */\r\nString.prototype.kmwCodePointToCodeUnit = function (codePointIndex) {\r\n    if (codePointIndex === null)\r\n        return null;\r\n    var str = String(this);\r\n    var codeUnitIndex = 0;\r\n    if (codePointIndex \u003c 0) {\r\n        codeUnitIndex = str.length;\r\n        for (var i = 0; i \u003e codePointIndex; i--)\r\n            codeUnitIndex = str.kmwPrevChar(codeUnitIndex);\r\n        return codeUnitIndex;\r\n    }\r\n    if (codePointIndex == str.kmwLength())\r\n        return str.length;\r\n    for (var i = 0; i \u003c codePointIndex; i++)\r\n        codeUnitIndex = str.kmwNextChar(codeUnitIndex);\r\n    return codeUnitIndex;\r\n};\r\n/**\r\n * Returns the corresponding code point index to the code unit index passed\r\n *\r\n * @param  {number|null}  codeUnitIndex  A code unit index in the string\r\n * @return {number|null}                 The corresponding code point index\r\n */\r\nString.prototype.kmwCodeUnitToCodePoint = function (codeUnitIndex) {\r\n    var str = String(this);\r\n    if (codeUnitIndex === null)\r\n        return null;\r\n    else if (codeUnitIndex == 0)\r\n        return 0;\r\n    else if (codeUnitIndex \u003c 0)\r\n        return str.substr(codeUnitIndex).kmwLength();\r\n    else\r\n        return str.substr(0, codeUnitIndex).kmwLength();\r\n};\r\n/**\r\n * Returns the character at a the code point index passed\r\n *\r\n * @param  {number}  codePointIndex  A code point index in the string\r\n * @return {string}                  The corresponding character\r\n */\r\nString.prototype.kmwCharAt = function (codePointIndex) {\r\n    var str = String(this);\r\n    if (codePointIndex \u003e= 0)\r\n        return str.kmwSubstr(codePointIndex, 1);\r\n    else\r\n        return \u0027\u0027;\r\n};\r\n/**\r\n * String prototype library extensions for basic plane characters,\r\n * to simplify enabling or disabling supplementary plane functionality (I3319)\r\n */\r\n/**\r\n * Returns the code unit index for the next code point in the string\r\n *\r\n * @param  {number}  codeUnitIndex    A code point index in the string\r\n * @return {number|null}                   The corresponding character\r\n */\r\nString.prototype.kmwBMPNextChar = function (codeUnitIndex) {\r\n    var str = String(this);\r\n    if (codeUnitIndex \u003c 0 || codeUnitIndex \u003e= str.length - 1) {\r\n        return null;\r\n    }\r\n    return codeUnitIndex + 1;\r\n};\r\n/**\r\n * Returns the code unit index for the previous code point in the string\r\n *\r\n * @param  {number}  codeUnitIndex    A code unit index in the string\r\n * @return {number|null}                   The corresponding character\r\n */\r\nString.prototype.kmwBMPPrevChar = function (codeUnitIndex) {\r\n    var str = String(this);\r\n    if (codeUnitIndex \u003c= 0 || codeUnitIndex \u003e str.length) {\r\n        return null;\r\n    }\r\n    return codeUnitIndex - 1;\r\n};\r\n/**\r\n * Returns the code unit index for a code point index\r\n *\r\n * @param  {number}  codePointIndex   A code point index in the string\r\n * @return {number}                   The corresponding character\r\n */\r\nString.prototype.kmwBMPCodePointToCodeUnit = function (codePointIndex) {\r\n    return codePointIndex;\r\n};\r\n/**\r\n * Returns the code point index for a code unit index\r\n *\r\n * @param  {number}  codeUnitIndex    A code point index in the string\r\n * @return {number}                   The corresponding character\r\n */\r\nString.prototype.kmwBMPCodeUnitToCodePoint = function (codeUnitIndex) {\r\n    return codeUnitIndex;\r\n};\r\n/**\r\n * Returns the length of a BMP string\r\n *\r\n * @return {number}                   The length in code points\r\n */\r\nString.prototype.kmwBMPLength = function () {\r\n    var str = String(this);\r\n    return str.length;\r\n};\r\n/**\r\n * Returns a substring\r\n *\r\n * @param  {number}  n\r\n * @param  {number=}  ln\r\n * @return {string}\r\n */\r\nString.prototype.kmwBMPSubstr = function (n, ln) {\r\n    var str = String(this);\r\n    if (n \u003e -1)\r\n        return str.substr(n, ln);\r\n    else\r\n        return str.substr(str.length + n, -n);\r\n};\r\n/**\r\n * Enable or disable supplementary plane string handling\r\n *\r\n * @param  {boolean}  bEnable\r\n */\r\nString.kmwEnableSupplementaryPlane = function (bEnable) {\r\n    var p = String.prototype;\r\n    String._kmwFromCharCode = bEnable ? String.kmwFromCharCode : String.fromCharCode;\r\n    p._kmwCharAt = bEnable ? p.kmwCharAt : p.charAt;\r\n    p._kmwCharCodeAt = bEnable ? p.kmwCharCodeAt : p.charCodeAt;\r\n    p._kmwIndexOf = bEnable ? p.kmwIndexOf : p.indexOf;\r\n    p._kmwLastIndexOf = bEnable ? p.kmwLastIndexOf : p.lastIndexOf;\r\n    p._kmwSlice = bEnable ? p.kmwSlice : p.slice;\r\n    p._kmwSubstring = bEnable ? p.kmwSubstring : p.substring;\r\n    p._kmwSubstr = bEnable ? p.kmwSubstr : p.kmwBMPSubstr;\r\n    p._kmwLength = bEnable ? p.kmwLength : p.kmwBMPLength;\r\n    p._kmwNextChar = bEnable ? p.kmwNextChar : p.kmwBMPNextChar;\r\n    p._kmwPrevChar = bEnable ? p.kmwPrevChar : p.kmwBMPPrevChar;\r\n    p._kmwCodePointToCodeUnit = bEnable ? p.kmwCodePointToCodeUnit : p.kmwBMPCodePointToCodeUnit;\r\n    p._kmwCodeUnitToCodePoint = bEnable ? p.kmwCodeUnitToCodePoint : p.kmwBMPCodeUnitToCodePoint;\r\n};\r\nvar com;\r\n(function (com) {\r\n    var keyman;\r\n    (function (keyman) {\r\n        var utils;\r\n        (function (utils) {\r\n            var Browser;\r\n            (function (Browser) {\r\n                Browser[\"Chrome\"] = \"chrome\";\r\n                Browser[\"Edge\"] = \"edge\";\r\n                Browser[\"Firefox\"] = \"firefox\";\r\n                Browser[\"Native\"] = \"native\";\r\n                Browser[\"Opera\"] = \"opera\";\r\n                Browser[\"Safari\"] = \"safari\";\r\n                Browser[\"Other\"] = \"other\";\r\n            })(Browser = utils.Browser || (utils.Browser = {}));\r\n            var OperatingSystem;\r\n            (function (OperatingSystem) {\r\n                OperatingSystem[\"Windows\"] = \"windows\";\r\n                OperatingSystem[\"macOS\"] = \"macosx\";\r\n                OperatingSystem[\"Linux\"] = \"linux\";\r\n                OperatingSystem[\"Android\"] = \"android\";\r\n                OperatingSystem[\"iOS\"] = \"ios\";\r\n                OperatingSystem[\"Other\"] = \"other\";\r\n            })(OperatingSystem = utils.OperatingSystem || (utils.OperatingSystem = {}));\r\n            var FormFactor;\r\n            (function (FormFactor) {\r\n                FormFactor[\"Desktop\"] = \"desktop\";\r\n                FormFactor[\"Phone\"] = \"phone\";\r\n                FormFactor[\"Tablet\"] = \"tablet\";\r\n            })(FormFactor = utils.FormFactor || (utils.FormFactor = {}));\r\n            /**\r\n             * This class provides an abstract version of com.keyman.Device that is core-friendly,\r\n             * containing only the information needed by web-core for text processing use, devoid\r\n             * of any direct references to the DOM.\r\n             */\r\n            var DeviceSpec = /** @class */ (function () {\r\n                function DeviceSpec(browser, formFactor, OS, touchable) {\r\n                    switch (browser.toLowerCase()) {\r\n                        case Browser.Chrome:\r\n                        case Browser.Edge:\r\n                        case Browser.Firefox:\r\n                        case Browser.Native:\r\n                        case Browser.Opera:\r\n                        case Browser.Safari:\r\n                            this.browser = browser.toLowerCase();\r\n                            break;\r\n                        default:\r\n                            this.browser = Browser.Other;\r\n                    }\r\n                    switch (formFactor.toLowerCase()) {\r\n                        case FormFactor.Desktop:\r\n                        case FormFactor.Phone:\r\n                        case FormFactor.Tablet:\r\n                            this.formFactor = formFactor.toLowerCase();\r\n                            break;\r\n                        default:\r\n                            throw (\"Invalid form factor specified for device: \" + formFactor);\r\n                    }\r\n                    switch (OS.toLowerCase()) {\r\n                        case OperatingSystem.Windows.toLowerCase():\r\n                        case OperatingSystem.macOS.toLowerCase():\r\n                        case OperatingSystem.Linux.toLowerCase():\r\n                        case OperatingSystem.Android.toLowerCase():\r\n                        case OperatingSystem.iOS.toLowerCase():\r\n                            this.OS = OS.toLowerCase();\r\n                            break;\r\n                        default:\r\n                            this.OS = OperatingSystem.Other;\r\n                    }\r\n                    this.touchable = touchable;\r\n                }\r\n                return DeviceSpec;\r\n            }());\r\n            utils.DeviceSpec = DeviceSpec;\r\n        })(utils = keyman.utils || (keyman.utils = {}));\r\n    })(keyman = com.keyman || (com.keyman = {}));\r\n})(com || (com = {}));\r\n// References all utility includes from a single file, making import/export simple.\r\n///\u003creference path=\"deepCopy.ts\" /\u003e\r\n///\u003creference path=\"globalObject.ts\" /\u003e\r\n///\u003creference path=\"version.ts\" /\u003e\r\n///\u003creference path=\"kmwstring.ts\" /\u003e\r\n///\u003creference path=\"deviceSpec.ts\" /\u003e\r\n/*\r\n * Copyright (c) 2018 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2018 SIL International\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nvar __values = (this \u0026\u0026 this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" \u0026\u0026 Symbol.iterator, m = s \u0026\u0026 o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o \u0026\u0026 typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o \u0026\u0026 i \u003e= o.length) o = void 0;\r\n            return { value: o \u0026\u0026 o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nvar models;\r\n(function (models) {\r\n    /**\r\n     * @file dummy-model.ts\r\n     *\r\n     * Defines the Dummy model, which is used for testing the\r\n     * prediction API exclusively.\r\n     */\r\n    /**\r\n     * The Dummy Model that returns nonsensical, but predictable results.\r\n     */\r\n    var DummyModel = /** @class */ (function () {\r\n        function DummyModel(options) {\r\n            options = options || {};\r\n            // Create a shallow copy of the suggestions;\r\n            // this class mutates the array.\r\n            this._futureSuggestions = options.futureSuggestions\r\n                ? options.futureSuggestions.slice() : [];\r\n            if (options.punctuation) {\r\n                this.punctuation = options.punctuation;\r\n            }\r\n        }\r\n        DummyModel.prototype.configure = function (capabilities) {\r\n            this.configuration = {\r\n                leftContextCodePoints: capabilities.maxLeftContextCodePoints,\r\n                rightContextCodePoints: capabilities.maxRightContextCodePoints\r\n            };\r\n            return this.configuration;\r\n        };\r\n        DummyModel.prototype.predict = function (transform, context, injectedSuggestions) {\r\n            var makeUniformDistribution = function (suggestions) {\r\n                var e_1, _a;\r\n                var distribution = [];\r\n                var n = suggestions.length;\r\n                try {\r\n                    for (var suggestions_1 = __values(suggestions), suggestions_1_1 = suggestions_1.next(); !suggestions_1_1.done; suggestions_1_1 = suggestions_1.next()) {\r\n                        var s = suggestions_1_1.value;\r\n                        distribution.push({ sample: s, p: 1 }); // For a dummy model, this is sufficient.  The uniformness is all that matters.\r\n                    }\r\n                }\r\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (suggestions_1_1 \u0026\u0026 !suggestions_1_1.done \u0026\u0026 (_a = suggestions_1.return)) _a.call(suggestions_1);\r\n                    }\r\n                    finally { if (e_1) throw e_1.error; }\r\n                }\r\n                return distribution;\r\n            };\r\n            if (injectedSuggestions) {\r\n                return makeUniformDistribution(injectedSuggestions);\r\n            }\r\n            var currentSet = this._futureSuggestions.shift();\r\n            if (!currentSet) {\r\n                return [];\r\n            }\r\n            else {\r\n                return makeUniformDistribution(currentSet);\r\n            }\r\n        };\r\n        return DummyModel;\r\n    }());\r\n    models.DummyModel = DummyModel;\r\n    ;\r\n})(models || (models = {}));\r\nvar wordBreakers;\r\n(function (wordBreakers) {\r\n    /**\r\n     * Splits ASCII words.\r\n     *\r\n     * @param phrase\r\n     */\r\n    function ascii(phrase) {\r\n        var matchWord = /[A-Za-z0-9\u0027]+/g;\r\n        var words = [];\r\n        var match;\r\n        while ((match = matchWord.exec(phrase)) !== null) {\r\n            words.push(new RegExpDerivedSpan(match[0], match.index));\r\n        }\r\n        return words;\r\n    }\r\n    wordBreakers.ascii = ascii;\r\n    /**\r\n     * A concrete span class that derives its properties from the result of\r\n     * RegExp.exec() array.\r\n     */\r\n    var RegExpDerivedSpan = /** @class */ (function () {\r\n        function RegExpDerivedSpan(text, start) {\r\n            this.text = text;\r\n            this.start = start;\r\n        }\r\n        Object.defineProperty(RegExpDerivedSpan.prototype, \"length\", {\r\n            get: function () {\r\n                return this.text.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(RegExpDerivedSpan.prototype, \"end\", {\r\n            get: function () {\r\n                return this.start + this.text.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return RegExpDerivedSpan;\r\n    }());\r\n})(wordBreakers || (wordBreakers = {}));\r\nvar wordBreakers;\r\n(function (wordBreakers) {\r\n    var data;\r\n    (function (data) {\r\n        ;\r\n        data.WORD_BREAK_PROPERTY = [\r\n            [/*start*/ 0x0, 0 /* Other */],\r\n            [/*start*/ 0xA, 1 /* LF */],\r\n            [/*start*/ 0xB, 2 /* Newline */],\r\n            [/*start*/ 0xD, 3 /* CR */],\r\n            [/*start*/ 0xE, 0 /* Other */],\r\n            [/*start*/ 0x20, 4 /* WSegSpace */],\r\n            [/*start*/ 0x21, 0 /* Other */],\r\n            [/*start*/ 0x22, 5 /* Double_Quote */],\r\n            [/*start*/ 0x23, 0 /* Other */],\r\n            [/*start*/ 0x27, 6 /* Single_Quote */],\r\n            [/*start*/ 0x28, 0 /* Other */],\r\n            [/*start*/ 0x2C, 7 /* MidNum */],\r\n            [/*start*/ 0x2D, 0 /* Other */],\r\n            [/*start*/ 0x2E, 8 /* MidNumLet */],\r\n            [/*start*/ 0x2F, 0 /* Other */],\r\n            [/*start*/ 0x30, 9 /* Numeric */],\r\n            [/*start*/ 0x3A, 10 /* MidLetter */],\r\n            [/*start*/ 0x3B, 7 /* MidNum */],\r\n            [/*start*/ 0x3C, 0 /* Other */],\r\n            [/*start*/ 0x41, 11 /* ALetter */],\r\n            [/*start*/ 0x5B, 0 /* Other */],\r\n            [/*start*/ 0x5F, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0x60, 0 /* Other */],\r\n            [/*start*/ 0x61, 11 /* ALetter */],\r\n            [/*start*/ 0x7B, 0 /* Other */],\r\n            [/*start*/ 0x85, 2 /* Newline */],\r\n            [/*start*/ 0x86, 0 /* Other */],\r\n            [/*start*/ 0xAA, 11 /* ALetter */],\r\n            [/*start*/ 0xAB, 0 /* Other */],\r\n            [/*start*/ 0xAD, 13 /* Format */],\r\n            [/*start*/ 0xAE, 0 /* Other */],\r\n            [/*start*/ 0xB5, 11 /* ALetter */],\r\n            [/*start*/ 0xB6, 0 /* Other */],\r\n            [/*start*/ 0xB7, 10 /* MidLetter */],\r\n            [/*start*/ 0xB8, 0 /* Other */],\r\n            [/*start*/ 0xBA, 11 /* ALetter */],\r\n            [/*start*/ 0xBB, 0 /* Other */],\r\n            [/*start*/ 0xC0, 11 /* ALetter */],\r\n            [/*start*/ 0xD7, 0 /* Other */],\r\n            [/*start*/ 0xD8, 11 /* ALetter */],\r\n            [/*start*/ 0xF7, 0 /* Other */],\r\n            [/*start*/ 0xF8, 11 /* ALetter */],\r\n            [/*start*/ 0x2D8, 0 /* Other */],\r\n            [/*start*/ 0x2DE, 11 /* ALetter */],\r\n            [/*start*/ 0x300, 14 /* Extend */],\r\n            [/*start*/ 0x370, 11 /* ALetter */],\r\n            [/*start*/ 0x375, 0 /* Other */],\r\n            [/*start*/ 0x376, 11 /* ALetter */],\r\n            [/*start*/ 0x378, 0 /* Other */],\r\n            [/*start*/ 0x37A, 11 /* ALetter */],\r\n            [/*start*/ 0x37E, 7 /* MidNum */],\r\n            [/*start*/ 0x37F, 11 /* ALetter */],\r\n            [/*start*/ 0x380, 0 /* Other */],\r\n            [/*start*/ 0x386, 11 /* ALetter */],\r\n            [/*start*/ 0x387, 10 /* MidLetter */],\r\n            [/*start*/ 0x388, 11 /* ALetter */],\r\n            [/*start*/ 0x38B, 0 /* Other */],\r\n            [/*start*/ 0x38C, 11 /* ALetter */],\r\n            [/*start*/ 0x38D, 0 /* Other */],\r\n            [/*start*/ 0x38E, 11 /* ALetter */],\r\n            [/*start*/ 0x3A2, 0 /* Other */],\r\n            [/*start*/ 0x3A3, 11 /* ALetter */],\r\n            [/*start*/ 0x3F6, 0 /* Other */],\r\n            [/*start*/ 0x3F7, 11 /* ALetter */],\r\n            [/*start*/ 0x482, 0 /* Other */],\r\n            [/*start*/ 0x483, 14 /* Extend */],\r\n            [/*start*/ 0x48A, 11 /* ALetter */],\r\n            [/*start*/ 0x530, 0 /* Other */],\r\n            [/*start*/ 0x531, 11 /* ALetter */],\r\n            [/*start*/ 0x557, 0 /* Other */],\r\n            [/*start*/ 0x559, 11 /* ALetter */],\r\n            [/*start*/ 0x55D, 0 /* Other */],\r\n            [/*start*/ 0x55E, 11 /* ALetter */],\r\n            [/*start*/ 0x55F, 10 /* MidLetter */],\r\n            [/*start*/ 0x560, 11 /* ALetter */],\r\n            [/*start*/ 0x589, 7 /* MidNum */],\r\n            [/*start*/ 0x58A, 11 /* ALetter */],\r\n            [/*start*/ 0x58B, 0 /* Other */],\r\n            [/*start*/ 0x591, 14 /* Extend */],\r\n            [/*start*/ 0x5BE, 0 /* Other */],\r\n            [/*start*/ 0x5BF, 14 /* Extend */],\r\n            [/*start*/ 0x5C0, 0 /* Other */],\r\n            [/*start*/ 0x5C1, 14 /* Extend */],\r\n            [/*start*/ 0x5C3, 0 /* Other */],\r\n            [/*start*/ 0x5C4, 14 /* Extend */],\r\n            [/*start*/ 0x5C6, 0 /* Other */],\r\n            [/*start*/ 0x5C7, 14 /* Extend */],\r\n            [/*start*/ 0x5C8, 0 /* Other */],\r\n            [/*start*/ 0x5D0, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0x5EB, 0 /* Other */],\r\n            [/*start*/ 0x5EF, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0x5F3, 11 /* ALetter */],\r\n            [/*start*/ 0x5F4, 10 /* MidLetter */],\r\n            [/*start*/ 0x5F5, 0 /* Other */],\r\n            [/*start*/ 0x600, 13 /* Format */],\r\n            [/*start*/ 0x606, 0 /* Other */],\r\n            [/*start*/ 0x60C, 7 /* MidNum */],\r\n            [/*start*/ 0x60E, 0 /* Other */],\r\n            [/*start*/ 0x610, 14 /* Extend */],\r\n            [/*start*/ 0x61B, 0 /* Other */],\r\n            [/*start*/ 0x61C, 13 /* Format */],\r\n            [/*start*/ 0x61D, 0 /* Other */],\r\n            [/*start*/ 0x620, 11 /* ALetter */],\r\n            [/*start*/ 0x64B, 14 /* Extend */],\r\n            [/*start*/ 0x660, 9 /* Numeric */],\r\n            [/*start*/ 0x66A, 0 /* Other */],\r\n            [/*start*/ 0x66B, 9 /* Numeric */],\r\n            [/*start*/ 0x66C, 7 /* MidNum */],\r\n            [/*start*/ 0x66D, 0 /* Other */],\r\n            [/*start*/ 0x66E, 11 /* ALetter */],\r\n            [/*start*/ 0x670, 14 /* Extend */],\r\n            [/*start*/ 0x671, 11 /* ALetter */],\r\n            [/*start*/ 0x6D4, 0 /* Other */],\r\n            [/*start*/ 0x6D5, 11 /* ALetter */],\r\n            [/*start*/ 0x6D6, 14 /* Extend */],\r\n            [/*start*/ 0x6DD, 13 /* Format */],\r\n            [/*start*/ 0x6DE, 0 /* Other */],\r\n            [/*start*/ 0x6DF, 14 /* Extend */],\r\n            [/*start*/ 0x6E5, 11 /* ALetter */],\r\n            [/*start*/ 0x6E7, 14 /* Extend */],\r\n            [/*start*/ 0x6E9, 0 /* Other */],\r\n            [/*start*/ 0x6EA, 14 /* Extend */],\r\n            [/*start*/ 0x6EE, 11 /* ALetter */],\r\n            [/*start*/ 0x6F0, 9 /* Numeric */],\r\n            [/*start*/ 0x6FA, 11 /* ALetter */],\r\n            [/*start*/ 0x6FD, 0 /* Other */],\r\n            [/*start*/ 0x6FF, 11 /* ALetter */],\r\n            [/*start*/ 0x700, 0 /* Other */],\r\n            [/*start*/ 0x70F, 13 /* Format */],\r\n            [/*start*/ 0x710, 11 /* ALetter */],\r\n            [/*start*/ 0x711, 14 /* Extend */],\r\n            [/*start*/ 0x712, 11 /* ALetter */],\r\n            [/*start*/ 0x730, 14 /* Extend */],\r\n            [/*start*/ 0x74B, 0 /* Other */],\r\n            [/*start*/ 0x74D, 11 /* ALetter */],\r\n            [/*start*/ 0x7A6, 14 /* Extend */],\r\n            [/*start*/ 0x7B1, 11 /* ALetter */],\r\n            [/*start*/ 0x7B2, 0 /* Other */],\r\n            [/*start*/ 0x7C0, 9 /* Numeric */],\r\n            [/*start*/ 0x7CA, 11 /* ALetter */],\r\n            [/*start*/ 0x7EB, 14 /* Extend */],\r\n            [/*start*/ 0x7F4, 11 /* ALetter */],\r\n            [/*start*/ 0x7F6, 0 /* Other */],\r\n            [/*start*/ 0x7F8, 7 /* MidNum */],\r\n            [/*start*/ 0x7F9, 0 /* Other */],\r\n            [/*start*/ 0x7FA, 11 /* ALetter */],\r\n            [/*start*/ 0x7FB, 0 /* Other */],\r\n            [/*start*/ 0x7FD, 14 /* Extend */],\r\n            [/*start*/ 0x7FE, 0 /* Other */],\r\n            [/*start*/ 0x800, 11 /* ALetter */],\r\n            [/*start*/ 0x816, 14 /* Extend */],\r\n            [/*start*/ 0x81A, 11 /* ALetter */],\r\n            [/*start*/ 0x81B, 14 /* Extend */],\r\n            [/*start*/ 0x824, 11 /* ALetter */],\r\n            [/*start*/ 0x825, 14 /* Extend */],\r\n            [/*start*/ 0x828, 11 /* ALetter */],\r\n            [/*start*/ 0x829, 14 /* Extend */],\r\n            [/*start*/ 0x82E, 0 /* Other */],\r\n            [/*start*/ 0x840, 11 /* ALetter */],\r\n            [/*start*/ 0x859, 14 /* Extend */],\r\n            [/*start*/ 0x85C, 0 /* Other */],\r\n            [/*start*/ 0x860, 11 /* ALetter */],\r\n            [/*start*/ 0x86B, 0 /* Other */],\r\n            [/*start*/ 0x8A0, 11 /* ALetter */],\r\n            [/*start*/ 0x8B5, 0 /* Other */],\r\n            [/*start*/ 0x8B6, 11 /* ALetter */],\r\n            [/*start*/ 0x8C8, 0 /* Other */],\r\n            [/*start*/ 0x8D3, 14 /* Extend */],\r\n            [/*start*/ 0x8E2, 13 /* Format */],\r\n            [/*start*/ 0x8E3, 14 /* Extend */],\r\n            [/*start*/ 0x904, 11 /* ALetter */],\r\n            [/*start*/ 0x93A, 14 /* Extend */],\r\n            [/*start*/ 0x93D, 11 /* ALetter */],\r\n            [/*start*/ 0x93E, 14 /* Extend */],\r\n            [/*start*/ 0x950, 11 /* ALetter */],\r\n            [/*start*/ 0x951, 14 /* Extend */],\r\n            [/*start*/ 0x958, 11 /* ALetter */],\r\n            [/*start*/ 0x962, 14 /* Extend */],\r\n            [/*start*/ 0x964, 0 /* Other */],\r\n            [/*start*/ 0x966, 9 /* Numeric */],\r\n            [/*start*/ 0x970, 0 /* Other */],\r\n            [/*start*/ 0x971, 11 /* ALetter */],\r\n            [/*start*/ 0x981, 14 /* Extend */],\r\n            [/*start*/ 0x984, 0 /* Other */],\r\n            [/*start*/ 0x985, 11 /* ALetter */],\r\n            [/*start*/ 0x98D, 0 /* Other */],\r\n            [/*start*/ 0x98F, 11 /* ALetter */],\r\n            [/*start*/ 0x991, 0 /* Other */],\r\n            [/*start*/ 0x993, 11 /* ALetter */],\r\n            [/*start*/ 0x9A9, 0 /* Other */],\r\n            [/*start*/ 0x9AA, 11 /* ALetter */],\r\n            [/*start*/ 0x9B1, 0 /* Other */],\r\n            [/*start*/ 0x9B2, 11 /* ALetter */],\r\n            [/*start*/ 0x9B3, 0 /* Other */],\r\n            [/*start*/ 0x9B6, 11 /* ALetter */],\r\n            [/*start*/ 0x9BA, 0 /* Other */],\r\n            [/*start*/ 0x9BC, 14 /* Extend */],\r\n            [/*start*/ 0x9BD, 11 /* ALetter */],\r\n            [/*start*/ 0x9BE, 14 /* Extend */],\r\n            [/*start*/ 0x9C5, 0 /* Other */],\r\n            [/*start*/ 0x9C7, 14 /* Extend */],\r\n            [/*start*/ 0x9C9, 0 /* Other */],\r\n            [/*start*/ 0x9CB, 14 /* Extend */],\r\n            [/*start*/ 0x9CE, 11 /* ALetter */],\r\n            [/*start*/ 0x9CF, 0 /* Other */],\r\n            [/*start*/ 0x9D7, 14 /* Extend */],\r\n            [/*start*/ 0x9D8, 0 /* Other */],\r\n            [/*start*/ 0x9DC, 11 /* ALetter */],\r\n            [/*start*/ 0x9DE, 0 /* Other */],\r\n            [/*start*/ 0x9DF, 11 /* ALetter */],\r\n            [/*start*/ 0x9E2, 14 /* Extend */],\r\n            [/*start*/ 0x9E4, 0 /* Other */],\r\n            [/*start*/ 0x9E6, 9 /* Numeric */],\r\n            [/*start*/ 0x9F0, 11 /* ALetter */],\r\n            [/*start*/ 0x9F2, 0 /* Other */],\r\n            [/*start*/ 0x9FC, 11 /* ALetter */],\r\n            [/*start*/ 0x9FD, 0 /* Other */],\r\n            [/*start*/ 0x9FE, 14 /* Extend */],\r\n            [/*start*/ 0x9FF, 0 /* Other */],\r\n            [/*start*/ 0xA01, 14 /* Extend */],\r\n            [/*start*/ 0xA04, 0 /* Other */],\r\n            [/*start*/ 0xA05, 11 /* ALetter */],\r\n            [/*start*/ 0xA0B, 0 /* Other */],\r\n            [/*start*/ 0xA0F, 11 /* ALetter */],\r\n            [/*start*/ 0xA11, 0 /* Other */],\r\n            [/*start*/ 0xA13, 11 /* ALetter */],\r\n            [/*start*/ 0xA29, 0 /* Other */],\r\n            [/*start*/ 0xA2A, 11 /* ALetter */],\r\n            [/*start*/ 0xA31, 0 /* Other */],\r\n            [/*start*/ 0xA32, 11 /* ALetter */],\r\n            [/*start*/ 0xA34, 0 /* Other */],\r\n            [/*start*/ 0xA35, 11 /* ALetter */],\r\n            [/*start*/ 0xA37, 0 /* Other */],\r\n            [/*start*/ 0xA38, 11 /* ALetter */],\r\n            [/*start*/ 0xA3A, 0 /* Other */],\r\n            [/*start*/ 0xA3C, 14 /* Extend */],\r\n            [/*start*/ 0xA3D, 0 /* Other */],\r\n            [/*start*/ 0xA3E, 14 /* Extend */],\r\n            [/*start*/ 0xA43, 0 /* Other */],\r\n            [/*start*/ 0xA47, 14 /* Extend */],\r\n            [/*start*/ 0xA49, 0 /* Other */],\r\n            [/*start*/ 0xA4B, 14 /* Extend */],\r\n            [/*start*/ 0xA4E, 0 /* Other */],\r\n            [/*start*/ 0xA51, 14 /* Extend */],\r\n            [/*start*/ 0xA52, 0 /* Other */],\r\n            [/*start*/ 0xA59, 11 /* ALetter */],\r\n            [/*start*/ 0xA5D, 0 /* Other */],\r\n            [/*start*/ 0xA5E, 11 /* ALetter */],\r\n            [/*start*/ 0xA5F, 0 /* Other */],\r\n            [/*start*/ 0xA66, 9 /* Numeric */],\r\n            [/*start*/ 0xA70, 14 /* Extend */],\r\n            [/*start*/ 0xA72, 11 /* ALetter */],\r\n            [/*start*/ 0xA75, 14 /* Extend */],\r\n            [/*start*/ 0xA76, 0 /* Other */],\r\n            [/*start*/ 0xA81, 14 /* Extend */],\r\n            [/*start*/ 0xA84, 0 /* Other */],\r\n            [/*start*/ 0xA85, 11 /* ALetter */],\r\n            [/*start*/ 0xA8E, 0 /* Other */],\r\n            [/*start*/ 0xA8F, 11 /* ALetter */],\r\n            [/*start*/ 0xA92, 0 /* Other */],\r\n            [/*start*/ 0xA93, 11 /* ALetter */],\r\n            [/*start*/ 0xAA9, 0 /* Other */],\r\n            [/*start*/ 0xAAA, 11 /* ALetter */],\r\n            [/*start*/ 0xAB1, 0 /* Other */],\r\n            [/*start*/ 0xAB2, 11 /* ALetter */],\r\n            [/*start*/ 0xAB4, 0 /* Other */],\r\n            [/*start*/ 0xAB5, 11 /* ALetter */],\r\n            [/*start*/ 0xABA, 0 /* Other */],\r\n            [/*start*/ 0xABC, 14 /* Extend */],\r\n            [/*start*/ 0xABD, 11 /* ALetter */],\r\n            [/*start*/ 0xABE, 14 /* Extend */],\r\n            [/*start*/ 0xAC6, 0 /* Other */],\r\n            [/*start*/ 0xAC7, 14 /* Extend */],\r\n            [/*start*/ 0xACA, 0 /* Other */],\r\n            [/*start*/ 0xACB, 14 /* Extend */],\r\n            [/*start*/ 0xACE, 0 /* Other */],\r\n            [/*start*/ 0xAD0, 11 /* ALetter */],\r\n            [/*start*/ 0xAD1, 0 /* Other */],\r\n            [/*start*/ 0xAE0, 11 /* ALetter */],\r\n            [/*start*/ 0xAE2, 14 /* Extend */],\r\n            [/*start*/ 0xAE4, 0 /* Other */],\r\n            [/*start*/ 0xAE6, 9 /* Numeric */],\r\n            [/*start*/ 0xAF0, 0 /* Other */],\r\n            [/*start*/ 0xAF9, 11 /* ALetter */],\r\n            [/*start*/ 0xAFA, 14 /* Extend */],\r\n            [/*start*/ 0xB00, 0 /* Other */],\r\n            [/*start*/ 0xB01, 14 /* Extend */],\r\n            [/*start*/ 0xB04, 0 /* Other */],\r\n            [/*start*/ 0xB05, 11 /* ALetter */],\r\n            [/*start*/ 0xB0D, 0 /* Other */],\r\n            [/*start*/ 0xB0F, 11 /* ALetter */],\r\n            [/*start*/ 0xB11, 0 /* Other */],\r\n            [/*start*/ 0xB13, 11 /* ALetter */],\r\n            [/*start*/ 0xB29, 0 /* Other */],\r\n            [/*start*/ 0xB2A, 11 /* ALetter */],\r\n            [/*start*/ 0xB31, 0 /* Other */],\r\n            [/*start*/ 0xB32, 11 /* ALetter */],\r\n            [/*start*/ 0xB34, 0 /* Other */],\r\n            [/*start*/ 0xB35, 11 /* ALetter */],\r\n            [/*start*/ 0xB3A, 0 /* Other */],\r\n            [/*start*/ 0xB3C, 14 /* Extend */],\r\n            [/*start*/ 0xB3D, 11 /* ALetter */],\r\n            [/*start*/ 0xB3E, 14 /* Extend */],\r\n            [/*start*/ 0xB45, 0 /* Other */],\r\n            [/*start*/ 0xB47, 14 /* Extend */],\r\n            [/*start*/ 0xB49, 0 /* Other */],\r\n            [/*start*/ 0xB4B, 14 /* Extend */],\r\n            [/*start*/ 0xB4E, 0 /* Other */],\r\n            [/*start*/ 0xB55, 14 /* Extend */],\r\n            [/*start*/ 0xB58, 0 /* Other */],\r\n            [/*start*/ 0xB5C, 11 /* ALetter */],\r\n            [/*start*/ 0xB5E, 0 /* Other */],\r\n            [/*start*/ 0xB5F, 11 /* ALetter */],\r\n            [/*start*/ 0xB62, 14 /* Extend */],\r\n            [/*start*/ 0xB64, 0 /* Other */],\r\n            [/*start*/ 0xB66, 9 /* Numeric */],\r\n            [/*start*/ 0xB70, 0 /* Other */],\r\n            [/*start*/ 0xB71, 11 /* ALetter */],\r\n            [/*start*/ 0xB72, 0 /* Other */],\r\n            [/*start*/ 0xB82, 14 /* Extend */],\r\n            [/*start*/ 0xB83, 11 /* ALetter */],\r\n            [/*start*/ 0xB84, 0 /* Other */],\r\n            [/*start*/ 0xB85, 11 /* ALetter */],\r\n            [/*start*/ 0xB8B, 0 /* Other */],\r\n            [/*start*/ 0xB8E, 11 /* ALetter */],\r\n            [/*start*/ 0xB91, 0 /* Other */],\r\n            [/*start*/ 0xB92, 11 /* ALetter */],\r\n            [/*start*/ 0xB96, 0 /* Other */],\r\n            [/*start*/ 0xB99, 11 /* ALetter */],\r\n            [/*start*/ 0xB9B, 0 /* Other */],\r\n            [/*start*/ 0xB9C, 11 /* ALetter */],\r\n            [/*start*/ 0xB9D, 0 /* Other */],\r\n            [/*start*/ 0xB9E, 11 /* ALetter */],\r\n            [/*start*/ 0xBA0, 0 /* Other */],\r\n            [/*start*/ 0xBA3, 11 /* ALetter */],\r\n            [/*start*/ 0xBA5, 0 /* Other */],\r\n            [/*start*/ 0xBA8, 11 /* ALetter */],\r\n            [/*start*/ 0xBAB, 0 /* Other */],\r\n            [/*start*/ 0xBAE, 11 /* ALetter */],\r\n            [/*start*/ 0xBBA, 0 /* Other */],\r\n            [/*start*/ 0xBBE, 14 /* Extend */],\r\n            [/*start*/ 0xBC3, 0 /* Other */],\r\n            [/*start*/ 0xBC6, 14 /* Extend */],\r\n            [/*start*/ 0xBC9, 0 /* Other */],\r\n            [/*start*/ 0xBCA, 14 /* Extend */],\r\n            [/*start*/ 0xBCE, 0 /* Other */],\r\n            [/*start*/ 0xBD0, 11 /* ALetter */],\r\n            [/*start*/ 0xBD1, 0 /* Other */],\r\n            [/*start*/ 0xBD7, 14 /* Extend */],\r\n            [/*start*/ 0xBD8, 0 /* Other */],\r\n            [/*start*/ 0xBE6, 9 /* Numeric */],\r\n            [/*start*/ 0xBF0, 0 /* Other */],\r\n            [/*start*/ 0xC00, 14 /* Extend */],\r\n            [/*start*/ 0xC05, 11 /* ALetter */],\r\n            [/*start*/ 0xC0D, 0 /* Other */],\r\n            [/*start*/ 0xC0E, 11 /* ALetter */],\r\n            [/*start*/ 0xC11, 0 /* Other */],\r\n            [/*start*/ 0xC12, 11 /* ALetter */],\r\n            [/*start*/ 0xC29, 0 /* Other */],\r\n            [/*start*/ 0xC2A, 11 /* ALetter */],\r\n            [/*start*/ 0xC3A, 0 /* Other */],\r\n            [/*start*/ 0xC3D, 11 /* ALetter */],\r\n            [/*start*/ 0xC3E, 14 /* Extend */],\r\n            [/*start*/ 0xC45, 0 /* Other */],\r\n            [/*start*/ 0xC46, 14 /* Extend */],\r\n            [/*start*/ 0xC49, 0 /* Other */],\r\n            [/*start*/ 0xC4A, 14 /* Extend */],\r\n            [/*start*/ 0xC4E, 0 /* Other */],\r\n            [/*start*/ 0xC55, 14 /* Extend */],\r\n            [/*start*/ 0xC57, 0 /* Other */],\r\n            [/*start*/ 0xC58, 11 /* ALetter */],\r\n            [/*start*/ 0xC5B, 0 /* Other */],\r\n            [/*start*/ 0xC60, 11 /* ALetter */],\r\n            [/*start*/ 0xC62, 14 /* Extend */],\r\n            [/*start*/ 0xC64, 0 /* Other */],\r\n            [/*start*/ 0xC66, 9 /* Numeric */],\r\n            [/*start*/ 0xC70, 0 /* Other */],\r\n            [/*start*/ 0xC80, 11 /* ALetter */],\r\n            [/*start*/ 0xC81, 14 /* Extend */],\r\n            [/*start*/ 0xC84, 0 /* Other */],\r\n            [/*start*/ 0xC85, 11 /* ALetter */],\r\n            [/*start*/ 0xC8D, 0 /* Other */],\r\n            [/*start*/ 0xC8E, 11 /* ALetter */],\r\n            [/*start*/ 0xC91, 0 /* Other */],\r\n            [/*start*/ 0xC92, 11 /* ALetter */],\r\n            [/*start*/ 0xCA9, 0 /* Other */],\r\n            [/*start*/ 0xCAA, 11 /* ALetter */],\r\n            [/*start*/ 0xCB4, 0 /* Other */],\r\n            [/*start*/ 0xCB5, 11 /* ALetter */],\r\n            [/*start*/ 0xCBA, 0 /* Other */],\r\n            [/*start*/ 0xCBC, 14 /* Extend */],\r\n            [/*start*/ 0xCBD, 11 /* ALetter */],\r\n            [/*start*/ 0xCBE, 14 /* Extend */],\r\n            [/*start*/ 0xCC5, 0 /* Other */],\r\n            [/*start*/ 0xCC6, 14 /* Extend */],\r\n            [/*start*/ 0xCC9, 0 /* Other */],\r\n            [/*start*/ 0xCCA, 14 /* Extend */],\r\n            [/*start*/ 0xCCE, 0 /* Other */],\r\n            [/*start*/ 0xCD5, 14 /* Extend */],\r\n            [/*start*/ 0xCD7, 0 /* Other */],\r\n            [/*start*/ 0xCDE, 11 /* ALetter */],\r\n            [/*start*/ 0xCDF, 0 /* Other */],\r\n            [/*start*/ 0xCE0, 11 /* ALetter */],\r\n            [/*start*/ 0xCE2, 14 /* Extend */],\r\n            [/*start*/ 0xCE4, 0 /* Other */],\r\n            [/*start*/ 0xCE6, 9 /* Numeric */],\r\n            [/*start*/ 0xCF0, 0 /* Other */],\r\n            [/*start*/ 0xCF1, 11 /* ALetter */],\r\n            [/*start*/ 0xCF3, 0 /* Other */],\r\n            [/*start*/ 0xD00, 14 /* Extend */],\r\n            [/*start*/ 0xD04, 11 /* ALetter */],\r\n            [/*start*/ 0xD0D, 0 /* Other */],\r\n            [/*start*/ 0xD0E, 11 /* ALetter */],\r\n            [/*start*/ 0xD11, 0 /* Other */],\r\n            [/*start*/ 0xD12, 11 /* ALetter */],\r\n            [/*start*/ 0xD3B, 14 /* Extend */],\r\n            [/*start*/ 0xD3D, 11 /* ALetter */],\r\n            [/*start*/ 0xD3E, 14 /* Extend */],\r\n            [/*start*/ 0xD45, 0 /* Other */],\r\n            [/*start*/ 0xD46, 14 /* Extend */],\r\n            [/*start*/ 0xD49, 0 /* Other */],\r\n            [/*start*/ 0xD4A, 14 /* Extend */],\r\n            [/*start*/ 0xD4E, 11 /* ALetter */],\r\n            [/*start*/ 0xD4F, 0 /* Other */],\r\n            [/*start*/ 0xD54, 11 /* ALetter */],\r\n            [/*start*/ 0xD57, 14 /* Extend */],\r\n            [/*start*/ 0xD58, 0 /* Other */],\r\n            [/*start*/ 0xD5F, 11 /* ALetter */],\r\n            [/*start*/ 0xD62, 14 /* Extend */],\r\n            [/*start*/ 0xD64, 0 /* Other */],\r\n            [/*start*/ 0xD66, 9 /* Numeric */],\r\n            [/*start*/ 0xD70, 0 /* Other */],\r\n            [/*start*/ 0xD7A, 11 /* ALetter */],\r\n            [/*start*/ 0xD80, 0 /* Other */],\r\n            [/*start*/ 0xD81, 14 /* Extend */],\r\n            [/*start*/ 0xD84, 0 /* Other */],\r\n            [/*start*/ 0xD85, 11 /* ALetter */],\r\n            [/*start*/ 0xD97, 0 /* Other */],\r\n            [/*start*/ 0xD9A, 11 /* ALetter */],\r\n            [/*start*/ 0xDB2, 0 /* Other */],\r\n            [/*start*/ 0xDB3, 11 /* ALetter */],\r\n            [/*start*/ 0xDBC, 0 /* Other */],\r\n            [/*start*/ 0xDBD, 11 /* ALetter */],\r\n            [/*start*/ 0xDBE, 0 /* Other */],\r\n            [/*start*/ 0xDC0, 11 /* ALetter */],\r\n            [/*start*/ 0xDC7, 0 /* Other */],\r\n            [/*start*/ 0xDCA, 14 /* Extend */],\r\n            [/*start*/ 0xDCB, 0 /* Other */],\r\n            [/*start*/ 0xDCF, 14 /* Extend */],\r\n            [/*start*/ 0xDD5, 0 /* Other */],\r\n            [/*start*/ 0xDD6, 14 /* Extend */],\r\n            [/*start*/ 0xDD7, 0 /* Other */],\r\n            [/*start*/ 0xDD8, 14 /* Extend */],\r\n            [/*start*/ 0xDE0, 0 /* Other */],\r\n            [/*start*/ 0xDE6, 9 /* Numeric */],\r\n            [/*start*/ 0xDF0, 0 /* Other */],\r\n            [/*start*/ 0xDF2, 14 /* Extend */],\r\n            [/*start*/ 0xDF4, 0 /* Other */],\r\n            [/*start*/ 0xE31, 14 /* Extend */],\r\n            [/*start*/ 0xE32, 0 /* Other */],\r\n            [/*start*/ 0xE34, 14 /* Extend */],\r\n            [/*start*/ 0xE3B, 0 /* Other */],\r\n            [/*start*/ 0xE47, 14 /* Extend */],\r\n            [/*start*/ 0xE4F, 0 /* Other */],\r\n            [/*start*/ 0xE50, 9 /* Numeric */],\r\n            [/*start*/ 0xE5A, 0 /* Other */],\r\n            [/*start*/ 0xEB1, 14 /* Extend */],\r\n            [/*start*/ 0xEB2, 0 /* Other */],\r\n            [/*start*/ 0xEB4, 14 /* Extend */],\r\n            [/*start*/ 0xEBD, 0 /* Other */],\r\n            [/*start*/ 0xEC8, 14 /* Extend */],\r\n            [/*start*/ 0xECE, 0 /* Other */],\r\n            [/*start*/ 0xED0, 9 /* Numeric */],\r\n            [/*start*/ 0xEDA, 0 /* Other */],\r\n            [/*start*/ 0xF00, 11 /* ALetter */],\r\n            [/*start*/ 0xF01, 0 /* Other */],\r\n            [/*start*/ 0xF18, 14 /* Extend */],\r\n            [/*start*/ 0xF1A, 0 /* Other */],\r\n            [/*start*/ 0xF20, 9 /* Numeric */],\r\n            [/*start*/ 0xF2A, 0 /* Other */],\r\n            [/*start*/ 0xF35, 14 /* Extend */],\r\n            [/*start*/ 0xF36, 0 /* Other */],\r\n            [/*start*/ 0xF37, 14 /* Extend */],\r\n            [/*start*/ 0xF38, 0 /* Other */],\r\n            [/*start*/ 0xF39, 14 /* Extend */],\r\n            [/*start*/ 0xF3A, 0 /* Other */],\r\n            [/*start*/ 0xF3E, 14 /* Extend */],\r\n            [/*start*/ 0xF40, 11 /* ALetter */],\r\n            [/*start*/ 0xF48, 0 /* Other */],\r\n            [/*start*/ 0xF49, 11 /* ALetter */],\r\n            [/*start*/ 0xF6D, 0 /* Other */],\r\n            [/*start*/ 0xF71, 14 /* Extend */],\r\n            [/*start*/ 0xF85, 0 /* Other */],\r\n            [/*start*/ 0xF86, 14 /* Extend */],\r\n            [/*start*/ 0xF88, 11 /* ALetter */],\r\n            [/*start*/ 0xF8D, 14 /* Extend */],\r\n            [/*start*/ 0xF98, 0 /* Other */],\r\n            [/*start*/ 0xF99, 14 /* Extend */],\r\n            [/*start*/ 0xFBD, 0 /* Other */],\r\n            [/*start*/ 0xFC6, 14 /* Extend */],\r\n            [/*start*/ 0xFC7, 0 /* Other */],\r\n            [/*start*/ 0x102B, 14 /* Extend */],\r\n            [/*start*/ 0x103F, 0 /* Other */],\r\n            [/*start*/ 0x1040, 9 /* Numeric */],\r\n            [/*start*/ 0x104A, 0 /* Other */],\r\n            [/*start*/ 0x1056, 14 /* Extend */],\r\n            [/*start*/ 0x105A, 0 /* Other */],\r\n            [/*start*/ 0x105E, 14 /* Extend */],\r\n            [/*start*/ 0x1061, 0 /* Other */],\r\n            [/*start*/ 0x1062, 14 /* Extend */],\r\n            [/*start*/ 0x1065, 0 /* Other */],\r\n            [/*start*/ 0x1067, 14 /* Extend */],\r\n            [/*start*/ 0x106E, 0 /* Other */],\r\n            [/*start*/ 0x1071, 14 /* Extend */],\r\n            [/*start*/ 0x1075, 0 /* Other */],\r\n            [/*start*/ 0x1082, 14 /* Extend */],\r\n            [/*start*/ 0x108E, 0 /* Other */],\r\n            [/*start*/ 0x108F, 14 /* Extend */],\r\n            [/*start*/ 0x1090, 9 /* Numeric */],\r\n            [/*start*/ 0x109A, 14 /* Extend */],\r\n            [/*start*/ 0x109E, 0 /* Other */],\r\n            [/*start*/ 0x10A0, 11 /* ALetter */],\r\n            [/*start*/ 0x10C6, 0 /* Other */],\r\n            [/*start*/ 0x10C7, 11 /* ALetter */],\r\n            [/*start*/ 0x10C8, 0 /* Other */],\r\n            [/*start*/ 0x10CD, 11 /* ALetter */],\r\n            [/*start*/ 0x10CE, 0 /* Other */],\r\n            [/*start*/ 0x10D0, 11 /* ALetter */],\r\n            [/*start*/ 0x10FB, 0 /* Other */],\r\n            [/*start*/ 0x10FC, 11 /* ALetter */],\r\n            [/*start*/ 0x1249, 0 /* Other */],\r\n            [/*start*/ 0x124A, 11 /* ALetter */],\r\n            [/*start*/ 0x124E, 0 /* Other */],\r\n            [/*start*/ 0x1250, 11 /* ALetter */],\r\n            [/*start*/ 0x1257, 0 /* Other */],\r\n            [/*start*/ 0x1258, 11 /* ALetter */],\r\n            [/*start*/ 0x1259, 0 /* Other */],\r\n            [/*start*/ 0x125A, 11 /* ALetter */],\r\n            [/*start*/ 0x125E, 0 /* Other */],\r\n            [/*start*/ 0x1260, 11 /* ALetter */],\r\n            [/*start*/ 0x1289, 0 /* Other */],\r\n            [/*start*/ 0x128A, 11 /* ALetter */],\r\n            [/*start*/ 0x128E, 0 /* Other */],\r\n            [/*start*/ 0x1290, 11 /* ALetter */],\r\n            [/*start*/ 0x12B1, 0 /* Other */],\r\n            [/*start*/ 0x12B2, 11 /* ALetter */],\r\n            [/*start*/ 0x12B6, 0 /* Other */],\r\n            [/*start*/ 0x12B8, 11 /* ALetter */],\r\n            [/*start*/ 0x12BF, 0 /* Other */],\r\n            [/*start*/ 0x12C0, 11 /* ALetter */],\r\n            [/*start*/ 0x12C1, 0 /* Other */],\r\n            [/*start*/ 0x12C2, 11 /* ALetter */],\r\n            [/*start*/ 0x12C6, 0 /* Other */],\r\n            [/*start*/ 0x12C8, 11 /* ALetter */],\r\n            [/*start*/ 0x12D7, 0 /* Other */],\r\n            [/*start*/ 0x12D8, 11 /* ALetter */],\r\n            [/*start*/ 0x1311, 0 /* Other */],\r\n            [/*start*/ 0x1312, 11 /* ALetter */],\r\n            [/*start*/ 0x1316, 0 /* Other */],\r\n            [/*start*/ 0x1318, 11 /* ALetter */],\r\n            [/*start*/ 0x135B, 0 /* Other */],\r\n            [/*start*/ 0x135D, 14 /* Extend */],\r\n            [/*start*/ 0x1360, 0 /* Other */],\r\n            [/*start*/ 0x1380, 11 /* ALetter */],\r\n            [/*start*/ 0x1390, 0 /* Other */],\r\n            [/*start*/ 0x13A0, 11 /* ALetter */],\r\n            [/*start*/ 0x13F6, 0 /* Other */],\r\n            [/*start*/ 0x13F8, 11 /* ALetter */],\r\n            [/*start*/ 0x13FE, 0 /* Other */],\r\n            [/*start*/ 0x1401, 11 /* ALetter */],\r\n            [/*start*/ 0x166D, 0 /* Other */],\r\n            [/*start*/ 0x166F, 11 /* ALetter */],\r\n            [/*start*/ 0x1680, 4 /* WSegSpace */],\r\n            [/*start*/ 0x1681, 11 /* ALetter */],\r\n            [/*start*/ 0x169B, 0 /* Other */],\r\n            [/*start*/ 0x16A0, 11 /* ALetter */],\r\n            [/*start*/ 0x16EB, 0 /* Other */],\r\n            [/*start*/ 0x16EE, 11 /* ALetter */],\r\n            [/*start*/ 0x16F9, 0 /* Other */],\r\n            [/*start*/ 0x1700, 11 /* ALetter */],\r\n            [/*start*/ 0x170D, 0 /* Other */],\r\n            [/*start*/ 0x170E, 11 /* ALetter */],\r\n            [/*start*/ 0x1712, 14 /* Extend */],\r\n            [/*start*/ 0x1715, 0 /* Other */],\r\n            [/*start*/ 0x1720, 11 /* ALetter */],\r\n            [/*start*/ 0x1732, 14 /* Extend */],\r\n            [/*start*/ 0x1735, 0 /* Other */],\r\n            [/*start*/ 0x1740, 11 /* ALetter */],\r\n            [/*start*/ 0x1752, 14 /* Extend */],\r\n            [/*start*/ 0x1754, 0 /* Other */],\r\n            [/*start*/ 0x1760, 11 /* ALetter */],\r\n            [/*start*/ 0x176D, 0 /* Other */],\r\n            [/*start*/ 0x176E, 11 /* ALetter */],\r\n            [/*start*/ 0x1771, 0 /* Other */],\r\n            [/*start*/ 0x1772, 14 /* Extend */],\r\n            [/*start*/ 0x1774, 0 /* Other */],\r\n            [/*start*/ 0x17B4, 14 /* Extend */],\r\n            [/*start*/ 0x17D4, 0 /* Other */],\r\n            [/*start*/ 0x17DD, 14 /* Extend */],\r\n            [/*start*/ 0x17DE, 0 /* Other */],\r\n            [/*start*/ 0x17E0, 9 /* Numeric */],\r\n            [/*start*/ 0x17EA, 0 /* Other */],\r\n            [/*start*/ 0x180B, 14 /* Extend */],\r\n            [/*start*/ 0x180E, 13 /* Format */],\r\n            [/*start*/ 0x180F, 0 /* Other */],\r\n            [/*start*/ 0x1810, 9 /* Numeric */],\r\n            [/*start*/ 0x181A, 0 /* Other */],\r\n            [/*start*/ 0x1820, 11 /* ALetter */],\r\n            [/*start*/ 0x1879, 0 /* Other */],\r\n            [/*start*/ 0x1880, 11 /* ALetter */],\r\n            [/*start*/ 0x1885, 14 /* Extend */],\r\n            [/*start*/ 0x1887, 11 /* ALetter */],\r\n            [/*start*/ 0x18A9, 14 /* Extend */],\r\n            [/*start*/ 0x18AA, 11 /* ALetter */],\r\n            [/*start*/ 0x18AB, 0 /* Other */],\r\n            [/*start*/ 0x18B0, 11 /* ALetter */],\r\n            [/*start*/ 0x18F6, 0 /* Other */],\r\n            [/*start*/ 0x1900, 11 /* ALetter */],\r\n            [/*start*/ 0x191F, 0 /* Other */],\r\n            [/*start*/ 0x1920, 14 /* Extend */],\r\n            [/*start*/ 0x192C, 0 /* Other */],\r\n            [/*start*/ 0x1930, 14 /* Extend */],\r\n            [/*start*/ 0x193C, 0 /* Other */],\r\n            [/*start*/ 0x1946, 9 /* Numeric */],\r\n            [/*start*/ 0x1950, 0 /* Other */],\r\n            [/*start*/ 0x19D0, 9 /* Numeric */],\r\n            [/*start*/ 0x19DA, 0 /* Other */],\r\n            [/*start*/ 0x1A00, 11 /* ALetter */],\r\n            [/*start*/ 0x1A17, 14 /* Extend */],\r\n            [/*start*/ 0x1A1C, 0 /* Other */],\r\n            [/*start*/ 0x1A55, 14 /* Extend */],\r\n            [/*start*/ 0x1A5F, 0 /* Other */],\r\n            [/*start*/ 0x1A60, 14 /* Extend */],\r\n            [/*start*/ 0x1A7D, 0 /* Other */],\r\n            [/*start*/ 0x1A7F, 14 /* Extend */],\r\n            [/*start*/ 0x1A80, 9 /* Numeric */],\r\n            [/*start*/ 0x1A8A, 0 /* Other */],\r\n            [/*start*/ 0x1A90, 9 /* Numeric */],\r\n            [/*start*/ 0x1A9A, 0 /* Other */],\r\n            [/*start*/ 0x1AB0, 14 /* Extend */],\r\n            [/*start*/ 0x1AC1, 0 /* Other */],\r\n            [/*start*/ 0x1B00, 14 /* Extend */],\r\n            [/*start*/ 0x1B05, 11 /* ALetter */],\r\n            [/*start*/ 0x1B34, 14 /* Extend */],\r\n            [/*start*/ 0x1B45, 11 /* ALetter */],\r\n            [/*start*/ 0x1B4C, 0 /* Other */],\r\n            [/*start*/ 0x1B50, 9 /* Numeric */],\r\n            [/*start*/ 0x1B5A, 0 /* Other */],\r\n            [/*start*/ 0x1B6B, 14 /* Extend */],\r\n            [/*start*/ 0x1B74, 0 /* Other */],\r\n            [/*start*/ 0x1B80, 14 /* Extend */],\r\n            [/*start*/ 0x1B83, 11 /* ALetter */],\r\n            [/*start*/ 0x1BA1, 14 /* Extend */],\r\n            [/*start*/ 0x1BAE, 11 /* ALetter */],\r\n            [/*start*/ 0x1BB0, 9 /* Numeric */],\r\n            [/*start*/ 0x1BBA, 11 /* ALetter */],\r\n            [/*start*/ 0x1BE6, 14 /* Extend */],\r\n            [/*start*/ 0x1BF4, 0 /* Other */],\r\n            [/*start*/ 0x1C00, 11 /* ALetter */],\r\n            [/*start*/ 0x1C24, 14 /* Extend */],\r\n            [/*start*/ 0x1C38, 0 /* Other */],\r\n            [/*start*/ 0x1C40, 9 /* Numeric */],\r\n            [/*start*/ 0x1C4A, 0 /* Other */],\r\n            [/*start*/ 0x1C4D, 11 /* ALetter */],\r\n            [/*start*/ 0x1C50, 9 /* Numeric */],\r\n            [/*start*/ 0x1C5A, 11 /* ALetter */],\r\n            [/*start*/ 0x1C7E, 0 /* Other */],\r\n            [/*start*/ 0x1C80, 11 /* ALetter */],\r\n            [/*start*/ 0x1C89, 0 /* Other */],\r\n            [/*start*/ 0x1C90, 11 /* ALetter */],\r\n            [/*start*/ 0x1CBB, 0 /* Other */],\r\n            [/*start*/ 0x1CBD, 11 /* ALetter */],\r\n            [/*start*/ 0x1CC0, 0 /* Other */],\r\n            [/*start*/ 0x1CD0, 14 /* Extend */],\r\n            [/*start*/ 0x1CD3, 0 /* Other */],\r\n            [/*start*/ 0x1CD4, 14 /* Extend */],\r\n            [/*start*/ 0x1CE9, 11 /* ALetter */],\r\n            [/*start*/ 0x1CED, 14 /* Extend */],\r\n            [/*start*/ 0x1CEE, 11 /* ALetter */],\r\n            [/*start*/ 0x1CF4, 14 /* Extend */],\r\n            [/*start*/ 0x1CF5, 11 /* ALetter */],\r\n            [/*start*/ 0x1CF7, 14 /* Extend */],\r\n            [/*start*/ 0x1CFA, 11 /* ALetter */],\r\n            [/*start*/ 0x1CFB, 0 /* Other */],\r\n            [/*start*/ 0x1D00, 11 /* ALetter */],\r\n            [/*start*/ 0x1DC0, 14 /* Extend */],\r\n            [/*start*/ 0x1DFA, 0 /* Other */],\r\n            [/*start*/ 0x1DFB, 14 /* Extend */],\r\n            [/*start*/ 0x1E00, 11 /* ALetter */],\r\n            [/*start*/ 0x1F16, 0 /* Other */],\r\n            [/*start*/ 0x1F18, 11 /* ALetter */],\r\n            [/*start*/ 0x1F1E, 0 /* Other */],\r\n            [/*start*/ 0x1F20, 11 /* ALetter */],\r\n            [/*start*/ 0x1F46, 0 /* Other */],\r\n            [/*start*/ 0x1F48, 11 /* ALetter */],\r\n            [/*start*/ 0x1F4E, 0 /* Other */],\r\n            [/*start*/ 0x1F50, 11 /* ALetter */],\r\n            [/*start*/ 0x1F58, 0 /* Other */],\r\n            [/*start*/ 0x1F59, 11 /* ALetter */],\r\n            [/*start*/ 0x1F5A, 0 /* Other */],\r\n            [/*start*/ 0x1F5B, 11 /* ALetter */],\r\n            [/*start*/ 0x1F5C, 0 /* Other */],\r\n            [/*start*/ 0x1F5D, 11 /* ALetter */],\r\n            [/*start*/ 0x1F5E, 0 /* Other */],\r\n            [/*start*/ 0x1F5F, 11 /* ALetter */],\r\n            [/*start*/ 0x1F7E, 0 /* Other */],\r\n            [/*start*/ 0x1F80, 11 /* ALetter */],\r\n            [/*start*/ 0x1FB5, 0 /* Other */],\r\n            [/*start*/ 0x1FB6, 11 /* ALetter */],\r\n            [/*start*/ 0x1FBD, 0 /* Other */],\r\n            [/*start*/ 0x1FBE, 11 /* ALetter */],\r\n            [/*start*/ 0x1FBF, 0 /* Other */],\r\n            [/*start*/ 0x1FC2, 11 /* ALetter */],\r\n            [/*start*/ 0x1FC5, 0 /* Other */],\r\n            [/*start*/ 0x1FC6, 11 /* ALetter */],\r\n            [/*start*/ 0x1FCD, 0 /* Other */],\r\n            [/*start*/ 0x1FD0, 11 /* ALetter */],\r\n            [/*start*/ 0x1FD4, 0 /* Other */],\r\n            [/*start*/ 0x1FD6, 11 /* ALetter */],\r\n            [/*start*/ 0x1FDC, 0 /* Other */],\r\n            [/*start*/ 0x1FE0, 11 /* ALetter */],\r\n            [/*start*/ 0x1FED, 0 /* Other */],\r\n            [/*start*/ 0x1FF2, 11 /* ALetter */],\r\n            [/*start*/ 0x1FF5, 0 /* Other */],\r\n            [/*start*/ 0x1FF6, 11 /* ALetter */],\r\n            [/*start*/ 0x1FFD, 0 /* Other */],\r\n            [/*start*/ 0x2000, 4 /* WSegSpace */],\r\n            [/*start*/ 0x2007, 0 /* Other */],\r\n            [/*start*/ 0x2008, 4 /* WSegSpace */],\r\n            [/*start*/ 0x200B, 0 /* Other */],\r\n            [/*start*/ 0x200C, 14 /* Extend */],\r\n            [/*start*/ 0x200D, 16 /* ZWJ */],\r\n            [/*start*/ 0x200E, 13 /* Format */],\r\n            [/*start*/ 0x2010, 0 /* Other */],\r\n            [/*start*/ 0x2018, 8 /* MidNumLet */],\r\n            [/*start*/ 0x201A, 0 /* Other */],\r\n            [/*start*/ 0x2024, 8 /* MidNumLet */],\r\n            [/*start*/ 0x2025, 0 /* Other */],\r\n            [/*start*/ 0x2027, 10 /* MidLetter */],\r\n            [/*start*/ 0x2028, 2 /* Newline */],\r\n            [/*start*/ 0x202A, 13 /* Format */],\r\n            [/*start*/ 0x202F, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0x2030, 0 /* Other */],\r\n            [/*start*/ 0x203F, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0x2041, 0 /* Other */],\r\n            [/*start*/ 0x2044, 7 /* MidNum */],\r\n            [/*start*/ 0x2045, 0 /* Other */],\r\n            [/*start*/ 0x2054, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0x2055, 0 /* Other */],\r\n            [/*start*/ 0x205F, 4 /* WSegSpace */],\r\n            [/*start*/ 0x2060, 13 /* Format */],\r\n            [/*start*/ 0x2065, 0 /* Other */],\r\n            [/*start*/ 0x2066, 13 /* Format */],\r\n            [/*start*/ 0x2070, 0 /* Other */],\r\n            [/*start*/ 0x2071, 11 /* ALetter */],\r\n            [/*start*/ 0x2072, 0 /* Other */],\r\n            [/*start*/ 0x207F, 11 /* ALetter */],\r\n            [/*start*/ 0x2080, 0 /* Other */],\r\n            [/*start*/ 0x2090, 11 /* ALetter */],\r\n            [/*start*/ 0x209D, 0 /* Other */],\r\n            [/*start*/ 0x20D0, 14 /* Extend */],\r\n            [/*start*/ 0x20F1, 0 /* Other */],\r\n            [/*start*/ 0x2102, 11 /* ALetter */],\r\n            [/*start*/ 0x2103, 0 /* Other */],\r\n            [/*start*/ 0x2107, 11 /* ALetter */],\r\n            [/*start*/ 0x2108, 0 /* Other */],\r\n            [/*start*/ 0x210A, 11 /* ALetter */],\r\n            [/*start*/ 0x2114, 0 /* Other */],\r\n            [/*start*/ 0x2115, 11 /* ALetter */],\r\n            [/*start*/ 0x2116, 0 /* Other */],\r\n            [/*start*/ 0x2119, 11 /* ALetter */],\r\n            [/*start*/ 0x211E, 0 /* Other */],\r\n            [/*start*/ 0x2124, 11 /* ALetter */],\r\n            [/*start*/ 0x2125, 0 /* Other */],\r\n            [/*start*/ 0x2126, 11 /* ALetter */],\r\n            [/*start*/ 0x2127, 0 /* Other */],\r\n            [/*start*/ 0x2128, 11 /* ALetter */],\r\n            [/*start*/ 0x2129, 0 /* Other */],\r\n            [/*start*/ 0x212A, 11 /* ALetter */],\r\n            [/*start*/ 0x212E, 0 /* Other */],\r\n            [/*start*/ 0x212F, 11 /* ALetter */],\r\n            [/*start*/ 0x213A, 0 /* Other */],\r\n            [/*start*/ 0x213C, 11 /* ALetter */],\r\n            [/*start*/ 0x2140, 0 /* Other */],\r\n            [/*start*/ 0x2145, 11 /* ALetter */],\r\n            [/*start*/ 0x214A, 0 /* Other */],\r\n            [/*start*/ 0x214E, 11 /* ALetter */],\r\n            [/*start*/ 0x214F, 0 /* Other */],\r\n            [/*start*/ 0x2160, 11 /* ALetter */],\r\n            [/*start*/ 0x2189, 0 /* Other */],\r\n            [/*start*/ 0x24B6, 11 /* ALetter */],\r\n            [/*start*/ 0x24EA, 0 /* Other */],\r\n            [/*start*/ 0x2C00, 11 /* ALetter */],\r\n            [/*start*/ 0x2C2F, 0 /* Other */],\r\n            [/*start*/ 0x2C30, 11 /* ALetter */],\r\n            [/*start*/ 0x2C5F, 0 /* Other */],\r\n            [/*start*/ 0x2C60, 11 /* ALetter */],\r\n            [/*start*/ 0x2CE5, 0 /* Other */],\r\n            [/*start*/ 0x2CEB, 11 /* ALetter */],\r\n            [/*start*/ 0x2CEF, 14 /* Extend */],\r\n            [/*start*/ 0x2CF2, 11 /* ALetter */],\r\n            [/*start*/ 0x2CF4, 0 /* Other */],\r\n            [/*start*/ 0x2D00, 11 /* ALetter */],\r\n            [/*start*/ 0x2D26, 0 /* Other */],\r\n            [/*start*/ 0x2D27, 11 /* ALetter */],\r\n            [/*start*/ 0x2D28, 0 /* Other */],\r\n            [/*start*/ 0x2D2D, 11 /* ALetter */],\r\n            [/*start*/ 0x2D2E, 0 /* Other */],\r\n            [/*start*/ 0x2D30, 11 /* ALetter */],\r\n            [/*start*/ 0x2D68, 0 /* Other */],\r\n            [/*start*/ 0x2D6F, 11 /* ALetter */],\r\n            [/*start*/ 0x2D70, 0 /* Other */],\r\n            [/*start*/ 0x2D7F, 14 /* Extend */],\r\n            [/*start*/ 0x2D80, 11 /* ALetter */],\r\n            [/*start*/ 0x2D97, 0 /* Other */],\r\n            [/*start*/ 0x2DA0, 11 /* ALetter */],\r\n            [/*start*/ 0x2DA7, 0 /* Other */],\r\n            [/*start*/ 0x2DA8, 11 /* ALetter */],\r\n            [/*start*/ 0x2DAF, 0 /* Other */],\r\n            [/*start*/ 0x2DB0, 11 /* ALetter */],\r\n            [/*start*/ 0x2DB7, 0 /* Other */],\r\n            [/*start*/ 0x2DB8, 11 /* ALetter */],\r\n            [/*start*/ 0x2DBF, 0 /* Other */],\r\n            [/*start*/ 0x2DC0, 11 /* ALetter */],\r\n            [/*start*/ 0x2DC7, 0 /* Other */],\r\n            [/*start*/ 0x2DC8, 11 /* ALetter */],\r\n            [/*start*/ 0x2DCF, 0 /* Other */],\r\n            [/*start*/ 0x2DD0, 11 /* ALetter */],\r\n            [/*start*/ 0x2DD7, 0 /* Other */],\r\n            [/*start*/ 0x2DD8, 11 /* ALetter */],\r\n            [/*start*/ 0x2DDF, 0 /* Other */],\r\n            [/*start*/ 0x2DE0, 14 /* Extend */],\r\n            [/*start*/ 0x2E00, 0 /* Other */],\r\n            [/*start*/ 0x2E2F, 11 /* ALetter */],\r\n            [/*start*/ 0x2E30, 0 /* Other */],\r\n            [/*start*/ 0x3000, 4 /* WSegSpace */],\r\n            [/*start*/ 0x3001, 0 /* Other */],\r\n            [/*start*/ 0x3005, 11 /* ALetter */],\r\n            [/*start*/ 0x3006, 0 /* Other */],\r\n            [/*start*/ 0x302A, 14 /* Extend */],\r\n            [/*start*/ 0x3030, 0 /* Other */],\r\n            [/*start*/ 0x3031, 17 /* Katakana */],\r\n            [/*start*/ 0x3036, 0 /* Other */],\r\n            [/*start*/ 0x303B, 11 /* ALetter */],\r\n            [/*start*/ 0x303D, 0 /* Other */],\r\n            [/*start*/ 0x3099, 14 /* Extend */],\r\n            [/*start*/ 0x309B, 17 /* Katakana */],\r\n            [/*start*/ 0x309D, 0 /* Other */],\r\n            [/*start*/ 0x30A0, 17 /* Katakana */],\r\n            [/*start*/ 0x30FB, 0 /* Other */],\r\n            [/*start*/ 0x30FC, 17 /* Katakana */],\r\n            [/*start*/ 0x3100, 0 /* Other */],\r\n            [/*start*/ 0x3105, 11 /* ALetter */],\r\n            [/*start*/ 0x3130, 0 /* Other */],\r\n            [/*start*/ 0x3131, 11 /* ALetter */],\r\n            [/*start*/ 0x318F, 0 /* Other */],\r\n            [/*start*/ 0x31A0, 11 /* ALetter */],\r\n            [/*start*/ 0x31C0, 0 /* Other */],\r\n            [/*start*/ 0x31F0, 17 /* Katakana */],\r\n            [/*start*/ 0x3200, 0 /* Other */],\r\n            [/*start*/ 0x32D0, 17 /* Katakana */],\r\n            [/*start*/ 0x32FF, 0 /* Other */],\r\n            [/*start*/ 0x3300, 17 /* Katakana */],\r\n            [/*start*/ 0x3358, 0 /* Other */],\r\n            [/*start*/ 0xA000, 11 /* ALetter */],\r\n            [/*start*/ 0xA48D, 0 /* Other */],\r\n            [/*start*/ 0xA4D0, 11 /* ALetter */],\r\n            [/*start*/ 0xA4FE, 0 /* Other */],\r\n            [/*start*/ 0xA500, 11 /* ALetter */],\r\n            [/*start*/ 0xA60D, 0 /* Other */],\r\n            [/*start*/ 0xA610, 11 /* ALetter */],\r\n            [/*start*/ 0xA620, 9 /* Numeric */],\r\n            [/*start*/ 0xA62A, 11 /* ALetter */],\r\n            [/*start*/ 0xA62C, 0 /* Other */],\r\n            [/*start*/ 0xA640, 11 /* ALetter */],\r\n            [/*start*/ 0xA66F, 14 /* Extend */],\r\n            [/*start*/ 0xA673, 0 /* Other */],\r\n            [/*start*/ 0xA674, 14 /* Extend */],\r\n            [/*start*/ 0xA67E, 0 /* Other */],\r\n            [/*start*/ 0xA67F, 11 /* ALetter */],\r\n            [/*start*/ 0xA69E, 14 /* Extend */],\r\n            [/*start*/ 0xA6A0, 11 /* ALetter */],\r\n            [/*start*/ 0xA6F0, 14 /* Extend */],\r\n            [/*start*/ 0xA6F2, 0 /* Other */],\r\n            [/*start*/ 0xA708, 11 /* ALetter */],\r\n            [/*start*/ 0xA7C0, 0 /* Other */],\r\n            [/*start*/ 0xA7C2, 11 /* ALetter */],\r\n            [/*start*/ 0xA7CB, 0 /* Other */],\r\n            [/*start*/ 0xA7F5, 11 /* ALetter */],\r\n            [/*start*/ 0xA802, 14 /* Extend */],\r\n            [/*start*/ 0xA803, 11 /* ALetter */],\r\n            [/*start*/ 0xA806, 14 /* Extend */],\r\n            [/*start*/ 0xA807, 11 /* ALetter */],\r\n            [/*start*/ 0xA80B, 14 /* Extend */],\r\n            [/*start*/ 0xA80C, 11 /* ALetter */],\r\n            [/*start*/ 0xA823, 14 /* Extend */],\r\n            [/*start*/ 0xA828, 0 /* Other */],\r\n            [/*start*/ 0xA82C, 14 /* Extend */],\r\n            [/*start*/ 0xA82D, 0 /* Other */],\r\n            [/*start*/ 0xA840, 11 /* ALetter */],\r\n            [/*start*/ 0xA874, 0 /* Other */],\r\n            [/*start*/ 0xA880, 14 /* Extend */],\r\n            [/*start*/ 0xA882, 11 /* ALetter */],\r\n            [/*start*/ 0xA8B4, 14 /* Extend */],\r\n            [/*start*/ 0xA8C6, 0 /* Other */],\r\n            [/*start*/ 0xA8D0, 9 /* Numeric */],\r\n            [/*start*/ 0xA8DA, 0 /* Other */],\r\n            [/*start*/ 0xA8E0, 14 /* Extend */],\r\n            [/*start*/ 0xA8F2, 11 /* ALetter */],\r\n            [/*start*/ 0xA8F8, 0 /* Other */],\r\n            [/*start*/ 0xA8FB, 11 /* ALetter */],\r\n            [/*start*/ 0xA8FC, 0 /* Other */],\r\n            [/*start*/ 0xA8FD, 11 /* ALetter */],\r\n            [/*start*/ 0xA8FF, 14 /* Extend */],\r\n            [/*start*/ 0xA900, 9 /* Numeric */],\r\n            [/*start*/ 0xA90A, 11 /* ALetter */],\r\n            [/*start*/ 0xA926, 14 /* Extend */],\r\n            [/*start*/ 0xA92E, 0 /* Other */],\r\n            [/*start*/ 0xA930, 11 /* ALetter */],\r\n            [/*start*/ 0xA947, 14 /* Extend */],\r\n            [/*start*/ 0xA954, 0 /* Other */],\r\n            [/*start*/ 0xA960, 11 /* ALetter */],\r\n            [/*start*/ 0xA97D, 0 /* Other */],\r\n            [/*start*/ 0xA980, 14 /* Extend */],\r\n            [/*start*/ 0xA984, 11 /* ALetter */],\r\n            [/*start*/ 0xA9B3, 14 /* Extend */],\r\n            [/*start*/ 0xA9C1, 0 /* Other */],\r\n            [/*start*/ 0xA9CF, 11 /* ALetter */],\r\n            [/*start*/ 0xA9D0, 9 /* Numeric */],\r\n            [/*start*/ 0xA9DA, 0 /* Other */],\r\n            [/*start*/ 0xA9E5, 14 /* Extend */],\r\n            [/*start*/ 0xA9E6, 0 /* Other */],\r\n            [/*start*/ 0xA9F0, 9 /* Numeric */],\r\n            [/*start*/ 0xA9FA, 0 /* Other */],\r\n            [/*start*/ 0xAA00, 11 /* ALetter */],\r\n            [/*start*/ 0xAA29, 14 /* Extend */],\r\n            [/*start*/ 0xAA37, 0 /* Other */],\r\n            [/*start*/ 0xAA40, 11 /* ALetter */],\r\n            [/*start*/ 0xAA43, 14 /* Extend */],\r\n            [/*start*/ 0xAA44, 11 /* ALetter */],\r\n            [/*start*/ 0xAA4C, 14 /* Extend */],\r\n            [/*start*/ 0xAA4E, 0 /* Other */],\r\n            [/*start*/ 0xAA50, 9 /* Numeric */],\r\n            [/*start*/ 0xAA5A, 0 /* Other */],\r\n            [/*start*/ 0xAA7B, 14 /* Extend */],\r\n            [/*start*/ 0xAA7E, 0 /* Other */],\r\n            [/*start*/ 0xAAB0, 14 /* Extend */],\r\n            [/*start*/ 0xAAB1, 0 /* Other */],\r\n            [/*start*/ 0xAAB2, 14 /* Extend */],\r\n            [/*start*/ 0xAAB5, 0 /* Other */],\r\n            [/*start*/ 0xAAB7, 14 /* Extend */],\r\n            [/*start*/ 0xAAB9, 0 /* Other */],\r\n            [/*start*/ 0xAABE, 14 /* Extend */],\r\n            [/*start*/ 0xAAC0, 0 /* Other */],\r\n            [/*start*/ 0xAAC1, 14 /* Extend */],\r\n            [/*start*/ 0xAAC2, 0 /* Other */],\r\n            [/*start*/ 0xAAE0, 11 /* ALetter */],\r\n            [/*start*/ 0xAAEB, 14 /* Extend */],\r\n            [/*start*/ 0xAAF0, 0 /* Other */],\r\n            [/*start*/ 0xAAF2, 11 /* ALetter */],\r\n            [/*start*/ 0xAAF5, 14 /* Extend */],\r\n            [/*start*/ 0xAAF7, 0 /* Other */],\r\n            [/*start*/ 0xAB01, 11 /* ALetter */],\r\n            [/*start*/ 0xAB07, 0 /* Other */],\r\n            [/*start*/ 0xAB09, 11 /* ALetter */],\r\n            [/*start*/ 0xAB0F, 0 /* Other */],\r\n            [/*start*/ 0xAB11, 11 /* ALetter */],\r\n            [/*start*/ 0xAB17, 0 /* Other */],\r\n            [/*start*/ 0xAB20, 11 /* ALetter */],\r\n            [/*start*/ 0xAB27, 0 /* Other */],\r\n            [/*start*/ 0xAB28, 11 /* ALetter */],\r\n            [/*start*/ 0xAB2F, 0 /* Other */],\r\n            [/*start*/ 0xAB30, 11 /* ALetter */],\r\n            [/*start*/ 0xAB6A, 0 /* Other */],\r\n            [/*start*/ 0xAB70, 11 /* ALetter */],\r\n            [/*start*/ 0xABE3, 14 /* Extend */],\r\n            [/*start*/ 0xABEB, 0 /* Other */],\r\n            [/*start*/ 0xABEC, 14 /* Extend */],\r\n            [/*start*/ 0xABEE, 0 /* Other */],\r\n            [/*start*/ 0xABF0, 9 /* Numeric */],\r\n            [/*start*/ 0xABFA, 0 /* Other */],\r\n            [/*start*/ 0xAC00, 11 /* ALetter */],\r\n            [/*start*/ 0xD7A4, 0 /* Other */],\r\n            [/*start*/ 0xD7B0, 11 /* ALetter */],\r\n            [/*start*/ 0xD7C7, 0 /* Other */],\r\n            [/*start*/ 0xD7CB, 11 /* ALetter */],\r\n            [/*start*/ 0xD7FC, 0 /* Other */],\r\n            [/*start*/ 0xFB00, 11 /* ALetter */],\r\n            [/*start*/ 0xFB07, 0 /* Other */],\r\n            [/*start*/ 0xFB13, 11 /* ALetter */],\r\n            [/*start*/ 0xFB18, 0 /* Other */],\r\n            [/*start*/ 0xFB1D, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB1E, 14 /* Extend */],\r\n            [/*start*/ 0xFB1F, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB29, 0 /* Other */],\r\n            [/*start*/ 0xFB2A, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB37, 0 /* Other */],\r\n            [/*start*/ 0xFB38, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB3D, 0 /* Other */],\r\n            [/*start*/ 0xFB3E, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB3F, 0 /* Other */],\r\n            [/*start*/ 0xFB40, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB42, 0 /* Other */],\r\n            [/*start*/ 0xFB43, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB45, 0 /* Other */],\r\n            [/*start*/ 0xFB46, 15 /* Hebrew_Letter */],\r\n            [/*start*/ 0xFB50, 11 /* ALetter */],\r\n            [/*start*/ 0xFBB2, 0 /* Other */],\r\n            [/*start*/ 0xFBD3, 11 /* ALetter */],\r\n            [/*start*/ 0xFD3E, 0 /* Other */],\r\n            [/*start*/ 0xFD50, 11 /* ALetter */],\r\n            [/*start*/ 0xFD90, 0 /* Other */],\r\n            [/*start*/ 0xFD92, 11 /* ALetter */],\r\n            [/*start*/ 0xFDC8, 0 /* Other */],\r\n            [/*start*/ 0xFDF0, 11 /* ALetter */],\r\n            [/*start*/ 0xFDFC, 0 /* Other */],\r\n            [/*start*/ 0xFE00, 14 /* Extend */],\r\n            [/*start*/ 0xFE10, 7 /* MidNum */],\r\n            [/*start*/ 0xFE11, 0 /* Other */],\r\n            [/*start*/ 0xFE13, 10 /* MidLetter */],\r\n            [/*start*/ 0xFE14, 7 /* MidNum */],\r\n            [/*start*/ 0xFE15, 0 /* Other */],\r\n            [/*start*/ 0xFE20, 14 /* Extend */],\r\n            [/*start*/ 0xFE30, 0 /* Other */],\r\n            [/*start*/ 0xFE33, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0xFE35, 0 /* Other */],\r\n            [/*start*/ 0xFE4D, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0xFE50, 7 /* MidNum */],\r\n            [/*start*/ 0xFE51, 0 /* Other */],\r\n            [/*start*/ 0xFE52, 8 /* MidNumLet */],\r\n            [/*start*/ 0xFE53, 0 /* Other */],\r\n            [/*start*/ 0xFE54, 7 /* MidNum */],\r\n            [/*start*/ 0xFE55, 10 /* MidLetter */],\r\n            [/*start*/ 0xFE56, 0 /* Other */],\r\n            [/*start*/ 0xFE70, 11 /* ALetter */],\r\n            [/*start*/ 0xFE75, 0 /* Other */],\r\n            [/*start*/ 0xFE76, 11 /* ALetter */],\r\n            [/*start*/ 0xFEFD, 0 /* Other */],\r\n            [/*start*/ 0xFEFF, 13 /* Format */],\r\n            [/*start*/ 0xFF00, 0 /* Other */],\r\n            [/*start*/ 0xFF07, 8 /* MidNumLet */],\r\n            [/*start*/ 0xFF08, 0 /* Other */],\r\n            [/*start*/ 0xFF0C, 7 /* MidNum */],\r\n            [/*start*/ 0xFF0D, 0 /* Other */],\r\n            [/*start*/ 0xFF0E, 8 /* MidNumLet */],\r\n            [/*start*/ 0xFF0F, 0 /* Other */],\r\n            [/*start*/ 0xFF10, 9 /* Numeric */],\r\n            [/*start*/ 0xFF1A, 10 /* MidLetter */],\r\n            [/*start*/ 0xFF1B, 7 /* MidNum */],\r\n            [/*start*/ 0xFF1C, 0 /* Other */],\r\n            [/*start*/ 0xFF21, 11 /* ALetter */],\r\n            [/*start*/ 0xFF3B, 0 /* Other */],\r\n            [/*start*/ 0xFF3F, 12 /* ExtendNumLet */],\r\n            [/*start*/ 0xFF40, 0 /* Other */],\r\n            [/*start*/ 0xFF41, 11 /* ALetter */],\r\n            [/*start*/ 0xFF5B, 0 /* Other */],\r\n            [/*start*/ 0xFF66, 17 /* Katakana */],\r\n            [/*start*/ 0xFF9E, 14 /* Extend */],\r\n            [/*start*/ 0xFFA0, 11 /* ALetter */],\r\n            [/*start*/ 0xFFBF, 0 /* Other */],\r\n            [/*start*/ 0xFFC2, 11 /* ALetter */],\r\n            [/*start*/ 0xFFC8, 0 /* Other */],\r\n            [/*start*/ 0xFFCA, 11 /* ALetter */],\r\n            [/*start*/ 0xFFD0, 0 /* Other */],\r\n            [/*start*/ 0xFFD2, 11 /* ALetter */],\r\n            [/*start*/ 0xFFD8, 0 /* Other */],\r\n            [/*start*/ 0xFFDA, 11 /* ALetter */],\r\n            [/*start*/ 0xFFDD, 0 /* Other */],\r\n            [/*start*/ 0xFFF9, 13 /* Format */],\r\n            [/*start*/ 0xFFFC, 0 /* Other */],\r\n            [/*start*/ 0x10000, 11 /* ALetter */],\r\n            [/*start*/ 0x1000C, 0 /* Other */],\r\n            [/*start*/ 0x1000D, 11 /* ALetter */],\r\n            [/*start*/ 0x10027, 0 /* Other */],\r\n            [/*start*/ 0x10028, 11 /* ALetter */],\r\n            [/*start*/ 0x1003B, 0 /* Other */],\r\n            [/*start*/ 0x1003C, 11 /* ALetter */],\r\n            [/*start*/ 0x1003E, 0 /* Other */],\r\n            [/*start*/ 0x1003F, 11 /* ALetter */],\r\n            [/*start*/ 0x1004E, 0 /* Other */],\r\n            [/*start*/ 0x10050, 11 /* ALetter */],\r\n            [/*start*/ 0x1005E, 0 /* Other */],\r\n            [/*start*/ 0x10080, 11 /* ALetter */],\r\n            [/*start*/ 0x100FB, 0 /* Other */],\r\n            [/*start*/ 0x10140, 11 /* ALetter */],\r\n            [/*start*/ 0x10175, 0 /* Other */],\r\n            [/*start*/ 0x101FD, 14 /* Extend */],\r\n            [/*start*/ 0x101FE, 0 /* Other */],\r\n            [/*start*/ 0x10280, 11 /* ALetter */],\r\n            [/*start*/ 0x1029D, 0 /* Other */],\r\n            [/*start*/ 0x102A0, 11 /* ALetter */],\r\n            [/*start*/ 0x102D1, 0 /* Other */],\r\n            [/*start*/ 0x102E0, 14 /* Extend */],\r\n            [/*start*/ 0x102E1, 0 /* Other */],\r\n            [/*start*/ 0x10300, 11 /* ALetter */],\r\n            [/*start*/ 0x10320, 0 /* Other */],\r\n            [/*start*/ 0x1032D, 11 /* ALetter */],\r\n            [/*start*/ 0x1034B, 0 /* Other */],\r\n            [/*start*/ 0x10350, 11 /* ALetter */],\r\n            [/*start*/ 0x10376, 14 /* Extend */],\r\n            [/*start*/ 0x1037B, 0 /* Other */],\r\n            [/*start*/ 0x10380, 11 /* ALetter */],\r\n            [/*start*/ 0x1039E, 0 /* Other */],\r\n            [/*start*/ 0x103A0, 11 /* ALetter */],\r\n            [/*start*/ 0x103C4, 0 /* Other */],\r\n            [/*start*/ 0x103C8, 11 /* ALetter */],\r\n            [/*start*/ 0x103D0, 0 /* Other */],\r\n            [/*start*/ 0x103D1, 11 /* ALetter */],\r\n            [/*start*/ 0x103D6, 0 /* Other */],\r\n            [/*start*/ 0x10400, 11 /* ALetter */],\r\n            [/*start*/ 0x1049E, 0 /* Other */],\r\n            [/*start*/ 0x104A0, 9 /* Numeric */],\r\n            [/*start*/ 0x104AA, 0 /* Other */],\r\n            [/*start*/ 0x104B0, 11 /* ALetter */],\r\n            [/*start*/ 0x104D4, 0 /* Other */],\r\n            [/*start*/ 0x104D8, 11 /* ALetter */],\r\n            [/*start*/ 0x104FC, 0 /* Other */],\r\n            [/*start*/ 0x10500, 11 /* ALetter */],\r\n            [/*start*/ 0x10528, 0 /* Other */],\r\n            [/*start*/ 0x10530, 11 /* ALetter */],\r\n            [/*start*/ 0x10564, 0 /* Other */],\r\n            [/*start*/ 0x10600, 11 /* ALetter */],\r\n            [/*start*/ 0x10737, 0 /* Other */],\r\n            [/*start*/ 0x10740, 11 /* ALetter */],\r\n            [/*start*/ 0x10756, 0 /* Other */],\r\n            [/*start*/ 0x10760, 11 /* ALetter */],\r\n            [/*start*/ 0x10768, 0 /* Other */],\r\n            [/*start*/ 0x10800, 11 /* ALetter */],\r\n            [/*start*/ 0x10806, 0 /* Other */],\r\n            [/*start*/ 0x10808, 11 /* ALetter */],\r\n            [/*start*/ 0x10809, 0 /* Other */],\r\n            [/*start*/ 0x1080A, 11 /* ALetter */],\r\n            [/*start*/ 0x10836, 0 /* Other */],\r\n            [/*start*/ 0x10837, 11 /* ALetter */],\r\n            [/*start*/ 0x10839, 0 /* Other */],\r\n            [/*start*/ 0x1083C, 11 /* ALetter */],\r\n            [/*start*/ 0x1083D, 0 /* Other */],\r\n            [/*start*/ 0x1083F, 11 /* ALetter */],\r\n            [/*start*/ 0x10856, 0 /* Other */],\r\n            [/*start*/ 0x10860, 11 /* ALetter */],\r\n            [/*start*/ 0x10877, 0 /* Other */],\r\n            [/*start*/ 0x10880, 11 /* ALetter */],\r\n            [/*start*/ 0x1089F, 0 /* Other */],\r\n            [/*start*/ 0x108E0, 11 /* ALetter */],\r\n            [/*start*/ 0x108F3, 0 /* Other */],\r\n            [/*start*/ 0x108F4, 11 /* ALetter */],\r\n            [/*start*/ 0x108F6, 0 /* Other */],\r\n            [/*start*/ 0x10900, 11 /* ALetter */],\r\n            [/*start*/ 0x10916, 0 /* Other */],\r\n            [/*start*/ 0x10920, 11 /* ALetter */],\r\n            [/*start*/ 0x1093A, 0 /* Other */],\r\n            [/*start*/ 0x10980, 11 /* ALetter */],\r\n            [/*start*/ 0x109B8, 0 /* Other */],\r\n            [/*start*/ 0x109BE, 11 /* ALetter */],\r\n            [/*start*/ 0x109C0, 0 /* Other */],\r\n            [/*start*/ 0x10A00, 11 /* ALetter */],\r\n            [/*start*/ 0x10A01, 14 /* Extend */],\r\n            [/*start*/ 0x10A04, 0 /* Other */],\r\n            [/*start*/ 0x10A05, 14 /* Extend */],\r\n            [/*start*/ 0x10A07, 0 /* Other */],\r\n            [/*start*/ 0x10A0C, 14 /* Extend */],\r\n            [/*start*/ 0x10A10, 11 /* ALetter */],\r\n            [/*start*/ 0x10A14, 0 /* Other */],\r\n            [/*start*/ 0x10A15, 11 /* ALetter */],\r\n            [/*start*/ 0x10A18, 0 /* Other */],\r\n            [/*start*/ 0x10A19, 11 /* ALetter */],\r\n            [/*start*/ 0x10A36, 0 /* Other */],\r\n            [/*start*/ 0x10A38, 14 /* Extend */],\r\n            [/*start*/ 0x10A3B, 0 /* Other */],\r\n            [/*start*/ 0x10A3F, 14 /* Extend */],\r\n            [/*start*/ 0x10A40, 0 /* Other */],\r\n            [/*start*/ 0x10A60, 11 /* ALetter */],\r\n            [/*start*/ 0x10A7D, 0 /* Other */],\r\n            [/*start*/ 0x10A80, 11 /* ALetter */],\r\n            [/*start*/ 0x10A9D, 0 /* Other */],\r\n            [/*start*/ 0x10AC0, 11 /* ALetter */],\r\n            [/*start*/ 0x10AC8, 0 /* Other */],\r\n            [/*start*/ 0x10AC9, 11 /* ALetter */],\r\n            [/*start*/ 0x10AE5, 14 /* Extend */],\r\n            [/*start*/ 0x10AE7, 0 /* Other */],\r\n            [/*start*/ 0x10B00, 11 /* ALetter */],\r\n            [/*start*/ 0x10B36, 0 /* Other */],\r\n            [/*start*/ 0x10B40, 11 /* ALetter */],\r\n            [/*start*/ 0x10B56, 0 /* Other */],\r\n            [/*start*/ 0x10B60, 11 /* ALetter */],\r\n            [/*start*/ 0x10B73, 0 /* Other */],\r\n            [/*start*/ 0x10B80, 11 /* ALetter */],\r\n            [/*start*/ 0x10B92, 0 /* Other */],\r\n            [/*start*/ 0x10C00, 11 /* ALetter */],\r\n            [/*start*/ 0x10C49, 0 /* Other */],\r\n            [/*start*/ 0x10C80, 11 /* ALetter */],\r\n            [/*start*/ 0x10CB3, 0 /* Other */],\r\n            [/*start*/ 0x10CC0, 11 /* ALetter */],\r\n            [/*start*/ 0x10CF3, 0 /* Other */],\r\n            [/*start*/ 0x10D00, 11 /* ALetter */],\r\n            [/*start*/ 0x10D24, 14 /* Extend */],\r\n            [/*start*/ 0x10D28, 0 /* Other */],\r\n            [/*start*/ 0x10D30, 9 /* Numeric */],\r\n            [/*start*/ 0x10D3A, 0 /* Other */],\r\n            [/*start*/ 0x10E80, 11 /* ALetter */],\r\n            [/*start*/ 0x10EAA, 0 /* Other */],\r\n            [/*start*/ 0x10EAB, 14 /* Extend */],\r\n            [/*start*/ 0x10EAD, 0 /* Other */],\r\n            [/*start*/ 0x10EB0, 11 /* ALetter */],\r\n            [/*start*/ 0x10EB2, 0 /* Other */],\r\n            [/*start*/ 0x10F00, 11 /* ALetter */],\r\n            [/*start*/ 0x10F1D, 0 /* Other */],\r\n            [/*start*/ 0x10F27, 11 /* ALetter */],\r\n            [/*start*/ 0x10F28, 0 /* Other */],\r\n            [/*start*/ 0x10F30, 11 /* ALetter */],\r\n            [/*start*/ 0x10F46, 14 /* Extend */],\r\n            [/*start*/ 0x10F51, 0 /* Other */],\r\n            [/*start*/ 0x10FB0, 11 /* ALetter */],\r\n            [/*start*/ 0x10FC5, 0 /* Other */],\r\n            [/*start*/ 0x10FE0, 11 /* ALetter */],\r\n            [/*start*/ 0x10FF7, 0 /* Other */],\r\n            [/*start*/ 0x11000, 14 /* Extend */],\r\n            [/*start*/ 0x11003, 11 /* ALetter */],\r\n            [/*start*/ 0x11038, 14 /* Extend */],\r\n            [/*start*/ 0x11047, 0 /* Other */],\r\n            [/*start*/ 0x11066, 9 /* Numeric */],\r\n            [/*start*/ 0x11070, 0 /* Other */],\r\n            [/*start*/ 0x1107F, 14 /* Extend */],\r\n            [/*start*/ 0x11083, 11 /* ALetter */],\r\n            [/*start*/ 0x110B0, 14 /* Extend */],\r\n            [/*start*/ 0x110BB, 0 /* Other */],\r\n            [/*start*/ 0x110BD, 13 /* Format */],\r\n            [/*start*/ 0x110BE, 0 /* Other */],\r\n            [/*start*/ 0x110CD, 13 /* Format */],\r\n            [/*start*/ 0x110CE, 0 /* Other */],\r\n            [/*start*/ 0x110D0, 11 /* ALetter */],\r\n            [/*start*/ 0x110E9, 0 /* Other */],\r\n            [/*start*/ 0x110F0, 9 /* Numeric */],\r\n            [/*start*/ 0x110FA, 0 /* Other */],\r\n            [/*start*/ 0x11100, 14 /* Extend */],\r\n            [/*start*/ 0x11103, 11 /* ALetter */],\r\n            [/*start*/ 0x11127, 14 /* Extend */],\r\n            [/*start*/ 0x11135, 0 /* Other */],\r\n            [/*start*/ 0x11136, 9 /* Numeric */],\r\n            [/*start*/ 0x11140, 0 /* Other */],\r\n            [/*start*/ 0x11144, 11 /* ALetter */],\r\n            [/*start*/ 0x11145, 14 /* Extend */],\r\n            [/*start*/ 0x11147, 11 /* ALetter */],\r\n            [/*start*/ 0x11148, 0 /* Other */],\r\n            [/*start*/ 0x11150, 11 /* ALetter */],\r\n            [/*start*/ 0x11173, 14 /* Extend */],\r\n            [/*start*/ 0x11174, 0 /* Other */],\r\n            [/*start*/ 0x11176, 11 /* ALetter */],\r\n            [/*start*/ 0x11177, 0 /* Other */],\r\n            [/*start*/ 0x11180, 14 /* Extend */],\r\n            [/*start*/ 0x11183, 11 /* ALetter */],\r\n            [/*start*/ 0x111B3, 14 /* Extend */],\r\n            [/*start*/ 0x111C1, 11 /* ALetter */],\r\n            [/*start*/ 0x111C5, 0 /* Other */],\r\n            [/*start*/ 0x111C9, 14 /* Extend */],\r\n            [/*start*/ 0x111CD, 0 /* Other */],\r\n            [/*start*/ 0x111CE, 14 /* Extend */],\r\n            [/*start*/ 0x111D0, 9 /* Numeric */],\r\n            [/*start*/ 0x111DA, 11 /* ALetter */],\r\n            [/*start*/ 0x111DB, 0 /* Other */],\r\n            [/*start*/ 0x111DC, 11 /* ALetter */],\r\n            [/*start*/ 0x111DD, 0 /* Other */],\r\n            [/*start*/ 0x11200, 11 /* ALetter */],\r\n            [/*start*/ 0x11212, 0 /* Other */],\r\n            [/*start*/ 0x11213, 11 /* ALetter */],\r\n            [/*start*/ 0x1122C, 14 /* Extend */],\r\n            [/*start*/ 0x11238, 0 /* Other */],\r\n            [/*start*/ 0x1123E, 14 /* Extend */],\r\n            [/*start*/ 0x1123F, 0 /* Other */],\r\n            [/*start*/ 0x11280, 11 /* ALetter */],\r\n            [/*start*/ 0x11287, 0 /* Other */],\r\n            [/*start*/ 0x11288, 11 /* ALetter */],\r\n            [/*start*/ 0x11289, 0 /* Other */],\r\n            [/*start*/ 0x1128A, 11 /* ALetter */],\r\n            [/*start*/ 0x1128E, 0 /* Other */],\r\n            [/*start*/ 0x1128F, 11 /* ALetter */],\r\n            [/*start*/ 0x1129E, 0 /* Other */],\r\n            [/*start*/ 0x1129F, 11 /* ALetter */],\r\n            [/*start*/ 0x112A9, 0 /* Other */],\r\n            [/*start*/ 0x112B0, 11 /* ALetter */],\r\n            [/*start*/ 0x112DF, 14 /* Extend */],\r\n            [/*start*/ 0x112EB, 0 /* Other */],\r\n            [/*start*/ 0x112F0, 9 /* Numeric */],\r\n            [/*start*/ 0x112FA, 0 /* Other */],\r\n            [/*start*/ 0x11300, 14 /* Extend */],\r\n            [/*start*/ 0x11304, 0 /* Other */],\r\n            [/*start*/ 0x11305, 11 /* ALetter */],\r\n            [/*start*/ 0x1130D, 0 /* Other */],\r\n            [/*start*/ 0x1130F, 11 /* ALetter */],\r\n            [/*start*/ 0x11311, 0 /* Other */],\r\n            [/*start*/ 0x11313, 11 /* ALetter */],\r\n            [/*start*/ 0x11329, 0 /* Other */],\r\n            [/*start*/ 0x1132A, 11 /* ALetter */],\r\n            [/*start*/ 0x11331, 0 /* Other */],\r\n            [/*start*/ 0x11332, 11 /* ALetter */],\r\n            [/*start*/ 0x11334, 0 /* Other */],\r\n            [/*start*/ 0x11335, 11 /* ALetter */],\r\n            [/*start*/ 0x1133A, 0 /* Other */],\r\n            [/*start*/ 0x1133B, 14 /* Extend */],\r\n            [/*start*/ 0x1133D, 11 /* ALetter */],\r\n            [/*start*/ 0x1133E, 14 /* Extend */],\r\n            [/*start*/ 0x11345, 0 /* Other */],\r\n            [/*start*/ 0x11347, 14 /* Extend */],\r\n            [/*start*/ 0x11349, 0 /* Other */],\r\n            [/*start*/ 0x1134B, 14 /* Extend */],\r\n            [/*start*/ 0x1134E, 0 /* Other */],\r\n            [/*start*/ 0x11350, 11 /* ALetter */],\r\n            [/*start*/ 0x11351, 0 /* Other */],\r\n            [/*start*/ 0x11357, 14 /* Extend */],\r\n            [/*start*/ 0x11358, 0 /* Other */],\r\n            [/*start*/ 0x1135D, 11 /* ALetter */],\r\n            [/*start*/ 0x11362, 14 /* Extend */],\r\n            [/*start*/ 0x11364, 0 /* Other */],\r\n            [/*start*/ 0x11366, 14 /* Extend */],\r\n            [/*start*/ 0x1136D, 0 /* Other */],\r\n            [/*start*/ 0x11370, 14 /* Extend */],\r\n            [/*start*/ 0x11375, 0 /* Other */],\r\n            [/*start*/ 0x11400, 11 /* ALetter */],\r\n            [/*start*/ 0x11435, 14 /* Extend */],\r\n            [/*start*/ 0x11447, 11 /* ALetter */],\r\n            [/*start*/ 0x1144B, 0 /* Other */],\r\n            [/*start*/ 0x11450, 9 /* Numeric */],\r\n            [/*start*/ 0x1145A, 0 /* Other */],\r\n            [/*start*/ 0x1145E, 14 /* Extend */],\r\n            [/*start*/ 0x1145F, 11 /* ALetter */],\r\n            [/*start*/ 0x11462, 0 /* Other */],\r\n            [/*start*/ 0x11480, 11 /* ALetter */],\r\n            [/*start*/ 0x114B0, 14 /* Extend */],\r\n            [/*start*/ 0x114C4, 11 /* ALetter */],\r\n            [/*start*/ 0x114C6, 0 /* Other */],\r\n            [/*start*/ 0x114C7, 11 /* ALetter */],\r\n            [/*start*/ 0x114C8, 0 /* Other */],\r\n            [/*start*/ 0x114D0, 9 /* Numeric */],\r\n            [/*start*/ 0x114DA, 0 /* Other */],\r\n            [/*start*/ 0x11580, 11 /* ALetter */],\r\n            [/*start*/ 0x115AF, 14 /* Extend */],\r\n            [/*start*/ 0x115B6, 0 /* Other */],\r\n            [/*start*/ 0x115B8, 14 /* Extend */],\r\n            [/*start*/ 0x115C1, 0 /* Other */],\r\n            [/*start*/ 0x115D8, 11 /* ALetter */],\r\n            [/*start*/ 0x115DC, 14 /* Extend */],\r\n            [/*start*/ 0x115DE, 0 /* Other */],\r\n            [/*start*/ 0x11600, 11 /* ALetter */],\r\n            [/*start*/ 0x11630, 14 /* Extend */],\r\n            [/*start*/ 0x11641, 0 /* Other */],\r\n            [/*start*/ 0x11644, 11 /* ALetter */],\r\n            [/*start*/ 0x11645, 0 /* Other */],\r\n            [/*start*/ 0x11650, 9 /* Numeric */],\r\n            [/*start*/ 0x1165A, 0 /* Other */],\r\n            [/*start*/ 0x11680, 11 /* ALetter */],\r\n            [/*start*/ 0x116AB, 14 /* Extend */],\r\n            [/*start*/ 0x116B8, 11 /* ALetter */],\r\n            [/*start*/ 0x116B9, 0 /* Other */],\r\n            [/*start*/ 0x116C0, 9 /* Numeric */],\r\n            [/*start*/ 0x116CA, 0 /* Other */],\r\n            [/*start*/ 0x1171D, 14 /* Extend */],\r\n            [/*start*/ 0x1172C, 0 /* Other */],\r\n            [/*start*/ 0x11730, 9 /* Numeric */],\r\n            [/*start*/ 0x1173A, 0 /* Other */],\r\n            [/*start*/ 0x11800, 11 /* ALetter */],\r\n            [/*start*/ 0x1182C, 14 /* Extend */],\r\n            [/*start*/ 0x1183B, 0 /* Other */],\r\n            [/*start*/ 0x118A0, 11 /* ALetter */],\r\n            [/*start*/ 0x118E0, 9 /* Numeric */],\r\n            [/*start*/ 0x118EA, 0 /* Other */],\r\n            [/*start*/ 0x118FF, 11 /* ALetter */],\r\n            [/*start*/ 0x11907, 0 /* Other */],\r\n            [/*start*/ 0x11909, 11 /* ALetter */],\r\n            [/*start*/ 0x1190A, 0 /* Other */],\r\n            [/*start*/ 0x1190C, 11 /* ALetter */],\r\n            [/*start*/ 0x11914, 0 /* Other */],\r\n            [/*start*/ 0x11915, 11 /* ALetter */],\r\n            [/*start*/ 0x11917, 0 /* Other */],\r\n            [/*start*/ 0x11918, 11 /* ALetter */],\r\n            [/*start*/ 0x11930, 14 /* Extend */],\r\n            [/*start*/ 0x11936, 0 /* Other */],\r\n            [/*start*/ 0x11937, 14 /* Extend */],\r\n            [/*start*/ 0x11939, 0 /* Other */],\r\n            [/*start*/ 0x1193B, 14 /* Extend */],\r\n            [/*start*/ 0x1193F, 11 /* ALetter */],\r\n            [/*start*/ 0x11940, 14 /* Extend */],\r\n            [/*start*/ 0x11941, 11 /* ALetter */],\r\n            [/*start*/ 0x11942, 14 /* Extend */],\r\n            [/*start*/ 0x11944, 0 /* Other */],\r\n            [/*start*/ 0x11950, 9 /* Numeric */],\r\n            [/*start*/ 0x1195A, 0 /* Other */],\r\n            [/*start*/ 0x119A0, 11 /* ALetter */],\r\n            [/*start*/ 0x119A8, 0 /* Other */],\r\n            [/*start*/ 0x119AA, 11 /* ALetter */],\r\n            [/*start*/ 0x119D1, 14 /* Extend */],\r\n            [/*start*/ 0x119D8, 0 /* Other */],\r\n            [/*start*/ 0x119DA, 14 /* Extend */],\r\n            [/*start*/ 0x119E1, 11 /* ALetter */],\r\n            [/*start*/ 0x119E2, 0 /* Other */],\r\n            [/*start*/ 0x119E3, 11 /* ALetter */],\r\n            [/*start*/ 0x119E4, 14 /* Extend */],\r\n            [/*start*/ 0x119E5, 0 /* Other */],\r\n            [/*start*/ 0x11A00, 11 /* ALetter */],\r\n            [/*start*/ 0x11A01, 14 /* Extend */],\r\n            [/*start*/ 0x11A0B, 11 /* ALetter */],\r\n            [/*start*/ 0x11A33, 14 /* Extend */],\r\n            [/*start*/ 0x11A3A, 11 /* ALetter */],\r\n            [/*start*/ 0x11A3B, 14 /* Extend */],\r\n            [/*start*/ 0x11A3F, 0 /* Other */],\r\n            [/*start*/ 0x11A47, 14 /* Extend */],\r\n            [/*start*/ 0x11A48, 0 /* Other */],\r\n            [/*start*/ 0x11A50, 11 /* ALetter */],\r\n            [/*start*/ 0x11A51, 14 /* Extend */],\r\n            [/*start*/ 0x11A5C, 11 /* ALetter */],\r\n            [/*start*/ 0x11A8A, 14 /* Extend */],\r\n            [/*start*/ 0x11A9A, 0 /* Other */],\r\n            [/*start*/ 0x11A9D, 11 /* ALetter */],\r\n            [/*start*/ 0x11A9E, 0 /* Other */],\r\n            [/*start*/ 0x11AC0, 11 /* ALetter */],\r\n            [/*start*/ 0x11AF9, 0 /* Other */],\r\n            [/*start*/ 0x11C00, 11 /* ALetter */],\r\n            [/*start*/ 0x11C09, 0 /* Other */],\r\n            [/*start*/ 0x11C0A, 11 /* ALetter */],\r\n            [/*start*/ 0x11C2F, 14 /* Extend */],\r\n            [/*start*/ 0x11C37, 0 /* Other */],\r\n            [/*start*/ 0x11C38, 14 /* Extend */],\r\n            [/*start*/ 0x11C40, 11 /* ALetter */],\r\n            [/*start*/ 0x11C41, 0 /* Other */],\r\n            [/*start*/ 0x11C50, 9 /* Numeric */],\r\n            [/*start*/ 0x11C5A, 0 /* Other */],\r\n            [/*start*/ 0x11C72, 11 /* ALetter */],\r\n            [/*start*/ 0x11C90, 0 /* Other */],\r\n            [/*start*/ 0x11C92, 14 /* Extend */],\r\n            [/*start*/ 0x11CA8, 0 /* Other */],\r\n            [/*start*/ 0x11CA9, 14 /* Extend */],\r\n            [/*start*/ 0x11CB7, 0 /* Other */],\r\n            [/*start*/ 0x11D00, 11 /* ALetter */],\r\n            [/*start*/ 0x11D07, 0 /* Other */],\r\n            [/*start*/ 0x11D08, 11 /* ALetter */],\r\n            [/*start*/ 0x11D0A, 0 /* Other */],\r\n            [/*start*/ 0x11D0B, 11 /* ALetter */],\r\n            [/*start*/ 0x11D31, 14 /* Extend */],\r\n            [/*start*/ 0x11D37, 0 /* Other */],\r\n            [/*start*/ 0x11D3A, 14 /* Extend */],\r\n            [/*start*/ 0x11D3B, 0 /* Other */],\r\n            [/*start*/ 0x11D3C, 14 /* Extend */],\r\n            [/*start*/ 0x11D3E, 0 /* Other */],\r\n            [/*start*/ 0x11D3F, 14 /* Extend */],\r\n            [/*start*/ 0x11D46, 11 /* ALetter */],\r\n            [/*start*/ 0x11D47, 14 /* Extend */],\r\n            [/*start*/ 0x11D48, 0 /* Other */],\r\n            [/*start*/ 0x11D50, 9 /* Numeric */],\r\n            [/*start*/ 0x11D5A, 0 /* Other */],\r\n            [/*start*/ 0x11D60, 11 /* ALetter */],\r\n            [/*start*/ 0x11D66, 0 /* Other */],\r\n            [/*start*/ 0x11D67, 11 /* ALetter */],\r\n            [/*start*/ 0x11D69, 0 /* Other */],\r\n            [/*start*/ 0x11D6A, 11 /* ALetter */],\r\n            [/*start*/ 0x11D8A, 14 /* Extend */],\r\n            [/*start*/ 0x11D8F, 0 /* Other */],\r\n            [/*start*/ 0x11D90, 14 /* Extend */],\r\n            [/*start*/ 0x11D92, 0 /* Other */],\r\n            [/*start*/ 0x11D93, 14 /* Extend */],\r\n            [/*start*/ 0x11D98, 11 /* ALetter */],\r\n            [/*start*/ 0x11D99, 0 /* Other */],\r\n            [/*start*/ 0x11DA0, 9 /* Numeric */],\r\n            [/*start*/ 0x11DAA, 0 /* Other */],\r\n            [/*start*/ 0x11EE0, 11 /* ALetter */],\r\n            [/*start*/ 0x11EF3, 14 /* Extend */],\r\n            [/*start*/ 0x11EF7, 0 /* Other */],\r\n            [/*start*/ 0x11FB0, 11 /* ALetter */],\r\n            [/*start*/ 0x11FB1, 0 /* Other */],\r\n            [/*start*/ 0x12000, 11 /* ALetter */],\r\n            [/*start*/ 0x1239A, 0 /* Other */],\r\n            [/*start*/ 0x12400, 11 /* ALetter */],\r\n            [/*start*/ 0x1246F, 0 /* Other */],\r\n            [/*start*/ 0x12480, 11 /* ALetter */],\r\n            [/*start*/ 0x12544, 0 /* Other */],\r\n            [/*start*/ 0x13000, 11 /* ALetter */],\r\n            [/*start*/ 0x1342F, 0 /* Other */],\r\n            [/*start*/ 0x13430, 13 /* Format */],\r\n            [/*start*/ 0x13439, 0 /* Other */],\r\n            [/*start*/ 0x14400, 11 /* ALetter */],\r\n            [/*start*/ 0x14647, 0 /* Other */],\r\n            [/*start*/ 0x16800, 11 /* ALetter */],\r\n            [/*start*/ 0x16A39, 0 /* Other */],\r\n            [/*start*/ 0x16A40, 11 /* ALetter */],\r\n            [/*start*/ 0x16A5F, 0 /* Other */],\r\n            [/*start*/ 0x16A60, 9 /* Numeric */],\r\n            [/*start*/ 0x16A6A, 0 /* Other */],\r\n            [/*start*/ 0x16AD0, 11 /* ALetter */],\r\n            [/*start*/ 0x16AEE, 0 /* Other */],\r\n            [/*start*/ 0x16AF0, 14 /* Extend */],\r\n            [/*start*/ 0x16AF5, 0 /* Other */],\r\n            [/*start*/ 0x16B00, 11 /* ALetter */],\r\n            [/*start*/ 0x16B30, 14 /* Extend */],\r\n            [/*start*/ 0x16B37, 0 /* Other */],\r\n            [/*start*/ 0x16B40, 11 /* ALetter */],\r\n            [/*start*/ 0x16B44, 0 /* Other */],\r\n            [/*start*/ 0x16B50, 9 /* Numeric */],\r\n            [/*start*/ 0x16B5A, 0 /* Other */],\r\n            [/*start*/ 0x16B63, 11 /* ALetter */],\r\n            [/*start*/ 0x16B78, 0 /* Other */],\r\n            [/*start*/ 0x16B7D, 11 /* ALetter */],\r\n            [/*start*/ 0x16B90, 0 /* Other */],\r\n            [/*start*/ 0x16E40, 11 /* ALetter */],\r\n            [/*start*/ 0x16E80, 0 /* Other */],\r\n            [/*start*/ 0x16F00, 11 /* ALetter */],\r\n            [/*start*/ 0x16F4B, 0 /* Other */],\r\n            [/*start*/ 0x16F4F, 14 /* Extend */],\r\n            [/*start*/ 0x16F50, 11 /* ALetter */],\r\n            [/*start*/ 0x16F51, 14 /* Extend */],\r\n            [/*start*/ 0x16F88, 0 /* Other */],\r\n            [/*start*/ 0x16F8F, 14 /* Extend */],\r\n            [/*start*/ 0x16F93, 11 /* ALetter */],\r\n            [/*start*/ 0x16FA0, 0 /* Other */],\r\n            [/*start*/ 0x16FE0, 11 /* ALetter */],\r\n            [/*start*/ 0x16FE2, 0 /* Other */],\r\n            [/*start*/ 0x16FE3, 11 /* ALetter */],\r\n            [/*start*/ 0x16FE4, 14 /* Extend */],\r\n            [/*start*/ 0x16FE5, 0 /* Other */],\r\n            [/*start*/ 0x16FF0, 14 /* Extend */],\r\n            [/*start*/ 0x16FF2, 0 /* Other */],\r\n            [/*start*/ 0x1B000, 17 /* Katakana */],\r\n            [/*start*/ 0x1B001, 0 /* Other */],\r\n            [/*start*/ 0x1B164, 17 /* Katakana */],\r\n            [/*start*/ 0x1B168, 0 /* Other */],\r\n            [/*start*/ 0x1BC00, 11 /* ALetter */],\r\n            [/*start*/ 0x1BC6B, 0 /* Other */],\r\n            [/*start*/ 0x1BC70, 11 /* ALetter */],\r\n            [/*start*/ 0x1BC7D, 0 /* Other */],\r\n            [/*start*/ 0x1BC80, 11 /* ALetter */],\r\n            [/*start*/ 0x1BC89, 0 /* Other */],\r\n            [/*start*/ 0x1BC90, 11 /* ALetter */],\r\n            [/*start*/ 0x1BC9A, 0 /* Other */],\r\n            [/*start*/ 0x1BC9D, 14 /* Extend */],\r\n            [/*start*/ 0x1BC9F, 0 /* Other */],\r\n            [/*start*/ 0x1BCA0, 13 /* Format */],\r\n            [/*start*/ 0x1BCA4, 0 /* Other */],\r\n            [/*start*/ 0x1D165, 14 /* Extend */],\r\n            [/*start*/ 0x1D16A, 0 /* Other */],\r\n            [/*start*/ 0x1D16D, 14 /* Extend */],\r\n            [/*start*/ 0x1D173, 13 /* Format */],\r\n            [/*start*/ 0x1D17B, 14 /* Extend */],\r\n            [/*start*/ 0x1D183, 0 /* Other */],\r\n            [/*start*/ 0x1D185, 14 /* Extend */],\r\n            [/*start*/ 0x1D18C, 0 /* Other */],\r\n            [/*start*/ 0x1D1AA, 14 /* Extend */],\r\n            [/*start*/ 0x1D1AE, 0 /* Other */],\r\n            [/*start*/ 0x1D242, 14 /* Extend */],\r\n            [/*start*/ 0x1D245, 0 /* Other */],\r\n            [/*start*/ 0x1D400, 11 /* ALetter */],\r\n            [/*start*/ 0x1D455, 0 /* Other */],\r\n            [/*start*/ 0x1D456, 11 /* ALetter */],\r\n            [/*start*/ 0x1D49D, 0 /* Other */],\r\n            [/*start*/ 0x1D49E, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4A0, 0 /* Other */],\r\n            [/*start*/ 0x1D4A2, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4A3, 0 /* Other */],\r\n            [/*start*/ 0x1D4A5, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4A7, 0 /* Other */],\r\n            [/*start*/ 0x1D4A9, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4AD, 0 /* Other */],\r\n            [/*start*/ 0x1D4AE, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4BA, 0 /* Other */],\r\n            [/*start*/ 0x1D4BB, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4BC, 0 /* Other */],\r\n            [/*start*/ 0x1D4BD, 11 /* ALetter */],\r\n            [/*start*/ 0x1D4C4, 0 /* Other */],\r\n            [/*start*/ 0x1D4C5, 11 /* ALetter */],\r\n            [/*start*/ 0x1D506, 0 /* Other */],\r\n            [/*start*/ 0x1D507, 11 /* ALetter */],\r\n            [/*start*/ 0x1D50B, 0 /* Other */],\r\n            [/*start*/ 0x1D50D, 11 /* ALetter */],\r\n            [/*start*/ 0x1D515, 0 /* Other */],\r\n            [/*start*/ 0x1D516, 11 /* ALetter */],\r\n            [/*start*/ 0x1D51D, 0 /* Other */],\r\n            [/*start*/ 0x1D51E, 11 /* ALetter */],\r\n            [/*start*/ 0x1D53A, 0 /* Other */],\r\n            [/*start*/ 0x1D53B, 11 /* ALetter */],\r\n            [/*start*/ 0x1D53F, 0 /* Other */],\r\n            [/*start*/ 0x1D540, 11 /* ALetter */],\r\n            [/*start*/ 0x1D545, 0 /* Other */],\r\n            [/*start*/ 0x1D546, 11 /* ALetter */],\r\n            [/*start*/ 0x1D547, 0 /* Other */],\r\n            [/*start*/ 0x1D54A, 11 /* ALetter */],\r\n            [/*start*/ 0x1D551, 0 /* Other */],\r\n            [/*start*/ 0x1D552, 11 /* ALetter */],\r\n            [/*start*/ 0x1D6A6, 0 /* Other */],\r\n            [/*start*/ 0x1D6A8, 11 /* ALetter */],\r\n            [/*start*/ 0x1D6C1, 0 /* Other */],\r\n            [/*start*/ 0x1D6C2, 11 /* ALetter */],\r\n            [/*start*/ 0x1D6DB, 0 /* Other */],\r\n            [/*start*/ 0x1D6DC, 11 /* ALetter */],\r\n            [/*start*/ 0x1D6FB, 0 /* Other */],\r\n            [/*start*/ 0x1D6FC, 11 /* ALetter */],\r\n            [/*start*/ 0x1D715, 0 /* Other */],\r\n            [/*start*/ 0x1D716, 11 /* ALetter */],\r\n            [/*start*/ 0x1D735, 0 /* Other */],\r\n            [/*start*/ 0x1D736, 11 /* ALetter */],\r\n            [/*start*/ 0x1D74F, 0 /* Other */],\r\n            [/*start*/ 0x1D750, 11 /* ALetter */],\r\n            [/*start*/ 0x1D76F, 0 /* Other */],\r\n            [/*start*/ 0x1D770, 11 /* ALetter */],\r\n            [/*start*/ 0x1D789, 0 /* Other */],\r\n            [/*start*/ 0x1D78A, 11 /* ALetter */],\r\n            [/*start*/ 0x1D7A9, 0 /* Other */],\r\n            [/*start*/ 0x1D7AA, 11 /* ALetter */],\r\n            [/*start*/ 0x1D7C3, 0 /* Other */],\r\n            [/*start*/ 0x1D7C4, 11 /* ALetter */],\r\n            [/*start*/ 0x1D7CC, 0 /* Other */],\r\n            [/*start*/ 0x1D7CE, 9 /* Numeric */],\r\n            [/*start*/ 0x1D800, 0 /* Other */],\r\n            [/*start*/ 0x1DA00, 14 /* Extend */],\r\n            [/*start*/ 0x1DA37, 0 /* Other */],\r\n            [/*start*/ 0x1DA3B, 14 /* Extend */],\r\n            [/*start*/ 0x1DA6D, 0 /* Other */],\r\n            [/*start*/ 0x1DA75, 14 /* Extend */],\r\n            [/*start*/ 0x1DA76, 0 /* Other */],\r\n            [/*start*/ 0x1DA84, 14 /* Extend */],\r\n            [/*start*/ 0x1DA85, 0 /* Other */],\r\n            [/*start*/ 0x1DA9B, 14 /* Extend */],\r\n            [/*start*/ 0x1DAA0, 0 /* Other */],\r\n            [/*start*/ 0x1DAA1, 14 /* Extend */],\r\n            [/*start*/ 0x1DAB0, 0 /* Other */],\r\n            [/*start*/ 0x1E000, 14 /* Extend */],\r\n            [/*start*/ 0x1E007, 0 /* Other */],\r\n            [/*start*/ 0x1E008, 14 /* Extend */],\r\n            [/*start*/ 0x1E019, 0 /* Other */],\r\n            [/*start*/ 0x1E01B, 14 /* Extend */],\r\n            [/*start*/ 0x1E022, 0 /* Other */],\r\n            [/*start*/ 0x1E023, 14 /* Extend */],\r\n            [/*start*/ 0x1E025, 0 /* Other */],\r\n            [/*start*/ 0x1E026, 14 /* Extend */],\r\n            [/*start*/ 0x1E02B, 0 /* Other */],\r\n            [/*start*/ 0x1E100, 11 /* ALetter */],\r\n            [/*start*/ 0x1E12D, 0 /* Other */],\r\n            [/*start*/ 0x1E130, 14 /* Extend */],\r\n            [/*start*/ 0x1E137, 11 /* ALetter */],\r\n            [/*start*/ 0x1E13E, 0 /* Other */],\r\n            [/*start*/ 0x1E140, 9 /* Numeric */],\r\n            [/*start*/ 0x1E14A, 0 /* Other */],\r\n            [/*start*/ 0x1E14E, 11 /* ALetter */],\r\n            [/*start*/ 0x1E14F, 0 /* Other */],\r\n            [/*start*/ 0x1E2C0, 11 /* ALetter */],\r\n            [/*start*/ 0x1E2EC, 14 /* Extend */],\r\n            [/*start*/ 0x1E2F0, 9 /* Numeric */],\r\n            [/*start*/ 0x1E2FA, 0 /* Other */],\r\n            [/*start*/ 0x1E800, 11 /* ALetter */],\r\n            [/*start*/ 0x1E8C5, 0 /* Other */],\r\n            [/*start*/ 0x1E8D0, 14 /* Extend */],\r\n            [/*start*/ 0x1E8D7, 0 /* Other */],\r\n            [/*start*/ 0x1E900, 11 /* ALetter */],\r\n            [/*start*/ 0x1E944, 14 /* Extend */],\r\n            [/*start*/ 0x1E94B, 11 /* ALetter */],\r\n            [/*start*/ 0x1E94C, 0 /* Other */],\r\n            [/*start*/ 0x1E950, 9 /* Numeric */],\r\n            [/*start*/ 0x1E95A, 0 /* Other */],\r\n            [/*start*/ 0x1EE00, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE04, 0 /* Other */],\r\n            [/*start*/ 0x1EE05, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE20, 0 /* Other */],\r\n            [/*start*/ 0x1EE21, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE23, 0 /* Other */],\r\n            [/*start*/ 0x1EE24, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE25, 0 /* Other */],\r\n            [/*start*/ 0x1EE27, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE28, 0 /* Other */],\r\n            [/*start*/ 0x1EE29, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE33, 0 /* Other */],\r\n            [/*start*/ 0x1EE34, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE38, 0 /* Other */],\r\n            [/*start*/ 0x1EE39, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE3A, 0 /* Other */],\r\n            [/*start*/ 0x1EE3B, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE3C, 0 /* Other */],\r\n            [/*start*/ 0x1EE42, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE43, 0 /* Other */],\r\n            [/*start*/ 0x1EE47, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE48, 0 /* Other */],\r\n            [/*start*/ 0x1EE49, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE4A, 0 /* Other */],\r\n            [/*start*/ 0x1EE4B, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE4C, 0 /* Other */],\r\n            [/*start*/ 0x1EE4D, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE50, 0 /* Other */],\r\n            [/*start*/ 0x1EE51, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE53, 0 /* Other */],\r\n            [/*start*/ 0x1EE54, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE55, 0 /* Other */],\r\n            [/*start*/ 0x1EE57, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE58, 0 /* Other */],\r\n            [/*start*/ 0x1EE59, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE5A, 0 /* Other */],\r\n            [/*start*/ 0x1EE5B, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE5C, 0 /* Other */],\r\n            [/*start*/ 0x1EE5D, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE5E, 0 /* Other */],\r\n            [/*start*/ 0x1EE5F, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE60, 0 /* Other */],\r\n            [/*start*/ 0x1EE61, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE63, 0 /* Other */],\r\n            [/*start*/ 0x1EE64, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE65, 0 /* Other */],\r\n            [/*start*/ 0x1EE67, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE6B, 0 /* Other */],\r\n            [/*start*/ 0x1EE6C, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE73, 0 /* Other */],\r\n            [/*start*/ 0x1EE74, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE78, 0 /* Other */],\r\n            [/*start*/ 0x1EE79, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE7D, 0 /* Other */],\r\n            [/*start*/ 0x1EE7E, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE7F, 0 /* Other */],\r\n            [/*start*/ 0x1EE80, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE8A, 0 /* Other */],\r\n            [/*start*/ 0x1EE8B, 11 /* ALetter */],\r\n            [/*start*/ 0x1EE9C, 0 /* Other */],\r\n            [/*start*/ 0x1EEA1, 11 /* ALetter */],\r\n            [/*start*/ 0x1EEA4, 0 /* Other */],\r\n            [/*start*/ 0x1EEA5, 11 /* ALetter */],\r\n            [/*start*/ 0x1EEAA, 0 /* Other */],\r\n            [/*start*/ 0x1EEAB, 11 /* ALetter */],\r\n            [/*start*/ 0x1EEBC, 0 /* Other */],\r\n            [/*start*/ 0x1F130, 11 /* ALetter */],\r\n            [/*start*/ 0x1F14A, 0 /* Other */],\r\n            [/*start*/ 0x1F150, 11 /* ALetter */],\r\n            [/*start*/ 0x1F16A, 0 /* Other */],\r\n            [/*start*/ 0x1F170, 11 /* ALetter */],\r\n            [/*start*/ 0x1F18A, 0 /* Other */],\r\n            [/*start*/ 0x1F1E6, 18 /* Regional_Indicator */],\r\n            [/*start*/ 0x1F200, 0 /* Other */],\r\n            [/*start*/ 0x1F3FB, 14 /* Extend */],\r\n            [/*start*/ 0x1F400, 0 /* Other */],\r\n            [/*start*/ 0x1FBF0, 9 /* Numeric */],\r\n            [/*start*/ 0x1FBFA, 0 /* Other */],\r\n            [/*start*/ 0xE0001, 13 /* Format */],\r\n            [/*start*/ 0xE0002, 0 /* Other */],\r\n            [/*start*/ 0xE0020, 14 /* Extend */],\r\n            [/*start*/ 0xE0080, 0 /* Other */],\r\n            [/*start*/ 0xE0100, 14 /* Extend */],\r\n            [/*start*/ 0xE01F0, 0 /* Other */],\r\n        ];\r\n    })(data = wordBreakers.data || (wordBreakers.data = {}));\r\n})(wordBreakers || (wordBreakers = {}));\r\nvar __read = (this \u0026\u0026 this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" \u0026\u0026 o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- \u003e 0) \u0026\u0026 !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r \u0026\u0026 !r.done \u0026\u0026 (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\n// Include the word-breaking data here:\r\n/// \u003creference path=\"./data.ts\" /\u003e\r\nvar wordBreakers;\r\n(function (wordBreakers) {\r\n    /**\r\n     * Word breaker based on Unicode Standard Annex #29, Section 4.1:\r\n     * Default Word Boundary Specification.\r\n     *\r\n     * @see http://unicode.org/reports/tr29/#Word_Boundaries\r\n     * @see https://github.com/eddieantonio/unicode-default-word-boundary/tree/v12.0.0\r\n     */\r\n    function default_(text) {\r\n        var boundaries = findBoundaries(text);\r\n        if (boundaries.length == 0) {\r\n            return [];\r\n        }\r\n        // All non-empty strings have at least TWO boundaries at the start and end of\r\n        // the string.\r\n        var spans = [];\r\n        for (var i = 0; i \u003c boundaries.length - 1; i++) {\r\n            var start = boundaries[i];\r\n            var end = boundaries[i + 1];\r\n            var span = new LazySpan(text, start, end);\r\n            if (isNonSpace(span.text)) {\r\n                spans.push(span);\r\n                // Preserve a sequence-final space if it exists.  Needed to signal \"end of word\".\r\n            }\r\n            else if (i == boundaries.length - 2) { // if \"we just checked the final boundary\"...\r\n                // We don\u0027t want to return the whitespace itself; the correct token is simply \u0027\u0027.\r\n                span = new LazySpan(text, end, end);\r\n                spans.push(span);\r\n            }\r\n        }\r\n        return spans;\r\n    }\r\n    wordBreakers.default_ = default_;\r\n    var WORD_BREAK_PROPERTY = wordBreakers.data.WORD_BREAK_PROPERTY;\r\n    /**\r\n     * A span that does not cut out the substring until it absolutely has to!\r\n     */\r\n    var LazySpan = /** @class */ (function () {\r\n        function LazySpan(source, start, end) {\r\n            this._source = source;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Object.defineProperty(LazySpan.prototype, \"text\", {\r\n            get: function () {\r\n                return this._source.substring(this.start, this.end);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(LazySpan.prototype, \"length\", {\r\n            get: function () {\r\n                return this.end - this.start;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return LazySpan;\r\n    }());\r\n    /**\r\n     * Returns true when the chunk does not solely consist of whitespace.\r\n     *\r\n     * @param chunk a chunk of text. Starts and ends at word boundaries.\r\n     */\r\n    function isNonSpace(chunk) {\r\n        return !Array.from(chunk).map(property).every(function (wb) { return (wb === 3 /* CR */ ||\r\n            wb === 1 /* LF */ ||\r\n            wb === 2 /* Newline */ ||\r\n            wb === 4 /* WSegSpace */); });\r\n    }\r\n    /**\r\n     * Yields a series of string indices where a word break should\r\n     * occur. That is, there should be a break BEFORE each string\r\n     * index yielded by this generator.\r\n     *\r\n     * @param text Text to find word boundaries in.\r\n     */\r\n    function findBoundaries(text) {\r\n        var _a, _b, _c;\r\n        // WB1 and WB2: no boundaries if given an empty string.\r\n        if (text.length === 0) {\r\n            // There are no boundaries in an empty string!\r\n            return [];\r\n        }\r\n        // This algorithm works by maintaining a sliding window of four SCALAR VALUES.\r\n        //\r\n        //  - Scalar values? JavaScript strings are NOT actually a string of\r\n        //    Unicode code points; some characters are made up of TWO\r\n        //    JavaScript indices. e.g.,\r\n        //        \"💩\".length === 2;\r\n        //        \"💩\"[0] === \u0027\\uD83D\u0027;\r\n        //        \"💩\"[1] === \u0027\\uDCA9\u0027;\r\n        //\r\n        //    These characters that are represented by TWO indices are\r\n        //    called \"surrogate pairs\". Since we don\u0027t want to be in the\r\n        //    \"middle\" of a character, make sure we\u0027re always advancing\r\n        //    by scalar values, and NOT indices. That means, we sometimes\r\n        //    need to advance by TWO indices, not just one.\r\n        //  - Four values? Some rules look at what\u0027s to the left of\r\n        //    left, and some look at what\u0027s to the right of right. So\r\n        //    keep track of this!\r\n        var boundaries = [];\r\n        var rightPos;\r\n        var lookaheadPos = 0; // lookahead, one scalar value to the right of right.\r\n        // Before the start of the string is also the start of the string.\r\n        var lookbehind;\r\n        var left = 19 /* sot */;\r\n        var right = 19 /* sot */;\r\n        var lookahead = wordbreakPropertyAt(0);\r\n        // Count RIs to make sure we\u0027re not splitting emoji flags:\r\n        var nConsecutiveRegionalIndicators = 0;\r\n        do {\r\n            // Shift all positions, one scalar value to the right.\r\n            rightPos = lookaheadPos;\r\n            lookaheadPos = positionAfter(lookaheadPos);\r\n            // Shift all properties, one scalar value to the right.\r\n            _a = __read([left, right, lookahead, wordbreakPropertyAt(lookaheadPos)], 4), lookbehind = _a[0], left = _a[1], right = _a[2], lookahead = _a[3];\r\n            // Break at the start and end of text, unless the text is empty.\r\n            // WB1: Break at start of text...\r\n            if (left === 19 /* sot */) {\r\n                boundaries.push(rightPos);\r\n                continue;\r\n            }\r\n            // WB2: Break at the end of text...\r\n            if (right === 20 /* eot */) {\r\n                boundaries.push(rightPos);\r\n                break; // Reached the end of the string. We\u0027re done!\r\n            }\r\n            // WB3: Do not break within CRLF:\r\n            if (left === 3 /* CR */ \u0026\u0026 right === 1 /* LF */)\r\n                continue;\r\n            // WB3b: Otherwise, break after...\r\n            if (left === 2 /* Newline */ ||\r\n                left === 3 /* CR */ ||\r\n                left === 1 /* LF */) {\r\n                boundaries.push(rightPos);\r\n                continue;\r\n            }\r\n            // WB3a: ...and before newlines\r\n            if (right === 2 /* Newline */ ||\r\n                right === 3 /* CR */ ||\r\n                right === 1 /* LF */) {\r\n                boundaries.push(rightPos);\r\n                continue;\r\n            }\r\n            // TODO: WB3c is not implemented, due to its complex, error-prone\r\n            // implementation, requiring a ginormous regexp, and the fact that\r\n            // the only thing it does is prevent big emoji sequences from being\r\n            // split up, like 🧚🏼‍♂️\r\n            // https://www.unicode.org/Public/emoji/12.0/emoji-zwj-sequences.txt\r\n            // WB3d: Keep horizontal whitespace together\r\n            if (left === 4 /* WSegSpace */ \u0026\u0026 right == 4 /* WSegSpace */)\r\n                continue;\r\n            // WB4: Ignore format and extend characters\r\n            // This is to keep grapheme clusters together!\r\n            // See: Section 6.2: https://unicode.org/reports/tr29/#Grapheme_Cluster_and_Format_Rules\r\n            // N.B.: The rule about \"except after sot, CR, LF, and\r\n            // Newline\" already been by WB1, WB2, WB3a, and WB3b above.\r\n            while (right === 13 /* Format */ ||\r\n                right === 14 /* Extend */ ||\r\n                right === 16 /* ZWJ */) {\r\n                // Continue advancing in the string, as if these\r\n                // characters do not exist. DO NOT update left and\r\n                // lookbehind however!\r\n                _b = __read([lookaheadPos, positionAfter(lookaheadPos)], 2), rightPos = _b[0], lookaheadPos = _b[1];\r\n                _c = __read([lookahead, wordbreakPropertyAt(lookaheadPos)], 2), right = _c[0], lookahead = _c[1];\r\n            }\r\n            // In ignoring the characters in the previous loop, we could\r\n            // have fallen off the end of the string, so end the loop\r\n            // prematurely if that happens!\r\n            if (right === 20 /* eot */) {\r\n                boundaries.push(rightPos);\r\n                break;\r\n            }\r\n            // WB4 (continued): Lookahead must ALSO ignore these format,\r\n            // extend, ZWJ characters!\r\n            while (lookahead === 13 /* Format */ ||\r\n                lookahead === 14 /* Extend */ ||\r\n                lookahead === 16 /* ZWJ */) {\r\n                // Continue advancing in the string, as if these\r\n                // characters do not exist. DO NOT update left and right,\r\n                // however!\r\n                lookaheadPos = positionAfter(lookaheadPos);\r\n                lookahead = wordbreakPropertyAt(lookaheadPos);\r\n            }\r\n            // WB5: Do not break between most letters.\r\n            if (isAHLetter(left) \u0026\u0026 isAHLetter(right))\r\n                continue;\r\n            // Do not break across certain punctuation\r\n            // WB6: (Don\u0027t break before apostrophes in contractions)\r\n            if (isAHLetter(left) \u0026\u0026 isAHLetter(lookahead) \u0026\u0026\r\n                (right === 10 /* MidLetter */ || isMidNumLetQ(right)))\r\n                continue;\r\n            // WB7: (Don\u0027t break after apostrophes in contractions)\r\n            if (isAHLetter(lookbehind) \u0026\u0026 isAHLetter(right) \u0026\u0026\r\n                (left === 10 /* MidLetter */ || isMidNumLetQ(left)))\r\n                continue;\r\n            // WB7a\r\n            if (left === 15 /* Hebrew_Letter */ \u0026\u0026 right === 6 /* Single_Quote */)\r\n                continue;\r\n            // WB7b\r\n            if (left === 15 /* Hebrew_Letter */ \u0026\u0026 right === 5 /* Double_Quote */ \u0026\u0026\r\n                lookahead === 15 /* Hebrew_Letter */)\r\n                continue;\r\n            // WB7c\r\n            if (lookbehind === 15 /* Hebrew_Letter */ \u0026\u0026 left === 5 /* Double_Quote */ \u0026\u0026\r\n                right === 15 /* Hebrew_Letter */)\r\n                continue;\r\n            // Do not break within sequences of digits, or digits adjacent to letters.\r\n            // e.g., \"3a\" or \"A3\"\r\n            // WB8\r\n            if (left === 9 /* Numeric */ \u0026\u0026 right === 9 /* Numeric */)\r\n                continue;\r\n            // WB9\r\n            if (isAHLetter(left) \u0026\u0026 right === 9 /* Numeric */)\r\n                continue;\r\n            // WB10\r\n            if (left === 9 /* Numeric */ \u0026\u0026 isAHLetter(right))\r\n                continue;\r\n            // Do not break within sequences, such as 3.2, 3,456.789\r\n            // WB11\r\n            if (lookbehind === 9 /* Numeric */ \u0026\u0026 right === 9 /* Numeric */ \u0026\u0026\r\n                (left === 7 /* MidNum */ || isMidNumLetQ(left)))\r\n                continue;\r\n            // WB12\r\n            if (left === 9 /* Numeric */ \u0026\u0026 lookahead === 9 /* Numeric */ \u0026\u0026\r\n                (right === 7 /* MidNum */ || isMidNumLetQ(right)))\r\n                continue;\r\n            // WB13: Do not break between Katakana\r\n            if (left === 17 /* Katakana */ \u0026\u0026 right === 17 /* Katakana */)\r\n                continue;\r\n            // Do not break from extenders (e.g., U+202F NARROW NO-BREAK SPACE)\r\n            // WB13a\r\n            if ((isAHLetter(left) ||\r\n                left === 9 /* Numeric */ ||\r\n                left === 17 /* Katakana */ ||\r\n                left === 12 /* ExtendNumLet */) \u0026\u0026\r\n                right === 12 /* ExtendNumLet */)\r\n                continue;\r\n            // WB13b\r\n            if ((isAHLetter(right) ||\r\n                right === 9 /* Numeric */ ||\r\n                right === 17 /* Katakana */) \u0026\u0026 left === 12 /* ExtendNumLet */)\r\n                continue;\r\n            // WB15 \u0026 WB16:\r\n            // Do not break within emoji flag sequences. That is, do not break between\r\n            // regional indicator (RI) symbols if there is an odd number of RI\r\n            // characters before the break point.\r\n            if (right === 18 /* Regional_Indicator */) {\r\n                // Emoji flags are actually composed of TWO scalar values, each being a\r\n                // \"regional indicator\". These indicators correspond to Latin letters. Put\r\n                // two of them together, and they spell out an ISO 3166-1-alpha-2 country\r\n                // code. Since these always come in pairs, NEVER split the pairs! So, if\r\n                // we happen to be inside the middle of an odd numbered of\r\n                // Regional_Indicators, DON\u0027T SPLIT IT!\r\n                nConsecutiveRegionalIndicators += 1;\r\n                if ((nConsecutiveRegionalIndicators % 2) == 1) {\r\n                    continue;\r\n                }\r\n            }\r\n            else {\r\n                nConsecutiveRegionalIndicators = 0;\r\n            }\r\n            // WB999: Otherwise, break EVERYWHERE (including around ideographs)\r\n            boundaries.push(rightPos);\r\n        } while (rightPos \u003c text.length);\r\n        return boundaries;\r\n        ///// Internal utility functions /////\r\n        /**\r\n         * Returns the position of the start of the next scalar value. This jumps\r\n         * over surrogate pairs.\r\n         *\r\n         * If asked for the character AFTER the end of the string, this always\r\n         * returns the length of the string.\r\n         */\r\n        function positionAfter(pos) {\r\n            if (pos \u003e= text.length) {\r\n                return text.length;\r\n            }\r\n            else if (isStartOfSurrogatePair(text[pos])) {\r\n                return pos + 2;\r\n            }\r\n            return pos + 1;\r\n        }\r\n        /**\r\n         * Return the value of the Word_Break property at the given string index.\r\n         * @param pos position in the text.\r\n         */\r\n        function wordbreakPropertyAt(pos) {\r\n            if (pos \u003c 0) {\r\n                return 19 /* sot */; // Always \"start of string\" before the string starts!\r\n            }\r\n            else if (pos \u003e= text.length) {\r\n                return 20 /* eot */; // Always \"end of string\" after the string ends!\r\n            }\r\n            else if (isStartOfSurrogatePair(text[pos])) {\r\n                // Surrogate pairs the next TWO items from the string!\r\n                return property(text[pos] + text[pos + 1]);\r\n            }\r\n            return property(text[pos]);\r\n        }\r\n        // Word_Break rule macros\r\n        // See: https://unicode.org/reports/tr29/#WB_Rule_Macros\r\n        function isAHLetter(prop) {\r\n            return prop === 11 /* ALetter */ ||\r\n                prop === 15 /* Hebrew_Letter */;\r\n        }\r\n        function isMidNumLetQ(prop) {\r\n            return prop === 8 /* MidNumLet */ ||\r\n                prop === 6 /* Single_Quote */;\r\n        }\r\n    }\r\n    function isStartOfSurrogatePair(character) {\r\n        var codeUnit = character.charCodeAt(0);\r\n        return codeUnit \u003e= 0xD800 \u0026\u0026 codeUnit \u003c= 0xDBFF;\r\n    }\r\n    /**\r\n     * Return the Word_Break property value for a character.\r\n     * Note that\r\n     * @param character a scalar value\r\n     */\r\n    function property(character) {\r\n        // This MUST be a scalar value.\r\n        // TODO: remove dependence on character.codepointAt()?\r\n        var codepoint = character.codePointAt(0);\r\n        return searchForProperty(codepoint, 0, WORD_BREAK_PROPERTY.length - 1);\r\n    }\r\n    /**\r\n     * Binary search for the word break property of a given CODE POINT.\r\n     */\r\n    function searchForProperty(codePoint, left, right) {\r\n        // All items that are not found in the array are assigned the \u0027Other\u0027 property.\r\n        if (right \u003c left) {\r\n            return 0 /* Other */;\r\n        }\r\n        var midpoint = left + ~~((right - left) / 2);\r\n        var candidate = WORD_BREAK_PROPERTY[midpoint];\r\n        var nextRange = WORD_BREAK_PROPERTY[midpoint + 1];\r\n        var startOfNextRange = nextRange ? nextRange[0 /* Start */] : Infinity;\r\n        if (codePoint \u003c candidate[0 /* Start */]) {\r\n            return searchForProperty(codePoint, left, midpoint - 1);\r\n        }\r\n        else if (codePoint \u003e= startOfNextRange) {\r\n            return searchForProperty(codePoint, midpoint + 1, right);\r\n        }\r\n        // We found it!\r\n        return candidate[1 /* Value */];\r\n    }\r\n})(wordBreakers || (wordBreakers = {}));\r\n// We cannot export a member whose name is a reserved word when\r\n// implementing a namespace, BUT we can manually make the\r\n// assignment and **declare** it as part of the namespace.\r\nwordBreakers[\u0027default\u0027] = wordBreakers.default_;\r\nvar wordBreakers;\r\n(function (wordBreakers) {\r\n    /**\r\n     * A **VERY** dumb word breaker that simply splits at words. Do not use this\r\n     * word breaker!\r\n     *\r\n     * @param phrase The phrase in which to break words.\r\n     * @deprecated Use a word breaker tailored to your language instead!\r\n     */\r\n    function placeholder(phrase) {\r\n        var nextStart = 0;\r\n        return phrase.split(/\\s+/).map(function (utterance) {\r\n            // XXX: The indices are NOT accurate to the original phrase!\r\n            var span = {\r\n                start: nextStart,\r\n                end: nextStart + utterance.length,\r\n                text: utterance,\r\n                length: utterance.length\r\n            };\r\n            nextStart = span.end;\r\n            return span;\r\n        });\r\n    }\r\n    wordBreakers.placeholder = placeholder;\r\n})(wordBreakers || (wordBreakers = {}));\r\n/// \u003creference path=\"./ascii.ts\" /\u003e\r\n/// \u003creference path=\"./default/index.ts\" /\u003e\r\n/// \u003creference path=\"./placeholder.ts\" /\u003e\r\n// Let the word breakers be available both in the browser and in Node.\r\nif (typeof module !== \"undefined\" \u0026\u0026 module.exports) {\r\n    module.exports[\u0027wordBreakers\u0027] = wordBreakers;\r\n}\r\nvar models;\r\n(function (models) {\r\n    models.SENTINEL_CODE_UNIT = \u0027\\uFDD0\u0027;\r\n    function applyTransform(transform, context) {\r\n        // First, get the current context\r\n        var fullLeftContext = context.left || \u0027\u0027;\r\n        var lLen = fullLeftContext.kmwLength();\r\n        var lDel = lLen \u003c transform.deleteLeft ? lLen : transform.deleteLeft;\r\n        var leftContext = fullLeftContext.kmwSubstr(0, lLen - lDel) + (transform.insert || \u0027\u0027);\r\n        var fullRightContext = context.right || \u0027\u0027;\r\n        var rLen = fullRightContext.kmwLength();\r\n        var rDel = rLen \u003c transform.deleteRight ? rLen : transform.deleteRight;\r\n        var rightContext = fullRightContext.kmwSubstr(rDel);\r\n        return {\r\n            left: leftContext,\r\n            right: rightContext,\r\n            startOfBuffer: context.startOfBuffer,\r\n            endOfBuffer: context.endOfBuffer\r\n        };\r\n    }\r\n    models.applyTransform = applyTransform;\r\n    /**\r\n     * Merges two Transforms as if they were applied to a `Context` successively.\r\n     * @param first\r\n     * @param second\r\n     */\r\n    function buildMergedTransform(first, second) {\r\n        // These exist to avoid parameter mutation.\r\n        var mergedFirstInsert = first.insert;\r\n        var mergedSecondDelete = second.deleteLeft;\r\n        // The \u0027fun\u0027 case:  the second Transform wants to delete something from the first.\r\n        if (second.deleteLeft) {\r\n            var firstLength = first.insert.kmwLength();\r\n            if (firstLength \u003c= second.deleteLeft) {\r\n                mergedFirstInsert = \u0027\u0027;\r\n                mergedSecondDelete = second.deleteLeft - firstLength;\r\n            }\r\n            else {\r\n                mergedFirstInsert = first.insert.kmwSubstr(0, firstLength - second.deleteLeft);\r\n                mergedSecondDelete = 0;\r\n            }\r\n        }\r\n        return {\r\n            insert: mergedFirstInsert + second.insert,\r\n            deleteLeft: first.deleteLeft + mergedSecondDelete,\r\n            // As `first` would affect the context before `second` could take effect,\r\n            // this is the correct way to merge `deleteRight`.\r\n            deleteRight: (first.deleteRight || 0) + (second.deleteRight || 0)\r\n        };\r\n    }\r\n    models.buildMergedTransform = buildMergedTransform;\r\n    function isHighSurrogate(codeUnit) {\r\n        if (typeof codeUnit == \u0027string\u0027) {\r\n            codeUnit = codeUnit.charCodeAt(0);\r\n        }\r\n        return codeUnit \u003e= 0xD800 \u0026\u0026 codeUnit \u003c= 0xDBFF;\r\n    }\r\n    models.isHighSurrogate = isHighSurrogate;\r\n    function isLowSurrogate(codeUnit) {\r\n        if (typeof codeUnit == \u0027string\u0027) {\r\n            codeUnit = codeUnit.charCodeAt(0);\r\n        }\r\n        return codeUnit \u003e= 0xDC00 \u0026\u0026 codeUnit \u003c= 0xDFFF;\r\n    }\r\n    models.isLowSurrogate = isLowSurrogate;\r\n    function isSentinel(char) {\r\n        return char == models.SENTINEL_CODE_UNIT;\r\n    }\r\n    models.isSentinel = isSentinel;\r\n    function transformToSuggestion(transform, p) {\r\n        var suggestion = {\r\n            transform: transform,\r\n            transformId: transform.id,\r\n            displayAs: transform.insert\r\n        };\r\n        if (p === 0 || p) {\r\n            suggestion.p = p;\r\n        }\r\n        return suggestion;\r\n    }\r\n    models.transformToSuggestion = transformToSuggestion;\r\n    function defaultApplyCasing(casing, text) {\r\n        switch (casing) {\r\n            case \u0027lower\u0027:\r\n                return text.toLowerCase();\r\n            case \u0027upper\u0027:\r\n                return text.toUpperCase();\r\n            case \u0027initial\u0027:\r\n                // The length of the first code unit, as measured in code points.\r\n                var headUnitLength = 1;\r\n                // Is the first character a high surrogate, indicating possible use of UTF-16 \r\n                // surrogate pairs?  Also, is the string long enough for there to BE a pair?\r\n                if (text.length \u003e 1 \u0026\u0026 isHighSurrogate(text.charAt(0))) {\r\n                    // It\u0027s possible, so now we check for low surrogates.\r\n                    if (isLowSurrogate(text.charCodeAt(1))) {\r\n                        // We have a surrogate pair; this pair is the \u0027first\u0027 character.\r\n                        headUnitLength = 2;\r\n                    }\r\n                }\r\n                // Capitalizes the first code unit of the string, leaving the rest intact.\r\n                return text.substring(0, headUnitLength).toUpperCase().concat(text.substring(headUnitLength));\r\n        }\r\n    }\r\n    models.defaultApplyCasing = defaultApplyCasing;\r\n})(models || (models = {}));\r\n/**\r\n * @file priority-queue.ts\r\n *\r\n * Defines a mildly abstracted priority queue implementation.\r\n */\r\nvar models;\r\n(function (models) {\r\n    var PriorityQueue = /** @class */ (function () {\r\n        /**\r\n         * Constructs an empty priority queue.\r\n         * @param comparator A `Comparator` returning negative values when and only when\r\n         * the first parameter should precede the second parameter.\r\n         */\r\n        function PriorityQueue(comparator, initialEntries) {\r\n            if (initialEntries === void 0) { initialEntries = []; }\r\n            // TODO: We may wish to allow options specifying a limit or threshold for adding\r\n            // items to the priority queue.  Possibly both.\r\n            //\r\n            // When that time comes, consider a min-max heap.\r\n            // https://en.wikipedia.org/wiki/Min-max_heap\r\n            this.comparator = comparator;\r\n            this.heap = Array.from(initialEntries);\r\n            this.heapify();\r\n        }\r\n        PriorityQueue.leftChildIndex = function (index) {\r\n            return index * 2 + 1;\r\n        };\r\n        PriorityQueue.rightChildIndex = function (index) {\r\n            return index * 2 + 2;\r\n        };\r\n        PriorityQueue.parentIndex = function (index) {\r\n            return Math.floor((index - 1) / 2);\r\n        };\r\n        PriorityQueue.prototype.heapify = function (start, end) {\r\n            if (start == undefined || end == undefined) {\r\n                this.heapify(0, this.count - 1);\r\n            }\r\n            // Use of \u0027indices\u0027 here is a bit of a customization.\r\n            // At the cost of (temporary) extra storage space, we can more efficiently enqueue\r\n            // multiple elements simultaneously.\r\n            var queuedIndices = [];\r\n            var lastParent = -1;\r\n            for (var i = end; i \u003e= start; i--) {\r\n                var parent = PriorityQueue.parentIndex(i);\r\n                if (this.siftDown(i) \u0026\u0026 parent \u003c start \u0026\u0026 lastParent != parent) {\r\n                    // We only need to queue examination for a heap node if its children have changed\r\n                    // and it isn\u0027t already being examined.\r\n                    queuedIndices.push(parent);\r\n                    lastParent = parent;\r\n                }\r\n            }\r\n            lastParent = -1;\r\n            while (queuedIndices.length \u003e 0) {\r\n                var index = queuedIndices.shift();\r\n                var parent = PriorityQueue.parentIndex(index);\r\n                if (this.siftDown(index) \u0026\u0026 parent \u003e= 0 \u0026\u0026 lastParent != parent) {\r\n                    // We only need to queue examination for a heap node if its children have changed.\r\n                    queuedIndices.push(parent);\r\n                    lastParent = parent;\r\n                }\r\n            }\r\n        };\r\n        Object.defineProperty(PriorityQueue.prototype, \"count\", {\r\n            /**\r\n             * Returns the number of elements currently held by the priority queue.\r\n             */\r\n            get: function () {\r\n                return this.heap.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * Returns the highest-priority item within the priority queue.\r\n         * \u003cp\u003e\r\n         * Is O(1).\r\n         */\r\n        PriorityQueue.prototype.peek = function () {\r\n            return this.heap[0]; // undefined if it doesn\u0027t exist... which is completely correct.\r\n        };\r\n        /**\r\n         * Inserts a new element into the priority queue, placing it in order.\r\n         * \u003cp\u003e\r\n         * Is O(log N), where N = # of items in the priority queue.\r\n         * @param element\r\n         */\r\n        PriorityQueue.prototype.enqueue = function (element) {\r\n            var index = this.heap.length;\r\n            this.heap.push(element);\r\n            var parent = PriorityQueue.parentIndex;\r\n            var parentIndex = parent(index);\r\n            while (index !== 0 \u0026\u0026 this.comparator(this.heap[index], this.heap[parentIndex]) \u003c 0) {\r\n                var a = this.heap[index];\r\n                this.heap[index] = this.heap[parentIndex];\r\n                this.heap[parentIndex] = a;\r\n                index = parentIndex;\r\n                parentIndex = parent(index);\r\n            }\r\n        };\r\n        /**\r\n         * Efficiently batch-enqueues multiple elements.\r\n         * Worst-case is the _better_ of the following:\r\n         * - O(`elements.count` + `heap.count`) - large element counts will trigger in-place\r\n         * heap reconstruction.\r\n         * - O(`elements.count` * log(`heap.count`)) - logarithmic when elements.count \u003c\u003c heap.count\r\n         * @param elements A group of elements to enqueue simultaneously.\r\n         */\r\n        PriorityQueue.prototype.enqueueAll = function (elements) {\r\n            if (elements.length == 0) {\r\n                return;\r\n            }\r\n            var firstIndex = this.count;\r\n            this.heap = this.heap.concat(elements);\r\n            var firstParent = PriorityQueue.parentIndex(firstIndex);\r\n            // The \u0027parent\u0027 of index 0 will return -1, which is illegal.\r\n            this.heapify(firstParent \u003e= 0 ? firstParent : 0, PriorityQueue.parentIndex(this.count - 1));\r\n        };\r\n        /**\r\n         * Removes the highest-priority element from the queue, returning it.\r\n         * \u003cp\u003e\r\n         * Is O(log N), where N = number of items in the priority queue.\r\n         */\r\n        PriorityQueue.prototype.dequeue = function () {\r\n            if (this.count == 0) {\r\n                return undefined;\r\n            }\r\n            var root = this.heap[0];\r\n            var tail = this.heap.pop();\r\n            if (this.heap.length \u003e 0) {\r\n                this.heap[0] = tail;\r\n                this.siftDown(0);\r\n            }\r\n            return root;\r\n        };\r\n        /**\r\n         * Compares the entry at the specified index against its children,\r\n         * propagating it downward within the heap until heap requirements are specified.\r\n         * \u003cp\u003e\r\n         * Is O(log N), where N = number of items in the priority queue.\r\n         *\r\n         * @param index The index of the top-most node that must be examined\r\n         * for repositioning.\r\n         * @returns `true` if a swap occurred, `false` otherwise.\r\n         */\r\n        PriorityQueue.prototype.siftDown = function (index) {\r\n            var leftIndex = PriorityQueue.leftChildIndex(index);\r\n            var rightIndex = PriorityQueue.rightChildIndex(index);\r\n            var topMostIndex = index;\r\n            if (leftIndex \u003c this.heap.length \u0026\u0026 this.comparator(this.heap[leftIndex], this.heap[topMostIndex]) \u003c 0) {\r\n                topMostIndex = leftIndex;\r\n            }\r\n            if (rightIndex \u003c this.heap.length \u0026\u0026 this.comparator(this.heap[rightIndex], this.heap[topMostIndex]) \u003c 0) {\r\n                topMostIndex = rightIndex;\r\n            }\r\n            if (topMostIndex != index) {\r\n                var a = this.heap[index];\r\n                this.heap[index] = this.heap[topMostIndex];\r\n                this.heap[topMostIndex] = a;\r\n                this.siftDown(topMostIndex);\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        };\r\n        /**\r\n         * Returns an array containing all entries of the priority queue.\r\n         * Altering the returned array will not affect the queue, but mutating\r\n         * the array\u0027s elements can cause unintended side effects.\r\n         *\r\n         * This function makes no guarantees on the ordering of the returned elements;\r\n         * they will almost certainly be unsorted.\r\n         */\r\n        PriorityQueue.prototype.toArray = function () {\r\n            return Array.from(this.heap);\r\n        };\r\n        return PriorityQueue;\r\n    }());\r\n    models.PriorityQueue = PriorityQueue;\r\n})(models || (models = {}));\r\n// While we _could_ define this within @keymanapp/models-wordbreakers instead, it\u0027s probably\r\n// better to leave that package as _just_ the wordbreakers.  \r\nvar models;\r\n(function (models) {\r\n    function tokenize(wordBreaker, context) {\r\n        context = context || {\r\n            left: undefined,\r\n            startOfBuffer: undefined,\r\n            endOfBuffer: undefined\r\n        };\r\n        var leftSpans = wordBreaker(context.left || \u0027\u0027) || [];\r\n        var rightSpans = wordBreaker(context.right || \u0027\u0027) || [];\r\n        var tokenization = {\r\n            left: leftSpans.map(function (span) { return span.text; }),\r\n            right: rightSpans.map(function (span) { return span.text; }),\r\n            // A default initialization of the value.\r\n            caretSplitsToken: false\r\n        };\r\n        // Now the hard part - determining whether or not the caret caused a token split.\r\n        if (leftSpans.length \u003e 0 \u0026\u0026 rightSpans.length \u003e 0) {\r\n            var leftTail = leftSpans[leftSpans.length - 1];\r\n            var rightHead = rightSpans[0];\r\n            // If tokenization includes all characters on each side of the caret,\r\n            // we have a good candidate for a caret-splitting scenario.\r\n            var leftSuffixWordbreak = leftTail.end != context.left.length;\r\n            var rightPrefixWordbreak = rightHead.start != 0;\r\n            if (leftSuffixWordbreak || rightPrefixWordbreak) {\r\n                // Bypass the final test, as we already know the caret didn\u0027t split a token.\r\n                // (The tokenization process already removed characters between the two.)\r\n                return tokenization;\r\n            }\r\n            // Worth note - some languages don\u0027t use wordbreaking characters.  So, a final check:\r\n            //\r\n            // Does the wordbreaker split a merge of the \u0027two center\u0027 tokens?\r\n            // If not, then the caret is responsible for the split.\r\n            if (wordBreaker(leftTail.text + rightHead.text).length == 1) {\r\n                tokenization.caretSplitsToken = true;\r\n            }\r\n        }\r\n        return tokenization;\r\n    }\r\n    models.tokenize = tokenize;\r\n    /**\r\n     * Get the last word of the phrase before the caret or nothing.\r\n     * @param fullLeftContext the entire left context of the string.\r\n     */\r\n    function getLastPreCaretToken(wordBreaker, context) {\r\n        var tokenization = tokenize(wordBreaker, context);\r\n        if (tokenization.left.length \u003e 0) {\r\n            return tokenization.left.pop();\r\n        }\r\n        return \u0027\u0027;\r\n    }\r\n    models.getLastPreCaretToken = getLastPreCaretToken;\r\n    // While it is currently identical to getLastWord, this may change in the future.\r\n    // It\u0027s best not to write ourselves into a corner on this one, as disambiguating later\r\n    // would likely be pretty painful.\r\n    function wordbreak(wordBreaker, context) {\r\n        return getLastPreCaretToken(wordBreaker, context);\r\n    }\r\n    models.wordbreak = wordbreak;\r\n})(models || (models = {}));\r\n/*\r\n * Copyright (c) 2019 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2019 SIL International\r\n * Copyright (c) 2015–2017 Conrad Irwin\r\n * Copyright (c) 2011–2015 Marc Campbell\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nvar __generator = (this \u0026\u0026 this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] \u0026 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" \u0026\u0026 (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y \u0026\u0026 (t = op[0] \u0026 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) \u0026\u0026 t.call(y), 0) : y.next) \u0026\u0026 !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] \u0026 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length \u003e 0 \u0026\u0026 t[t.length - 1]) \u0026\u0026 (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 \u0026\u0026 (!t || (op[1] \u003e t[0] \u0026\u0026 op[1] \u003c t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 \u0026\u0026 _.label \u003c t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t \u0026\u0026 _.label \u003c t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] \u0026 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n// Worth noting:  we\u0027re starting to get quite a \u0027library\u0027 of common model/LMLayer functionality.\r\n// Should probably make a \u0027lm-utils\u0027 submodule.\r\n/// \u003creference path=\"common.ts\" /\u003e\r\n/// \u003creference path=\"priority-queue.ts\" /\u003e\r\n/// \u003creference path=\"tokenization.ts\" /\u003e\r\n/**\r\n * @file trie-model.ts\r\n *\r\n * Defines a simple word list (unigram) model.\r\n */\r\nvar models;\r\n(function (models) {\r\n    /** Upper bound on the amount of suggestions to generate. */\r\n    var MAX_SUGGESTIONS = 12;\r\n    /**\r\n     * @class TrieModel\r\n     *\r\n     * Defines a trie-backed word list model, or the unigram model.\r\n     * Unigram models throw away all preceding words, and search\r\n     * for the next word exclusively. As such, they can perform simple\r\n     * prefix searches within words, however they are not very good\r\n     * at predicting the next word.\r\n     */\r\n    var TrieModel = /** @class */ (function () {\r\n        function TrieModel(trieData, options) {\r\n            if (options === void 0) { options = {}; }\r\n            this.languageUsesCasing = options.languageUsesCasing;\r\n            this.applyCasing = options.applyCasing;\r\n            this._trie = new Trie(trieData[\u0027root\u0027], trieData[\u0027totalWeight\u0027], options.searchTermToKey || defaultSearchTermToKey);\r\n            this.breakWords = options.wordBreaker || getDefaultWordBreaker();\r\n            this.punctuation = options.punctuation;\r\n        }\r\n        TrieModel.prototype.configure = function (capabilities) {\r\n            return this.configuration = {\r\n                leftContextCodePoints: capabilities.maxLeftContextCodePoints,\r\n                rightContextCodePoints: capabilities.maxRightContextCodePoints\r\n            };\r\n        };\r\n        TrieModel.prototype.toKey = function (text) {\r\n            return this._trie.toKey(text);\r\n        };\r\n        TrieModel.prototype.predict = function (transform, context) {\r\n            // Special-case the empty buffer/transform: return the top suggestions.\r\n            if (!transform.insert \u0026\u0026 !context.left \u0026\u0026 !context.right \u0026\u0026 context.startOfBuffer \u0026\u0026 context.endOfBuffer) {\r\n                return makeDistribution(this._trie.firstN(MAX_SUGGESTIONS).map(function (_a) {\r\n                    var text = _a.text, p = _a.p;\r\n                    return ({\r\n                        transform: {\r\n                            insert: text,\r\n                            deleteLeft: 0\r\n                        },\r\n                        displayAs: text,\r\n                        p: p\r\n                    });\r\n                }));\r\n            }\r\n            // Compute the results of the keystroke:\r\n            var newContext = models.applyTransform(transform, context);\r\n            // Computes the different in word length after applying the transform above.\r\n            var leftDelOffset = transform.deleteLeft - transform.insert.kmwLength();\r\n            // All text to the left of the cursor INCLUDING anything that has\r\n            // just been typed.\r\n            var prefix = models.getLastPreCaretToken(this.breakWords, newContext);\r\n            // Return suggestions from the trie.\r\n            return makeDistribution(this._trie.lookup(prefix).map(function (_a) {\r\n                var text = _a.text, p = _a.p;\r\n                return models.transformToSuggestion({\r\n                    insert: text,\r\n                    // Delete whatever the prefix that the user wrote.\r\n                    deleteLeft: leftDelOffset + prefix.kmwLength()\r\n                    // Note: a separate capitalization/orthography engine can take this\r\n                    // result and transform it as needed.\r\n                }, p);\r\n            }));\r\n            /* Helper */\r\n            function makeDistribution(suggestions) {\r\n                var e_2, _a;\r\n                var distribution = [];\r\n                try {\r\n                    for (var suggestions_2 = __values(suggestions), suggestions_2_1 = suggestions_2.next(); !suggestions_2_1.done; suggestions_2_1 = suggestions_2.next()) {\r\n                        var s = suggestions_2_1.value;\r\n                        distribution.push({ sample: s, p: s.p });\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (suggestions_2_1 \u0026\u0026 !suggestions_2_1.done \u0026\u0026 (_a = suggestions_2.return)) _a.call(suggestions_2);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n                return distribution;\r\n            }\r\n        };\r\n        Object.defineProperty(TrieModel.prototype, \"wordbreaker\", {\r\n            get: function () {\r\n                return this.breakWords;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TrieModel.prototype.traverseFromRoot = function () {\r\n            return new TrieModel.Traversal(this._trie[\u0027root\u0027], \u0027\u0027);\r\n        };\r\n        TrieModel.Traversal = /** @class */ (function () {\r\n            function class_1(root, prefix) {\r\n                this.root = root;\r\n                this.prefix = prefix;\r\n            }\r\n            class_1.prototype.children = function () {\r\n                var root, _loop_1, this_1, _a, _b, entry, e_3_1, prefix_1, children, _loop_2, children_1, children_1_1, key, e_4_1;\r\n                var e_3, _c, e_4, _d;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            root = this.root;\r\n                            if (!(root.type == \u0027internal\u0027)) return [3 /*break*/, 9];\r\n                            _loop_1 = function (entry) {\r\n                                var entryNode, internalNode_1, _loop_3, _a, _b, lowSurrogate, e_5_1, fullText, prefix_2, prefix_3;\r\n                                var e_5, _c;\r\n                                return __generator(this, function (_d) {\r\n                                    switch (_d.label) {\r\n                                        case 0:\r\n                                            entryNode = root.children[entry];\r\n                                            if (!models.isHighSurrogate(entry)) return [3 /*break*/, 12];\r\n                                            if (!(entryNode.type == \u0027internal\u0027)) return [3 /*break*/, 9];\r\n                                            internalNode_1 = entryNode;\r\n                                            _loop_3 = function (lowSurrogate) {\r\n                                                var prefix;\r\n                                                return __generator(this, function (_a) {\r\n                                                    switch (_a.label) {\r\n                                                        case 0:\r\n                                                            prefix = this_1.prefix + entry + lowSurrogate;\r\n                                                            return [4 /*yield*/, {\r\n                                                                    char: entry + lowSurrogate,\r\n                                                                    traversal: function () { return new TrieModel.Traversal(internalNode_1.children[lowSurrogate], prefix); }\r\n                                                                }];\r\n                                                        case 1:\r\n                                                            _a.sent();\r\n                                                            return [2 /*return*/];\r\n                                                    }\r\n                                                });\r\n                                            };\r\n                                            _d.label = 1;\r\n                                        case 1:\r\n                                            _d.trys.push([1, 6, 7, 8]);\r\n                                            _a = (e_5 = void 0, __values(internalNode_1.values)), _b = _a.next();\r\n                                            _d.label = 2;\r\n                                        case 2:\r\n                                            if (!!_b.done) return [3 /*break*/, 5];\r\n                                            lowSurrogate = _b.value;\r\n                                            return [5 /*yield**/, _loop_3(lowSurrogate)];\r\n                                        case 3:\r\n                                            _d.sent();\r\n                                            _d.label = 4;\r\n                                        case 4:\r\n                                            _b = _a.next();\r\n                                            return [3 /*break*/, 2];\r\n                                        case 5: return [3 /*break*/, 8];\r\n                                        case 6:\r\n                                            e_5_1 = _d.sent();\r\n                                            e_5 = { error: e_5_1 };\r\n                                            return [3 /*break*/, 8];\r\n                                        case 7:\r\n                                            try {\r\n                                                if (_b \u0026\u0026 !_b.done \u0026\u0026 (_c = _a.return)) _c.call(_a);\r\n                                            }\r\n                                            finally { if (e_5) throw e_5.error; }\r\n                                            return [7 /*endfinally*/];\r\n                                        case 8: return [3 /*break*/, 11];\r\n                                        case 9:\r\n                                            fullText = entryNode.entries[0].key;\r\n                                            entry = entry + fullText[this_1.prefix.length + 1]; // The other half of the non-BMP char.\r\n                                            prefix_2 = this_1.prefix + entry;\r\n                                            return [4 /*yield*/, {\r\n                                                    char: entry,\r\n                                                    traversal: function () { return new TrieModel.Traversal(entryNode, prefix_2); }\r\n                                                }];\r\n                                        case 10:\r\n                                            _d.sent();\r\n                                            _d.label = 11;\r\n                                        case 11: return [3 /*break*/, 16];\r\n                                        case 12:\r\n                                            if (!models.isSentinel(entry)) return [3 /*break*/, 13];\r\n                                            return [2 /*return*/, \"continue\"];\r\n                                        case 13:\r\n                                            if (!!entry) return [3 /*break*/, 14];\r\n                                            return [2 /*return*/, \"continue\"];\r\n                                        case 14:\r\n                                            prefix_3 = this_1.prefix + entry;\r\n                                            return [4 /*yield*/, {\r\n                                                    char: entry,\r\n                                                    traversal: function () { return new TrieModel.Traversal(entryNode, prefix_3); }\r\n                                                }];\r\n                                        case 15:\r\n                                            _d.sent();\r\n                                            _d.label = 16;\r\n                                        case 16: return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _e.label = 1;\r\n                        case 1:\r\n                            _e.trys.push([1, 6, 7, 8]);\r\n                            _a = __values(root.values), _b = _a.next();\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            if (!!_b.done) return [3 /*break*/, 5];\r\n                            entry = _b.value;\r\n                            return [5 /*yield**/, _loop_1(entry)];\r\n                        case 3:\r\n                            _e.sent();\r\n                            _e.label = 4;\r\n                        case 4:\r\n                            _b = _a.next();\r\n                            return [3 /*break*/, 2];\r\n                        case 5: return [3 /*break*/, 8];\r\n                        case 6:\r\n                            e_3_1 = _e.sent();\r\n                            e_3 = { error: e_3_1 };\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            try {\r\n                                if (_b \u0026\u0026 !_b.done \u0026\u0026 (_c = _a.return)) _c.call(_a);\r\n                            }\r\n                            finally { if (e_3) throw e_3.error; }\r\n                            return [7 /*endfinally*/];\r\n                        case 8: return [2 /*return*/];\r\n                        case 9:\r\n                            prefix_1 = this.prefix;\r\n                            children = root.entries.filter(function (entry) {\r\n                                return entry.key != prefix_1 \u0026\u0026 prefix_1.length \u003c entry.key.length;\r\n                            });\r\n                            _loop_2 = function (key) {\r\n                                var nodeKey;\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0:\r\n                                            nodeKey = key[prefix_1.length];\r\n                                            if (models.isHighSurrogate(nodeKey)) {\r\n                                                // Merge the other half of an SMP char in!\r\n                                                nodeKey = nodeKey + key[prefix_1.length + 1];\r\n                                            }\r\n                                            return [4 /*yield*/, {\r\n                                                    char: nodeKey,\r\n                                                    traversal: function () { return new TrieModel.Traversal(root, prefix_1 + nodeKey); }\r\n                                                }];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _e.label = 10;\r\n                        case 10:\r\n                            _e.trys.push([10, 15, 16, 17]);\r\n                            children_1 = __values(children), children_1_1 = children_1.next();\r\n                            _e.label = 11;\r\n                        case 11:\r\n                            if (!!children_1_1.done) return [3 /*break*/, 14];\r\n                            key = children_1_1.value.key;\r\n                            return [5 /*yield**/, _loop_2(key)];\r\n                        case 12:\r\n                            _e.sent();\r\n                            _e.label = 13;\r\n                        case 13:\r\n                            children_1_1 = children_1.next();\r\n                            return [3 /*break*/, 11];\r\n                        case 14: return [3 /*break*/, 17];\r\n                        case 15:\r\n                            e_4_1 = _e.sent();\r\n                            e_4 = { error: e_4_1 };\r\n                            return [3 /*break*/, 17];\r\n                        case 16:\r\n                            try {\r\n                                if (children_1_1 \u0026\u0026 !children_1_1.done \u0026\u0026 (_d = children_1.return)) _d.call(children_1);\r\n                            }\r\n                            finally { if (e_4) throw e_4.error; }\r\n                            return [7 /*endfinally*/];\r\n                        case 17:\r\n                            ;\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            };\r\n            Object.defineProperty(class_1.prototype, \"entries\", {\r\n                get: function () {\r\n                    if (this.root.type == \u0027leaf\u0027) {\r\n                        var prefix_4 = this.prefix;\r\n                        var matches = this.root.entries.filter(function (entry) {\r\n                            return entry.key == prefix_4;\r\n                        });\r\n                        return matches.map(function (value) { return value.content; });\r\n                    }\r\n                    else {\r\n                        var matchingLeaf = this.root.children[models.SENTINEL_CODE_UNIT];\r\n                        if (matchingLeaf \u0026\u0026 matchingLeaf.type == \u0027leaf\u0027) {\r\n                            return matchingLeaf.entries.map(function (value) { return value.content; });\r\n                        }\r\n                        else {\r\n                            return [];\r\n                        }\r\n                    }\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            return class_1;\r\n        }());\r\n        return TrieModel;\r\n    }());\r\n    models.TrieModel = TrieModel;\r\n    ;\r\n    /**\r\n     * Wrapper class for the trie and its nodes.\r\n     */\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(root, totalWeight, wordform2key) {\r\n            this.root = root;\r\n            this.toKey = wordform2key;\r\n            this.totalWeight = totalWeight;\r\n        }\r\n        /**\r\n         * Lookups an arbitrary prefix (a query) in the trie. Returns the top 3\r\n         * results in sorted order.\r\n         *\r\n         * @param prefix\r\n         */\r\n        Trie.prototype.lookup = function (prefix) {\r\n            var searchKey = this.toKey(prefix);\r\n            var lowestCommonNode = findPrefix(this.root, searchKey);\r\n            if (lowestCommonNode === null) {\r\n                return [];\r\n            }\r\n            return getSortedResults(lowestCommonNode, searchKey, this.totalWeight);\r\n        };\r\n        /**\r\n         * Returns the top N suggestions from the trie.\r\n         * @param n How many suggestions, maximum, to return.\r\n         */\r\n        Trie.prototype.firstN = function (n) {\r\n            return getSortedResults(this.root, \u0027\u0027, this.totalWeight, n);\r\n        };\r\n        return Trie;\r\n    }());\r\n    /**\r\n     * Finds the deepest descendent in the trie with the given prefix key.\r\n     *\r\n     * This means that a search in the trie for a given prefix has a best-case\r\n     * complexity of O(m) where m is the length of the prefix.\r\n     *\r\n     * @param key The prefix to search for.\r\n     * @param index The index in the prefix. Initially 0.\r\n     */\r\n    function findPrefix(node, key, index) {\r\n        if (index === void 0) { index = 0; }\r\n        // An important note - the Trie itself is built on a per-JS-character basis,\r\n        // not on a UTF-8 character-code basis.\r\n        if (node.type === \u0027leaf\u0027 || index === key.length) {\r\n            return node;\r\n        }\r\n        // So, for SMP models, we need to match each char of the supplementary pair\r\n        // in sequence.  Each has its own node in the Trie.\r\n        var char = key[index];\r\n        if (node.children[char]) {\r\n            return findPrefix(node.children[char], key, index + 1);\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     * Returns all entries matching the given prefix, in descending order of\r\n     * weight.\r\n     *\r\n     * @param prefix  the prefix to match.\r\n     * @param results the current results\r\n     * @param queue\r\n     */\r\n    function getSortedResults(node, prefix, N, limit) {\r\n        var e_6, _a;\r\n        if (limit === void 0) { limit = MAX_SUGGESTIONS; }\r\n        var queue = new models.PriorityQueue(function (a, b) {\r\n            // In case of Trie compilation issues that emit `null` or `undefined`\r\n            return (b ? b.weight : 0) - (a ? a.weight : 0);\r\n        });\r\n        var results = [];\r\n        if (node.type === \u0027leaf\u0027) {\r\n            try {\r\n                // Assuming the values are sorted, we can just add all of the values in the\r\n                // leaf, until we reach the limit.\r\n                for (var _b = __values(node.entries), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var item = _c.value;\r\n                    if (item.key.startsWith(prefix)) {\r\n                        var content = item.content, weight = item.weight;\r\n                        results.push({\r\n                            text: content,\r\n                            p: weight / N\r\n                        });\r\n                        if (results.length \u003e= limit) {\r\n                            return results;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c \u0026\u0026 !_c.done \u0026\u0026 (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_6) throw e_6.error; }\r\n            }\r\n        }\r\n        else {\r\n            queue.enqueue(node);\r\n            var next = void 0;\r\n            var _loop_4 = function () {\r\n                if (isNode(next)) {\r\n                    // When a node is next up in the queue, that means that next least\r\n                    // likely suggestion is among its decsendants.\r\n                    // So we search all of its descendants!\r\n                    if (next.type === \u0027leaf\u0027) {\r\n                        queue.enqueueAll(next.entries);\r\n                    }\r\n                    else {\r\n                        // XXX: alias `next` so that TypeScript can be SURE that internal is\r\n                        // in fact an internal node. Because of the callback binding to the\r\n                        // original definition of node (i.e., a Node | Entry), this will not\r\n                        // type-check otherwise.\r\n                        var internal_1 = next;\r\n                        queue.enqueueAll(next.values.map(function (char) {\r\n                            return internal_1.children[char];\r\n                        }));\r\n                    }\r\n                }\r\n                else {\r\n                    // When an entry is up next in the queue, we just add its contents to\r\n                    // the results!\r\n                    results.push({\r\n                        text: next.content,\r\n                        p: next.weight / N\r\n                    });\r\n                    if (results.length \u003e= limit) {\r\n                        return { value: results };\r\n                    }\r\n                }\r\n            };\r\n            while (next = queue.dequeue()) {\r\n                var state_1 = _loop_4();\r\n                if (typeof state_1 === \"object\")\r\n                    return state_1.value;\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n    /** TypeScript type guard that returns whether the thing is a Node. */\r\n    function isNode(x) {\r\n        return \u0027type\u0027 in x;\r\n    }\r\n    /**\r\n     * Converts wordforms into an indexable form. It does this by\r\n     * normalizing into NFD, removing diacritics, and then converting\r\n     * the result to lowercase.\r\n     *\r\n     * This is a very naïve implementation, that I only think will work on\r\n     * some languages that use the Latin script. As of 2020-04-08, only\r\n     * 4 out of 11 (36%) of published language models use the Latin script,\r\n     * so this might not actually be a great default.\r\n     *\r\n     * This uses String.prototype.normalize() to convert normalize into NFD.\r\n     * NFD is an easy way to separate a Latin character from its diacritics;\r\n     * Even then, some Latin-based orthographies use code points that,\r\n     * under NFD normalization, do NOT decompose into an ASCII letter and a\r\n     * combining diacritical mark (e.g., SENĆOŦEN).\r\n     *\r\n     * Use this only in early iterations of the model. For a production lexical\r\n     * model, you SHOULD write/generate your own key function, tailored to your\r\n     * language.\r\n     */\r\n    function defaultSearchTermToKey(wordform) {\r\n        /**\r\n         * N.B.: this is (slightly) DIFFERENT than the version in\r\n         * keymanapp/lexical-model-compiler/build-trie\r\n         * as this is for compatibility for models built\r\n         * BEFORE the searchTermToKey function was bundled with\r\n         * all models.\r\n         *\r\n         * This compatibility version lowercases AFTER removing diacritics;\r\n         * the new version (bundled in future models) lowercases,\r\n         * NFD normalizes, THEN removes diacritics.\r\n         */\r\n        return wordform\r\n            .normalize(\u0027NFD\u0027)\r\n            // Remove all combining diacritics (if input is in NFD)\r\n            // common to Latin-orthographies.\r\n            .replace(/[\\u0300-\\u036f]/g, \u0027\u0027)\r\n            .toLowerCase();\r\n    }\r\n    function getDefaultWordBreaker() {\r\n        var namespace;\r\n        // @ts-ignore\r\n        if (typeof wordBreakers !== \u0027undefined\u0027) {\r\n            // @ts-ignore\r\n            namespace = wordBreakers;\r\n        }\r\n        else {\r\n            namespace = require(\u0027@keymanapp/models-wordBreakers\u0027).wordBreakers;\r\n        }\r\n        return namespace[\u0027default\u0027];\r\n    }\r\n})(models || (models = {}));\r\nvar models;\r\n(function (models) {\r\n    var QuoteBehavior;\r\n    (function (QuoteBehavior) {\r\n        QuoteBehavior[\"noQuotes\"] = \"no-quotes\";\r\n        QuoteBehavior[\"useQuotes\"] = \"use-quotes\";\r\n        QuoteBehavior[\"default\"] = \"default-quotes\";\r\n    })(QuoteBehavior = models.QuoteBehavior || (models.QuoteBehavior = {}));\r\n    // For an \"enum/namespace merge\".  See https://www.typescriptlang.org/docs/handbook/declaration-merging.html#merging-namespaces-with-classes\r\n    (function (QuoteBehavior) {\r\n        /**\r\n         * Applies the specified quote behavior to the provided `Transform`, mutating it as appropriate.\r\n         * @param transform    The Transform to be mutated\r\n         * @param punctuation  The active `LexicalModelPunctuation` settings\r\n         * @param defaultTo    The default quote behavior to use (in case the current value is `.default`)\r\n         */\r\n        function apply(behavior, text, punctuation, defaultTo) {\r\n            if (defaultTo == QuoteBehavior.default || !defaultTo) {\r\n                throw \"Specified quote behavior may be ambiguous - default behavior not specified (may not be .default)\";\r\n            }\r\n            if (behavior == QuoteBehavior.default) {\r\n                behavior = defaultTo;\r\n            }\r\n            switch (behavior) {\r\n                case QuoteBehavior.noQuotes:\r\n                    return text;\r\n                case QuoteBehavior.useQuotes:\r\n                    var _a = punctuation.quotesForKeepSuggestion, open = _a.open, close_1 = _a.close;\r\n                    // This part\u0027s simple enough, at least.\r\n                    return open + text + close_1;\r\n                default:\r\n                    throw \"Unsupported quote behavior state detected; implementation missing!\";\r\n            }\r\n        }\r\n        QuoteBehavior.apply = apply;\r\n    })(QuoteBehavior = models.QuoteBehavior || (models.QuoteBehavior = {}));\r\n})(models || (models = {}));\r\n/// \u003creference path=\"./trie-model.ts\" /\u003e\r\n/// \u003creference path=\"./quote-behavior.ts\" /\u003e\r\n// Add all namespaces defined here to the global scope:\r\nif (typeof module != \u0027undefined\u0027 \u0026\u0026 typeof module.exports != \u0027undefined\u0027) {\r\n    module.exports[\u0027models\u0027] = models;\r\n}\r\nvar correction;\r\n(function (correction) {\r\n    // A semi-optimized \u0027online\u0027/iterative Damerau-Levenshtein calculator with the following features:\r\n    // - may add new character to the \u0027input\u0027 string or to the \u0027match\u0027 string, reusing all old calculations efficiently.\r\n    // - allows a \u0027focused\u0027 evaluation that seeks if the edit distance is within a specific range.  Designed for use in match-searching,\r\n    //   where we want to find the \u0027closest\u0027 matching strings in a lexicon.\r\n    // - towards such a match-searching algorithm/heuristic: should nothing be found within that range, all prior calculations may be reused\r\n    //   to search across the lexicon with an incremented edit distance.\r\n    // - minimized memory footprint: O(m) memory footprint (where m = length of \u0027input\u0027 string), rather than O(mn) (where n = length of \u0027match\u0027 string)\r\n    //   - guaranteed to use a smaller footprint than DiagonalizedIterativeDamerauLevenshteinCalculation.\r\n    //\r\n    // In short:  Used to optimize calculations for low edit-distance checks, then expanded if/as necessary\r\n    //            if a greater edit distance is requested.\r\n    //\r\n    // Reference: https://en.wikipedia.org/wiki/Wagner%E2%80%93Fischer_algorithm#Possible_modifications\r\n    //    - Motivating statement:  \"if we are only interested in the distance if it is smaller than a threshold...\"  \r\n    var ClassicalDistanceCalculation = /** @class */ (function () {\r\n        function ClassicalDistanceCalculation(other) {\r\n            /**\r\n             * Specifies how far off-diagonal calculations should be performed.  A value of 0 only evaluates cells with matching\r\n             * row and column indicies.\r\n             *\r\n             * The resulting value from .getFinalCost() is only guaranteed correct if it is less than or equal to this value.\r\n             * Otherwise, this object represents a heuristic that _may_ overestimate the true edit distance.  Note that it will\r\n             * never underestimate.\r\n             */\r\n            this.diagonalWidth = 2; // TODO: Ideally, should start at 1... but we\u0027ll start at 2 for now\r\n            // as a naive workaround for multi-char transform limitations.\r\n            // The sequence of characters input so far.\r\n            this.inputSequence = [];\r\n            this.matchSequence = [];\r\n            if (other) {\r\n                // Clone class properties.\r\n                var rowCount = other.resolvedDistances.length;\r\n                this.resolvedDistances = Array(rowCount);\r\n                for (var r = 0; r \u003c rowCount; r++) {\r\n                    this.resolvedDistances[r] = Array.from(other.resolvedDistances[r]);\r\n                }\r\n                this.inputSequence = Array.from(other.inputSequence);\r\n                this.matchSequence = Array.from(other.matchSequence);\r\n                this.diagonalWidth = other.diagonalWidth;\r\n            }\r\n            else {\r\n                this.resolvedDistances = [];\r\n            }\r\n        }\r\n        ClassicalDistanceCalculation.prototype.getTrueIndex = function (r, c, width) {\r\n            var retVal = {\r\n                row: r,\r\n                col: c - r + width,\r\n                sparse: false\r\n            };\r\n            if (retVal.col \u003c 0 || retVal.col \u003e 2 * width) {\r\n                retVal.sparse = true;\r\n            }\r\n            return retVal;\r\n        };\r\n        ClassicalDistanceCalculation.prototype.getCostAt = function (i, j, width) {\r\n            if (width === void 0) { width = this.diagonalWidth; }\r\n            // Check for and handle the set of fixed-value virtualized indices.\r\n            if (i \u003c 0 || j \u003c 0) {\r\n                if (i == -1 \u0026\u0026 j \u003e= -1) {\r\n                    return j + 1;\r\n                }\r\n                else if (j == -1 \u0026\u0026 i \u003e= -1) {\r\n                    return i + 1;\r\n                }\r\n                return Number.MAX_VALUE;\r\n            }\r\n            var index = this.getTrueIndex(i, j, width);\r\n            return index.sparse ? Number.MAX_VALUE : this.resolvedDistances[index.row][index.col];\r\n        };\r\n        /**\r\n         * Noting the above link\u0027s statement prefixed \"By examining diagonals instead of rows, and by using lazy evaluation...\",\r\n         * this function will return the actual edit distance between the strings, temporarily increasing the computed\r\n         * diagonal\u0027s size if necessary.\r\n         *\r\n         * Does not actually mutate the instance.\r\n         */\r\n        ClassicalDistanceCalculation.prototype.getFinalCost = function () {\r\n            var buffer = this;\r\n            var val = buffer.getHeuristicFinalCost();\r\n            while (val \u003e buffer.diagonalWidth) {\r\n                // A consequence of treating this class as immutable.\r\n                buffer = buffer.increaseMaxDistance();\r\n                val = buffer.getHeuristicFinalCost();\r\n            }\r\n            return val;\r\n        };\r\n        /**\r\n         * Returns this instance\u0027s computed edit distance.  If greater than the diagonal\u0027s width value, note that it may be an overestimate.\r\n         */\r\n        ClassicalDistanceCalculation.prototype.getHeuristicFinalCost = function () {\r\n            return this.getCostAt(this.inputSequence.length - 1, this.matchSequence.length - 1);\r\n        };\r\n        /**\r\n         * Returns `true` if the represented edit distance is less than or equal to the specified threshold, minimizing the amount of calculations\r\n         * needed to meet the specified limit.\r\n         *\r\n         * Does not mutate the instance.\r\n         * @param threshold\r\n         */\r\n        ClassicalDistanceCalculation.prototype.hasFinalCostWithin = function (threshold) {\r\n            var buffer = this;\r\n            var val = buffer.getHeuristicFinalCost();\r\n            var guaranteedBound = this.diagonalWidth;\r\n            do {\r\n                // val will never exceed the length of the longer string, no matter how large the threshold.\r\n                if (val \u003c= threshold) {\r\n                    return true;\r\n                }\r\n                else if (guaranteedBound \u003c threshold) {\r\n                    buffer = buffer.increaseMaxDistance();\r\n                    guaranteedBound++;\r\n                    val = buffer.getHeuristicFinalCost();\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            } while (true);\r\n            return false;\r\n        };\r\n        /**\r\n         * Determines the edit path used to obtain the optimal cost, distinguishing between zero-cost\r\n         * substitutions (\u0027match\u0027 operations) and actual substitutions.\r\n         * @param row\r\n         * @param col\r\n         */\r\n        ClassicalDistanceCalculation.prototype.editPath = function (row, col) {\r\n            if (row === void 0) { row = this.inputSequence.length - 1; }\r\n            if (col === void 0) { col = this.matchSequence.length - 1; }\r\n            var currentCost = this.getCostAt(row, col);\r\n            var ops = null;\r\n            var parent = null;\r\n            var insertParentCost = this.getCostAt(row, col - 1);\r\n            var deleteParentCost = this.getCostAt(row - 1, col);\r\n            var substitutionParentCost = this.getCostAt(row - 1, col - 1);\r\n            var _a = __read(ClassicalDistanceCalculation.getTransposeParent(this, row, col), 2), lastInputIndex = _a[0], lastMatchIndex = _a[1];\r\n            if (lastInputIndex \u003e= 0 \u0026\u0026 lastMatchIndex \u003e= 0) {\r\n                // OK, a transposition source is quite possible.  Still need to do more vetting, to be sure.\r\n                var expectedCost = 1;\r\n                // This transposition includes either \u0027transpose-insert\u0027 or \u0027transpose-delete\u0027 operations.\r\n                ops = [\u0027transpose-start\u0027]; // always needs a \u0027start\u0027.\r\n                if (lastInputIndex != row - 1) {\r\n                    var count = row - lastInputIndex - 1;\r\n                    ops = ops.concat(Array(count).fill(\u0027transpose-delete\u0027));\r\n                    expectedCost += count;\r\n                }\r\n                else {\r\n                    var count = col - lastMatchIndex - 1;\r\n                    ops = ops.concat(Array(count).fill(\u0027transpose-insert\u0027));\r\n                    expectedCost += count;\r\n                }\r\n                ops.push(\u0027transpose-end\u0027);\r\n                // Double-check our expectations.\r\n                if (this.getCostAt(lastInputIndex - 1, lastMatchIndex - 1) != currentCost - expectedCost) {\r\n                    ops = null;\r\n                }\r\n                parent = [lastInputIndex - 1, lastMatchIndex - 1];\r\n            }\r\n            if (ops) {\r\n                // bypass the ladder.\r\n            }\r\n            else if (substitutionParentCost == currentCost - 1) {\r\n                ops = [\u0027substitute\u0027];\r\n                parent = [row - 1, col - 1];\r\n            }\r\n            else if (insertParentCost == currentCost - 1) {\r\n                ops = [\u0027insert\u0027];\r\n                parent = [row, col - 1];\r\n            }\r\n            else if (deleteParentCost == currentCost - 1) {\r\n                ops = [\u0027delete\u0027];\r\n                parent = [row - 1, col];\r\n            }\r\n            else { //if(substitutionParentCost == currentCost) {\r\n                ops = [\u0027match\u0027];\r\n                parent = [row - 1, col - 1];\r\n            }\r\n            // Recursively build the edit path.\r\n            if (parent[0] \u003e= 0 \u0026\u0026 parent[1] \u003e= 0) {\r\n                return this.editPath(parent[0], parent[1]).concat(ops);\r\n            }\r\n            else {\r\n                if (parent[0] \u003e -1) {\r\n                    // There are initial deletions.\r\n                    return Array(parent[0] + 1).fill(\u0027delete\u0027).concat(ops);\r\n                }\r\n                else if (parent[1] \u003e -1) {\r\n                    // There are initial insertions.\r\n                    return Array(parent[1] + 1).fill(\u0027insert\u0027).concat(ops);\r\n                }\r\n                else {\r\n                    return ops;\r\n                }\r\n            }\r\n        };\r\n        ClassicalDistanceCalculation.getTransposeParent = function (buffer, r, c) {\r\n            // Block any transpositions where the tokens are identical.\r\n            // Other operations will be cheaper.  Also, block cases where \u0027parents\u0027 are impossible.\r\n            if (r \u003c 0 || c \u003c 0 || buffer.inputSequence[r].key == buffer.matchSequence[c].key) {\r\n                return [-1, -1];\r\n            }\r\n            // Transposition checks\r\n            var lastInputIndex = -1;\r\n            for (var i = r - 1; i \u003e= 0; i--) {\r\n                if (buffer.inputSequence[i].key == buffer.matchSequence[c].key) {\r\n                    lastInputIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            var lastMatchIndex = -1;\r\n            for (var i = c - 1; i \u003e= 0; i--) {\r\n                if (buffer.matchSequence[i].key == buffer.inputSequence[r].key) {\r\n                    lastMatchIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            return [lastInputIndex, lastMatchIndex];\r\n        };\r\n        ClassicalDistanceCalculation.initialCostAt = function (buffer, r, c, insertCost, deleteCost) {\r\n            var baseSubstitutionCost = buffer.inputSequence[r].key == buffer.matchSequence[c].key ? 0 : 1;\r\n            var substitutionCost = buffer.getCostAt(r - 1, c - 1) + baseSubstitutionCost;\r\n            var insertionCost = insertCost || buffer.getCostAt(r, c - 1) + 1; // If set meaningfully, will never equal zero.\r\n            var deletionCost = deleteCost || buffer.getCostAt(r - 1, c) + 1; // If set meaningfully, will never equal zero.\r\n            var transpositionCost = Number.MAX_VALUE;\r\n            if (r \u003e 0 \u0026\u0026 c \u003e 0) { // bypass when transpositions are known to be impossible.\r\n                var _a = __read(ClassicalDistanceCalculation.getTransposeParent(buffer, r, c), 2), lastInputIndex = _a[0], lastMatchIndex = _a[1];\r\n                transpositionCost = buffer.getCostAt(lastInputIndex - 1, lastMatchIndex - 1) + (r - lastInputIndex - 1) + 1 + (c - lastMatchIndex - 1);\r\n            }\r\n            return Math.min(substitutionCost, deletionCost, insertionCost, transpositionCost);\r\n        };\r\n        ClassicalDistanceCalculation.prototype.getSubset = function (inputLength, matchLength) {\r\n            var trimmedInstance = new ClassicalDistanceCalculation(this);\r\n            if (inputLength \u003e this.inputSequence.length || matchLength \u003e this.matchSequence.length) {\r\n                throw \"Invalid dimensions specified for trim operation\";\r\n            }\r\n            // Trim our tracked input \u0026 match sequences.\r\n            trimmedInstance.inputSequence.splice(inputLength);\r\n            trimmedInstance.matchSequence.splice(matchLength);\r\n            // Major index corresponds to input length.\r\n            trimmedInstance.resolvedDistances.splice(inputLength);\r\n            // The real fun:  trimming off columns. (Minor index, corresponds to match length)\r\n            var finalTrueIndex = this.getTrueIndex(inputLength - 1, matchLength - 1, this.diagonalWidth);\r\n            // The diagonal index increases as the row index decreases.\r\n            for (var diagonalIndex = finalTrueIndex.col; diagonalIndex \u003c= 2 * this.diagonalWidth; diagonalIndex++) {\r\n                var row = finalTrueIndex.row - (diagonalIndex - finalTrueIndex.col);\r\n                if (row \u003c 0) {\r\n                    break;\r\n                }\r\n                if (diagonalIndex \u003c 0) {\r\n                    trimmedInstance.resolvedDistances[row] = Array(2 * trimmedInstance.diagonalWidth + 1).fill(Number.MAX_VALUE);\r\n                }\r\n                else {\r\n                    var newCount = 2 * this.diagonalWidth - diagonalIndex;\r\n                    var keptEntries = trimmedInstance.resolvedDistances[row].splice(0, diagonalIndex + 1);\r\n                    var newEntries = Array(newCount).fill(Number.MAX_VALUE);\r\n                    trimmedInstance.resolvedDistances[row] = keptEntries.concat(newEntries);\r\n                }\r\n            }\r\n            return trimmedInstance;\r\n        };\r\n        ClassicalDistanceCalculation.forDiagonalOfAxis = function (diagonalWidth, centerIndex, axisCap, closure) {\r\n            var diagonalCap = axisCap - centerIndex \u003c diagonalWidth ? axisCap - centerIndex + diagonalWidth : 2 * diagonalWidth;\r\n            var startOffset = centerIndex - diagonalWidth; // The axis\u0027s index for diagonal entry 0.  May be negative.\r\n            var diagonalStart = startOffset \u003c 0 ? 0 : startOffset;\r\n            for (var diagonalIndex = diagonalStart - startOffset; diagonalIndex \u003c= diagonalCap; diagonalIndex++) {\r\n                closure(startOffset + diagonalIndex, diagonalIndex);\r\n            }\r\n        };\r\n        // Inputs add an extra row / first index entry.\r\n        ClassicalDistanceCalculation.prototype.addInputChar = function (token) {\r\n            var returnBuffer = new ClassicalDistanceCalculation(this);\r\n            var r = returnBuffer.inputSequence.length;\r\n            returnBuffer.inputSequence.push(token);\r\n            // Insert a row, even if we don\u0027t actually do anything with it yet.\r\n            // Initialize all entries with Number.MAX_VALUE, as `undefined` use leads to JS math issues.\r\n            var row = Array(2 * returnBuffer.diagonalWidth + 1).fill(Number.MAX_VALUE);\r\n            returnBuffer.resolvedDistances[r] = row;\r\n            // If there isn\u0027t a \u0027match\u0027 entry yet, there are no values to compute.  Exit immediately.\r\n            if (returnBuffer.matchSequence.length == 0) {\r\n                return returnBuffer;\r\n            }\r\n            ClassicalDistanceCalculation.forDiagonalOfAxis(returnBuffer.diagonalWidth, r, returnBuffer.matchSequence.length - 1, function (c, diagIndex) {\r\n                row[diagIndex] = ClassicalDistanceCalculation.initialCostAt(returnBuffer, r, c);\r\n            });\r\n            return returnBuffer;\r\n        };\r\n        ClassicalDistanceCalculation.prototype.addMatchChar = function (token) {\r\n            var returnBuffer = new ClassicalDistanceCalculation(this);\r\n            var c = returnBuffer.matchSequence.length;\r\n            returnBuffer.matchSequence.push(token);\r\n            // If there isn\u0027t a \u0027match\u0027 entry yet, there are no values to compute.  Exit immediately.\r\n            if (returnBuffer.inputSequence.length == 0) {\r\n                return returnBuffer;\r\n            }\r\n            ClassicalDistanceCalculation.forDiagonalOfAxis(returnBuffer.diagonalWidth, c, returnBuffer.inputSequence.length - 1, function (r, diagIndex) {\r\n                var row = returnBuffer.resolvedDistances[r];\r\n                // Since diagIndex is from the perspective of the row, it must be inverted to properly index the column.\r\n                row[2 * returnBuffer.diagonalWidth - diagIndex] = ClassicalDistanceCalculation.initialCostAt(returnBuffer, r, c);\r\n            });\r\n            return returnBuffer;\r\n        };\r\n        ClassicalDistanceCalculation.prototype.increaseMaxDistance = function () {\r\n            var returnBuffer = new ClassicalDistanceCalculation(this);\r\n            returnBuffer.diagonalWidth++;\r\n            if (returnBuffer.inputSequence.length \u003c 1 || returnBuffer.matchSequence.length \u003c 1) {\r\n                return returnBuffer;\r\n            }\r\n            // An abstraction of the common aspects of transposition handling during diagonal extensions.\r\n            function forPossibleTranspositionsInDiagonal(startPos, fixedChar, lookupString, closure) {\r\n                var diagonalCap = 2 * (returnBuffer.diagonalWidth - 1); // The maximum diagonal index permitted\r\n                var axisCap = lookupString.length - 1; // The maximum index supported by the axis of iteration\r\n                // Ensures that diagonal iteration only occurs within the axis\u0027s supported range\r\n                diagonalCap = diagonalCap \u003c axisCap - startPos ? diagonalCap : axisCap - startPos;\r\n                // Iterate within the diagonal and call our closure for any potential transpositions.\r\n                for (var diagonalIndex = 0; diagonalIndex \u003c= diagonalCap; diagonalIndex++) {\r\n                    if (fixedChar == lookupString[startPos + diagonalIndex].key) {\r\n                        closure(startPos + diagonalIndex, diagonalIndex);\r\n                    }\r\n                }\r\n            }\r\n            var _loop_5 = function (r) {\r\n                var leftCell = Number.MAX_VALUE;\r\n                var c = r - returnBuffer.diagonalWidth; // External index of the left-most entry, which we will now calculate.\r\n                if (c \u003e= 0) {\r\n                    // If c == 0, cell is at edge, thus a known value for insertions exists.\r\n                    // Base cost: r+1, +1 for inserting.\r\n                    var insertionCost_1 = c == 0 ? r + 2 : Number.MAX_VALUE;\r\n                    // compute new left cell\r\n                    leftCell = ClassicalDistanceCalculation.initialCostAt(returnBuffer, r, c, insertionCost_1, undefined);\r\n                    var addedCost_1 = leftCell;\r\n                    // daisy-chain possible updates\r\n                    // cell (r, c+1):  new insertion source\r\n                    if (c \u003c returnBuffer.matchSequence.length - 1) {\r\n                        // We propagate the new added cost (via insertion) to the old left-most cell, which is one to our right.\r\n                        ClassicalDistanceCalculation.propagateUpdateFrom(returnBuffer, r, c + 1, addedCost_1 + 1, 0);\r\n                        // Only possible if insertions are also possible AND more conditions are met.\r\n                        // cells (r+2, * \u003e c+2):  new transposition source\r\n                        var transposeRow_1 = r + 2;\r\n                        if (r + 2 \u003c this_2.inputSequence.length) { // Row to check for transposes must exist.\r\n                            var rowChar = returnBuffer.inputSequence[r + 1].key;\r\n                            // First possible match in input could be at index c + 2, which adjusts col c+2\u0027s cost.  Except that entry in r+2\r\n                            // doesn\u0027t exist yet - so we start with c+3 instead.\r\n                            forPossibleTranspositionsInDiagonal(c + 3, rowChar, returnBuffer.matchSequence, function (axisIndex, diagIndex) {\r\n                                // Because (r+2, c+3) is root, not (r+2, c+2).  Min cost of 2.\r\n                                ClassicalDistanceCalculation.propagateUpdateFrom(returnBuffer, transposeRow_1, axisIndex, addedCost_1 + diagIndex + 2, diagIndex);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                var rightCell = Number.MAX_VALUE;\r\n                c = r + returnBuffer.diagonalWidth;\r\n                if (c \u003c returnBuffer.matchSequence.length) {\r\n                    // If r == 0, cell is at edge, thus a known value for insertions exists.\r\n                    // Base cost: c+1, +1 for inserting.\r\n                    var deletionCost = r == 0 ? c + 2 : Number.MAX_VALUE;\r\n                    // the current row wants to use adjusted diagonal width; we must specify use of the old width \u0026 its mapping instead.\r\n                    insertionCost = returnBuffer.getCostAt(r, c - 1, this_2.diagonalWidth) + 1;\r\n                    // compute new right cell\r\n                    rightCell = ClassicalDistanceCalculation.initialCostAt(returnBuffer, r, c, insertionCost, deletionCost);\r\n                    var addedCost_2 = rightCell;\r\n                    // daisy-chain possible updates\r\n                    // cell (r+1, c):  new deletion source\r\n                    if (r \u003c returnBuffer.inputSequence.length - 1) {\r\n                        // We propagate the new added cost (via deletion) to the old right-most cell, which is one to our right.\r\n                        ClassicalDistanceCalculation.propagateUpdateFrom(returnBuffer, r + 1, c, addedCost_2 + 1, 2 * this_2.diagonalWidth);\r\n                        // Only possible if deletions are also possible AND more conditions are met.\r\n                        // cells(* \u003e r+2, c+2): new transposition source\r\n                        var transposeCol_1 = c + 2;\r\n                        if (c + 2 \u003c this_2.matchSequence.length) { // Row to check for transposes must exist.\r\n                            var colChar = returnBuffer.matchSequence[r + 1].key;\r\n                            // First possible match in input could be at index r + 2, which adjusts row r+2\u0027s cost.  Except that entry in c+2\r\n                            // doesn\u0027t exist yet - so we start with r+3 instead.\r\n                            forPossibleTranspositionsInDiagonal(r + 3, colChar, returnBuffer.inputSequence, function (axisIndex, diagIndex) {\r\n                                var diagColIndex = 2 * (returnBuffer.diagonalWidth - 1) - diagIndex;\r\n                                // Because (r+3, c+2) is root, not (r+2, c+2).  Min cost of 2.\r\n                                ClassicalDistanceCalculation.propagateUpdateFrom(returnBuffer, axisIndex, transposeCol_1, addedCost_2 + diagIndex + 2, diagColIndex);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                // Constructs the final expanded diagonal for the row.\r\n                returnBuffer.resolvedDistances[r] = [leftCell].concat(returnBuffer.resolvedDistances[r], rightCell);\r\n            };\r\n            var this_2 = this, insertionCost;\r\n            for (var r = 0; r \u003c returnBuffer.inputSequence.length; r++) {\r\n                _loop_5(r);\r\n            }\r\n            return returnBuffer;\r\n        };\r\n        ClassicalDistanceCalculation.propagateUpdateFrom = function (buffer, r, c, value, diagonalIndex) {\r\n            // Note:  this function does not actually need the `c` parameter!\r\n            //        That said, it\u0027s very useful when tracing stack traces \u0026 debugging.\r\n            if (value \u003c buffer.resolvedDistances[r][diagonalIndex]) {\r\n                buffer.resolvedDistances[r][diagonalIndex] = value;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            var internalRow = r \u003c buffer.inputSequence.length - 1;\r\n            var internalCol = c \u003c buffer.matchSequence.length - 1;\r\n            // We have to compensate for the current \u0026 following rows not having been expanded yet.\r\n            if (diagonalIndex \u003c 2 * (buffer.diagonalWidth - 1) \u0026\u0026 internalCol) {\r\n                // We\u0027ve inserted to the left of an existing calculation - check for propagation via insertion.\r\n                var updateCost = value + 1;\r\n                this.propagateUpdateFrom(buffer, r, c + 1, updateCost, diagonalIndex + 1);\r\n            }\r\n            if (diagonalIndex \u003e 0 \u0026\u0026 internalRow) {\r\n                // We\u0027ve inserted above an existing calculation - check for propagation via deletion\r\n                var updateCost = value + 1;\r\n                this.propagateUpdateFrom(buffer, r + 1, c, updateCost, diagonalIndex - 1);\r\n            }\r\n            // If both, check for propagation via substitution and possible transpositions\r\n            if (internalRow \u0026\u0026 internalCol) {\r\n                var updateCost = value + (buffer.inputSequence[r + 1].key == buffer.matchSequence[c + 1].key ? 0 : 1);\r\n                this.propagateUpdateFrom(buffer, r + 1, c + 1, updateCost, diagonalIndex);\r\n                // Propagating transpositions (only possible if \u0027internal\u0027.)\r\n                var nextInputIndex = -1;\r\n                for (var i = r + 2; i \u003c buffer.inputSequence.length; i++) {\r\n                    if (buffer.inputSequence[i].key == buffer.matchSequence[c + 1].key) {\r\n                        nextInputIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n                var nextMatchIndex = -1;\r\n                for (var i = c + 2; i \u003c buffer.matchSequence.length; i++) {\r\n                    if (buffer.matchSequence[i].key == buffer.inputSequence[r + 1].key) {\r\n                        nextMatchIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n                if (nextInputIndex \u003e 0 \u0026\u0026 nextMatchIndex \u003e 0) {\r\n                    var transpositionCost = value + (nextInputIndex - r - 2) + 1 + (nextMatchIndex - c - 2);\r\n                    this.propagateUpdateFrom(buffer, nextInputIndex, nextMatchIndex, transpositionCost, (buffer.diagonalWidth - 1) + nextMatchIndex - nextInputIndex);\r\n                }\r\n            }\r\n        };\r\n        Object.defineProperty(ClassicalDistanceCalculation.prototype, \"mapKey\", {\r\n            get: function () {\r\n                var inputString = this.inputSequence.map(function (value) { return value.key; }).join(\u0027\u0027);\r\n                var matchString = this.matchSequence.map(function (value) { return value.key; }).join(\u0027\u0027);\r\n                return inputString + models.SENTINEL_CODE_UNIT + matchString + models.SENTINEL_CODE_UNIT + this.diagonalWidth;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ClassicalDistanceCalculation.prototype, \"lastInputEntry\", {\r\n            get: function () {\r\n                return this.inputSequence[this.inputSequence.length - 1];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ClassicalDistanceCalculation.prototype, \"lastMatchEntry\", {\r\n            get: function () {\r\n                return this.matchSequence[this.matchSequence.length - 1];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ClassicalDistanceCalculation.computeDistance = function (input, match, bandSize) {\r\n            if (bandSize === void 0) { bandSize = 1; }\r\n            // Initialize the calculation buffer, setting the diagonal width (as appropriate) in advance.\r\n            var buffer = new ClassicalDistanceCalculation();\r\n            bandSize = bandSize || 1;\r\n            buffer.diagonalWidth = bandSize;\r\n            for (var i = 0; i \u003c input.length; i++) {\r\n                buffer = buffer.addInputChar(input[i]);\r\n            }\r\n            for (var j = 0; j \u003c match.length; j++) {\r\n                buffer = buffer.addMatchChar(match[j]);\r\n            }\r\n            return buffer;\r\n        };\r\n        return ClassicalDistanceCalculation;\r\n    }());\r\n    correction.ClassicalDistanceCalculation = ClassicalDistanceCalculation;\r\n})(correction || (correction = {}));\r\n/// \u003creference path=\"classical-calculation.ts\" /\u003e\r\nvar correction;\r\n(function (correction) {\r\n    correction.QUEUE_NODE_COMPARATOR = function (arg1, arg2) {\r\n        return arg1.currentCost - arg2.currentCost;\r\n    };\r\n    // Represents a processed node for the correction-search\u0027s search-space\u0027s tree-like graph.  May represent\r\n    // internal and \u0027leaf\u0027 nodes on said graph, as well as the overall root of the search.  Also used to represent\r\n    // edges on the graph TO said nodes - there\u0027s a bit of overloading here.  Either way, it stores the cost of the \r\n    // optimum path used to reach the ndoe.\r\n    //\r\n    // The stored path cost may be an overestimate when the edit distance is greater than the current search threshold.  The\r\n    // first version of the node to be dequeued from SearchSpace\u0027s priority queue hierarchy \u0027wins\u0027 and is taken as the absolute\r\n    // minimum; subsequent versions are ignored as suboptimal.\r\n    //\r\n    // Provides functions usable to enumerate across the node\u0027s outward edges to new nodes for continued search.\r\n    // Most of the actual calculations occur as part of this process.\r\n    //\r\n    // For nodes with raw edit-distance cost within the current threshold for correction searches, we do have admissibility.\r\n    // If not enough nodes are available within that threshold, however, admissibility may be lost, leaving our search as a\r\n    // heuristic.\r\n    //\r\n    var SearchNode = /** @class */ (function () {\r\n        function SearchNode(rootTraversal, toKey) {\r\n            this.toKey = function (str) { return str; };\r\n            toKey = toKey || (function (x) { return x; });\r\n            if (rootTraversal instanceof SearchNode) {\r\n                var priorNode = rootTraversal;\r\n                this.calculation = priorNode.calculation;\r\n                this.currentTraversal = priorNode.currentTraversal;\r\n                this.priorInput = priorNode.priorInput;\r\n                this.toKey = priorNode.toKey;\r\n            }\r\n            else {\r\n                this.calculation = new correction.ClassicalDistanceCalculation();\r\n                this.currentTraversal = rootTraversal;\r\n                this.priorInput = [];\r\n                this.toKey = toKey;\r\n            }\r\n        }\r\n        Object.defineProperty(SearchNode.prototype, \"knownCost\", {\r\n            get: function () {\r\n                return this.calculation.getHeuristicFinalCost();\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchNode.prototype, \"inputSamplingCost\", {\r\n            get: function () {\r\n                if (this._inputCost !== undefined) {\r\n                    return this._inputCost;\r\n                }\r\n                else {\r\n                    var MIN_P_1 = SearchSpace.MIN_KEYSTROKE_PROBABILITY;\r\n                    // Should technically re-normalize the sampling distribution.\r\n                    // -ln(p) is smaller for larger probabilities, as ln(p) is always \u003c= 0.  Approaches infinity as p =\u003e 0.\r\n                    // TODO:  probably more efficient to instead use actual \u0027probability space\u0027... but that\u0027ll involve extra changes.\r\n                    this._inputCost = this.priorInput.map(function (mass) { return mass.p \u003e MIN_P_1 ? mass.p : MIN_P_1; }).reduce(function (previous, current) { return previous - Math.log(current); }, 0);\r\n                    return this._inputCost;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchNode.prototype, \"currentCost\", {\r\n            // The part used to prioritize our search.\r\n            get: function () {\r\n                // - We reintrepret \u0027known cost\u0027 as a psuedo-probability.\r\n                //   - Noting that 1/e = 0.367879441, an edit-distance cost of 1 may be intepreted as -ln(1/e) - a log-space \u0027likelihood\u0027.\r\n                //     - Not exactly normalized, though.\r\n                // That\u0027s a really, really high likelihood, thoough.\r\n                //\r\n                // At any rate, we can linearly scale the known-cost to have about whatever probability we want.\r\n                // If we can state it as p = 1 / (c * e), note then that ln(c * e) = ln(c) + 1.  So, scale * (ln(c) + 1).\r\n                // If we can state it as e^x, note that ln(e^x) = x * ln(e) = x - just scale by \u0027x\u0027!\r\n                // p = 1 / (e^4) = 0.01831563888.  This still exceeds many neighboring keys!\r\n                // p = 1 / (e^5) = 0.00673794699.  Strikes a good balance.\r\n                // Should easily give priority to neighboring keys before edit-distance kicks in (when keys are a bit ambiguous)\r\n                return SearchSpace.EDIT_DISTANCE_COST_SCALE * this.knownCost + this.inputSamplingCost;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SearchNode.prototype.buildInsertionEdges = function () {\r\n            var e_7, _a;\r\n            var edges = [];\r\n            try {\r\n                for (var _b = __values(this.currentTraversal.children()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var lexicalChild = _c.value;\r\n                    var traversal = lexicalChild.traversal();\r\n                    var matchToken = {\r\n                        key: lexicalChild.char,\r\n                        traversal: traversal\r\n                    };\r\n                    var childCalc = this.calculation.addMatchChar(matchToken);\r\n                    var searchChild = new SearchNode(this);\r\n                    searchChild.calculation = childCalc;\r\n                    searchChild.priorInput = this.priorInput;\r\n                    searchChild.currentTraversal = traversal;\r\n                    edges.push(searchChild);\r\n                }\r\n            }\r\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c \u0026\u0026 !_c.done \u0026\u0026 (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_7) throw e_7.error; }\r\n            }\r\n            return edges;\r\n        };\r\n        SearchNode.prototype.buildDeletionEdges = function (inputDistribution) {\r\n            var e_8, _a;\r\n            var edges = [];\r\n            try {\r\n                /*\r\n                 * If the probability of an input is less than the highest probability * the base edit-distance likelihood,\r\n                 * don\u0027t build an edge for it; just rely on edits from the highest-probability edge.\r\n                 *\r\n                 * We may be able to be stricter, but this should be a decent start.\r\n                 *\r\n                 * Note:  thanks to ModelCompositor.predict, we know the distribution is pre-sorted.\r\n                 */\r\n                for (var inputDistribution_1 = __values(inputDistribution), inputDistribution_1_1 = inputDistribution_1.next(); !inputDistribution_1_1.done; inputDistribution_1_1 = inputDistribution_1.next()) {\r\n                    var probMass = inputDistribution_1_1.value;\r\n                    if (probMass.p \u003c inputDistribution[0].p * Math.exp(-SearchSpace.EDIT_DISTANCE_COST_SCALE)) {\r\n                        // Again, we\u0027re pre-sorted.  All further entries will be too low-cost to consider.\r\n                        break;\r\n                    }\r\n                    var edgeCalc = this.calculation;\r\n                    var transform = probMass.sample;\r\n                    if (transform.deleteLeft) {\r\n                        edgeCalc = edgeCalc.getSubset(edgeCalc.inputSequence.length - transform.deleteLeft, edgeCalc.matchSequence.length);\r\n                    }\r\n                    // TODO:  transform.deleteRight currently not supported.\r\n                    var inputPath = Array.from(this.priorInput);\r\n                    inputPath.push(probMass);\r\n                    // Tokenize and iterate over input chars, adding them into the calc.\r\n                    for (var i = 0; i \u003c transform.insert.length; i++) {\r\n                        var char = transform.insert[i];\r\n                        if (models.isHighSurrogate(char)) {\r\n                            i++;\r\n                            char = char + transform.insert[i];\r\n                        }\r\n                        edgeCalc = edgeCalc.addInputChar({ key: this.toKey(char) });\r\n                    }\r\n                    var childEdge = new SearchNode(this);\r\n                    childEdge.calculation = edgeCalc;\r\n                    childEdge.priorInput = inputPath;\r\n                    edges.push(childEdge);\r\n                }\r\n            }\r\n            catch (e_8_1) { e_8 = { error: e_8_1 }; }\r\n            finally {\r\n                try {\r\n                    if (inputDistribution_1_1 \u0026\u0026 !inputDistribution_1_1.done \u0026\u0026 (_a = inputDistribution_1.return)) _a.call(inputDistribution_1);\r\n                }\r\n                finally { if (e_8) throw e_8.error; }\r\n            }\r\n            return edges;\r\n        };\r\n        // While this may SEEM to be unnecessary, note that sometimes substitutions (which are computed\r\n        // via insert + delete) may be lower cost than both just-insert and just-delete.\r\n        SearchNode.prototype.buildSubstitutionEdges = function (inputDistribution) {\r\n            var e_9, _a, e_10, _b;\r\n            // Handles the \u0027input\u0027 component.\r\n            var intermediateEdges = this.buildDeletionEdges(inputDistribution);\r\n            var edges = [];\r\n            try {\r\n                for (var _c = __values(this.currentTraversal.children()), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                    var lexicalChild = _d.value;\r\n                    try {\r\n                        for (var intermediateEdges_1 = (e_10 = void 0, __values(intermediateEdges)), intermediateEdges_1_1 = intermediateEdges_1.next(); !intermediateEdges_1_1.done; intermediateEdges_1_1 = intermediateEdges_1.next()) {\r\n                            var edge = intermediateEdges_1_1.value;\r\n                            var traversal = lexicalChild.traversal();\r\n                            var matchToken = {\r\n                                key: lexicalChild.char,\r\n                                traversal: traversal\r\n                            };\r\n                            var childCalc = edge.calculation.addMatchChar(matchToken);\r\n                            var searchChild = new SearchNode(this);\r\n                            searchChild.calculation = childCalc;\r\n                            searchChild.priorInput = edge.priorInput;\r\n                            searchChild.currentTraversal = traversal;\r\n                            edges.push(searchChild);\r\n                        }\r\n                    }\r\n                    catch (e_10_1) { e_10 = { error: e_10_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (intermediateEdges_1_1 \u0026\u0026 !intermediateEdges_1_1.done \u0026\u0026 (_b = intermediateEdges_1.return)) _b.call(intermediateEdges_1);\r\n                        }\r\n                        finally { if (e_10) throw e_10.error; }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_d \u0026\u0026 !_d.done \u0026\u0026 (_a = _c.return)) _a.call(_c);\r\n                }\r\n                finally { if (e_9) throw e_9.error; }\r\n            }\r\n            return edges;\r\n        };\r\n        Object.defineProperty(SearchNode.prototype, \"mapKey\", {\r\n            get: function () {\r\n                var inputString = this.priorInput.map(function (value) { return \u0027+\u0027 + value.sample.insert + \u0027-\u0027 + value.sample.deleteLeft; }).join(\u0027\u0027);\r\n                var matchString = this.calculation.matchSequence.map(function (value) { return value.key; }).join(\u0027\u0027);\r\n                // TODO:  might should also track diagonalWidth.\r\n                return inputString + models.SENTINEL_CODE_UNIT + matchString;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return SearchNode;\r\n    }());\r\n    correction.SearchNode = SearchNode;\r\n    var SearchSpaceTier = /** @class */ (function () {\r\n        function SearchSpaceTier(index, initialEdges) {\r\n            this.processed = [];\r\n            this.index = index;\r\n            this.correctionQueue = new models.PriorityQueue(correction.QUEUE_NODE_COMPARATOR, initialEdges);\r\n        }\r\n        SearchSpaceTier.prototype.increaseMaxEditDistance = function () {\r\n            // By extracting the entries from the priority queue and increasing distance outside of it as a batch job,\r\n            // we get an O(N) implementation, rather than the O(N log N) that would result from maintaining the original queue.\r\n            var entries = this.correctionQueue.toArray();\r\n            entries.forEach(function (edge) { edge.calculation = edge.calculation.increaseMaxDistance(); });\r\n            // Since we just modified the stored instances, and the costs may have shifted, we need to re-heapify.\r\n            this.correctionQueue = new models.PriorityQueue(correction.QUEUE_NODE_COMPARATOR, entries);\r\n        };\r\n        return SearchSpaceTier;\r\n    }());\r\n    var SearchResult = /** @class */ (function () {\r\n        function SearchResult(node) {\r\n            this.resultNode = node;\r\n        }\r\n        Object.defineProperty(SearchResult.prototype, \"inputSequence\", {\r\n            get: function () {\r\n                return this.resultNode.priorInput;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchResult.prototype, \"matchSequence\", {\r\n            get: function () {\r\n                return this.resultNode.calculation.matchSequence;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ;\r\n        Object.defineProperty(SearchResult.prototype, \"matchString\", {\r\n            get: function () {\r\n                return this.matchSequence.map(function (value) { return value.key; }).join(\u0027\u0027);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchResult.prototype, \"knownCost\", {\r\n            get: function () {\r\n                return this.resultNode.knownCost;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchResult.prototype, \"inputSamplingCost\", {\r\n            get: function () {\r\n                return this.resultNode.inputSamplingCost;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchResult.prototype, \"totalCost\", {\r\n            get: function () {\r\n                return this.resultNode.currentCost;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(SearchResult.prototype, \"finalTraversal\", {\r\n            get: function () {\r\n                return this.resultNode.currentTraversal;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return SearchResult;\r\n    }());\r\n    correction.SearchResult = SearchResult;\r\n    // The set of search spaces corresponding to the same \u0027context\u0027 for search.\r\n    // Whenever a wordbreak boundary is crossed, a new instance should be made.\r\n    var SearchSpace = /** @class */ (function () {\r\n        function SearchSpace(model) {\r\n            this.tierOrdering = [];\r\n            this.inputSequence = [];\r\n            this.minInputCost = [];\r\n            // Marks all results that have already been returned since the last input was received.\r\n            this.returnedValues = {};\r\n            // Signals that the edge has already been processed.\r\n            this.processedEdgeSet = {};\r\n            if (!model) {\r\n                throw \"The LexicalModel parameter must not be null / undefined.\";\r\n            }\r\n            else if (!model.traverseFromRoot) {\r\n                throw \"The provided model does not implement the `traverseFromRoot` function, which is needed to support robust correction searching.\";\r\n            }\r\n            // Constructs the comparator needed for the following line.\r\n            this.buildQueueSpaceComparator();\r\n            this.selectionQueue = new models.PriorityQueue(this.QUEUE_SPACE_COMPARATOR);\r\n            this.rootNode = new SearchNode(model.traverseFromRoot(), model.toKey ? model.toKey.bind(model) : null);\r\n            this.completedPaths = [this.rootNode];\r\n            // Adds a base level queue to handle initial insertions.\r\n            // Start with _just_ the root node.  Necessary for proper empty-token, empty-input handling!\r\n            var baseTier = new SearchSpaceTier(0, [this.rootNode]);\r\n            this.tierOrdering.push(baseTier);\r\n            this.selectionQueue.enqueue(baseTier);\r\n        }\r\n        SearchSpace.prototype.buildQueueSpaceComparator = function () {\r\n            var searchSpace = this;\r\n            this.QUEUE_SPACE_COMPARATOR = function (space1, space2) {\r\n                var node1 = space1.correctionQueue.peek();\r\n                var node2 = space2.correctionQueue.peek();\r\n                var index1 = space1.index;\r\n                var index2 = space2.index;\r\n                var tierMinCost = 0;\r\n                var sign = 1;\r\n                if (index2 \u003c index1) {\r\n                    var temp = index2;\r\n                    index2 = index1;\r\n                    index1 = temp;\r\n                    sign = -1;\r\n                }\r\n                // Boost the cost of the lower tier by the minimum cost possible for the missing inputs between them.\r\n                // In essence, compare the nodes as if the lower tier had the most likely input appended for each such \r\n                // input missing at the lower tier.\r\n                //\r\n                // A 100% admissible heuristic to favor a deeper search, since the added cost is guaranteed if the path\r\n                // is traversed further.\r\n                //\r\n                // Remember, tier index i\u0027s last used input was from input index i-1.  \r\n                // As a result, i is the first needed input index, with index2 - 1 the last entry needed to match them.\r\n                for (var i = index1; i \u003c index2; i++) {\r\n                    tierMinCost = tierMinCost + searchSpace.minInputCost[i];\r\n                }\r\n                // Guards, just in case one of the search spaces ever has an empty node.\r\n                if (node1 \u0026\u0026 node2) {\r\n                    // If node1 is lower-tier, node1 is the one in need of boosted cost.\r\n                    // `sign` flips it when node2 is lower tier.\r\n                    return node1.currentCost - node2.currentCost + sign * tierMinCost;\r\n                }\r\n                else if (node2) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            };\r\n        };\r\n        SearchSpace.prototype.increaseMaxEditDistance = function () {\r\n            this.tierOrdering.forEach(function (tier) { tier.increaseMaxEditDistance(); });\r\n        };\r\n        SearchSpace.prototype.addInput = function (inputDistribution) {\r\n            this.inputSequence.push(inputDistribution);\r\n            // Assumes that `inputDistribution` is already sorted.\r\n            this.minInputCost.push(-Math.log(inputDistribution[0].p));\r\n            // With a newly-available input, we can extend new input-dependent paths from \r\n            // our previously-reached \u0027extractedResults\u0027 nodes.\r\n            var newlyAvailableEdges = [];\r\n            var batches = this.completedPaths.map(function (node) {\r\n                var deletions = node.buildDeletionEdges(inputDistribution);\r\n                var substitutions = node.buildSubstitutionEdges(inputDistribution);\r\n                return deletions.concat(substitutions);\r\n            });\r\n            // Don\u0027t forget to reset the array; the contained nodes no longer reach the search\u0027s end.\r\n            this.completedPaths = [];\r\n            this.returnedValues = {};\r\n            batches.forEach(function (batch) {\r\n                newlyAvailableEdges = newlyAvailableEdges.concat(batch);\r\n            });\r\n            // Now that we\u0027ve built the new edges, we can efficiently construct the new search tier.\r\n            var tier = new SearchSpaceTier(this.tierOrdering.length, newlyAvailableEdges);\r\n            this.tierOrdering.push(tier);\r\n            this.selectionQueue.enqueue(tier);\r\n        };\r\n        // TODO: will want eventually for reversions and/or backspaces\r\n        SearchSpace.prototype.removeLastInput = function () {\r\n            // 1.  truncate all entries from that search tier; we need to \u0027restore\u0027 extractedResults to match\r\n            //     the state that would have existed without the last search tier.\r\n            // 2.  remove the last search tier.  Which may necessitate reconstructing the tier queue, but oh well.\r\n        };\r\n        SearchSpace.prototype.hasNextMatchEntry = function () {\r\n            var topQueue = this.selectionQueue.peek();\r\n            if (topQueue) {\r\n                return topQueue.correctionQueue.count \u003e 0;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        };\r\n        SearchSpace.prototype.handleNextNode = function () {\r\n            if (!this.hasNextMatchEntry()) {\r\n                return { type: \u0027none\u0027 };\r\n            }\r\n            var bestTier = this.selectionQueue.dequeue();\r\n            var currentNode = bestTier.correctionQueue.dequeue();\r\n            var unmatchedResult = {\r\n                type: \u0027intermediate\u0027,\r\n                cost: currentNode.currentCost\r\n            };\r\n            // Have we already processed a matching edge?  If so, skip it.\r\n            // We already know the previous edge is of lower cost.\r\n            if (this.processedEdgeSet[currentNode.mapKey]) {\r\n                this.selectionQueue.enqueue(bestTier);\r\n                return unmatchedResult;\r\n            }\r\n            else {\r\n                this.processedEdgeSet[currentNode.mapKey] = true;\r\n            }\r\n            // Stage 1:  filter out nodes/edges we want to prune\r\n            // Forbid a raw edit-distance of greater than 2.\r\n            // Note:  .knownCost is not scaled, while its contribution to .currentCost _is_ scaled.\r\n            var substitutionsOnly = false;\r\n            if (currentNode.knownCost \u003e 2) {\r\n                return unmatchedResult;\r\n            }\r\n            else if (currentNode.knownCost == 2) {\r\n                // Hard restriction:  no further edits will be supported.  This helps keep the search\r\n                // more narrowly focused.\r\n                substitutionsOnly = true;\r\n            }\r\n            var tierMinCost = 0;\r\n            for (var i = 0; i \u003c= bestTier.index; i++) {\r\n                tierMinCost += this.minInputCost[i];\r\n            }\r\n            // Thresholds _any_ path, partially based on currently-traversed distance.\r\n            // Allows a little \u0027wiggle room\u0027 + 2 \"hard\" edits.\r\n            // Can be important if needed characters don\u0027t actually exist on the keyboard \r\n            // ... or even just not the then-current layer of the keyboard.\r\n            if (currentNode.currentCost \u003e tierMinCost + 2.5 * SearchSpace.EDIT_DISTANCE_COST_SCALE) {\r\n                return unmatchedResult;\r\n            }\r\n            // Stage 2:  build remaining edges\r\n            // Always possible, as this does not require any new input.\r\n            if (!substitutionsOnly) {\r\n                var insertionEdges = currentNode.buildInsertionEdges();\r\n                bestTier.correctionQueue.enqueueAll(insertionEdges);\r\n            }\r\n            if (bestTier.index == this.tierOrdering.length - 1) {\r\n                // It was the final tier - store the node for future reference.\r\n                this.completedPaths.push(currentNode);\r\n                // Since we don\u0027t modify any other tier, we may simply reinsert the removed tier.\r\n                this.selectionQueue.enqueue(bestTier);\r\n                return {\r\n                    type: \u0027complete\u0027,\r\n                    cost: currentNode.currentCost,\r\n                    finalNode: currentNode\r\n                };\r\n            }\r\n            else {\r\n                // Time to construct new edges for the next tier!\r\n                var nextTier = this.tierOrdering[bestTier.index + 1];\r\n                var inputIndex = nextTier.index;\r\n                var deletionEdges = [];\r\n                if (!substitutionsOnly) {\r\n                    deletionEdges = currentNode.buildDeletionEdges(this.inputSequence[inputIndex - 1]);\r\n                }\r\n                var substitutionEdges = currentNode.buildSubstitutionEdges(this.inputSequence[inputIndex - 1]);\r\n                // Note:  we\u0027re live-modifying the tier\u0027s cost here!  The priority queue loses its guarantees as a result.\r\n                nextTier.correctionQueue.enqueueAll(deletionEdges.concat(substitutionEdges));\r\n                // So, we simply rebuild the selection queue.\r\n                this.selectionQueue = new models.PriorityQueue(this.QUEUE_SPACE_COMPARATOR, this.tierOrdering);\r\n                // We didn\u0027t reach an end-node, so we just end the iteration and continue the search.\r\n            }\r\n            // If we\u0027ve somehow fully exhausted all search options, indicate that none remain.\r\n            return unmatchedResult;\r\n        };\r\n        // Current best guesstimate of how compositor will retrieve ideal corrections.\r\n        SearchSpace.prototype.getBestMatches = function (waitMillis) {\r\n            var searchSpace, currentReturns, timeStart, maxTime, BatchingAssistant, batcher, returnedValues, preprocessedQueue, entry, batch_1, batch_2, timedOut, newResult, now, batch_3, batch;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        searchSpace = this;\r\n                        currentReturns = {};\r\n                        timeStart = Date.now();\r\n                        if (waitMillis == 0) {\r\n                            maxTime = Infinity;\r\n                        }\r\n                        else if (waitMillis == undefined || Number.isNaN(waitMillis)) { // also covers null.\r\n                            maxTime = SearchSpace.DEFAULT_ALLOTTED_CORRECTION_TIME_INTERVAL;\r\n                        }\r\n                        else {\r\n                            maxTime = waitMillis;\r\n                        }\r\n                        BatchingAssistant = /** @class */ (function () {\r\n                            function BatchingAssistant() {\r\n                                this.currentCost = Number.MIN_SAFE_INTEGER;\r\n                                this.entries = [];\r\n                            }\r\n                            BatchingAssistant.prototype.checkAndAdd = function (entry) {\r\n                                var result = null;\r\n                                if (entry.currentCost \u003e this.currentCost) {\r\n                                    result = this.tryFinalize();\r\n                                    this.currentCost = entry.currentCost;\r\n                                }\r\n                                // Filter out any duplicated match sequences.  The same match sequence may be reached via\r\n                                // different input sequences, after all.\r\n                                var outputMapKey = entry.calculation.matchSequence.map(function (value) { return value.key; }).join(\u0027\u0027);\r\n                                // First, ensure the edge has an existing \u0027shared\u0027 cache entry.\r\n                                if (!searchSpace.returnedValues[outputMapKey]) {\r\n                                    searchSpace.returnedValues[outputMapKey] = entry;\r\n                                }\r\n                                // Check the generator\u0027s local returned-value cache - this determines whether or not we\r\n                                // need to add a new \u0027return\u0027 to the batch.\r\n                                if (!currentReturns[outputMapKey]) {\r\n                                    this.entries.push(new SearchResult(entry));\r\n                                    currentReturns[outputMapKey] = entry;\r\n                                }\r\n                                return result;\r\n                            };\r\n                            BatchingAssistant.prototype.tryFinalize = function () {\r\n                                var result = null;\r\n                                if (this.entries.length \u003e 0) {\r\n                                    result = this.entries;\r\n                                    this.entries = [];\r\n                                }\r\n                                return result;\r\n                            };\r\n                            return BatchingAssistant;\r\n                        }());\r\n                        batcher = new BatchingAssistant();\r\n                        returnedValues = Object.values(this.returnedValues);\r\n                        if (!(returnedValues.length \u003e 0)) return [3 /*break*/, 6];\r\n                        preprocessedQueue = new models.PriorityQueue(correction.QUEUE_NODE_COMPARATOR, returnedValues);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(preprocessedQueue.count \u003e 0)) return [3 /*break*/, 4];\r\n                        entry = preprocessedQueue.dequeue();\r\n                        batch_1 = batcher.checkAndAdd(entry);\r\n                        if (!batch_1) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, batch_1];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [3 /*break*/, 1];\r\n                    case 4:\r\n                        batch_2 = batcher.tryFinalize();\r\n                        if (!batch_2) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, batch_2];\r\n                    case 5:\r\n                        _a.sent();\r\n                        _a.label = 6;\r\n                    case 6:\r\n                        timedOut = false;\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        newResult = void 0;\r\n                        // Search for a \u0027complete\u0027 path, skipping all partial paths as long as time remains.\r\n                        do {\r\n                            newResult = this.handleNextNode();\r\n                            now = Date.now();\r\n                            if (now - timeStart \u003e maxTime) {\r\n                                timedOut = true;\r\n                            }\r\n                        } while (!timedOut \u0026\u0026 newResult.type == \u0027intermediate\u0027);\r\n                        batch_3 = void 0;\r\n                        if (newResult.type == \u0027none\u0027) {\r\n                            return [3 /*break*/, 10];\r\n                        }\r\n                        else if (newResult.type == \u0027complete\u0027) {\r\n                            batch_3 = batcher.checkAndAdd(newResult.finalNode);\r\n                        }\r\n                        if (!batch_3) return [3 /*break*/, 9];\r\n                        return [4 /*yield*/, batch_3];\r\n                    case 8:\r\n                        _a.sent();\r\n                        _a.label = 9;\r\n                    case 9:\r\n                        if (!timedOut \u0026\u0026 this.hasNextMatchEntry()) return [3 /*break*/, 7];\r\n                        _a.label = 10;\r\n                    case 10:\r\n                        batch = batcher.tryFinalize();\r\n                        if (!batch) return [3 /*break*/, 12];\r\n                        return [4 /*yield*/, batch];\r\n                    case 11:\r\n                        _a.sent();\r\n                        _a.label = 12;\r\n                    case 12: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        };\r\n        // p = 1 / (e^4) = 0.01831563888.  This still exceeds many neighboring keys!\r\n        // p = 1 / (e^5) = 0.00673794699.  Strikes a good balance.\r\n        // Should easily give priority to neighboring keys before edit-distance kicks in (when keys are a bit ambiguous)\r\n        SearchSpace.EDIT_DISTANCE_COST_SCALE = 5;\r\n        SearchSpace.MIN_KEYSTROKE_PROBABILITY = 0.0001;\r\n        SearchSpace.DEFAULT_ALLOTTED_CORRECTION_TIME_INTERVAL = 33; // in milliseconds.\r\n        return SearchSpace;\r\n    }());\r\n    correction.SearchSpace = SearchSpace;\r\n})(correction || (correction = {}));\r\n/// \u003creference path=\"distance-modeler.ts\" /\u003e\r\nvar __extends = (this \u0026\u0026 this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array \u0026\u0026 function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar correction;\r\n(function (correction) {\r\n    function textToCharTransforms(text, transformId) {\r\n        var perCharTransforms = [];\r\n        for (var i = 0; i \u003c text.kmwLength(); i++) {\r\n            var char = text.kmwCharAt(i); // is SMP-aware\r\n            var transform = {\r\n                insert: char,\r\n                deleteLeft: 0,\r\n                id: transformId\r\n            };\r\n            perCharTransforms.push(transform);\r\n        }\r\n        return perCharTransforms;\r\n    }\r\n    var TrackedContextSuggestion = /** @class */ (function () {\r\n        function TrackedContextSuggestion() {\r\n        }\r\n        return TrackedContextSuggestion;\r\n    }());\r\n    correction.TrackedContextSuggestion = TrackedContextSuggestion;\r\n    var TrackedContextToken = /** @class */ (function () {\r\n        function TrackedContextToken() {\r\n            this.transformDistributions = [];\r\n            this.activeReplacementId = -1;\r\n        }\r\n        Object.defineProperty(TrackedContextToken.prototype, \"isNew\", {\r\n            get: function () {\r\n                return this.transformDistributions.length == 0;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TrackedContextToken.prototype, \"currentText\", {\r\n            get: function () {\r\n                if (this.replacementText === undefined || this.replacementText === null) {\r\n                    return this.raw;\r\n                }\r\n                else {\r\n                    return this.replacementText;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TrackedContextToken.prototype, \"replacement\", {\r\n            get: function () {\r\n                var replacementId = this.activeReplacementId;\r\n                return this.replacements.find(function (replacement) {\r\n                    return replacement.suggestion.id == replacementId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TrackedContextToken.prototype.revert = function () {\r\n            delete this.activeReplacementId;\r\n        };\r\n        return TrackedContextToken;\r\n    }());\r\n    correction.TrackedContextToken = TrackedContextToken;\r\n    var TrackedContextState = /** @class */ (function () {\r\n        function TrackedContextState(obj) {\r\n            // Tracks all search spaces starting at the current token.\r\n            // In the lm-layer\u0027s current form, this should only ever have one entry.\r\n            // Leaves \u0027design space\u0027 for if/when we add support for phrase-level corrections/predictions.\r\n            this.searchSpace = [];\r\n            if (obj instanceof TrackedContextState) {\r\n                var source = obj;\r\n                // Be sure to deep-copy the tokens!  Pointer-aliasing is bad here.\r\n                this.tokens = source.tokens.map(function (token) {\r\n                    var copy = new TrackedContextToken();\r\n                    copy.raw = token.raw;\r\n                    copy.replacements = token.replacements;\r\n                    copy.activeReplacementId = token.activeReplacementId;\r\n                    copy.transformDistributions = token.transformDistributions;\r\n                    if (token.replacementText) {\r\n                        copy.replacementText = token.replacementText;\r\n                    }\r\n                    return copy;\r\n                });\r\n                this.searchSpace = obj.searchSpace;\r\n                this.indexOffset = 0;\r\n                this.model = obj.model;\r\n            }\r\n            else {\r\n                var lexicalModel = obj;\r\n                this.tokens = [];\r\n                this.indexOffset = Number.MIN_SAFE_INTEGER;\r\n                this.model = lexicalModel;\r\n                if (lexicalModel \u0026\u0026 lexicalModel.traverseFromRoot) {\r\n                    this.searchSpace = [new correction.SearchSpace(lexicalModel)];\r\n                }\r\n            }\r\n        }\r\n        Object.defineProperty(TrackedContextState.prototype, \"head\", {\r\n            get: function () {\r\n                return this.tokens[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(TrackedContextState.prototype, \"tail\", {\r\n            get: function () {\r\n                return this.tokens[this.tokens.length - 1];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        TrackedContextState.prototype.popHead = function () {\r\n            this.tokens.splice(0, 2);\r\n            this.indexOffset -= 1;\r\n        };\r\n        TrackedContextState.prototype.pushTail = function (token) {\r\n            if (this.model \u0026\u0026 this.model.traverseFromRoot) {\r\n                this.searchSpace = [new correction.SearchSpace(this.model)]; // yeah, need to update SearchSpace for compatibility\r\n            }\r\n            else {\r\n                this.searchSpace = [];\r\n            }\r\n            this.tokens.push(token);\r\n            var state = this;\r\n            if (state.searchSpace.length \u003e 0) {\r\n                token.transformDistributions.forEach(function (distrib) { return state.searchSpace[0].addInput(distrib); });\r\n            }\r\n        };\r\n        TrackedContextState.prototype.pushWhitespaceToTail = function (transformDistribution) {\r\n            if (transformDistribution === void 0) { transformDistribution = null; }\r\n            var whitespaceToken = new TrackedContextToken();\r\n            // Track the Transform that resulted in the whitespace \u0027token\u0027.\r\n            // Will be needed for phrase-level correction/prediction.\r\n            whitespaceToken.transformDistributions = [transformDistribution];\r\n            whitespaceToken.raw = null;\r\n            this.tokens.push(whitespaceToken);\r\n        };\r\n        /**\r\n         * Used for 14.0\u0027s backspace workaround, which flattens all previous Distribution\u003cTransform\u003e\r\n         * entries because of limitations with direct use of backspace transforms.\r\n         * @param tokenText\r\n         * @param transformId\r\n         */\r\n        TrackedContextState.prototype.replaceTailForBackspace = function (tokenText, transformId) {\r\n            this.tokens.pop();\r\n            // It\u0027s a backspace transform; time for special handling!\r\n            //\r\n            // For now, with 14.0, we simply compress all remaining Transforms for the token into \r\n            // multiple single-char transforms.  Probabalistically modeling BKSP is quite complex, \r\n            // so we simplify by assuming everything remaining after a BKSP is \u0027true\u0027 and \u0027intended\u0027 text.\r\n            //\r\n            // Note that we cannot just use a single, monolithic transform at this point b/c\r\n            // of our current edit-distance optimization strategy; diagonalization is currently... \r\n            // not very compatible with that.\r\n            var backspacedTokenContext = textToCharTransforms(tokenText, transformId).map(function (transform) {\r\n                return [{ sample: transform, p: 1.0 }];\r\n            });\r\n            var compactedToken = new TrackedContextToken();\r\n            compactedToken.raw = tokenText;\r\n            compactedToken.transformDistributions = backspacedTokenContext;\r\n            this.pushTail(compactedToken);\r\n        };\r\n        TrackedContextState.prototype.updateTail = function (transformDistribution, tokenText) {\r\n            var editedToken = this.tail;\r\n            // Preserve existing text if new text isn\u0027t specified.\r\n            tokenText = tokenText || (tokenText === \u0027\u0027 ? \u0027\u0027 : editedToken.raw);\r\n            if (transformDistribution \u0026\u0026 transformDistribution.length \u003e 0) {\r\n                editedToken.transformDistributions.push(transformDistribution);\r\n                if (this.searchSpace) {\r\n                    this.searchSpace.forEach(function (space) { return space.addInput(transformDistribution); });\r\n                }\r\n            }\r\n            // Replace old token\u0027s raw-text with new token\u0027s raw-text.\r\n            editedToken.raw = tokenText;\r\n        };\r\n        TrackedContextState.prototype.toRawTokenization = function () {\r\n            var e_11, _a;\r\n            var sequence = [];\r\n            try {\r\n                for (var _b = __values(this.tokens), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var token = _c.value;\r\n                    // Hide any tokens representing wordbreaks.  (Thinking ahead to phrase-level possibilities)\r\n                    if (token.currentText !== null) {\r\n                        sequence.push(token.currentText);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_11_1) { e_11 = { error: e_11_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c \u0026\u0026 !_c.done \u0026\u0026 (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_11) throw e_11.error; }\r\n            }\r\n            return sequence;\r\n        };\r\n        return TrackedContextState;\r\n    }());\r\n    correction.TrackedContextState = TrackedContextState;\r\n    var CircularArray = /** @class */ (function () {\r\n        function CircularArray(size) {\r\n            if (size === void 0) { size = CircularArray.DEFAULT_ARRAY_SIZE; }\r\n            this.currentHead = 0;\r\n            this.currentTail = 0;\r\n            this.circle = Array(size);\r\n        }\r\n        Object.defineProperty(CircularArray.prototype, \"count\", {\r\n            get: function () {\r\n                var diff = this.currentHead - this.currentTail;\r\n                if (diff \u003c 0) {\r\n                    diff = diff + this.circle.length;\r\n                }\r\n                return diff;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CircularArray.prototype, \"maxCount\", {\r\n            get: function () {\r\n                return this.circle.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CircularArray.prototype, \"oldest\", {\r\n            get: function () {\r\n                if (this.count == 0) {\r\n                    return undefined;\r\n                }\r\n                return this.item(0);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CircularArray.prototype, \"newest\", {\r\n            get: function () {\r\n                if (this.count == 0) {\r\n                    return undefined;\r\n                }\r\n                return this.item(this.count - 1);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        CircularArray.prototype.enqueue = function (item) {\r\n            var prevItem = null;\r\n            var nextHead = (this.currentHead + 1) % this.maxCount;\r\n            if (nextHead == this.currentTail) {\r\n                prevItem = this.circle[this.currentTail];\r\n                this.currentTail = (this.currentTail + 1) % this.maxCount;\r\n            }\r\n            this.circle[this.currentHead] = item;\r\n            this.currentHead = nextHead;\r\n            return prevItem;\r\n        };\r\n        CircularArray.prototype.dequeue = function () {\r\n            if (this.currentTail == this.currentHead) {\r\n                return null;\r\n            }\r\n            else {\r\n                var item = this.circle[this.currentTail];\r\n                this.currentTail = (this.currentTail + 1) % this.maxCount;\r\n                return item;\r\n            }\r\n        };\r\n        CircularArray.prototype.popNewest = function () {\r\n            if (this.currentTail == this.currentHead) {\r\n                return null;\r\n            }\r\n            else {\r\n                var item = this.circle[this.currentHead];\r\n                this.currentHead = (this.currentHead - 1 + this.maxCount) % this.maxCount;\r\n                return item;\r\n            }\r\n        };\r\n        /**\r\n         * Returns items contained within the circular array, ordered from \u0027oldest\u0027 to \u0027newest\u0027 -\r\n         * the same order in which the items will be dequeued.\r\n         * @param index\r\n         */\r\n        CircularArray.prototype.item = function (index) {\r\n            if (index \u003e= this.count) {\r\n                throw \"Invalid array index\";\r\n            }\r\n            var mappedIndex = (this.currentTail + index) % this.maxCount;\r\n            return this.circle[mappedIndex];\r\n        };\r\n        CircularArray.DEFAULT_ARRAY_SIZE = 5;\r\n        return CircularArray;\r\n    }());\r\n    var ContextTracker = /** @class */ (function (_super) {\r\n        __extends(ContextTracker, _super);\r\n        function ContextTracker() {\r\n            return _super !== null \u0026\u0026 _super.apply(this, arguments) || this;\r\n        }\r\n        ContextTracker.attemptMatchContext = function (tokenizedContext, matchState, transformDistribution) {\r\n            // Map the previous tokenized state to an edit-distance friendly version.\r\n            var matchContext = matchState.toRawTokenization();\r\n            // Inverted order, since \u0027match\u0027 existed before our new context.\r\n            var mapping = correction.ClassicalDistanceCalculation.computeDistance(matchContext.map(function (value) { return ({ key: value }); }), tokenizedContext.map(function (value) { return ({ key: value }); }), 1);\r\n            var editPath = mapping.editPath();\r\n            var poppedHead = false;\r\n            var pushedTail = false;\r\n            // Matters greatly when starting from a nil context.\r\n            if (editPath.length \u003e 1) {\r\n                // First entry:  may not be an \u0027insert\u0027 or a \u0027transpose\u0027 op.\r\n                // \u0027insert\u0027 allowed if the next token is \u0027substitute\u0027, as this may occur with an edit path of length 2.\r\n                if ((editPath[0] == \u0027insert\u0027 \u0026\u0026 !(editPath[1] == \u0027substitute\u0027 \u0026\u0026 editPath.length == 2)) || editPath[0].indexOf(\u0027transpose\u0027) \u003e= 0) {\r\n                    return null;\r\n                }\r\n                else if (editPath[0] == \u0027delete\u0027) {\r\n                    poppedHead = true; // a token from the previous state has been wholly removed.\r\n                }\r\n            }\r\n            // Last entry:  may not be a \u0027delete\u0027 or a \u0027transpose\u0027 op.\r\n            var tailIndex = editPath.length - 1;\r\n            var ignorePenultimateMatch = false;\r\n            if (editPath[tailIndex] == \u0027delete\u0027 || editPath[0].indexOf(\u0027transpose\u0027) \u003e= 0) {\r\n                return null;\r\n            }\r\n            else if (editPath[tailIndex] == \u0027insert\u0027) {\r\n                pushedTail = true;\r\n            }\r\n            else if (tailIndex \u003e 0 \u0026\u0026 editPath[tailIndex - 1] == \u0027insert\u0027 \u0026\u0026 editPath[tailIndex] == \u0027substitute\u0027) {\r\n                // Tends to happen when accepting suggestions.\r\n                pushedTail = true;\r\n                ignorePenultimateMatch = true;\r\n            }\r\n            // Now to check everything in-between:  should be exclusively \u0027match\u0027es.\r\n            for (var index = 1; index \u003c editPath.length - (ignorePenultimateMatch ? 2 : 1); index++) {\r\n                if (editPath[index] != \u0027match\u0027) {\r\n                    return null;\r\n                }\r\n            }\r\n            // If we\u0027ve made it here... success!  We have a context match!\r\n            var state;\r\n            if (pushedTail) {\r\n                // On suggestion acceptance, we should update the previous final token.\r\n                // We do it first so that the acceptance is replicated in the new TrackedContextState\r\n                // as well.\r\n                if (ignorePenultimateMatch) {\r\n                    // For this case, we were likely called by ModelCompositor.acceptSuggestion(), which\r\n                    // would have marked the accepted suggestion.\r\n                    matchState.tail.replacementText = tokenizedContext[tokenizedContext.length - 2];\r\n                }\r\n                state = new TrackedContextState(matchState);\r\n            }\r\n            else {\r\n                // Since we\u0027re continuing a previously-cached context, we can reuse the same SearchSpace\r\n                // to continue making predictions.\r\n                state = matchState;\r\n            }\r\n            var hasDistribution = transformDistribution \u0026\u0026 Array.isArray(transformDistribution);\r\n            var primaryInput = hasDistribution ? transformDistribution[0].sample : null;\r\n            if (primaryInput \u0026\u0026 primaryInput.insert == \"\" \u0026\u0026 primaryInput.deleteLeft == 0 \u0026\u0026 !primaryInput.deleteRight) {\r\n                primaryInput = null;\r\n            }\r\n            var isBackspace = primaryInput \u0026\u0026 primaryInput.insert == \"\" \u0026\u0026 primaryInput.deleteLeft \u003e 0 \u0026\u0026 !primaryInput.deleteRight;\r\n            var finalToken = tokenizedContext[tokenizedContext.length - 1];\r\n            /* Assumption:  This is an adequate check for its two sub-branches.\r\n             *\r\n             * Basis:\r\n             * - Assumption: one keystroke may only cause a single token to rotate out of context.\r\n             *   - That is, no \"reasonable\" keystroke would emit enough code points to \u0027bump\u0027 two words simultaneously.\r\n             *   - ... This one may need to be loosened a bit... but it should be enough for initial correction testing as-is.\r\n             * - Assumption:  one keystroke may only cause a single token to be appended to the context\r\n             *   - That is, no \"reasonable\" keystroke would emit a Transform adding two separate word tokens\r\n             *     - For languages using whitespace to word-break, said keystroke would have to include said whitespace to break the assumption.\r\n             */\r\n            // If there is/was more than one context token available...\r\n            if (editPath.length \u003e 1) {\r\n                // We\u0027re removing a context token, but at least one remains.\r\n                if (poppedHead) {\r\n                    state.popHead();\r\n                }\r\n                // We\u0027re adding an additional context token.\r\n                if (pushedTail) {\r\n                    // ASSUMPTION:  any transform that triggers this case is a pure-whitespace Transform, as we\r\n                    //              need a word-break before beginning a new word\u0027s context.\r\n                    //              Worth note:  when invalid, the lm-layer already has problems in other aspects too.\r\n                    state.pushWhitespaceToTail(transformDistribution);\r\n                    var emptyToken = new TrackedContextToken();\r\n                    emptyToken.raw = \u0027\u0027;\r\n                    // Continuing the earlier assumption, that \u0027pure-whitespace Transform\u0027 does not emit any initial characters\r\n                    // for the new word (token), so the input keystrokes do not correspond to the new text token.\r\n                    emptyToken.transformDistributions = [];\r\n                    state.pushTail(emptyToken);\r\n                }\r\n                else { // We\u0027re editing the final context token.\r\n                    // TODO:  Assumption:  we didn\u0027t \u0027miss\u0027 any inputs somehow.\r\n                    //        As is, may be prone to fragility should the lm-layer\u0027s tracked context \u0027desync\u0027 from its host\u0027s.\r\n                    if (isBackspace) {\r\n                        state.replaceTailForBackspace(finalToken, primaryInput.id);\r\n                    }\r\n                    else {\r\n                        state.updateTail(primaryInput ? transformDistribution : null, finalToken);\r\n                    }\r\n                }\r\n                // There is only one word in the context.\r\n            }\r\n            else {\r\n                // TODO:  Assumption:  we didn\u0027t \u0027miss\u0027 any inputs somehow.\r\n                //        As is, may be prone to fragility should the lm-layer\u0027s tracked context \u0027desync\u0027 from its host\u0027s.\r\n                if (editPath[tailIndex] == \u0027insert\u0027) {\r\n                    // Construct appropriate initial token.\r\n                    var token = new TrackedContextToken();\r\n                    token.raw = tokenizedContext[0];\r\n                    token.transformDistributions = [transformDistribution];\r\n                    state.pushTail(token);\r\n                }\r\n                else { // Edit the lone context token.\r\n                    // Consider backspace entry for this case?\r\n                    if (isBackspace) {\r\n                        state.replaceTailForBackspace(finalToken, primaryInput.id);\r\n                    }\r\n                    else {\r\n                        state.updateTail(primaryInput ? transformDistribution : null, finalToken);\r\n                    }\r\n                }\r\n            }\r\n            return state;\r\n        };\r\n        ContextTracker.modelContextState = function (tokenizedContext, lexicalModel) {\r\n            var baseTokens = tokenizedContext.map(function (entry) {\r\n                var token = new TrackedContextToken();\r\n                token.raw = entry;\r\n                if (token.raw) {\r\n                    token.transformDistributions = textToCharTransforms(token.raw).map(function (transform) {\r\n                        return [{ sample: transform, p: 1.0 }];\r\n                    });\r\n                }\r\n                else {\r\n                    // Helps model context-final wordbreaks.\r\n                    token.transformDistributions = [];\r\n                }\r\n                return token;\r\n            });\r\n            // And now build the final context state object, which includes whitespace \u0027tokens\u0027.\r\n            var state = new TrackedContextState(lexicalModel);\r\n            if (baseTokens.length \u003e 0) {\r\n                state.pushTail(baseTokens.splice(0, 1)[0]);\r\n            }\r\n            while (baseTokens.length \u003e 0) {\r\n                state.pushWhitespaceToTail();\r\n                state.pushTail(baseTokens.splice(0, 1)[0]);\r\n            }\r\n            if (state.tokens.length == 0) {\r\n                var token = new TrackedContextToken();\r\n                token.raw = \u0027\u0027;\r\n                state.pushTail(token);\r\n            }\r\n            return state;\r\n        };\r\n        /**\r\n         * Compares the current, post-input context against the most recently-seen contexts from previous prediction calls, returning\r\n         * the most information-rich `TrackedContextState` possible.  If a match is found, the state will be annotated with the\r\n         * input information provided to previous prediction calls and persisted correction-search calculations for re-use.\r\n         *\r\n         * @param model\r\n         * @param context\r\n         * @param mainTransform\r\n         * @param transformDistribution\r\n         */\r\n        ContextTracker.prototype.analyzeState = function (model, context, transformDistribution) {\r\n            if (!model.traverseFromRoot) {\r\n                // Assumption:  LexicalModel provides a valid traverseFromRoot function.  (Is technically optional)\r\n                // Without it, no \u0027corrections\u0027 may be made; the model can only be used to predict, not correct.\r\n                throw \"This lexical model does not provide adequate data for correction algorithms and context reuse\";\r\n            }\r\n            var tokenizedContext = models.tokenize(model.wordbreaker || wordBreakers.default, context);\r\n            if (tokenizedContext.left.length \u003e 0) {\r\n                for (var i = this.count - 1; i \u003e= 0; i--) {\r\n                    var resultState = ContextTracker.attemptMatchContext(tokenizedContext.left, this.item(i), transformDistribution);\r\n                    if (resultState) {\r\n                        resultState.taggedContext = context;\r\n                        if (resultState != this.item(i)) {\r\n                            this.enqueue(resultState);\r\n                        }\r\n                        return resultState;\r\n                    }\r\n                }\r\n            }\r\n            // Else:  either empty OR we\u0027ve detected a \u0027new context\u0027.  Initialize from scratch; no prior input information is\r\n            // available.  Only the results of the prior inputs are known.\r\n            //\r\n            // Assumption:  as a caret needs to move to context before any actual transform distributions occur,\r\n            // this state is only reached on caret moves; thus, transformDistribution is actually just a single null transform.\r\n            var state = ContextTracker.modelContextState(tokenizedContext.left, model);\r\n            state.taggedContext = context;\r\n            this.enqueue(state);\r\n            return state;\r\n        };\r\n        return ContextTracker;\r\n    }(CircularArray));\r\n    correction.ContextTracker = ContextTracker;\r\n})(correction || (correction = {}));\r\n/// \u003creference path=\"../node_modules/@keymanapp/models-templates/src/index.ts\" /\u003e\r\n/// \u003creference path=\"correction/context-tracker.ts\" /\u003e\r\nvar __assign = (this \u0026\u0026 this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i \u003c n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar ModelCompositor = /** @class */ (function () {\r\n    function ModelCompositor(lexicalModel) {\r\n        this.SUGGESTION_ID_SEED = 0;\r\n        this.lexicalModel = lexicalModel;\r\n        if (lexicalModel.traverseFromRoot) {\r\n            this.contextTracker = new correction.ContextTracker();\r\n        }\r\n        this.punctuation = ModelCompositor.determinePunctuationFromModel(lexicalModel);\r\n    }\r\n    ModelCompositor.prototype.isWhitespace = function (transform) {\r\n        // Matches prefixed text + any instance of a character with Unicode general property Z* or the following: CR, LF, and Tab.\r\n        var whitespaceRemover = /.*[\\u0009\\u000A\\u000D\\u0020\\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u200b\\u2028\\u2029\\u202f\\u205f\\u3000]/i;\r\n        // Filter out null-inserts; their high probability can cause issues.\r\n        if (transform.insert == \u0027\u0027) { // Can actually register as \u0027whitespace\u0027.\r\n            return false;\r\n        }\r\n        var insert = transform.insert;\r\n        insert = insert.replace(whitespaceRemover, \u0027\u0027);\r\n        return insert == \u0027\u0027;\r\n    };\r\n    ModelCompositor.prototype.isBackspace = function (transform) {\r\n        return transform.insert == \"\" \u0026\u0026 transform.deleteLeft \u003e 0;\r\n    };\r\n    ModelCompositor.prototype.isEmpty = function (transform) {\r\n        return transform.insert == \u0027\u0027 \u0026\u0026 transform.deleteLeft == 0;\r\n    };\r\n    ModelCompositor.prototype.predictFromCorrections = function (corrections, context) {\r\n        var e_12, _a;\r\n        var returnedPredictions = [];\r\n        var _loop_6 = function (correction_1) {\r\n            var predictions = this_3.lexicalModel.predict(correction_1.sample, context);\r\n            var predictionSet = predictions.map(function (pair) {\r\n                var transform = correction_1.sample;\r\n                var inputProb = correction_1.p;\r\n                // Let\u0027s not rely on the model to copy transform IDs.\r\n                // Only bother is there IS an ID to copy.\r\n                if (transform.id !== undefined) {\r\n                    pair.sample.transformId = transform.id;\r\n                }\r\n                var prediction = { sample: pair.sample, p: pair.p * inputProb };\r\n                return prediction;\r\n            }, this_3);\r\n            returnedPredictions = returnedPredictions.concat(predictionSet);\r\n        };\r\n        var this_3 = this;\r\n        try {\r\n            for (var corrections_1 = __values(corrections), corrections_1_1 = corrections_1.next(); !corrections_1_1.done; corrections_1_1 = corrections_1.next()) {\r\n                var correction_1 = corrections_1_1.value;\r\n                _loop_6(correction_1);\r\n            }\r\n        }\r\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\r\n        finally {\r\n            try {\r\n                if (corrections_1_1 \u0026\u0026 !corrections_1_1.done \u0026\u0026 (_a = corrections_1.return)) _a.call(corrections_1);\r\n            }\r\n            finally { if (e_12) throw e_12.error; }\r\n        }\r\n        return returnedPredictions;\r\n    };\r\n    ModelCompositor.prototype.predict = function (transformDistribution, context) {\r\n        var e_13, _a, e_14, _b;\r\n        var suggestionDistribution = [];\r\n        var lexicalModel = this.lexicalModel;\r\n        var punctuation = this.punctuation;\r\n        if (!(transformDistribution instanceof Array)) {\r\n            transformDistribution = [{ sample: transformDistribution, p: 1.0 }];\r\n        }\r\n        var inputTransform = transformDistribution.sort(function (a, b) {\r\n            return b.p - a.p;\r\n        })[0].sample;\r\n        // Only allow new-word suggestions if space was the most likely keypress.\r\n        var allowSpace = this.isWhitespace(inputTransform);\r\n        var allowBksp = this.isBackspace(inputTransform);\r\n        var postContext = models.applyTransform(inputTransform, context);\r\n        var keepOptionText = this.wordbreak(postContext);\r\n        var keepOption = null;\r\n        var rawPredictions = [];\r\n        // Used to restore whitespaces if operations would remove them.\r\n        var prefixTransform;\r\n        var contextState = null;\r\n        // Section 1:  determining \u0027prediction roots\u0027.\r\n        if (!this.contextTracker) {\r\n            var predictionRoots = void 0;\r\n            // Generates raw prediction distributions for each valid input.  Can only \u0027correct\u0027\r\n            // against the final input.\r\n            //\r\n            // This is the old, 12.0-13.0 \u0027correction\u0027 style.\r\n            if (allowSpace) {\r\n                // Detect start of new word; prevent whitespace loss here.\r\n                predictionRoots = [{ sample: inputTransform, p: 1.0 }];\r\n                prefixTransform = inputTransform;\r\n            }\r\n            else {\r\n                predictionRoots = transformDistribution.map(function (alt) {\r\n                    var transform = alt.sample;\r\n                    // Filter out special keys unless they\u0027re expected.\r\n                    if (this.isWhitespace(transform) \u0026\u0026 !allowSpace) {\r\n                        return null;\r\n                    }\r\n                    else if (this.isBackspace(transform) \u0026\u0026 !allowBksp) {\r\n                        return null;\r\n                    }\r\n                    return alt;\r\n                }, this);\r\n            }\r\n            // Remove `null` entries.\r\n            predictionRoots = predictionRoots.filter(function (tuple) { return !!tuple; });\r\n            // Running in bulk over all suggestions, duplicate entries may be possible.\r\n            rawPredictions = this.predictFromCorrections(predictionRoots, context);\r\n        }\r\n        else {\r\n            contextState = this.contextTracker.analyzeState(this.lexicalModel, postContext, !this.isEmpty(inputTransform) ?\r\n                transformDistribution :\r\n                null);\r\n            // TODO:  Should we filter backspaces \u0026 whitespaces out of the transform distribution?\r\n            //        Ideally, the answer (in the future) will be no, but leaving it in right now may pose an issue.\r\n            // Rather than go \"full hog\" and make a priority queue out of the eventual, future competing search spaces...\r\n            // let\u0027s just note that right now, there will only ever be one.\r\n            //\r\n            // The \u0027eventual\u0027 logic will be significantly more complex, though still manageable.\r\n            var searchSpace = contextState.searchSpace[0];\r\n            var newEmptyToken_1 = false;\r\n            // Detect if we\u0027re starting a new context state.\r\n            var contextTokens = contextState.tokens;\r\n            if (contextTokens.length == 0 || contextTokens[contextTokens.length - 1].isNew) {\r\n                if (this.isEmpty(inputTransform) || this.isWhitespace(inputTransform)) {\r\n                    newEmptyToken_1 = true;\r\n                    prefixTransform = inputTransform;\r\n                    context = postContext; // Ensure the whitespace token is preapplied!\r\n                }\r\n            }\r\n            // TODO:  whitespace, backspace filtering.  Do it here.\r\n            //        Whitespace is probably fine, actually.  Less sure about backspace.\r\n            var bestCorrectionCost = void 0;\r\n            try {\r\n                for (var _c = __values(searchSpace.getBestMatches()), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                    var matches = _d.value;\r\n                    // Corrections obtained:  now to predict from them!\r\n                    var predictionRoots = matches.map(function (match) {\r\n                        var correction = match.matchString;\r\n                        // Worth considering:  extend Traversal to allow direct prediction lookups?\r\n                        // let traversal = match.finalTraversal;\r\n                        // Find a proper Transform ID to map the correction to.\r\n                        // Without it, we can\u0027t apply the suggestion.\r\n                        var finalInput;\r\n                        if (match.inputSequence.length \u003e 0) {\r\n                            finalInput = match.inputSequence[match.inputSequence.length - 1].sample;\r\n                        }\r\n                        else {\r\n                            finalInput = inputTransform; // A fallback measure.  Greatly matters for empty contexts.\r\n                        }\r\n                        var deleteLeft = 0;\r\n                        // remove actual token string.  If new token, there should be nothing to delete.\r\n                        if (!newEmptyToken_1) {\r\n                            // If this is triggered from a backspace, make sure to use its results\r\n                            // and also include its left-deletions!  It\u0027s the one post-input context case.\r\n                            if (allowBksp) {\r\n                                deleteLeft = this.wordbreak(postContext).kmwLength() + inputTransform.deleteLeft;\r\n                            }\r\n                            else {\r\n                                // Normal case - use the pre-input context.\r\n                                deleteLeft = this.wordbreak(context).kmwLength();\r\n                            }\r\n                        }\r\n                        // Replace the existing context with the correction.\r\n                        var correctionTransform = {\r\n                            insert: correction,\r\n                            deleteLeft: deleteLeft,\r\n                            id: inputTransform.id // The correction should always be based on the most recent external transform/transcription ID.\r\n                        };\r\n                        return {\r\n                            sample: correctionTransform,\r\n                            p: Math.exp(-match.totalCost)\r\n                        };\r\n                    }, this);\r\n                    // Running in bulk over all suggestions, duplicate entries may be possible.\r\n                    var predictions = this.predictFromCorrections(predictionRoots, context);\r\n                    // Only set \u0027best correction\u0027 cost when a correction ACTUALLY YIELDS predictions.\r\n                    if (predictions.length \u003e 0 \u0026\u0026 bestCorrectionCost === undefined) {\r\n                        bestCorrectionCost = -Math.log(predictionRoots[0].p);\r\n                    }\r\n                    rawPredictions = rawPredictions.concat(predictions);\r\n                    // TODO:  We don\u0027t currently de-duplicate predictions at this point quite yet, so\r\n                    // it\u0027s technically possible that we return too few.\r\n                    var correctionCost = matches[0].totalCost;\r\n                    // Searching a bit longer is permitted when no predictions have been found.\r\n                    if (correctionCost \u003e= bestCorrectionCost + 8) {\r\n                        break;\r\n                        // If enough have been found, we\u0027re safe to terminate earlier.\r\n                    }\r\n                    else if (rawPredictions.length \u003e= ModelCompositor.MAX_SUGGESTIONS) {\r\n                        if (correctionCost \u003e= bestCorrectionCost + 4) { // e^-4 = 0.0183156388.  Allows \"80%\" of an extra edit.\r\n                            // Very useful for stopping \u0027sooner\u0027 when words reach a sufficient length.\r\n                            break;\r\n                        }\r\n                        else {\r\n                            // Sort the prediction list; we need them in descending order for the next check.\r\n                            rawPredictions.sort(function (a, b) {\r\n                                return b.p - a.p;\r\n                            });\r\n                            // If the best suggestion from the search\u0027s current tier fails to beat the worst\r\n                            // pending suggestion from previous tiers, assume all further corrections will \r\n                            // similarly fail to win; terminate the search-loop.\r\n                            if (rawPredictions[ModelCompositor.MAX_SUGGESTIONS - 1].p \u003e Math.exp(-correctionCost)) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_13_1) { e_13 = { error: e_13_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_d \u0026\u0026 !_d.done \u0026\u0026 (_a = _c.return)) _a.call(_c);\r\n                }\r\n                finally { if (e_13) throw e_13.error; }\r\n            }\r\n        }\r\n        // Section 2 - post-analysis for our generated predictions, managing \u0027keep\u0027.\r\n        // Assumption:  Duplicated \u0027displayAs\u0027 properties indicate duplicated Suggestions.\r\n        // When true, we can use an \u0027associative array\u0027 to de-duplicate everything.\r\n        var suggestionDistribMap = {};\r\n        var currentCasing = null;\r\n        if (lexicalModel.languageUsesCasing) {\r\n            currentCasing = this.detectCurrentCasing(postContext);\r\n        }\r\n        var baseWord = this.wordbreak(context);\r\n        try {\r\n            // Deduplicator + annotator of \u0027keep\u0027 suggestions.\r\n            for (var rawPredictions_1 = __values(rawPredictions), rawPredictions_1_1 = rawPredictions_1.next(); !rawPredictions_1_1.done; rawPredictions_1_1 = rawPredictions_1.next()) {\r\n                var prediction = rawPredictions_1_1.value;\r\n                // Combine duplicate samples.\r\n                var displayText = prediction.sample.displayAs;\r\n                if (displayText == keepOptionText || (lexicalModel.toKey \u0026\u0026 displayText == lexicalModel.toKey(keepOptionText))) {\r\n                    // Preserve the original, pre-keyed version of the text.\r\n                    if (!keepOption) {\r\n                        var baseTransform = prediction.sample.transform;\r\n                        var keepTransform = {\r\n                            insert: keepOptionText,\r\n                            deleteLeft: baseTransform.deleteLeft,\r\n                            deleteRight: baseTransform.deleteRight,\r\n                            id: baseTransform.id\r\n                        };\r\n                        var intermediateKeep = models.transformToSuggestion(keepTransform, prediction.p);\r\n                        keepOption = this.toAnnotatedSuggestion(intermediateKeep, \u0027keep\u0027, models.QuoteBehavior.noQuotes);\r\n                        keepOption.matchesModel = true;\r\n                        // Since we replaced the original Suggestion with a keep-annotated one,\r\n                        // we must manually preserve the transform ID.\r\n                        keepOption.transformId = prediction.sample.transformId;\r\n                    }\r\n                    else if (keepOption.p \u0026\u0026 prediction.p) {\r\n                        keepOption.p += prediction.p;\r\n                    }\r\n                }\r\n                else {\r\n                    // Apply capitalization rules now; facilitates de-duplication of suggestions\r\n                    // that may be caused as a result.\r\n                    //\r\n                    // Example:  \"apple\" and \"Apple\" are separate when \u0027lower\u0027, but identical for \u0027initial\u0027 and \u0027upper\u0027.\r\n                    if (currentCasing \u0026\u0026 currentCasing != \u0027lower\u0027) {\r\n                        this.applySuggestionCasing(prediction.sample, baseWord, currentCasing);\r\n                        // update the mapping string, too.\r\n                        displayText = prediction.sample.displayAs;\r\n                    }\r\n                    var existingSuggestion = suggestionDistribMap[displayText];\r\n                    if (existingSuggestion) {\r\n                        existingSuggestion.p += prediction.p;\r\n                    }\r\n                    else {\r\n                        suggestionDistribMap[displayText] = prediction;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e_14_1) { e_14 = { error: e_14_1 }; }\r\n        finally {\r\n            try {\r\n                if (rawPredictions_1_1 \u0026\u0026 !rawPredictions_1_1.done \u0026\u0026 (_b = rawPredictions_1.return)) _b.call(rawPredictions_1);\r\n            }\r\n            finally { if (e_14) throw e_14.error; }\r\n        }\r\n        // Generate a default \u0027keep\u0027 option if one was not otherwise produced.\r\n        if (!keepOption \u0026\u0026 keepOptionText != \u0027\u0027) {\r\n            // IMPORTANT:  duplicate the original transform.  Causes nasty side-effects\r\n            // for context-tracking otherwise!\r\n            var keepTransform = __assign({}, inputTransform);\r\n            // 1 is a filler value; goes unused b/c is for a \u0027keep\u0027.\r\n            var keepSuggestion = models.transformToSuggestion(keepTransform, 1);\r\n            // This is the one case where the transform doesn\u0027t insert the full word; we need to override the displayAs param.\r\n            keepSuggestion.displayAs = keepOptionText;\r\n            keepOption = this.toAnnotatedSuggestion(keepSuggestion, \u0027keep\u0027);\r\n            keepOption.matchesModel = false;\r\n        }\r\n        // Section 3:  Finalize suggestions, truncate list to the N (MAX_SUGGESTIONS) most optimal, return.\r\n        // Now that we\u0027ve calculated a unique set of probability masses, time to make them into a proper\r\n        // distribution and prep for return.\r\n        for (var key in suggestionDistribMap) {\r\n            var pair = suggestionDistribMap[key];\r\n            suggestionDistribution.push(pair);\r\n        }\r\n        suggestionDistribution = suggestionDistribution.sort(function (a, b) {\r\n            return b.p - a.p; // Use descending order - we want the largest probabilty suggestions first!\r\n        });\r\n        var suggestions = suggestionDistribution.splice(0, ModelCompositor.MAX_SUGGESTIONS).map(function (value) {\r\n            if (value.sample[\u0027p\u0027]) {\r\n                // For analysis / debugging\r\n                value.sample[\u0027lexical-p\u0027] = value.sample[\u0027p\u0027];\r\n                value.sample[\u0027correction-p\u0027] = value.p / value.sample[\u0027p\u0027];\r\n                // Use of the Trie model always exposed the lexical model\u0027s probability for a word to KMW.\r\n                // It\u0027s useful for debugging right now, so may as well repurpose it as the posterior.\r\n                //\r\n                // We still condition on \u0027p\u0027 existing so that test cases aren\u0027t broken.\r\n                value.sample[\u0027p\u0027] = value.p;\r\n            }\r\n            //\r\n            return value.sample;\r\n        });\r\n        if (keepOption) {\r\n            suggestions = [keepOption].concat(suggestions);\r\n        }\r\n        // Apply \u0027after word\u0027 punctuation and casing (when applicable).  Also, set suggestion IDs.  \r\n        // We delay until now so that utility functions relying on the unmodified Transform may execute properly.\r\n        var compositor = this;\r\n        suggestions.forEach(function (suggestion) {\r\n            // Valid \u0027keep\u0027 suggestions may have zero length; we still need to evaluate the following code\r\n            // for such cases.\r\n            // Do we need to manipulate the suggestion\u0027s transform based on the current state of the context?\r\n            if (!context.right) {\r\n                suggestion.transform.insert += punctuation.insertAfterWord;\r\n            }\r\n            else {\r\n                // If we\u0027re mid-word, delete its original post-caret text.\r\n                var tokenization = compositor.tokenize(context);\r\n                if (tokenization \u0026\u0026 tokenization.caretSplitsToken) {\r\n                    // While we wait on the ability to provide a more \u0027ideal\u0027 solution, let\u0027s at least\r\n                    // go with a more stable, if slightly less ideal, solution for now.\r\n                    // \r\n                    // A predictive text default (on iOS, at least) - immediately wordbreak \r\n                    // on suggestions accepted mid-word.\r\n                    suggestion.transform.insert += punctuation.insertAfterWord;\r\n                }\r\n            }\r\n            // If this is a suggestion after wordbreak input, make sure we preserve the wordbreak transform!\r\n            if (prefixTransform) {\r\n                var mergedTransform = models.buildMergedTransform(prefixTransform, suggestion.transform);\r\n                mergedTransform.id = suggestion.transformId;\r\n                // Temporarily and locally drops \u0027readonly\u0027 semantics so that we can reassign the transform.\r\n                // See https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#improved-control-over-mapped-type-modifiers\r\n                var mutableSuggestion = suggestion;\r\n                // Assignment via by-reference behavior, as suggestion is an object\r\n                mutableSuggestion.transform = mergedTransform;\r\n            }\r\n            suggestion.id = compositor.SUGGESTION_ID_SEED;\r\n            compositor.SUGGESTION_ID_SEED++;\r\n        });\r\n        // Store the suggestions on the final token of the current context state (if it exists).\r\n        // Or, once phrase-level suggestions are possible, on whichever token serves as each prediction\u0027s root.\r\n        if (contextState) {\r\n            contextState.tail.replacements = suggestions.map(function (suggestion) {\r\n                return {\r\n                    suggestion: suggestion,\r\n                    tokenWidth: 1\r\n                };\r\n            });\r\n        }\r\n        return suggestions;\r\n    };\r\n    // Responsible for applying casing rules to suggestions.\r\n    ModelCompositor.prototype.applySuggestionCasing = function (suggestion, baseWord, casingForm) {\r\n        // Step 1:  does the suggestion replace the whole word?  If not, we should extend the suggestion to do so.\r\n        var unchangedLength = baseWord.kmwLength() - suggestion.transform.deleteLeft;\r\n        if (unchangedLength \u003e 0) {\r\n            suggestion.transform.deleteLeft += unchangedLength;\r\n            suggestion.transform.insert = baseWord.kmwSubstr(0, unchangedLength) + suggestion.transform.insert;\r\n        }\r\n        // Step 2: Now that the transform affects the whole word, we may safely apply casing rules.\r\n        suggestion.transform.insert = this.lexicalModel.applyCasing(casingForm, suggestion.transform.insert);\r\n        suggestion.displayAs = this.lexicalModel.applyCasing(casingForm, suggestion.displayAs);\r\n    };\r\n    ModelCompositor.prototype.toAnnotatedSuggestion = function (suggestion, annotationType, quoteBehavior) {\r\n        if (quoteBehavior === void 0) { quoteBehavior = models.QuoteBehavior.default; }\r\n        // A method-internal \u0027import\u0027 of the enum.\r\n        var QuoteBehavior = models.QuoteBehavior;\r\n        var defaultQuoteBehavior = QuoteBehavior.noQuotes;\r\n        if (annotationType == \u0027keep\u0027 || annotationType == \u0027revert\u0027) {\r\n            defaultQuoteBehavior = QuoteBehavior.useQuotes;\r\n        }\r\n        return {\r\n            transform: suggestion.transform,\r\n            transformId: suggestion.transformId,\r\n            displayAs: QuoteBehavior.apply(quoteBehavior, suggestion.displayAs, this.punctuation, defaultQuoteBehavior),\r\n            tag: annotationType,\r\n            p: suggestion.p\r\n        };\r\n    };\r\n    /**\r\n     * Returns the punctuation used for this model, filling out unspecified fields\r\n     */\r\n    ModelCompositor.determinePunctuationFromModel = function (model) {\r\n        var defaults = DEFAULT_PUNCTUATION;\r\n        // Use the defaults of the model does not provide any punctuation at all.\r\n        if (!model.punctuation)\r\n            return defaults;\r\n        var specifiedPunctuation = model.punctuation;\r\n        var insertAfterWord = specifiedPunctuation.insertAfterWord;\r\n        if (insertAfterWord !== \u0027\u0027 \u0026\u0026 !insertAfterWord) {\r\n            insertAfterWord = defaults.insertAfterWord;\r\n        }\r\n        var quotesForKeepSuggestion = specifiedPunctuation.quotesForKeepSuggestion;\r\n        if (!quotesForKeepSuggestion) {\r\n            quotesForKeepSuggestion = defaults.quotesForKeepSuggestion;\r\n        }\r\n        var isRTL = specifiedPunctuation.isRTL;\r\n        // Default:  false / undefined, so no need to directly specify it.\r\n        return {\r\n            insertAfterWord: insertAfterWord, quotesForKeepSuggestion: quotesForKeepSuggestion, isRTL: isRTL\r\n        };\r\n    };\r\n    ModelCompositor.prototype.acceptSuggestion = function (suggestion, context, postTransform) {\r\n        // Step 1:  generate and save the reversion\u0027s Transform.\r\n        var sourceTransform = suggestion.transform;\r\n        var deletedLeftChars = context.left.kmwSubstr(-sourceTransform.deleteLeft, sourceTransform.deleteLeft);\r\n        var insertedLength = sourceTransform.insert.kmwLength();\r\n        var reversionTransform = {\r\n            insert: deletedLeftChars,\r\n            deleteLeft: insertedLength\r\n        };\r\n        // Step 2:  building the proper \u0027displayAs\u0027 string for the Reversion\r\n        var postContext = context;\r\n        if (postTransform) {\r\n            // The code above restores the state to the context at the time the `Suggestion` was created.\r\n            // `postTransform` handles any missing context that came later.\r\n            reversionTransform = models.buildMergedTransform(reversionTransform, postTransform);\r\n            // Now that we\u0027ve built the reversion based upon the Suggestion\u0027s original context,\r\n            // we manipulate it in order to get a proper \u0027displayAs\u0027 string.\r\n            postContext = models.applyTransform(postTransform, postContext);\r\n        }\r\n        var revertedPrefix;\r\n        var postContextTokenization = this.tokenize(postContext);\r\n        if (postContextTokenization) {\r\n            // Handles display string for reversions triggered by accepting a suggestion mid-token.\r\n            if (postContextTokenization.left.length \u003e 0) {\r\n                revertedPrefix = postContextTokenization.left[postContextTokenization.left.length - 1];\r\n            }\r\n            else {\r\n                revertedPrefix = \u0027\u0027;\r\n            }\r\n            revertedPrefix += postContextTokenization.caretSplitsToken ? postContextTokenization.right[0] : \u0027\u0027;\r\n        }\r\n        else {\r\n            revertedPrefix = this.wordbreak(postContext);\r\n        }\r\n        var firstConversion = models.transformToSuggestion(reversionTransform);\r\n        firstConversion.displayAs = revertedPrefix;\r\n        // Build the actual Reversion, which is technically an annotated Suggestion.\r\n        // Since we\u0027re outside of the standard `predict` control path, we\u0027ll need to\r\n        // set the Reversion\u0027s ID directly.\r\n        var reversion = this.toAnnotatedSuggestion(firstConversion, \u0027revert\u0027);\r\n        if (suggestion.transformId != null) {\r\n            reversion.transformId = -suggestion.transformId;\r\n        }\r\n        if (suggestion.id != null) {\r\n            // Since a reversion inverts its source suggestion, we set its ID to be the \r\n            // additive inverse of the source suggestion\u0027s ID.  Makes easy mapping /\r\n            // verification later.\r\n            reversion.id = -suggestion.id;\r\n        }\r\n        else {\r\n            reversion.id = -this.SUGGESTION_ID_SEED;\r\n            this.SUGGESTION_ID_SEED++;\r\n        }\r\n        // Step 3:  if we track Contexts, update the tracking data as appropriate.\r\n        if (this.contextTracker) {\r\n            var contextState = this.contextTracker.newest;\r\n            if (!contextState) {\r\n                contextState = this.contextTracker.analyzeState(this.lexicalModel, context);\r\n            }\r\n            contextState.tail.activeReplacementId = suggestion.id;\r\n            var acceptedContext = models.applyTransform(suggestion.transform, context);\r\n            this.contextTracker.analyzeState(this.lexicalModel, acceptedContext);\r\n        }\r\n        return reversion;\r\n    };\r\n    ModelCompositor.prototype.applyReversion = function (reversion, context) {\r\n        // If we are unable to track context (because the model does not support LexiconTraversal),\r\n        // we need a \"fallback\" strategy.\r\n        var compositor = this;\r\n        var fallbackSuggestions = function () {\r\n            var revertedContext = models.applyTransform(reversion.transform, context);\r\n            var suggestions = compositor.predict({ insert: \u0027\u0027, deleteLeft: 0 }, revertedContext);\r\n            suggestions.forEach(function (suggestion) {\r\n                // A reversion\u0027s transform ID is the additive inverse of its original suggestion;\r\n                // we revert to the state of said original suggestion.\r\n                suggestion.transformId = -reversion.transformId;\r\n            });\r\n            return suggestions;\r\n        };\r\n        if (!this.contextTracker) {\r\n            return fallbackSuggestions();\r\n        }\r\n        // When the context is tracked, we prefer the tracked information.\r\n        var contextMatchFound = false;\r\n        for (var c = this.contextTracker.count - 1; c \u003e= 0; c--) {\r\n            var contextState = this.contextTracker.item(c);\r\n            if (contextState.tail.activeReplacementId == -reversion.id) {\r\n                contextMatchFound = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!contextMatchFound) {\r\n            return fallbackSuggestions();\r\n        }\r\n        // Remove all contexts more recent than the one we\u0027re reverting to.\r\n        while (this.contextTracker.newest.tail.activeReplacementId != -reversion.id) {\r\n            this.contextTracker.popNewest();\r\n        }\r\n        this.contextTracker.newest.tail.revert();\r\n        // Will need to be modified a bit if/when phrase-level suggestions are implemented.\r\n        // Those will be tracked on the first token of the phrase, which won\u0027t be the tail\r\n        // if they cover multiple tokens.\r\n        var suggestions = this.contextTracker.newest.tail.replacements.map(function (trackedSuggestion) {\r\n            return trackedSuggestion.suggestion;\r\n        });\r\n        suggestions.forEach(function (suggestion) {\r\n            // A reversion\u0027s transform ID is the additive inverse of its original suggestion;\r\n            // we revert to the state of said original suggestion.\r\n            suggestion.transformId = -reversion.transformId;\r\n        });\r\n        return suggestions;\r\n    };\r\n    ModelCompositor.prototype.wordbreak = function (context) {\r\n        var model = this.lexicalModel;\r\n        if (model.wordbreaker || !model.wordbreak) {\r\n            // We don\u0027t need a 12.0 / 13.0 compatibility mode here.\r\n            // We\u0027re either relying on defaults or on the 14.0+ wordbreaker spec.\r\n            var wordbreaker = model.wordbreaker || wordBreakers.default;\r\n            return models.wordbreak(wordbreaker, context);\r\n        }\r\n        else {\r\n            // 1.  This model does not provide a model following the 14.0+ wordbreaking spec\r\n            // 2.  This model DOES define a custom wordbreaker following the 12.0-13.0 spec.\r\n            // Since the model relies on custom wordbreaking behavior, we need to use the\r\n            // old, deprecated wordbreaking pattern.\r\n            return model.wordbreak(context);\r\n        }\r\n    };\r\n    ModelCompositor.prototype.tokenize = function (context) {\r\n        var model = this.lexicalModel;\r\n        if (model.wordbreaker) {\r\n            return models.tokenize(model.wordbreaker, context);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ModelCompositor.prototype.resetContext = function (context) {\r\n        // Force-resets the context, throwing out any previous fat-finger data, etc.\r\n        // Designed for use when the caret has been directly moved and/or the context sourced from a different control\r\n        // than before.\r\n        if (this.contextTracker) {\r\n            var tokenizedContext = models.tokenize(this.lexicalModel.wordbreaker || wordBreakers.default, context);\r\n            var contextState = correction.ContextTracker.modelContextState(tokenizedContext.left, this.lexicalModel);\r\n            this.contextTracker.enqueue(contextState);\r\n        }\r\n    };\r\n    ModelCompositor.prototype.detectCurrentCasing = function (context) {\r\n        var model = this.lexicalModel;\r\n        var text = this.wordbreak(context);\r\n        if (!model.languageUsesCasing) {\r\n            throw \"Invalid attempt to detect casing: languageUsesCasing is set to false\";\r\n        }\r\n        if (!model.applyCasing) {\r\n            // The worker should automatically \u0027sub in\u0027 default behavior during the model\u0027s load if that\r\n            // function isn\u0027t defined explicitly as part of the model.\r\n            throw \"Invalid LMLayer state:  languageUsesCasing is set to true, but no applyCasing function exists\";\r\n        }\r\n        if (model.applyCasing(\u0027lower\u0027, text) == text) {\r\n            return \u0027lower\u0027;\r\n        }\r\n        else if (model.applyCasing(\u0027upper\u0027, text) == text) {\r\n            // If only a single character has been input, assume we\u0027re in \u0027initial\u0027 mode.\r\n            return text.kmwLength() \u003e 1 ? \u0027upper\u0027 : \u0027initial\u0027;\r\n        }\r\n        else if (model.applyCasing(\u0027initial\u0027, text) == text) {\r\n            // We check \u0027initial\u0027 last, as upper-case input is indistinguishable.\r\n            return \u0027initial\u0027;\r\n        }\r\n        else {\r\n            // \u0027null\u0027 is returned when no casing pattern matches the input.\r\n            return null;\r\n        }\r\n    };\r\n    ModelCompositor.MAX_SUGGESTIONS = 12;\r\n    return ModelCompositor;\r\n}());\r\n/**\r\n * The default punctuation and spacing produced by the model.\r\n */\r\nvar DEFAULT_PUNCTUATION = {\r\n    quotesForKeepSuggestion: { open: \"\\u201C\", close: \"\\u201D\" },\r\n    insertAfterWord: \" \",\r\n};\r\n/*\r\n * Copyright (c) 2018 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2018 SIL International\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n/**\r\n * @file index.ts\r\n *\r\n * The main LMLayerWorker class, the top-level class within the Web Worker.\r\n * The LMLayerWorker handles the keyboard/worker communication\r\n * protocol, delegating prediction requests to the language\r\n * model implementations.\r\n */\r\n/// \u003creference path=\"../message.d.ts\" /\u003e\r\n/// \u003creference path=\"models/dummy-model.ts\" /\u003e\r\n/// \u003creference path=\"../node_modules/@keymanapp/models-wordbreakers/src/index.ts\" /\u003e\r\n/// \u003creference path=\"./model-compositor.ts\" /\u003e\r\n/**\r\n * Encapsulates all the state required for the LMLayer\u0027s worker thread.\r\n *\r\n * Implements the state pattern. There are three states:\r\n *\r\n *  - `unconfigured`  (initial state before configuration)\r\n *  - `modelless`     (state without model loaded)\r\n *  - `ready`         (state with model loaded, accepts prediction requests)\r\n *\r\n * Transitions are initiated by valid messages. Invalid\r\n * messages are errors, and do not lead to transitions.\r\n *\r\n *          +-------------+    load    +---------+\r\n *   config |             |-----------\u003e|         |\r\n *  +-------\u003e  modelless  +            +  ready  +---+\r\n *          |             |\u003c-----------|         |   |\r\n *          +-------------+   unload   +----^----+   | predict\r\n *                                          |        |\r\n *                                          +--------+\r\n *\r\n * The model and the configuration are ONLY relevant in the `ready` state;\r\n * as such, they are NOT direct properties of the LMLayerWorker.\r\n */\r\nvar LMLayerWorker = /** @class */ (function () {\r\n    function LMLayerWorker(options) {\r\n        if (options === void 0) { options = {\r\n            importScripts: null,\r\n            postMessage: null\r\n        }; }\r\n        this._postMessage = options.postMessage || postMessage;\r\n        this._importScripts = options.importScripts || importScripts;\r\n        this.setupConfigState();\r\n    }\r\n    LMLayerWorker.prototype.error = function (message, error) {\r\n        // error isn\u0027t a fan of being cloned across the worker boundary.\r\n        this.cast(\u0027error\u0027, {\r\n            log: message,\r\n            error: (error \u0026\u0026 error.stack) ? error.stack : undefined\r\n        });\r\n    };\r\n    /**\r\n     * A function that can be set as self.onmessage (the Worker\r\n     * message handler).\r\n     * NOTE! You must bind it to a specific instance, e.g.:\r\n     *\r\n     *   // Do this!\r\n     *   self.onmessage = worker.onMessage.bind(worker);\r\n     *\r\n     * Incorrect:\r\n     *\r\n     *   // Don\u0027t do this!\r\n     *   self.onmessage = worker.onMessage;\r\n     *\r\n     * See: .install();\r\n     */\r\n    LMLayerWorker.prototype.onMessage = function (event) {\r\n        var message = event.data.message;\r\n        // Ensure the message is tagged with a valid message tag.\r\n        if (!message) {\r\n            throw new Error(\"Missing required \u0027message\u0027 property: \" + event.data);\r\n        }\r\n        // If last load was for this exact model file, squash the message.\r\n        // (Though not if we\u0027ve had an unload since.)\r\n        var im = event.data;\r\n        if (im.message == \u0027load\u0027) {\r\n            var data = im;\r\n            var duplicated = false;\r\n            if (this._currentModelSource \u0026\u0026 data.source.type == this._currentModelSource.type) {\r\n                if (data.source.type == \u0027file\u0027 \u0026\u0026 data.source.file == this._currentModelSource.file) {\r\n                    duplicated = true;\r\n                }\r\n                else if (data.source.type == \u0027raw\u0027 \u0026\u0026 data.source.code == this._currentModelSource.code) {\r\n                    duplicated = true;\r\n                }\r\n            }\r\n            if (duplicated) {\r\n                // Some JS implementations don\u0027t allow web workers access to the console.\r\n                if (typeof console !== \u0027undefined\u0027) {\r\n                    console.warn(\"Duplicate model load message detected - squashing!\");\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                this._currentModelSource = data.source;\r\n            }\r\n        }\r\n        else if (im.message == \u0027unload\u0027) {\r\n            this._currentModelSource = null;\r\n        }\r\n        // We got a message! Delegate to the current state.\r\n        this.state.handleMessage(im);\r\n    };\r\n    /**\r\n     * Sends back a message structured according to the protocol.\r\n     * @param message A message type.\r\n     * @param payload The message\u0027s payload. Can have any properties, except \u0027message\u0027.\r\n     */\r\n    LMLayerWorker.prototype.cast = function (message, payload) {\r\n        // Chrome raises \"TypeError: invalid invocation\" if postMessage is called\r\n        // with any non-default value for `this`, i.e., this won\u0027t work:\r\n        //\r\n        //  this._postMessage({ foo: \u0027bar\u0027 });\r\n        //\r\n        // Yank it postMessage() off of `this` so that it\u0027s called on the\r\n        // \"global\" context, and everything works again.\r\n        var postMessage = this._postMessage;\r\n        postMessage(__assign({ message: message }, payload));\r\n    };\r\n    /**\r\n     * Loads a model by executing the given source code, and\r\n     * passing in the appropriate configuration.\r\n     *\r\n     * @param desc         Type of the model to instantiate and its parameters.\r\n     * @param capabilities Capabilities on offer from the keyboard.\r\n     */\r\n    LMLayerWorker.prototype.loadModel = function (model) {\r\n        // TODO:  pass _platformConfig to model so that it can self-configure to the platform,\r\n        // returning a Configuration.\r\n        /* Note that this function is typically called from within an `importScripts` call.\r\n         * For meaningful error messages to be successfully logged, we must catch what we can here\r\n         * and pass a message to outside the worker - otherwise a generic \"Script error\" occurs.\r\n         */\r\n        try {\r\n            var configuration = model.configure(this._platformCapabilities);\r\n            // Handle deprecations.\r\n            if (!configuration.leftContextCodePoints) {\r\n                configuration.leftContextCodePoints = configuration.leftContextCodeUnits;\r\n            }\r\n            if (!configuration.rightContextCodePoints) {\r\n                configuration.rightContextCodePoints = configuration.rightContextCodeUnits;\r\n            }\r\n            // Set reasonable defaults for the configuration.\r\n            if (!configuration.leftContextCodePoints) {\r\n                configuration.leftContextCodePoints = this._platformCapabilities.maxLeftContextCodePoints;\r\n            }\r\n            if (!configuration.rightContextCodePoints) {\r\n                configuration.rightContextCodePoints = this._platformCapabilities.maxRightContextCodePoints || 0;\r\n            }\r\n            // Ensures that default casing rules exist for custom models that request casing rules but don\u0027t define them.\r\n            if (model.languageUsesCasing \u0026\u0026 !model.applyCasing) {\r\n                model.applyCasing = models.defaultApplyCasing;\r\n            }\r\n            var compositor = this.transitionToReadyState(model);\r\n            // This test allows models to directly specify the property without it being auto-overridden by\r\n            // this default.\r\n            if (configuration.wordbreaksAfterSuggestions === undefined) {\r\n                configuration.wordbreaksAfterSuggestions = (compositor.punctuation.insertAfterWord != \u0027\u0027);\r\n            }\r\n            this.cast(\u0027ready\u0027, { configuration: configuration });\r\n        }\r\n        catch (err) {\r\n            this.error(\"loadModel failed!\", err);\r\n        }\r\n    };\r\n    LMLayerWorker.prototype.loadModelFile = function (url) {\r\n        // The self/global WebWorker method, allowing us to directly import another script file into WebWorker scope.\r\n        // If built correctly, the model\u0027s script file will auto-register the model with loadModel() above.\r\n        try {\r\n            this._importScripts(url);\r\n        }\r\n        catch (err) {\r\n            this.error(\"Error occurred when attempting to load dictionary\", err);\r\n        }\r\n    };\r\n    LMLayerWorker.prototype.unloadModel = function () {\r\n        // Right now, this seems sufficient to clear out the old model.\r\n        // The only existing reference to a loaded model is held by \r\n        // transitionToReadyState\u0027s `handleMessage` closure. (The `model` var)\r\n        this.transitionToLoadingState();\r\n    };\r\n    /**\r\n     * Sets the initial state, i.e., `unconfigured`.\r\n     * This state only handles `config` messages, and will\r\n     * transition to the `modelless` state once it receives\r\n     * the config data from the host platform.\r\n     */\r\n    LMLayerWorker.prototype.setupConfigState = function () {\r\n        var _this_1 = this;\r\n        this.state = {\r\n            name: \u0027unconfigured\u0027,\r\n            handleMessage: function (payload) {\r\n                // ... that message must have been \u0027config\u0027!\r\n                if (payload.message !== \u0027config\u0027) {\r\n                    throw new Error(\"invalid message; expected \u0027config\u0027 but got \" + payload.message);\r\n                }\r\n                _this_1._platformCapabilities = payload.capabilities;\r\n                _this_1.transitionToLoadingState();\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Sets the model-loading state, i.e., `modelless`.\r\n     * This state only handles `load` messages, and will\r\n     * transition to the `ready` state once it receives a model\r\n     * description and capabilities.\r\n     */\r\n    LMLayerWorker.prototype.transitionToLoadingState = function () {\r\n        var _this = this;\r\n        this.state = {\r\n            name: \u0027modelless\u0027,\r\n            handleMessage: function (payload) {\r\n                // ...that message must have been \u0027load\u0027!\r\n                if (payload.message !== \u0027load\u0027) {\r\n                    throw new Error(\"invalid message; expected \u0027load\u0027 but got \" + payload.message);\r\n                }\r\n                // TODO: validate configuration?\r\n                if (payload.source.type == \u0027file\u0027) {\r\n                    _this.loadModelFile(payload.source.file);\r\n                }\r\n                else {\r\n                    // Creates a closure capturing all top-level names that the model must be able to reference.\r\n                    // `eval` runs by scope rules; our virtualized worker needs a special scope for this to work.\r\n                    //\r\n                    // Reference: https://stackoverflow.com/a/40108685\r\n                    // Note that we don\u0027t need `this`, but we do need the namespaces seen below. \r\n                    var code_1 = payload.source.code;\r\n                    var evalInContext = function (LMLayerWorker, models, correction, wordBreakers) {\r\n                        eval(code_1);\r\n                    };\r\n                    evalInContext(_this, models, correction, wordBreakers);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Sets the state to `ready`. This requires a\r\n     * fully-instantiated model. The `ready` state only responds\r\n     * to `predict` message, and is an accepting state.\r\n     *\r\n     * @param model The loaded language model.\r\n     */\r\n    LMLayerWorker.prototype.transitionToReadyState = function (model) {\r\n        var _this_1 = this;\r\n        var compositor = new ModelCompositor(model);\r\n        this.state = {\r\n            name: \u0027ready\u0027,\r\n            handleMessage: function (payload) {\r\n                switch (payload.message) {\r\n                    case \u0027predict\u0027:\r\n                        var transform = payload.transform, context = payload.context;\r\n                        var suggestions = compositor.predict(transform, context);\r\n                        // Now that the suggestions are ready, send them out!\r\n                        _this_1.cast(\u0027suggestions\u0027, {\r\n                            token: payload.token,\r\n                            suggestions: suggestions\r\n                        });\r\n                        break;\r\n                    case \u0027wordbreak\u0027:\r\n                        var brokenWord = models.wordbreak(model.wordbreaker || wordBreakers.default, payload.context);\r\n                        _this_1.cast(\u0027currentword\u0027, {\r\n                            token: payload.token,\r\n                            word: brokenWord\r\n                        });\r\n                        break;\r\n                    case \u0027unload\u0027:\r\n                        _this_1.unloadModel();\r\n                        break;\r\n                    case \u0027accept\u0027:\r\n                        var suggestion = payload.suggestion, context = payload.context, postTransform = payload.postTransform;\r\n                        var reversion = compositor.acceptSuggestion(suggestion, context, postTransform);\r\n                        _this_1.cast(\u0027postaccept\u0027, {\r\n                            token: payload.token,\r\n                            reversion: reversion\r\n                        });\r\n                        break;\r\n                    case \u0027revert\u0027:\r\n                        var reversion = payload.reversion, context = payload.context;\r\n                        var suggestions = compositor.applyReversion(reversion, context);\r\n                        _this_1.cast(\u0027postrevert\u0027, {\r\n                            token: payload.token,\r\n                            suggestions: suggestions\r\n                        });\r\n                        break;\r\n                    case \u0027reset-context\u0027:\r\n                        var context = payload.context;\r\n                        compositor.resetContext(context);\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"invalid message; expected one of {\u0027predict\u0027, \u0027wordbreak\u0027, \u0027accept\u0027, \u0027revert\u0027, \u0027reset-context\u0027, \u0027unload\u0027} but got \" + payload.message);\r\n                }\r\n            },\r\n            compositor: compositor\r\n        };\r\n        return compositor;\r\n    };\r\n    /**\r\n     * Creates a new instance of the LMLayerWorker, and installs all its\r\n     * functions within the provided Worker global scope.\r\n     *\r\n     * In production, this is called within the Worker\u0027s scope as:\r\n     *\r\n     *    LMLayerWorker.install(self);\r\n     *\r\n     * ...and this will setup onmessage and postMessage() appropriately.\r\n     *\r\n     * During testing, this method is useful to mock an entire global scope,\r\n     *\r\n     *    var fakeScope = { postMessage: ... };\r\n     *    LMLayerWorker.install(fakeScope);\r\n     *    // now we can spy on methods in fakeScope!\r\n     *\r\n     * @param scope A global scope to install upon.\r\n     */\r\n    LMLayerWorker.install = function (scope) {\r\n        var worker = new LMLayerWorker({ postMessage: scope.postMessage, importScripts: scope.importScripts.bind(scope) });\r\n        scope.onmessage = worker.onMessage.bind(worker);\r\n        worker.self = scope;\r\n        // Ensures that the worker instance is accessible for loaded model scripts.\r\n        // Assists unit-testing.\r\n        scope[\u0027LMLayerWorker\u0027] = worker;\r\n        scope[\u0027models\u0027] = models;\r\n        scope[\u0027correction\u0027] = correction;\r\n        scope[\u0027wordBreakers\u0027] = wordBreakers;\r\n        return worker;\r\n    };\r\n    return LMLayerWorker;\r\n}());\r\n// Let LMLayerWorker be available both in the browser and in Node.\r\nif (typeof module !== \u0027undefined\u0027 \u0026\u0026 typeof module.exports !== \u0027undefined\u0027) {\r\n    module.exports = LMLayerWorker;\r\n    module.exports[\u0027correction\u0027] = correction;\r\n    module.exports[\u0027models\u0027] = models;\r\n    module.exports[\u0027wordBreakers\u0027] = wordBreakers;\r\n    /// XXX: export the ModelCompositor for testing.\r\n    module.exports[\u0027ModelCompositor\u0027] = ModelCompositor;\r\n}\r\nelse if (typeof self !== \u0027undefined\u0027 \u0026\u0026 \u0027postMessage\u0027 in self) {\r\n    // Automatically install if we\u0027re in a Web Worker.\r\n    LMLayerWorker.install(self); // really, \u0027as typeof globalThis\u0027, but we\u0027re currently getting TS errors from use of that.\r\n}\r\nelse {\r\n    //@ts-ignore\r\n    window.LMLayerWorker = LMLayerWorker;\r\n}\r\n/*\r\n * Copyright (c) 2018 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2018 SIL International\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n//# sourceMappingURL=index.js.map\n}\n","/*!\n * https://github.com/paulmillr/es6-shim\n * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n *   and contributors,  MIT License\n * es6-shim: v0.35.4\n * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE\n * Details and documentation:\n * https://github.com/paulmillr/es6-shim/\n */\n(function(e,t){if(typeof define===\"function\"\u0026\u0026define.amd){define(t)}else if(typeof exports===\"object\"){module.exports=t()}else{e.returnExports=t()}})(this,function(){\"use strict\";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},\"x\",{get:function(){}})})};var s=!!Object.defineProperty\u0026\u0026f();var c=function foo(){}.name===\"foo\";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n\u0026\u0026t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/===\"function\"?function IsCallableSlow(e){return typeof e===\"function\"\u0026\u0026g(e)===\"[object Function]\"}:function IsCallableFast(e){return typeof e===\"function\"};var m={getter:function(e,t,r){if(!s){throw new TypeError(\"getters require true ES5 support\")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError(\"getters require true ES5 support\")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if(\"value\"in r){e[t]=r.value}},preserveToString:function(e,t){if(t\u0026\u0026d(t.toString)){h(e,\"toString\",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!==\"undefined\"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!==\"undefined\"){return self}if(typeof window!==\"undefined\"){return window}if(typeof global!==\"undefined\"){return global}throw new Error(\"unable to locate global object\")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G\u0026\u0026G.prototype[\"delete\"];var V=G\u0026\u0026G.prototype.get;var B=G\u0026\u0026G.prototype.has;var U=G\u0026\u0026G.prototype.set;var $=S.Symbol||{};var J=$.species||\"@@species\";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e===\"number\"\u0026\u0026T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t\u003c0?-1:1};var Y=function log1p(e){var t=Number(e);if(t\u003c-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)===\"[object Arguments]\"};var ee=function isArguments(e){return e!==null\u0026\u0026typeof e===\"object\"\u0026\u0026typeof e.length===\"number\"\u0026\u0026e.length\u003e=0\u0026\u0026g(e)!==\"[object Array]\"\u0026\u0026g(e.callee)===\"[object Function]\"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!==\"function\"\u0026\u0026typeof e!==\"object\"},string:function(e){return g(e)===\"[object String]\"},regex:function(e){return g(e)===\"[object RegExp]\"},symbol:function(e){return typeof S.Symbol===\"function\"\u0026\u0026typeof e===\"symbol\"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $===\"function\"\u0026\u0026typeof $[\"for\"]===\"function\"\u0026\u0026re.symbol($());var ie=re.symbol($.iterator)?$.iterator:\"_es6-shim iterator_\";if(S.Set\u0026\u0026typeof(new S.Set)[\"@@iterator\"]===\"function\"){ie=\"@@iterator\"}if(!S.Reflect){h(S,\"Reflect\",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document===\"undefined\"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null\u0026\u0026e!==fe};var ce={Call:function Call(t,r){var n=arguments.length\u003e2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+\" is not a function\")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||\"Cannot call method on \"+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e===\"function\"||typeof e===\"object\"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)\u003e\u003e0},ToUint32:function(e){return ce.ToNumber(e)\u003e\u003e\u003e0},ToNumber:function(e){if(g(e)===\"[object Symbol]\"){throw new TypeError(\"Cannot convert a Symbol value to a number\")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t\u003e0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t\u003c=0){return 0}if(t\u003eNumber.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)\u0026\u0026X(t)},SameValueZero:function(e,t){return e===t||X(e)\u0026\u0026X(t)},IsIterable:function(e){return ce.TypeIsObject(e)\u0026\u0026(typeof e[ie]!==\"undefined\"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,\"value\")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError(\"value is not an iterable\")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError(\"bad iterator\")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError(\"Method not callable: \"+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,\"return\");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError(\"Iterator\u0027s return method returned a non-object.\")}},IteratorNext:function(e){var t=arguments.length\u003e1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError(\"bad iterator\")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r===\"undefined\"?e:r;if(!n\u0026\u0026ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError(\"Bad constructor\")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError(\"Bad @@species\")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i=\"\u003c\"+t;if(r!==\"\"){var a=ce.ToString(n);var u=a.replace(/\"/g,\"\u0026quot;\");i+=\" \"+r+\u0027=\"\u0027+u+\u0027\"\u0027}var f=i+\"\u003e\";var s=f+o;return s+\"\u003c/\"+t+\"\u003e\"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!==\"undefined\"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s\u0026\u0026oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$[\"for\"](\"Symbol.\"+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le(\"search\");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!==\"undefined\"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,\"search\",ye)}if(!re.symbol($.replace)){var he=le(\"replace\");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!==\"undefined\"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,\"replace\",ge)}if(!re.symbol($.split)){var de=le(\"split\");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!==\"undefined\"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,\"split\",Oe)}var we=re.symbol($.match);var je=we\u0026\u0026function(){var e={};e[$.match]=function(){return 42};return\"a\".match(e)!==42}();if(!we||je){var Se=le(\"match\");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!==\"undefined\"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,\"match\",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,\"constructor\",t)};var Pe=function(){return this};var Ce=function(e){if(s\u0026\u0026!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]\u0026\u0026re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError(\"property is nonconfigurable\")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError(\"Constructor requires `new`: \"+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint\u0026\u0026String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,\"fromCodePoint\",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n\u003co;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r\u003c0||r\u003e1114111){throw new RangeError(\"Invalid code point \"+r)}if(r\u003c65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r\u003e\u003e10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join(\"\")},raw:function raw(e){var t=ce.ToObject(e,\"bad callSite\");var r=ce.ToObject(t.raw,\"bad raw value\");var n=r.length;var o=ce.ToLength(n);if(o\u003c=0){return\"\"}var i=[];var a=0;var u,f,s,c;while(a\u003co){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1\u003e=o){break}f=a+1\u003carguments.length?arguments[a+1]:\"\";c=ce.ToString(f);M(i,c);a+=1}return i.join(\"\")}};if(String.raw\u0026\u0026String.raw({raw:{0:\"x\",1:\"y\",length:2}})!==\"xy\"){ne(String,\"raw\",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t\u003c1){return\"\"}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r\u003c0||r\u003e=Le){throw new RangeError(\"repeat count must be less than infinity and not overflow maximum string size\")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError(\u0027Cannot call method \"startsWith\" with a regex\u0027)}var r=ce.ToString(e);var n;if(arguments.length\u003e1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError(\u0027Cannot call method \"endsWith\" with a regex\u0027)}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length\u003e1){o=arguments[1]}var i=typeof o===\"undefined\"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError(\u0027\"includes\" does not accept a RegExp\u0027)}var t=ce.ToString(e);var r;if(arguments.length\u003e1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r\u003e=0\u0026\u0026r\u003cn){var o=t.charCodeAt(r);var i=r+1===n;if(o\u003c55296||o\u003e56319||i){return o}var a=t.charCodeAt(r+1);if(a\u003c56320||a\u003e57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes\u0026\u0026\"a\".includes(\"a\",Infinity)!==false){ne(String.prototype,\"includes\",Fe.includes)}if(String.prototype.startsWith\u0026\u0026String.prototype.endsWith){var De=i(function(){return\"/a/\".startsWith(/a/)});var ze=a(function(){return\"abc\".startsWith(\"a\",Infinity)===false});if(!De||!ze){ne(String.prototype,\"startsWith\",Fe.startsWith);ne(String.prototype,\"endsWith\",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".startsWith(e)});if(!qe){ne(String.prototype,\"startsWith\",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".endsWith(e)});if(!We){ne(String.prototype,\"endsWith\",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return\"/a/\".includes(e)});if(!Ge){ne(String.prototype,\"includes\",Fe.includes)}}b(String.prototype,Fe);var He=[\"\\t\\n\\x0B\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\",\"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\",\"\\u2029\\ufeff\"].join(\"\");var Ve=new RegExp(\"(^[\"+He+\"]+)|([\"+He+\"]+$)\",\"g\");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,\"\")};var Ue=[\"\\x85\",\"\\u200b\",\"\\ufffe\"].join(\"\");var $e=new RegExp(\"[\"+Ue+\"]\",\"g\");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,\"trim\",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e===\"undefined\"||t\u003e=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r\u003c55296||r\u003e56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n\u003c56320||n\u003e57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length\u003e1){n=arguments[1]}var o,i;if(typeof n===\"undefined\"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError(\"Array.from: when provided, the second argument must be a function\")}if(arguments.length\u003e2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!==\"undefined\";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i===\"undefined\"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s\u003cu;++s){h=y[s];if(o){h=typeof i===\"undefined\"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o\u003ce;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError(\"Not an ArrayIterator\")}if(typeof t!==\"undefined\"){var r=ce.ToLength(t.length);for(;e\u003cr;e++){var n=this.kind;var o;if(n===\"key\"){o=e}else if(n===\"value\"){o=t[e]}else if(n===\"entry\"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e\u0026\u0026t.length===2}();if(!Qe){ne(Array,\"of\",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o\u003c0?A(n+o,0):R(o,n);var u=i\u003c0?A(n+i,0):R(i,n);var f;if(arguments.length\u003e2){f=arguments[2]}var s=typeof f===\"undefined\"?n:ce.ToInteger(f);var c=s\u003c0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u\u003ca\u0026\u0026a\u003cu+l){p=-1;u+=l-1;a+=l-1}while(l\u003e0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length\u003e1){t=arguments[1]}var r;if(arguments.length\u003e2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t===\"undefined\"?0:t);r=ce.ToInteger(typeof r===\"undefined\"?o:r);var i=t\u003c0?A(o+t,0):R(t,o);var a=r\u003c0?o+r:r;for(var u=i;u\u003co\u0026\u0026u\u003ca;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError(\"Array#find: predicate must be a function\")}var o=arguments.length\u003e1?arguments[1]:null;for(var i=0,a;i\u003cn;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError(\"Array#findIndex: predicate must be a function\")}var o=arguments.length\u003e1?arguments[1]:null;for(var i=0;i\u003cn;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,\"key\")},values:function values(){return new q(this,\"value\")},entries:function entries(){return new q(this,\"entry\")}};if(Array.prototype.keys\u0026\u0026!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries\u0026\u0026!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys\u0026\u0026Array.prototype.entries\u0026\u0026!Array.prototype.values\u0026\u0026Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c\u0026\u0026Array.prototype.values\u0026\u0026Array.prototype.values.name!==\"values\"){var tt=Array.prototype.values;ne(Array.prototype,\"values\",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)\u003c0){h(Array.prototype,\"indexOf\",function indexOf(e){var t=E(this,arguments);if(t===0\u0026\u00261/t\u003c0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1\u0026\u0026r(e[0])\u0026\u0026e[0][0]===0\u0026\u0026e[0][1]===0}();if(!rt||!nt){ne(Array,\"from\",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,\"from\",function from(e){if(arguments.length\u003e1\u0026\u0026typeof arguments[1]!==\"undefined\"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length\u003e\u003e\u003e0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError(\"should not reach here\")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,\"forEach\",function forEach(e){return ce.Call(ft,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,\"map\",function map(e){return ce.Call(st,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,\"filter\",function filter(e){return ce.Call(ct,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,\"some\",function some(e){return ce.Call(lt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,\"every\",function every(e){return ce.Call(pt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,\"reduce\",function reduce(e){return ce.Call(vt,this.length\u003e=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,\"reduceRight\",function reduceRight(e){return ce.Call(yt,this.length\u003e=0?this:[],arguments)},true)}var ht=Number(\"0o10\")!==8;var bt=Number(\"0b10\")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf===\"function\"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString===\"function\"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError(\"No default value\")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length\u003e0){r=re.primitive(t)?t:St(t,\"number\")}else{r=0}if(typeof r===\"string\"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e\u0026\u0026!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,\"Number\",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)\u0026\u0026ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)\u0026\u0026k(e)\u003c=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,\"parseInt\",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,\"find\",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,\"findIndex\",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s\u0026\u0026Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r\u003c0?0:r);for(var o=e;o\u003ct;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,\"Cannot convert undefined or null to object\");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign\u0026\u0026Object.preventExtensions\u0026\u0026function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,\"xy\")}catch(t){return e[1]===\"y\"}}();if(_t){ne(Object,\"assign\",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError(\"cannot set prototype on a non-object\")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError(\"can only set prototype to an object or null\"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,\"__proto__\")};b(Object,kt)}if(Object.setPrototypeOf\u0026\u0026Object.getPrototypeOf\u0026\u0026Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null\u0026\u0026Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys(\"foo\")});if(!Lt){var Ft=Object.keys;ne(Object,\"keys\",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,\"keys\",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames(\"foo\")});if(!qt){var Wt=typeof window===\"object\"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,\"getOwnPropertyNames\",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)===\"[object Window]\"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor(\"foo\",\"bar\")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,\"getOwnPropertyDescriptor\",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal(\"foo\")});if(!Bt){var Ut=Object.seal;ne(Object,\"seal\",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed(\"foo\")});if(!$t){var Jt=Object.isSealed;ne(Object,\"isSealed\",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze(\"foo\")});if(!Xt){var Kt=Object.freeze;ne(Object,\"freeze\",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen(\"foo\")});if(!Zt){var Yt=Object.isFrozen;ne(Object,\"isFrozen\",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions(\"foo\")});if(!Qt){var er=Object.preventExtensions;ne(Object,\"preventExtensions\",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible(\"foo\")});if(!tr){var rr=Object.isExtensible;ne(Object,\"isExtensible\",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf(\"foo\")});if(!nr){var or=Object.getPrototypeOf;ne(Object,\"getPrototypeOf\",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s\u0026\u0026function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\");return e\u0026\u0026ce.IsCallable(e.get)}();if(s\u0026\u0026!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError(\"Method called on incompatible type: must be an object.\")}var e=\"\";if(this.global){e+=\"g\"}if(this.ignoreCase){e+=\"i\"}if(this.multiline){e+=\"m\"}if(this.unicode){e+=\"u\"}if(this.sticky){e+=\"y\"}return e};m.getter(RegExp.prototype,\"flags\",ar)}var ur=s\u0026\u0026a(function(){return String(new RegExp(/a/g,\"i\"))===\"/a/i\"});var fr=oe\u0026\u0026s\u0026\u0026function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:\"abc\"})===\"/abc/\"});var cr=sr\u0026\u0026a(function(){return RegExp.prototype.toString.call({source:\"a\",flags:\"b\"})===\"/a/b\"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,\"toString\",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return\"/\"+r+\"/\"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s\u0026\u0026(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,\"source\")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n\u0026\u0026r\u0026\u0026typeof t===\"undefined\"\u0026\u0026e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t===\"undefined\"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t===\"undefined\"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,\"RegExp\",gr)}if(s){var dr={input:\"$_\",lastMatch:\"$\u0026\",lastParen:\"$+\",leftContext:\"$`\",rightContext:\"$\u0027\"};l(n(dr),function(e){if(e in RegExp\u0026\u0026!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e\u003c1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t\u003c2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r\u003c1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t\u003c-1||t\u003e1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t\u003c0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)\u003e.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o\u003carguments.length;++o){var i=k(Number(arguments[o]));if(n\u003ci){r*=n/i*(n/i);r+=1;n=i}else{r+=i\u003e0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r\u003c1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t\u003e=20){return 1}if(t\u003c=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t\u003c0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r\u003e\u003e\u003e16\u002665535;var i=r\u002665535;var a=n\u003e\u003e\u003e16\u002665535;var u=n\u002665535;return i*u+(o*u+i*a\u003c\u003c16\u003e\u003e\u003e0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n\u003cSr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i\u003ejr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON\u003c(r||8)};b(Math,Cr);h(Math,\"sinh\",Cr.sinh,Math.sinh(710)===Infinity);h(Math,\"cosh\",Cr.cosh,Math.cosh(710)===Infinity);h(Math,\"log1p\",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,\"asinh\",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,\"asinh\",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,\"atanh\",Cr.atanh,Math.atanh(1e-300)===0);h(Math,\"tanh\",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);\nh(Math,\"acosh\",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,\"acosh\",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,\"cbrt\",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,\"sinh\",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,\"expm1\",Cr.expm1,xr\u003e22025.465794806718||xr\u003c22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0\u0026\u0026Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,\"round\",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t\u003c.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,\"imul\",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!==\"function\"\u0026\u0026typeof e!==\"object\"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise===\"undefined\"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError(\"Bad promise constructor\")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError(\"Bad Promise implementation!\")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)\u0026\u0026ce.IsCallable(t.reject))){throw new TypeError(\"Bad promise constructor\")}};var n;if(typeof window!==\"undefined\"\u0026\u0026ce.IsCallable(window.postMessage)){n=function(){var e=[];var t=\"zero-timeout-message\";var r=function(r){M(e,r);window.postMessage(t,\"*\")};var n=function(r){if(r.source===window\u0026\u0026r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener(\"message\",n,true);return r}}var o=function(){var e=S.Promise;var t=e\u0026\u0026e.resolve\u0026\u0026e.resolve();return t\u0026\u0026function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process===\"object\"\u0026\u0026process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n\u003e0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n\u003e1){for(var o=1,i=0;o\u003cn;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n\u003e0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n\u003e1){for(var o=1,i=0;o\u003cn;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError(\"Self resolution\"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError(\u0027Constructor Promise requires \"new\"\u0027)}if(this\u0026\u0026this._promise){throw new TypeError(\"Bad construction\")}if(!ce.IsCallable(t)){throw new TypeError(\"not a valid resolver\")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Promise is not object\")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i\u0026\u0026!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Promise is not object\")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i\u0026\u0026!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Bad promise constructor\")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError(\"Bad promise constructor\")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{\"catch\":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError(\"not a promise\")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length\u003e2\u0026\u0026arguments[2]===y;if(b\u0026\u0026o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError(\"unexpected Promise state\")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr===\"function\"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s\u0026\u0026function(){var e=0;var t=Object.defineProperty({},\"then\",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,\"Promise\",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,\"all\",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,\"race\",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,\"resolve\",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,\"reject\",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,\"all\");Mt(Promise,\"race\");Mt(Promise,\"resolve\");Mt(Promise,\"reject\");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(\":\")===t.join(\":\")};var Kr=Xr([\"z\",\"a\",\"bb\"]);var Zr=Xr([\"z\",1,\"a\",\"3\",2]);if(s){var Yr=function fastkey(e,t){if(!t\u0026\u0026!Kr){return null}if(se(e)){return\"^\"+ce.ToString(e)}else if(typeof e===\"string\"){return\"$\"+e}else if(typeof e===\"number\"){if(!Zr){return\"n\"+e}return e}else if(typeof e===\"boolean\"){return\"b\"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError(\"Iterator value \"+e+\" is not an entry object\")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError(\"bad map\")}i=ce.GetIterator(o)}if(typeof i!==\"undefined\"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError(\"Iterator value \"+f+\" is not an entry object\")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError(\"bad set\")}i=ce.GetIterator(o)}if(typeof i!==\"undefined\"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError(\"Method Map.prototype.\"+t+\" called on incompatible receiver \"+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,\"[[MapIterator]]\");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError(\"Not a MapIterator\")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i===\"undefined\"){return Ke()}while(e.isRemoved()\u0026\u0026e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t===\"key\"){n=e.key}else if(t===\"value\"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}if(this\u0026\u0026this._es6map){throw new TypeError(\"Bad construction\")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length\u003e0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,\"size\",function(){if(typeof this._size===\"undefined\"){throw new TypeError(\"size method called on incompatible Map\")}return this._size});b(a,{get:function get(e){o(this,\"get\");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,\"has\");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!==\"undefined\"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,\"set\");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!==\"undefined\"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},\"delete\":function(t){o(this,\"delete\");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]===\"undefined\"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,\"clear\");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,\"keys\");return new i(this,\"key\")},values:function values(){o(this,\"values\");return new i(this,\"value\")},entries:function entries(){o(this,\"entries\");return new i(this,\"key+value\")},forEach:function forEach(e){o(this,\"forEach\");var r=arguments.length\u003e1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set\u0026\u0026typeof e._storage!==\"undefined\"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError(\"Set.prototype.\"+r+\" called on incompatible receiver \"+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError(\u0027Constructor Set requires \"new\"\u0027)}if(this\u0026\u0026this._es6set){throw new TypeError(\"Bad construction\")}var e=Ae(this,Set,o,{_es6set:true,\"[[SetData]]\":null,_storage:Qr()});if(!e._es6set){throw new TypeError(\"bad set\")}if(arguments.length\u003e0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t===\"^null\"){return null}else if(t===\"^undefined\"){return void 0}else{var r=t.charAt(0);if(r===\"$\"){return C(t,1)}else if(r===\"n\"){return+C(t,1)}else if(r===\"b\"){return t===\"btrue\"}}return+t};var u=function ensureMap(e){if(!e[\"[[SetData]]\"]){var t=new rn.Map;e[\"[[SetData]]\"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e[\"[[SetData]]\"]=t}e._storage=null};m.getter(i.prototype,\"size\",function(){r(this,\"size\");if(this._storage){return n(this._storage).length}u(this);return this[\"[[SetData]]\"].size});b(i.prototype,{has:function has(e){r(this,\"has\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this[\"[[SetData]]\"].has(e)},add:function add(e){r(this,\"add\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this[\"[[SetData]]\"].set(e,e);return this},\"delete\":function(e){r(this,\"delete\");var t;if(this._storage\u0026\u0026(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]\u0026\u0026n}u(this);return this[\"[[SetData]]\"][\"delete\"](e)},clear:function clear(){r(this,\"clear\");if(this._storage){this._storage=Qr()}if(this[\"[[SetData]]\"]){this[\"[[SetData]]\"].clear()}},values:function values(){r(this,\"values\");u(this);return new f(this[\"[[SetData]]\"].values())},entries:function entries(){r(this,\"entries\");u(this);return new f(this[\"[[SetData]]\"].entries())},forEach:function forEach(e){r(this,\"forEach\");var n=arguments.length\u003e1?arguments[1]:null;var o=this;u(o);this[\"[[SetData]]\"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,\"keys\",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError(\"Not a SetIterator\")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set\u0026\u0026!Set.prototype[\"delete\"]\u0026\u0026Set.prototype.remove\u0026\u0026Set.prototype.items\u0026\u0026Set.prototype.map\u0026\u0026Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}var e=new G;if(arguments.length\u003e0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,\"constructor\",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e\u0026\u0026e.get(-0)===e\u0026\u0026e.has(0)\u0026\u0026e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,\"set\",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype[\"delete\"]\u0026\u0026Set.prototype.add\u0026\u0026Set.prototype.has\u0026\u0026function(e){e[\"delete\"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype[\"delete\"];Set.prototype[\"delete\"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype[\"delete\"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf\u0026\u0026!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError(\u0027Constructor Map requires \"new\"\u0027)}var e=new G;if(arguments.length\u003e0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,\"constructor\",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf\u0026\u0026!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError(\u0027Constructor Set requires \"new\"\u0027)}var e=new wn;if(arguments.length\u003e0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,\"constructor\",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!==\"function\"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!==\"function\"||typeof S.Set.prototype.keys!==\"function\"||typeof S.Map.prototype.forEach!==\"function\"||typeof S.Set.prototype.forEach!==\"function\"||u(S.Map)||u(S.Set)||typeof jn.keys().next!==\"function\"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,\"keys\",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c\u0026\u0026S.Set.prototype.has.name!==\"has\"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,\"has\",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError(\"target must be an object\")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError(\"First argument must be a constructor.\")}var r=arguments.length\u003e2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError(\"new.target must be a constructor.\")}return ce.Construct(e,t,r,\"internal\")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r\u0026\u0026!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if(\"value\"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if(\"value\"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length\u003e2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length\u003e3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf\u0026\u0026En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null\u0026\u0026!ce.TypeIsObject(t)){throw new TypeError(\"proto must be an object or null\")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible\u0026\u0026!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c\u0026\u0026Rn\u0026\u0026Rn.name!==\"getPrototypeOf\"){ne(S.Reflect,\"getPrototypeOf\",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,\"setPrototypeOf\",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,\"test\",{value:1});var t=typeof Object.preventExtensions!==\"function\"||!S.Reflect.defineProperty(Object.preventExtensions({}),\"test\",{});return e\u0026\u0026t})){ne(S.Reflect,\"defineProperty\",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,\"construct\",En.construct)}}if(String(new Date(NaN))!==\"Invalid Date\"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return\"Invalid Date\"}return ce.Call(_n,this)};ne(Date.prototype,\"toString\",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,\"a\",\"name\",e)},big:function big(){return ce.CreateHTML(this,\"big\",\"\",\"\")},blink:function blink(){return ce.CreateHTML(this,\"blink\",\"\",\"\")},bold:function bold(){return ce.CreateHTML(this,\"b\",\"\",\"\")},fixed:function fixed(){return ce.CreateHTML(this,\"tt\",\"\",\"\")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,\"font\",\"color\",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,\"font\",\"size\",e)},italics:function italics(){return ce.CreateHTML(this,\"i\",\"\",\"\")},link:function link(e){return ce.CreateHTML(this,\"a\",\"href\",e)},small:function small(){return ce.CreateHTML(this,\"small\",\"\",\"\")},strike:function strike(){return ce.CreateHTML(this,\"strike\",\"\",\"\")},sub:function sub(){return ce.CreateHTML(this,\"sub\",\"\",\"\")},sup:function sub(){return ce.CreateHTML(this,\"sup\",\"\",\"\")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,\"\",\u0027 \" \u0027);var i=P([],o.match(/\"/g)).length;n=o!==o.toLowerCase()||i\u003e2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON===\"object\"\u0026\u0026typeof JSON.stringify===\"function\"?JSON.stringify:null;if(!e){return false}if(typeof e($())!==\"undefined\"){return true}if(e([$()])!==\"[null]\"){return true}var t={a:$()};t[$()]=true;if(e(t)!==\"{}\"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))===\"{}\"\u0026\u0026JSON.stringify([Object($())])===\"[{}]\"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,\"stringify\",function stringify(e){if(typeof e===\"symbol\"){return}var n;if(arguments.length\u003e1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!==\"symbol\"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length\u003e2){o.push(arguments[2])}return zn.apply(this,o)})}return S});\n//# sourceMappingURL=es6-shim.map\n","/// \u003creference path=\"node_modules/es6-shim/es6-shim.min.js\" /\u003e\r\n\r\n/*\r\n * Copyright (c) 2018 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2018 SIL International\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n\r\ntype Resolve\u003cT\u003e = (value?: T | PromiseLike\u003cT\u003e) =\u003e void;\r\ntype Reject = (reason?: any) =\u003e void;\r\ninterface PromiseCallbacks\u003cT\u003e {\r\n  resolve: Resolve\u003cT\u003e;\r\n  reject: Reject;\r\n}\r\n\r\nnamespace com.keyman.text.prediction {\r\n  /**\r\n   * Associate tokens with promises.\r\n   *\r\n   * First, .make() a promise -- associate a token with resolve/reject callbacks.\r\n   *\r\n   * You can either .keep() a promise -- resolve() and forget it;\r\n   * Or you may also .break() a promise -- reject() and forget it.\r\n   * \r\n   * \u003cT\u003e is the type of resolved value (value yielded successfully by promise).\r\n   */\r\n  export class PromiseStore\u003cT\u003e {\r\n    // IE11 offers partial support for new Map().\r\n    // Assume only .get(), .set(), .has(), .delete(), and .size work.\r\n    // See: http://kangax.github.io/compat-table/es6/#test-Map\r\n    private _promises: Map\u003cToken, PromiseCallbacks\u003cT\u003e\u003e;\r\n    constructor() {\r\n      this._promises = new Map();\r\n    }\r\n    /**\r\n     * How many promises are currently being tracked?\r\n     */\r\n    get length(): number {\r\n      return this._promises.size;\r\n    }\r\n    /**\r\n     * Associate a token with its respective resolve and reject callbacks.\r\n     */\r\n    make(token: Token, resolve: Resolve\u003cT\u003e, reject: Reject): void {\r\n      if (this._promises.has(token)) {\r\n        return reject(`Existing request with token ${token}`);\r\n      }\r\n      this._promises.set(token, { reject, resolve });\r\n    }\r\n    /**\r\n     * Resolve the promise associated with a token (with a value!).\r\n     * Once the promise is resolved, the token is removed..\r\n     */\r\n    keep(token: Token, value: T) {\r\n      let callbacks = this._promises.get(token);\r\n      if (!callbacks) {\r\n        throw new Error(`No promise associated with token: ${token}`);\r\n      }\r\n      let accept = callbacks.resolve;\r\n      this._promises.delete(token);\r\n      return accept(value);\r\n    }\r\n    /**\r\n     * Instantly reject and forget a promise associated with the token.\r\n     */\r\n    break(token: Token, reason?: any): void {\r\n      let callbacks = this._promises.get(token);\r\n      if (!callbacks) {\r\n        throw new Error(`No promise associated with token: ${token}`);\r\n      }\r\n      this._promises.delete(token);\r\n      callbacks.reject(reason);\r\n    }\r\n  }\r\n}","/*\r\n * Copyright (c) 2018 National Research Council Canada (author: Eddie A. Santos)\r\n * Copyright (c) 2018 SIL International\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/// \u003creference path=\"node_modules/es6-shim/es6-shim.min.js\" /\u003e\r\n/// \u003creference path=\"promise-store.ts\" /\u003e\r\n\r\n/**\r\n * Top-level interface to the Language Modelling layer, or \"LMLayer\" for short.\r\n * \r\n * The Language Modelling layer provides a way for keyboards to offer prediction and\r\n * correction functionalities. The LMLayer proper runs within a Web Worker, however,\r\n * this class is intended to run in the main thread, and automatically spawn a Web\r\n * Worker, capable of offering predictions.\r\n * \r\n * Since the Worker runs in a different thread, the public methods of this class are\r\n * asynchronous. Methods of note include:\r\n * \r\n *  - #loadModel() -- loads a specified model file\r\n *  - #predict() -- ask the LMLayer to offer suggestions (predictions or corrections) for\r\n *                  the input event\r\n *  - #unloadModel() -- unloads the LMLayer\u0027s currently loaded model, preparing it to\r\n *                          receive (load) a new model\r\n * \r\n * The top-level LMLayer will automatically starts up its own Web Worker.\r\n */\r\n\r\nnamespace com.keyman.text.prediction {\r\n  export class LMLayer {\r\n    /**\r\n     * The underlying worker instance. By default, this is the LMLayerWorker. \r\n     */\r\n    private _worker: Worker;\r\n    /** Call this when the LMLayer has sent us the \u0027ready\u0027 message! */\r\n    private _declareLMLayerReady: (conf: Configuration) =\u003e void;\r\n    private _predictPromises: PromiseStore\u003cSuggestion[]\u003e;\r\n    private _wordbreakPromises: PromiseStore\u003cUSVString\u003e;\r\n    private _acceptPromises: PromiseStore\u003cReversion\u003e;\r\n    private _revertPromises: PromiseStore\u003cSuggestion[]\u003e;\r\n    private _nextToken: number;\r\n    private capabilities: Capabilities;\r\n\r\n    /**\r\n     * Construct the top-level LMLayer interface. This also starts the underlying Worker.\r\n     * \r\n     * @param uri URI of the underlying LMLayer worker code. This will usually be a blob:\r\n     *            or file: URI. If uri is not provided, this will start the default Worker.\r\n     */\r\n    constructor(capabilities: Capabilities, worker?: Worker) {\r\n      // Either use the given worker, or instantiate the default worker.\r\n      this._worker = worker || DefaultWorker.constructInstance();\r\n      this._worker.onmessage = this.onMessage.bind(this)\r\n      this._declareLMLayerReady = null;\r\n      this._predictPromises = new PromiseStore();\r\n      this._wordbreakPromises = new PromiseStore();\r\n      this._acceptPromises = new PromiseStore();\r\n      this._revertPromises = new PromiseStore();\r\n      this._nextToken = Number.MIN_SAFE_INTEGER;\r\n\r\n      this.sendConfig(capabilities);\r\n    }\r\n\r\n    /**\r\n     * Initializes the LMLayer worker with the host platform\u0027s capability set.\r\n     * \r\n     * @param capabilities The host platform\u0027s capability spec - a model cannot assume access to more context\r\n     *                     than specified by this parameter.\r\n     */\r\n    private sendConfig(capabilities: Capabilities) {\r\n      this._worker.postMessage({\r\n        message: \u0027config\u0027,\r\n        capabilities: capabilities\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Initializes the LMLayer worker with a path to the desired model file.\r\n     */\r\n    loadModel(modelSource: string, loadType: \u0027file\u0027 | \u0027raw\u0027 = \u0027file\u0027): Promise\u003cConfiguration\u003e {\r\n      return new Promise((resolve, _reject) =\u003e {\r\n        // Sets up so the promise is resolved in the onMessage() callback, when it receives\r\n        // the \u0027ready\u0027 message.\r\n        this._declareLMLayerReady = resolve;\r\n\r\n        let modelSourceSpec: any = {\r\n          type: loadType\r\n        };\r\n\r\n        if(loadType == \u0027file\u0027) {\r\n          modelSourceSpec.file = modelSource;\r\n        } else {\r\n          modelSourceSpec.code = modelSource;\r\n        }\r\n\r\n        this._worker.postMessage({\r\n          message: \u0027load\u0027,\r\n          source: modelSourceSpec\r\n        });\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Unloads the previously-active model from memory, resetting the LMLayer to prep\r\n     * for transition to use of a new model.\r\n     */\r\n    public unloadModel() {\r\n      this._worker.postMessage({\r\n        message: \u0027unload\u0027\r\n      });\r\n    }\r\n\r\n    predict(transform: Transform | Distribution\u003cTransform\u003e, context: Context): Promise\u003cSuggestion[]\u003e {\r\n      let token = this._nextToken++;\r\n      return new Promise((resolve, reject) =\u003e {\r\n        this._predictPromises.make(token, resolve, reject);\r\n        this._worker.postMessage({\r\n          message: \u0027predict\u0027,\r\n          token: token,\r\n          transform: transform,\r\n          context: context,\r\n        });\r\n      });\r\n    }\r\n\r\n    wordbreak(context: Context): Promise\u003cUSVString\u003e {\r\n      let token = this._nextToken++;\r\n      return new Promise((resolve, reject) =\u003e {\r\n        this._wordbreakPromises.make(token, resolve, reject);\r\n        this._worker.postMessage({\r\n          message: \u0027wordbreak\u0027,\r\n          token: token,\r\n          context: context\r\n        })\r\n      });\r\n    }\r\n\r\n    acceptSuggestion(suggestion: Suggestion, context: Context, postTransform: Transform): Promise\u003cReversion\u003e {\r\n      let token = this._nextToken++;\r\n      return new Promise((resolve, reject) =\u003e {\r\n        this._acceptPromises.make(token, resolve, reject);\r\n        this._worker.postMessage({\r\n          message: \u0027accept\u0027,\r\n          token: token,\r\n          suggestion: suggestion,\r\n          context: context,\r\n          postTransform: postTransform\r\n        });\r\n      });\r\n    }\r\n\r\n    revertSuggestion(reversion: Reversion, context: Context): Promise\u003cSuggestion[]\u003e {\r\n      let token = this._nextToken++;\r\n      return new Promise((resolve, reject) =\u003e {\r\n        this._revertPromises.make(token, resolve, reject);\r\n        this._worker.postMessage({\r\n          message: \u0027revert\u0027,\r\n          token: token,\r\n          reversion: reversion,\r\n          context: context\r\n        })\r\n      });\r\n    }\r\n\r\n    resetContext(context: Context) {\r\n      this._worker.postMessage({\r\n        message: \u0027reset-context\u0027,\r\n        context: context\r\n      });\r\n    }\r\n\r\n    // TODO: asynchronous close() method.\r\n    //       Worker code must recognize message and call self.close().\r\n\r\n    private onMessage(event: MessageEvent): void {\r\n      let payload: OutgoingMessage = event.data;\r\n      if (payload.message === \u0027error\u0027) {\r\n        console.error(payload.log);\r\n        if(payload.error) {\r\n          console.error(payload.error);\r\n        }\r\n      }\r\n      else if (payload.message === \u0027ready\u0027) {\r\n        this._declareLMLayerReady(event.data.configuration);\r\n      } else if (payload.message === \u0027suggestions\u0027) {\r\n        this._predictPromises.keep(payload.token, payload.suggestions);\r\n      } else if (payload.message === \u0027currentword\u0027) {\r\n        this._wordbreakPromises.keep(payload.token, payload.word);\r\n      } else if (payload.message === \u0027postaccept\u0027) {\r\n        this._acceptPromises.keep(payload.token, payload.reversion);\r\n      } else if (payload.message === \u0027postrevert\u0027) {\r\n        this._revertPromises.keep(payload.token, payload.suggestions);\r\n      } else {\r\n        // This branch should never execute, but just in case...\r\n        //@ts-ignore\r\n        throw new Error(`Message not implemented: ${payload.message}`);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Clears out any computational resources in use by the LMLayer, including shutting\r\n     * down any internal WebWorkers.\r\n     */\r\n    public shutdown() {\r\n      this._worker.terminate();\r\n    }\r\n\r\n    /**\r\n     * Given a function, this utility returns the source code within it, as a string.\r\n     * This is intended to unwrap the \"wrapped\" source code created in the LMLayerWorker\r\n     * build process.\r\n     *\r\n     * @param fn The function whose body will be returned.\r\n     */\r\n    static unwrap(fn: Function): string {\r\n      let wrapper = fn.toString();\r\n      let match = wrapper.match(/function[^{]+{((?:.|\\r|\\n)+)}[^}]*$/);\r\n      return match[1];\r\n    }\r\n  }\r\n}\r\n\r\n(function () {\r\n  let ns = com.keyman.text.prediction;\r\n\r\n  // Let LMLayer be available both in the browser and in Node.\r\n  if (typeof module !== \u0027undefined\u0027 \u0026\u0026 typeof module.exports !== \u0027undefined\u0027) {\r\n    module.exports = ns.LMLayer;\r\n    //@ts-ignore\r\n    ns.LMLayer.PromiseStore = ns.PromiseStore;\r\n  } else {\r\n    //@ts-ignore\r\n    window.LMLayer = ns.LMLayer;\r\n  }\r\n}());","///\u003creference path=\"../../../node_modules/@keymanapp/lexical-model-layer/embedded_worker.d.ts\" /\u003e\r\n///\u003creference path=\"../../../node_modules/@keymanapp/lexical-model-layer/message.d.ts\" /\u003e\r\n///\u003creference path=\"../../../node_modules/@keymanapp/lexical-model-layer/index.ts\" /\u003e\r\n///\u003creference path=\"../../includes/events.ts\" /\u003e\r\n\r\nnamespace com.keyman.text.prediction {\r\n  export interface ModelSpec {\r\n    /**\r\n     * The model\u0027s unique identifier.\r\n     */\r\n    id: string;\r\n\r\n    /**\r\n     * The list of supported BCP-47 language codes.  Only one language should be supported,\r\n     * although multiple variants based on region code (at min) may be specified.\r\n     */\r\n    languages: string[];\r\n\r\n    /**\r\n     * The path/URL to the file that defines the model.  If both `path` and `raw` are specified,\r\n     * `path` takes precedence.\r\n     */\r\n    path: string;\r\n\r\n    /**\r\n     * The raw JS script defining the model.  Only used if `path` is not specified.  \r\n     */\r\n    code: string;\r\n  }\r\n\r\n  /**\r\n   * Corresponds to the \u0027suggestionsready\u0027 LanguageProcessor event.\r\n   */\r\n  export type ReadySuggestionsHandler = (prediction: ReadySuggestions) =\u003e boolean;\r\n\r\n  export type StateChangeEnum = \u0027active\u0027|\u0027configured\u0027|\u0027inactive\u0027;\r\n  /**\r\n   * Corresponds to the \u0027statechange\u0027 LanguageProcessor event.\r\n   */\r\n  export type StateChangeHandler = (state: StateChangeEnum) =\u003e boolean;\r\n\r\n  /**\r\n   * Covers both \u0027tryaccept\u0027 and \u0027tryrevert\u0027 events.\r\n   */\r\n  export type TryUIHandler = (source: string) =\u003e boolean;\r\n\r\n  export type InvalidateSourceEnum = \u0027new\u0027|\u0027context\u0027;\r\n\r\n  /**\r\n   * Corresponds to the \u0027invalidatesuggestions\u0027 LanguageProcessor event.\r\n   */\r\n  export type InvalidateSuggestionsHandler = (source: InvalidateSourceEnum) =\u003e boolean;\r\n\r\n  export class TranscriptionContext implements Context {\r\n    left: string;\r\n    right?: string;\r\n\r\n    startOfBuffer: boolean;\r\n    endOfBuffer: boolean;\r\n\r\n    constructor(mock: Mock, config: Configuration) {\r\n      this.left = mock.getTextBeforeCaret();\r\n      this.startOfBuffer = this.left._kmwLength() \u003c= config.leftContextCodePoints;\r\n      if(!this.startOfBuffer) {\r\n        // Our custom substring version will return the last n characters if param #1 is given -n.\r\n        this.left = this.left._kmwSubstr(-config.leftContextCodePoints);\r\n      }\r\n\r\n      this.right = mock.getTextAfterCaret();\r\n      this.endOfBuffer = this.right._kmwLength() \u003c= config.rightContextCodePoints;\r\n      if(!this.endOfBuffer) {\r\n        this.right = this.right._kmwSubstr(0, config.rightContextCodePoints);\r\n      }\r\n    }\r\n  }\r\n\r\n  export class ReadySuggestions {\r\n    suggestions: Suggestion[];\r\n    transcriptionID: number;\r\n\r\n    constructor(suggestions: Suggestion[], id: number) {\r\n      this.suggestions = suggestions;\r\n      this.transcriptionID = id;\r\n    }\r\n  }\r\n\r\n  type SupportedEventNames = \"suggestionsready\" | \"invalidatesuggestions\" | \"statechange\" | \"tryaccept\" | \"tryrevert\";\r\n  type SupportedEventHandler = InvalidateSuggestionsHandler | ReadySuggestionsHandler | StateChangeHandler | TryUIHandler;\r\n\r\n  export class LanguageProcessor extends EventEmitter {\r\n    private lmEngine: LMLayer;\r\n    private currentModel?: ModelSpec;\r\n    private configuration?: Configuration;\r\n    private currentPromise?: Promise\u003cSuggestion[]\u003e;\r\n\r\n    private recentTranscriptions: Transcription[] = [];\r\n\r\n    private _mayPredict: boolean = true;\r\n    private _mayCorrect: boolean = true;\r\n\r\n    private static readonly TRANSCRIPTION_BUFFER: 10 = 10;\r\n\r\n    public init(supportsRightDeletions: boolean = false) {\r\n      // Establishes KMW\u0027s platform \u0027capabilities\u0027, which limit the range of context a LMLayer\r\n      // model may expect.\r\n      let capabilities: Capabilities = {\r\n        maxLeftContextCodePoints: 64,\r\n        // Since the apps don\u0027t yet support right-deletions.\r\n        maxRightContextCodePoints: supportsRightDeletions ? 0 : 64\r\n      }\r\n\r\n      if(!this.canEnable()) {\r\n        return;\r\n      }\r\n\r\n      this.lmEngine = new LMLayer(capabilities);\r\n    }\r\n\r\n    public get activeModel(): ModelSpec {\r\n      return this.currentModel;\r\n    }\r\n\r\n    public unloadModel() {\r\n      this.lmEngine.unloadModel();\r\n      delete this.currentModel;\r\n      delete this.configuration;\r\n\r\n      this.emit(\u0027statechange\u0027, \u0027inactive\u0027);\r\n    }\r\n\r\n    loadModel(model: ModelSpec): Promise\u003cvoid\u003e {\r\n      if(!model) {\r\n        throw new Error(\"Null reference not allowed.\");\r\n      }\r\n\r\n      let specType: \u0027file\u0027|\u0027raw\u0027 = model.path ? \u0027file\u0027 : \u0027raw\u0027;\r\n      let source = specType == \u0027file\u0027 ? model.path : model.code;\r\n      let lp = this;\r\n\r\n      // We pre-emptively emit so that the banner\u0027s DOM elements may update synchronously.\r\n      // Prevents an ugly \"flash of unstyled content\" layout issue during keyboard load\r\n      // on our mobile platforms when embedded.\r\n      lp.currentModel = model;\r\n      if(this.mayPredict) {\r\n        lp.emit(\u0027statechange\u0027, \u0027active\u0027);\r\n      }\r\n\r\n      return this.lmEngine.loadModel(source, specType).then(function(config: Configuration) { \r\n        lp.configuration = config;\r\n        lp.emit(\u0027statechange\u0027, \u0027configured\u0027);\r\n      }).catch(function(error) { \r\n        // Does this provide enough logging information?\r\n        let message: string;\r\n        if(error instanceof Error) {\r\n          message = error.message;\r\n        } else {\r\n          message = String(error);\r\n        }\r\n        console.error(\"Could not load model \u0027\" + model.id + \"\u0027: \" + message);\r\n\r\n        // Since the model couldn\u0027t load, immediately deactivate.  Visually, it\u0027ll look\r\n        // like the banner crashed shortly after load.\r\n        lp.currentModel = null;\r\n        lp.emit(\u0027statechange\u0027, \u0027inactive\u0027);\r\n      });\r\n    }\r\n\r\n    public invalidateContext(outputTarget?: OutputTarget) {\r\n      // Signal to any predictive text UI that the context has changed, invalidating recent predictions.\r\n      this.emit(\u0027invalidatesuggestions\u0027, \u0027context\u0027);\r\n\r\n      // If there\u0027s no active model, there can be no predictions.\r\n      // We\u0027ll also be missing important data needed to even properly REQUEST the predictions.\r\n      if(!this.currentModel || !this.configuration) {\r\n        return;\r\n      }\r\n\r\n      // Don\u0027t attempt predictions when disabled!\r\n      // invalidateContext otherwise bypasses .predict()\u0027s check against this.\r\n      if(!this.isActive) {\r\n        return;\r\n      } else if(outputTarget) {\r\n        let transcription = outputTarget.buildTranscriptionFrom(outputTarget, null);\r\n        this.predict_internal(transcription, true);\r\n      } else {\r\n        // Shouldn\u0027t be possible, and we\u0027ll want to know if and when it is.\r\n        console.warn(\"OutputTarget missing during an invalidateContext call\");\r\n      }\r\n    }\r\n\r\n    public wordbreak(target: OutputTarget): Promise\u003cstring\u003e {\r\n      if(!this.isActive) {\r\n        return null;\r\n      }\r\n\r\n      let context = new TranscriptionContext(Mock.from(target), this.configuration);\r\n      return this.lmEngine.wordbreak(context);\r\n    }\r\n\r\n    public predict(transcription: Transcription): Promise\u003cSuggestion[]\u003e {\r\n      if(!this.isActive) {\r\n        return null;\r\n      }\r\n\r\n      // If there\u0027s no active model, there can be no predictions.\r\n      // We\u0027ll also be missing important data needed to even properly REQUEST the predictions.\r\n      if(!this.currentModel || !this.configuration) {\r\n        return null;\r\n      }\r\n            \r\n      // We\u0027ve already invalidated any suggestions resulting from any previously-existing Promise -\r\n      // may as well officially invalidate them via event.\r\n      this.emit(\"invalidatesuggestions\", \u0027new\u0027);\r\n\r\n      return this.predict_internal(transcription);\r\n    }\r\n\r\n    public applySuggestion(suggestion: Suggestion, outputTarget: OutputTarget): Promise\u003cReversion\u003e {\r\n      if(!outputTarget) {\r\n        throw \"Accepting suggestions requires a destination OutputTarget instance.\"\r\n      }\r\n      \r\n      // Find the state of the context at the time the suggestion was generated.\r\n      // This may refer to the context before an input keystroke or before application\r\n      // of a predictive suggestion.\r\n      let original = this.getPredictionState(suggestion.transformId);\r\n      if(!original) {\r\n        console.warn(\"Could not apply the Suggestion!\");\r\n        return null;\r\n      } else {\r\n        // Apply the Suggestion!\r\n\r\n        // Step 1:  determine the final output text\r\n        let final = text.Mock.from(original.preInput);\r\n        final.apply(suggestion.transform);\r\n\r\n        // Step 2:  build a final, master Transform that will produce the desired results from the CURRENT state.\r\n        // In embedded mode, both Android and iOS are best served by calculating this transform and applying its\r\n        // values as needed for use with their IME interfaces.\r\n        let transform = final.buildTransformFrom(outputTarget);\r\n        outputTarget.apply(transform);\r\n\r\n        // Build a \u0027reversion\u0027 Transcription that can be used to undo this apply() if needed,\r\n        // replacing the suggestion transform with the original input text.\r\n        let preApply = text.Mock.from(original.preInput);\r\n        preApply.apply(original.transform);\r\n\r\n        // Builds the reversion option according to the loaded lexical model\u0027s known\r\n        // syntactic properties.\r\n        let suggestionContext = new TranscriptionContext(original.preInput, this.configuration);\r\n\r\n        // We must accept the Suggestion from its original context, which was before\r\n        // `original.transform` was applied.\r\n        let reversionPromise: Promise\u003cReversion\u003e = this.lmEngine.acceptSuggestion(suggestion, suggestionContext, original.transform);\r\n\r\n        // Also, request new prediction set based on the resulting context.\r\n        let lp = this;\r\n        reversionPromise = reversionPromise.then(function(reversion) {\r\n          let mappedReversion: Reversion = {\r\n            // By mapping back to the original Transcription that generated the Suggestion,\r\n            // the input will be automatically rewound to the preInput state.\r\n            transform: original.transform,\r\n            // The ID part is critical; the reversion can\u0027t be applied without it.\r\n            transformId: -original.token, // reversions use the additive inverse.\r\n            displayAs: reversion.displayAs,  // The real reason we needed to call the LMLayer.\r\n            id: reversion.id,\r\n            tag: reversion.tag\r\n          }\r\n          // // If using the version from lm-layer:\r\n          // let mappedReversion = reversion;\r\n          // mappedReversion.transformId = reversionTranscription.token;\r\n          lp.predictFromTarget(outputTarget);\r\n          return mappedReversion;\r\n        });\r\n\r\n        return reversionPromise;\r\n      }\r\n    }\r\n\r\n    public applyReversion(reversion: Reversion, outputTarget: OutputTarget) {\r\n      if(!outputTarget) {\r\n        throw \"Accepting suggestions requires a destination OutputTarget instance.\"\r\n      }\r\n      \r\n      // Find the state of the context at the time the suggestion was generated.\r\n      // This may refer to the context before an input keystroke or before application\r\n      // of a predictive suggestion.\r\n      //\r\n      // Reversions use the additive inverse of the id token of the Transcription being\r\n      // reverted to.\r\n      let original = this.getPredictionState(-reversion.transformId);\r\n      if(!original) {\r\n        console.warn(\"Could not apply the Suggestion!\");\r\n        return;\r\n      }\r\n      \r\n      // Apply the Reversion!\r\n\r\n      // Step 1:  determine the final output text\r\n      let final = text.Mock.from(original.preInput);\r\n      final.apply(reversion.transform); // Should match original.transform, actually. (See applySuggestion)\r\n\r\n      // Step 2:  build a final, master Transform that will produce the desired results from the CURRENT state.\r\n      // In embedded mode, both Android and iOS are best served by calculating this transform and applying its\r\n      // values as needed for use with their IME interfaces.\r\n      let transform = final.buildTransformFrom(outputTarget);\r\n      outputTarget.apply(transform);\r\n\r\n      // The reason we need to preserve the additive-inverse \u0027transformId\u0027 property on Reversions.\r\n      let promise = this.lmEngine.revertSuggestion(reversion, new TranscriptionContext(original.preInput, this.configuration))\r\n\r\n      let lp = this;\r\n      return promise.then(function(suggestions: Suggestion[]) {\r\n        let result = new ReadySuggestions(suggestions, transform.id);\r\n        lp.emit(\"suggestionsready\", result);\r\n        lp.currentPromise = null;\r\n\r\n        return suggestions;\r\n      });\r\n    }\r\n\r\n    public predictFromTarget(outputTarget: OutputTarget): Promise\u003cSuggestion[]\u003e {\r\n      if(!outputTarget) {\r\n        return null;\r\n      }\r\n\r\n      let transcription = outputTarget.buildTranscriptionFrom(outputTarget, null);\r\n      return this.predict(transcription);\r\n    }\r\n\r\n    /**\r\n     * Called internally to do actual predictions after any relevant \"invalidatesuggestions\" events\r\n     * have been raised.\r\n     * @param transcription The triggering transcription (if it exists)\r\n     */\r\n    private predict_internal(transcription: Transcription, resetContext: boolean = false): Promise\u003cSuggestion[]\u003e {\r\n      if(!transcription) {\r\n        return null;\r\n      }\r\n\r\n      let context = new TranscriptionContext(transcription.preInput, this.configuration);\r\n      this.recordTranscription(transcription);\r\n\r\n      if(resetContext) {\r\n        this.lmEngine.resetContext(context);\r\n      }\r\n\r\n      let transform = transcription.transform;\r\n      var promise = this.currentPromise = this.lmEngine.predict(transcription.alternates || transcription.transform, context);\r\n\r\n      let lp = this;\r\n      return promise.then(function(suggestions: Suggestion[]) {\r\n        if(promise == lp.currentPromise) {\r\n          let result = new ReadySuggestions(suggestions, transform.id);\r\n          lp.emit(\"suggestionsready\", result);\r\n          lp.currentPromise = null;\r\n        }\r\n\r\n        return suggestions;\r\n      });\r\n    }\r\n\r\n    private recordTranscription(transcription: Transcription) {\r\n      this.recentTranscriptions.push(transcription);\r\n\r\n      if(this.recentTranscriptions.length \u003e LanguageProcessor.TRANSCRIPTION_BUFFER) {\r\n        this.recentTranscriptions.splice(0, 1);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Retrieves the context and output state of KMW immediately before the prediction with \r\n     * token `id` was generated.  Must correspond to a \u0027recent\u0027 one, as only so many are stored\r\n     * in `ModelManager`\u0027s history buffer.\r\n     * @param id A unique identifier corresponding to a recent `Transcription`.\r\n     * @returns The matching `Transcription`, or `null` none is found.\r\n     */\r\n    public getPredictionState(id: number): Transcription {\r\n      let match = this.recentTranscriptions.filter(function(t: Transcription) {\r\n        return t.token == id;\r\n      })\r\n\r\n      return match.length == 0 ? null : match[0];\r\n    }\r\n\r\n    public shutdown() {\r\n      this.lmEngine.shutdown();\r\n    }\r\n\r\n    public get isActive(): boolean {\r\n      if(!this.canEnable()) {\r\n        this._mayPredict = false;\r\n        return false;\r\n      }\r\n      return (this.activeModel || false) \u0026\u0026 this._mayPredict;\r\n    }\r\n\r\n    public canEnable(): boolean {\r\n      // Is overridden for dom-aware KMW in case of old IE versions.\r\n      return true;\r\n    }\r\n\r\n    public get mayPredict() {\r\n      return this._mayPredict;\r\n    }\r\n\r\n    public set mayPredict(flag: boolean) {\r\n      if(!this.canEnable()) {\r\n        return;\r\n      }\r\n\r\n      let oldVal = this._mayPredict;\r\n      this._mayPredict = flag;\r\n\r\n      if(oldVal != flag) {\r\n        // If there\u0027s no model to be activated and we\u0027ve reached this point,\r\n        // the banner should remain inactive, as it already was.\r\n        // If it there was one and we\u0027ve reached this point, we\u0027re globally\r\n        // deactivating, so we\u0027re fine.\r\n        if(this.activeModel) {\r\n          this.emit(\u0027statechange\u0027, flag ? \u0027active\u0027 : \u0027inactive\u0027);\r\n        }\r\n      }\r\n    }\r\n\r\n    public get mayCorrect() {\r\n      return this._mayCorrect;\r\n    }\r\n\r\n    public set mayCorrect(flag: boolean) {\r\n      this._mayCorrect = flag;\r\n    }\r\n\r\n    public get wordbreaksAfterSuggestions() {\r\n      return this.configuration.wordbreaksAfterSuggestions;\r\n    }\r\n\r\n    public tryAcceptSuggestion(source: string): boolean {\r\n      let returnObj = {shouldSwallow: false};\r\n      this.emit(\u0027tryaccept\u0027, source, returnObj);\r\n\r\n      return returnObj.shouldSwallow;\r\n    }\r\n\r\n    public tryRevertSuggestion(): boolean {\r\n      let returnObj = {shouldSwallow: false};\r\n      this.emit(\u0027tryrevert\u0027, returnObj);\r\n\r\n      return returnObj.shouldSwallow;\r\n    }\r\n  }\r\n}","// Defines a \u0027polyfill\u0027 of sorts for NPM\u0027s events module\r\n/// \u003creference path=\"../includes/events.ts\" /\u003e\r\n/// \u003creference path=\"../../node_modules/@keymanapp/keyboard-processor/src/text/keyboardProcessor.ts\" /\u003e\r\n/// \u003creference path=\"prediction/languageProcessor.ts\" /\u003e\r\n\r\nnamespace com.keyman.text {\r\n  export class InputProcessor {\r\n    public static readonly DEFAULT_OPTIONS: ProcessorInitOptions = {\r\n      baseLayout: \u0027us\u0027\r\n    }\r\n\r\n    private kbdProcessor: KeyboardProcessor;\r\n    private lngProcessor: prediction.LanguageProcessor;\r\n\r\n    constructor(options?: ProcessorInitOptions) {\r\n      if(!options) {\r\n        options = InputProcessor.DEFAULT_OPTIONS;\r\n      }\r\n\r\n      this.kbdProcessor = new KeyboardProcessor(options);\r\n      this.lngProcessor = new prediction.LanguageProcessor();\r\n    }\r\n\r\n    public get languageProcessor(): prediction.LanguageProcessor {\r\n      return this.lngProcessor;\r\n    }\r\n\r\n    public get keyboardProcessor(): KeyboardProcessor {\r\n      return this.kbdProcessor;\r\n    }\r\n\r\n    public get keyboardInterface(): text.KeyboardInterface {\r\n      return this.keyboardProcessor.keyboardInterface;\r\n    }\r\n\r\n    public get activeKeyboard(): keyboards.Keyboard {\r\n      return this.keyboardInterface.activeKeyboard;\r\n    }\r\n\r\n    public set activeKeyboard(keyboard: keyboards.Keyboard) {\r\n      this.keyboardInterface.activeKeyboard = keyboard;\r\n\r\n      // All old deadkeys and keyboard-specific cache should immediately be invalidated\r\n      // on a keyboard change.\r\n      this.resetContext();\r\n    }\r\n\r\n    public get activeModel(): prediction.ModelSpec {\r\n      return this.languageProcessor.activeModel;\r\n    }\r\n\r\n        /**\r\n     * Simulate a keystroke according to the touched keyboard button element\r\n     *\r\n     * Handles default output and keyboard processing for both OSK and physical keystrokes.\r\n     * \r\n     * @param       {Object}      keyEvent      The abstracted KeyEvent to use for keystroke processing\r\n     * @param       {Object}      outputTarget  The OutputTarget receiving the KeyEvent\r\n     * @returns     {Object}                    A RuleBehavior object describing the cumulative effects of\r\n     *                                          all matched keyboard rules.\r\n     */\r\n    processKeyEvent(keyEvent: KeyEvent, outputTarget: OutputTarget): RuleBehavior {\r\n      let formFactor = keyEvent.device.formFactor;\r\n      let fromOSK = keyEvent.isSynthetic;\r\n\r\n      // The default OSK layout for desktop devices does not include nextlayer info, relying on modifier detection here.\r\n      // It\u0027s the OSK equivalent to doModifierPress on \u0027desktop\u0027 form factors.\r\n      if((formFactor == utils.FormFactor.Desktop || !this.activeKeyboard || this.activeKeyboard.usesDesktopLayoutOnDevice(keyEvent.device)) \u0026\u0026 fromOSK) {\r\n        // If it\u0027s a desktop OSK style and this triggers a layer change,\r\n        // a modifier key was clicked.  No output expected, so it\u0027s safe to instantly exit.\r\n        if(this.keyboardProcessor.selectLayer(keyEvent)) {\r\n          return new RuleBehavior();\r\n        }\r\n      }\r\n\r\n      // Will handle keystroke-based non-layer change modifier \u0026 state keys, mapping them through the physical keyboard\u0027s version\r\n      // of state management.\r\n      if(!fromOSK \u0026\u0026 this.keyboardProcessor.doModifierPress(keyEvent, outputTarget, !fromOSK)) {\r\n        return new RuleBehavior();\r\n      }\r\n\r\n      // If suggestions exist AND space is pressed, accept the suggestion and do not process the keystroke.\r\n      // If a suggestion was just accepted AND backspace is pressed, revert the change and do not process the backspace.\r\n      // We check the first condition here, while the prediction UI handles the second through the try__() methods below.\r\n      if(this.languageProcessor.isActive) {\r\n        // The following code relies on JS\u0027s logical operator \"short-circuit\" properties to prevent unwanted triggering of the second condition.\r\n\r\n        // Can the suggestion UI revert a recent suggestion?  If so, do that and swallow the backspace.\r\n        if((keyEvent.kName == \"K_BKSP\" || keyEvent.Lcode == Codes.keyCodes[\"K_BKSP\"]) \u0026\u0026 this.languageProcessor.tryRevertSuggestion()) {\r\n          return new RuleBehavior();\r\n          // Can the suggestion UI accept an existing suggestion?  If so, do that and swallow the space character.\r\n        } else if((keyEvent.kName == \"K_SPACE\" || keyEvent.Lcode == Codes.keyCodes[\"K_SPACE\"]) \u0026\u0026 this.languageProcessor.tryAcceptSuggestion(\u0027space\u0027)) {\r\n          return new RuleBehavior();\r\n        }\r\n      }\r\n\r\n      // // ...end I3363 (Build 301)\r\n\r\n      // Create a \"mock\" backup of the current outputTarget in its pre-input state.\r\n      // Current, long-existing assumption - it\u0027s DOM-backed.\r\n      let preInputMock = Mock.from(outputTarget);\r\n      let ruleBehavior = this.keyboardProcessor.processKeystroke(keyEvent, outputTarget);\r\n\r\n      // Swap layer as appropriate.\r\n      if(keyEvent.kNextLayer) {\r\n        this.keyboardProcessor.selectLayer(keyEvent);\r\n      }\r\n      \r\n      // Should we swallow any further processing of keystroke events for this keydown-keypress sequence?\r\n      if(ruleBehavior != null) {\r\n        let alternates: Alternate[];\r\n\r\n        // If we\u0027re performing a \u0027default command\u0027, it\u0027s not a standard \u0027typing\u0027 event - don\u0027t do fat-finger stuff.\r\n        // Also, don\u0027t do fat-finger stuff if predictive text isn\u0027t enabled.\r\n        if(this.languageProcessor.isActive \u0026\u0026 !ruleBehavior.triggersDefaultCommand) {\r\n          // Note - we don\u0027t yet do fat-fingering with longpress keys.\r\n          if(keyEvent.keyDistribution \u0026\u0026 keyEvent.kbdLayer) {\r\n            let activeLayout = this.activeKeyboard.layout(keyEvent.device.formFactor);\r\n            alternates = [];\r\n    \r\n            let totalMass = 0; // Tracks sum of non-error probabilities.\r\n            for(let pair of keyEvent.keyDistribution) {\r\n              let mock = Mock.from(preInputMock);\r\n              \r\n              let altKey = activeLayout.getLayer(keyEvent.kbdLayer).getKey(pair.keyId);\r\n              if(!altKey) {\r\n                console.warn(\"Potential fat-finger key could not be found in layer!\");\r\n                continue;\r\n              }\r\n\r\n              let altEvent = altKey.constructKeyEvent(this.keyboardProcessor, keyEvent.device);\r\n              let alternateBehavior = this.keyboardProcessor.processKeystroke(altEvent, mock);\r\n              \r\n              // If alternateBehavior.beep == true, ignore it.  It\u0027s a disallowed key sequence,\r\n              // so we expect users to never intend their use.\r\n              if(alternateBehavior \u0026\u0026 !alternateBehavior.beep \u0026\u0026 pair.p \u003e 0) {\r\n                let transform: Transform = alternateBehavior.transcription.transform;\r\n                \r\n                // Ensure that the alternate\u0027s token id matches that of the current keystroke, as we only\r\n                // record the matched rule\u0027s context (since they match)\r\n                transform.id = ruleBehavior.transcription.token;\r\n                alternates.push({sample: transform, \u0027p\u0027: pair.p});\r\n                totalMass += pair.p;\r\n              }\r\n            }\r\n\r\n            // Renormalizes the distribution, as any error (beep) results\r\n            // will result in a distribution that doesn\u0027t sum to 1 otherwise.\r\n            // All `.p` values are strictly positive, so totalMass is\r\n            // guaranteed to be \u003e 0 if the array has entries.\r\n            alternates.forEach(function(alt) {\r\n              alt.p /= totalMass;\r\n            });\r\n          }\r\n        }\r\n\r\n        // Now that we\u0027ve done all the keystroke processing needed, ensure any extra effects triggered\r\n        // by the actual keystroke occur.\r\n        ruleBehavior.finalize(this.keyboardProcessor, outputTarget);\r\n\r\n        // -- All keystroke (and \u0027alternate\u0027) processing is now complete.  Time to finalize everything! --\r\n        \r\n        // Notify the ModelManager of new input - it\u0027s predictive text time!\r\n        ruleBehavior.transcription.alternates = alternates;\r\n        // Yes, even for ruleBehavior.triggersDefaultCommand.  Those tend to change the context.\r\n        ruleBehavior.predictionPromise = this.languageProcessor.predict(ruleBehavior.transcription);\r\n\r\n        // Text did not change (thus, no text \"input\") if we tabbed or merely moved the caret.\r\n        if(!ruleBehavior.triggersDefaultCommand) {\r\n          // For DOM-aware targets, this will trigger a DOM event page designers may listen for.\r\n          outputTarget.doInputEvent();\r\n        }\r\n      }\r\n\r\n      return ruleBehavior;\r\n    }\r\n\r\n    public resetContext(outputTarget?: OutputTarget) {\r\n      this.keyboardProcessor.resetContext();\r\n      this.languageProcessor.invalidateContext(outputTarget);\r\n    }\r\n  }\r\n}\r\n\r\n(function () {\r\n  let ns = com.keyman.text;\r\n\r\n  // Let the InputProcessor be available both in the browser and in Node.\r\n  if (typeof module !== \u0027undefined\u0027 \u0026\u0026 typeof module.exports !== \u0027undefined\u0027) {\r\n    module.exports = ns.InputProcessor;\r\n    //@ts-ignore\r\n    ns.InputProcessor.com = com; // Export the root namespace so that all InputProcessor classes are accessible by unit tests.\r\n  }\r\n}());","/*\r\n * This file defines DOM-specific keyboard API that is not available in headless mode, extending web-core\u0027s\r\n * base KeyboardInterface offerings.\r\n */\r\nnamespace com.keyman.text {\r\n  /**\r\n   * Function     registerKeyboard  KR                    \r\n   * Scope        Public\r\n   * @param       {Object}      Pk      Keyboard  object\r\n   * Description  Register and load the keyboard.  This implementation overwrites web-core\u0027s intentionally,\r\n   *              as web-core lacks access to the `KeyboardManager` object and class.\r\n   */    \r\n  KeyboardInterface.prototype.registerKeyboard = function(Pk): void {\r\n    let keyman = com.keyman.singleton;\r\n    keyman.keyboardManager._registerKeyboard(Pk);\r\n  }\r\n\r\n  /**\r\n   * Add the basic keyboard parameters (keyboard stub) to the array of keyboard stubs\r\n   * If no language code is specified in a keyboard it cannot be registered, \r\n   * and a keyboard stub must be registered before the keyboard is loaded \r\n   * for the keyboard to be usable.\r\n   * \r\n   * @param       {Object}      Pstub     Keyboard stub object\r\n   * @return      {?number}               1 if already registered, else null\r\n   */    \r\n  KeyboardInterface.prototype.registerStub = function(Pstub): number {\r\n    let keyman = com.keyman.singleton;\r\n    return keyman.keyboardManager._registerStub(Pstub);\r\n  }\r\n\r\n  /**\r\n   * Function     KT\r\n   * Scope        Public\r\n   * @param       {string}      Ptext     Text to insert\r\n   * @param       {?number}     PdeadKey  Dead key number, if any (???)\r\n   * @return      {boolean}               true if inserted\r\n   * Description  Insert text into active control.  Is utilized by keyboards with custom help HTML and requires\r\n   *              special DOM handling.\r\n   */    \r\n  KeyboardInterface.prototype.insertText = function(Ptext: string, PdeadKey:number): boolean {\r\n    let keyman = com.keyman.singleton;\r\n    this.resetContextCache();\r\n\r\n    // Find the correct output target to manipulate.\r\n    let outputTarget: OutputTarget = this.activeTargetOutput ? this.activeTargetOutput : dom.Utils.getOutputTarget();\r\n\r\n    if(outputTarget != null) {\r\n      // Required for the `sil_euro_latin` keyboard\u0027s desktop OSK/table to function properly.\r\n      keyman.uiManager.setActivatingUI(true);\r\n      dom.DOMEventHandlers.states._IgnoreNextSelChange = 100;\r\n      keyman.domManager.focusLastActiveElement();\r\n      dom.DOMEventHandlers.states._IgnoreNextSelChange = 0;\r\n\r\n      if(Ptext!=null) {\r\n        this.output(0, outputTarget, Ptext);\r\n      }\r\n\r\n      if((typeof(PdeadKey)!==\u0027undefined\u0027) \u0026\u0026 (PdeadKey !== null)) {\r\n        this.deadkeyOutput(0, outputTarget, PdeadKey);\r\n      }\r\n\r\n      outputTarget.invalidateSelection();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Function     KSF\r\n   * Scope        Public\r\n   * Description  Save keyboard focus\r\n   */    \r\n  KeyboardInterface.prototype.saveFocus = function(): void {\r\n    dom.DOMEventHandlers.states._IgnoreNextSelChange = 1;\r\n  }\r\n  \r\n  /**\r\n   * Legacy entry points (non-standard names)- included only to allow existing IME keyboards to continue to be used\r\n   */\r\n  KeyboardInterface.prototype[\u0027getLastActiveElement\u0027] = function(): OutputTarget {\r\n    return dom.Utils.getOutputTarget();\r\n  }\r\n\r\n  KeyboardInterface.prototype[\u0027focusLastActiveElement\u0027] = function(): void {\r\n    let keyman = com.keyman.singleton;\r\n    keyman.domManager.focusLastActiveElement();\r\n  }\r\n\r\n  //The following entry points are defined but should not normally be used in a keyboard, as OSK display is no longer determined by the keyboard\r\n  KeyboardInterface.prototype[\u0027hideHelp\u0027] = function(): void {\r\n    let keyman = com.keyman.singleton;\r\n    keyman.osk._Hide(true);\r\n  }\r\n\r\n  KeyboardInterface.prototype[\u0027showHelp\u0027] = function(Px: number, Py: number): void {\r\n    let keyman = com.keyman.singleton;\r\n    keyman.osk._Show(Px,Py);\r\n  }\r\n\r\n  KeyboardInterface.prototype[\u0027showPinnedHelp\u0027] = function(): void {\r\n    let keyman = com.keyman.singleton;\r\n    keyman.osk.userPositioned=true;\r\n    keyman.osk._Show(-1,-1);\r\n  }\r\n\r\n  // Also needed for some legacy CJK keyboards.\r\n  KeyboardInterface.prototype[\u0027GetLastActiveElement\u0027] = KeyboardInterface.prototype[\u0027getLastActiveElement\u0027];\r\n  KeyboardInterface.prototype[\u0027FocusLastActiveElement\u0027] = KeyboardInterface.prototype[\u0027focusLastActiveElement\u0027];\r\n  KeyboardInterface.prototype[\u0027HideHelp\u0027] = KeyboardInterface.prototype[\u0027hideHelp\u0027];\r\n  KeyboardInterface.prototype[\u0027ShowHelp\u0027] = KeyboardInterface.prototype[\u0027showHelp\u0027];\r\n  KeyboardInterface.prototype[\u0027ShowPinnedHelp\u0027] = KeyboardInterface.prototype[\u0027showPinnedHelp\u0027];\r\n}","// Includes Device definitions, which may play a role in constant logic.\r\n///\u003creference path=\"../kmwdevice.ts\" /\u003e\r\n\r\n/*\r\n * This file is intended for CSS-styling constants that see use with the OSK.\r\n */\r\n\r\nnamespace com.keyman.utils {\r\n  /**\r\n   * Defines device-level constants used for CSS styling.\r\n   */\r\n  export class StyleConstants {\r\n    constructor(device: Device) {\r\n      // popupCanvasBackgroundColor\r\n      if(device.OS == \u0027Android\u0027) {\r\n        this.popupCanvasBackgroundColor = \u0027#999\u0027;\r\n      } else {\r\n        this.popupCanvasBackgroundColor = device.colorScheme == \u0027dark\u0027 ? \u0027#0f1319\u0027 : \u0027#ffffff\u0027;\r\n      }  \r\n    }\r\n\r\n    public readonly popupCanvasBackgroundColor: string;\r\n  }\r\n}","// Includes version-related functionality\r\n///\u003creference path=\"utils/styleConstants.ts\" /\u003e\r\n\r\n// The Device object definition -------------------------------------------------\r\n\r\nnamespace com.keyman {\r\n  export class Device {\r\n    touchable: boolean;\r\n    OS: string;\r\n    formFactor: string;\r\n    dyPortrait: number;\r\n    dyLandscape: number;\r\n    version: string;\r\n    orientation: string|number;\r\n    browser: string;\r\n    colorScheme: \u0027light\u0027 | \u0027dark\u0027;\r\n\r\n    private detected: boolean = false;\r\n    private _styles: utils.StyleConstants;\r\n\r\n    // Generates a default Device value.\r\n    constructor() {\r\n      this.touchable = !!(\u0027ontouchstart\u0027 in window);\r\n      this.OS = \u0027\u0027;\r\n      this.formFactor=\u0027desktop\u0027;\r\n      this.dyPortrait=0;\r\n      this.dyLandscape=0;\r\n      this.version=\u00270\u0027;\r\n      this.orientation=window.orientation;\r\n      this.browser=\u0027\u0027;\r\n    }\r\n\r\n    /**\r\n     * Get device horizontal DPI for touch devices, to set actual size of active regions\r\n     * Note that the actual physical DPI may be somewhat different.\r\n     * \r\n     * @return      {number}               \r\n     */       \r\n    getDPI(): number {\r\n      var t=document.createElement(\u0027DIV\u0027) ,s=t.style,dpi=96;\r\n      if(document.readyState !== \u0027complete\u0027) {\r\n        return dpi;\r\n      }\r\n      \r\n      t.id=\u0027calculateDPI\u0027;\r\n      s.position=\u0027absolute\u0027; s.display=\u0027block\u0027;s.visibility=\u0027hidden\u0027;\r\n      s.left=\u002710px\u0027; s.top=\u002710px\u0027; s.width=\u00271in\u0027; s.height=\u002710px\u0027;\r\n      document.body.appendChild(t);\r\n      dpi=(typeof window.devicePixelRatio == \u0027undefined\u0027) ? t.offsetWidth : t.offsetWidth * window.devicePixelRatio;\r\n      document.body.removeChild(t);\r\n      return dpi;    \r\n    }\r\n\r\n    detect() : void {\r\n      var IEVersion = Device._GetIEVersion();\r\n      var possMacSpoof = false;\r\n      \r\n      if(navigator \u0026\u0026 navigator.userAgent) {\r\n        var agent=navigator.userAgent;\r\n\r\n        if(agent.indexOf(\u0027iPad\u0027) \u003e= 0) {\r\n          this.OS=\u0027iOS\u0027;\r\n          this.formFactor=\u0027tablet\u0027;\r\n          this.dyPortrait=this.dyLandscape=0;\r\n        } else if(agent.indexOf(\u0027iPhone\u0027) \u003e= 0) { \r\n          this.OS=\u0027iOS\u0027;\r\n          this.formFactor=\u0027phone\u0027;\r\n          this.dyPortrait=this.dyLandscape=25;\r\n        } else if(agent.indexOf(\u0027Android\u0027) \u003e= 0) {\r\n          this.OS=\u0027Android\u0027;\r\n          this.formFactor=\u0027phone\u0027;    // form factor may be redefined on initialization\r\n          this.dyPortrait=75;\r\n          this.dyLandscape=25;\r\n          try {\r\n            var rx=new RegExp(\"(?:Android\\\\s+)(\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\");\r\n            this.version=agent.match(rx)[1];\r\n          } catch(ex) {}\r\n        } else if(agent.indexOf(\u0027Linux\u0027) \u003e= 0) {\r\n          this.OS=\u0027Linux\u0027;\r\n        } else if(agent.indexOf(\u0027Macintosh\u0027) \u003e= 0) {\r\n          // Starting with 13.1, \"Macintosh\" can reflect iPads (by default) or iPhones \r\n          // (by user setting); a new \"Request Desktop Website\" setting for Safari will\r\n          // change the user agent string to match a desktop Mac.\r\n          //\r\n          // Firefox uses \u0027.\u0027 between version components, while Chrome and Safari use\r\n          // \u0027_\u0027 instead.  So, we have to check for both.  Yay.\r\n          let regex = /Intel Mac OS X (\\d+(?:[_\\.]\\d+)+)/i;\r\n          let results = regex.exec(agent);\r\n          \r\n          // Match result:  a version string with components separated by underscores.\r\n          if(!results) {\r\n            console.warn(\"KMW could not properly parse the user agent string.\"\r\n              + \"A suboptimal keyboard layout may result.\");\r\n            this.OS=\u0027MacOSX\u0027;\r\n          } else if(results.length \u003e 1 \u0026\u0026 results[1]) {\r\n            // Convert version string into a usable form.\r\n            let versionString = results[1].replace(\u0027_\u0027, \u0027.\u0027);\r\n            let version = new utils.Version(versionString);\r\n\r\n            possMacSpoof = utils.Version.MAC_POSSIBLE_IPAD_ALIAS.compareTo(version) \u003c= 0;\r\n            this.OS=\u0027MacOSX\u0027;\r\n          }\r\n        } else if(agent.indexOf(\u0027Windows NT\u0027) \u003e= 0) {\r\n          this.OS=\u0027Windows\u0027;\r\n          if(agent.indexOf(\u0027Touch\u0027) \u003e= 0) {\r\n            this.formFactor=\u0027phone\u0027;   // will be redefined as tablet if resolution high enough\r\n          }\r\n          \r\n          // Windows Phone and Tablet PC\r\n          if(typeof navigator.msMaxTouchPoints == \u0027number\u0027 \u0026\u0026 navigator.msMaxTouchPoints \u003e 0) {\r\n            this.touchable=true;\r\n          }\r\n        }\r\n      }\r\n\r\n      // var sxx=device.formFactor;\r\n      // Check and possibly revise form factor according to actual screen size (adjusted for Galaxy S, maybe OK generally?)\r\n      if(this.formFactor == \u0027tablet\u0027 \u0026\u0026 Math.min(screen.width,screen.height) \u003c 400) {\r\n        this.formFactor=\u0027phone\u0027;\r\n      }\r\n\r\n      // Trust what iOS tells us for phone vs tablet.\r\n      if(this.formFactor == \u0027phone\u0027  \u0026\u0026 Math.max(screen.width,screen.height) \u003e 720 \u0026\u0026 this.OS != \u0027iOS\u0027) {\r\n        this.formFactor=\u0027tablet\u0027;\r\n      }\r\n\r\n      // Test for potential Chrome emulation on Windows or macOS X (used only in next if-check)\r\n      let possibleChromeEmulation = navigator.platform == \u0027Win32\u0027 || navigator.platform == \u0027MacIntel\u0027\r\n\r\n      //                           alert(sxx+\u0027-\u003e\u0027+device.formFactor);\r\n      // Check for phony iOS devices (but don\u0027t undo for Chrome emulation used during development)\r\n      if(this.OS == \u0027iOS\u0027 \u0026\u0026 !(\u0027ongesturestart\u0027 in window) \u0026\u0026 !possibleChromeEmulation) {\r\n        this.OS=\u0027Android\u0027;\r\n      }\r\n    \r\n      // Determine application or browser\r\n      this.browser=\u0027web\u0027;\r\n      if(IEVersion \u003c 999) {\r\n        this.browser=\u0027ie\u0027;\r\n      } else {\r\n        if(this.OS == \u0027iOS\u0027 || this.OS.toLowerCase() == \u0027macosx\u0027) {\r\n          this.browser=\u0027safari\u0027;\r\n        }\r\n\r\n        var bMatch=/Firefox|Chrome|OPR|Safari|Edge/;\r\n        if(bMatch.test(navigator.userAgent)) {\r\n          if((navigator.userAgent.indexOf(\u0027Firefox\u0027) \u003e= 0) \u0026\u0026 (\u0027onmozorientationchange\u0027 in screen)) {\r\n            this.browser=\u0027firefox\u0027;\r\n          } else if(navigator.userAgent.indexOf(\u0027OPR\u0027) \u003e= 0) {\r\n            this.browser=\u0027opera\u0027;\r\n          } else if(navigator.userAgent.indexOf(\u0027 Edge/\u0027) \u003e= 0) {\r\n            // Edge is too common a word, so test for Edge/ :)\r\n            // Must come before Chrome and Safari test because\r\n            // Edge pretends to be both\r\n            this.browser=\u0027edge\u0027;\r\n          } else if(navigator.userAgent.indexOf(\u0027Chrome\u0027) \u003e= 0) {\r\n            // This test must come before Safari test because on macOS,\r\n            // Chrome also reports \"Safari\"\r\n            this.browser=\u0027chrome\u0027;\r\n          } else if(navigator.userAgent.indexOf(\u0027Safari\u0027) \u003e= 0) {\r\n            this.browser=\u0027safari\u0027;\r\n          }\r\n        } \r\n      }\r\n\r\n      if(possMacSpoof \u0026\u0026 this.browser == \u0027safari\u0027) {\r\n        // Indistinguishable user agent string!  We need a different test; fortunately, true macOS\r\n        // Safari doesn\u0027t support TouchEvents.  (Chrome does, though!  Hence the filter above.)\r\n        if(window[\u0027TouchEvent\u0027]) {\r\n          this.OS=\u0027iOS\u0027;\r\n          this.formFactor=\u0027tablet\u0027;\r\n          this.dyPortrait=this.dyLandscape=0;\r\n\r\n          // It\u0027s currently impossible to differentiate between iPhone and iPad here\r\n          // except for by screen dimensions.\r\n          let aspectRatio = screen.height / screen.width;\r\n          if(aspectRatio \u003c 1) {\r\n            aspectRatio = 1 / aspectRatio;\r\n          }\r\n\r\n          // iPhones usually have a ratio of 16:9 (or 1.778) or higher, while iPads use 4:3 (or 1.333)\r\n          if(aspectRatio \u003e 1.6) {\r\n            // Override - we\u0027ll treat this device as an iPhone.\r\n            this.formFactor = \u0027phone\u0027;\r\n            this.dyPortrait=this.dyLandscape=25;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.colorScheme = this.prefersDarkMode() ? \u0027dark\u0027 : \u0027light\u0027;\r\n      this.detected = true;\r\n    }\r\n\r\n    static _GetIEVersion() {\r\n      var n, agent=\u0027\u0027;\r\n      \r\n      if(\u0027userAgent\u0027 in navigator) {\r\n        agent=navigator.userAgent;\r\n      }\r\n      \r\n      // Test first for old versions\r\n      if(\u0027selection\u0027 in document) {         // only defined for IE and not for IE 11!!!       \r\n        var appVer=navigator.appVersion;\r\n        n=appVer.indexOf(\u0027MSIE \u0027);\r\n        if(n \u003e= 0) {\r\n          // Check for quirks mode page, always return 6 if so\r\n          if((document as Document).compatMode == \u0027BackCompat\u0027) {\r\n            return 6;\r\n          }\r\n          \r\n          appVer=appVer.substr(n+5);\r\n          n=appVer.indexOf(\u0027.\u0027);\r\n          if(n \u003e 0) {\r\n            return parseInt(appVer.substr(0,n),10);\r\n          }\r\n        }              \r\n      }\r\n        \r\n      // Finally test for IE 11 (and later?)\r\n      n=agent.indexOf(\u0027Trident/\u0027);\r\n      if(n \u003c 0) {\r\n        return 999;\r\n      }\r\n      \r\n      agent=agent.substr(n+8);\r\n      n=agent.indexOf(\u0027.\u0027);\r\n      if(n \u003e 0){\r\n        return parseInt(agent.substr(0,n),10)+4;\r\n      }\r\n    \r\n      return 999;\r\n    }\r\n\r\n    /**\r\n     * Checks is a user\u0027s browser is in dark mode, if the feature is supported.  Returns false otherwise.\r\n     * \r\n     * Thanks to https://stackoverflow.com/a/57795518 for this code.\r\n     */\r\n    private prefersDarkMode(): boolean {\r\n      // Ensure the detector exists (otherwise, returns false)\r\n      return window.matchMedia \u0026\u0026 window.matchMedia(\u0027(prefers-color-scheme: dark)\u0027).matches;\r\n    }\r\n\r\n    public get styles(): utils.StyleConstants {\r\n      if(!this._styles) {\r\n        if(!this.detected) {\r\n          this.detect();\r\n        }\r\n        \r\n        this._styles = new utils.StyleConstants(this);\r\n      }\r\n\r\n      return this._styles;\r\n    }\r\n\r\n    /**\r\n     * Returns a slimmer, web-core compatible version of this object.\r\n     */\r\n    public get coreSpec(): utils.DeviceSpec {\r\n      return new utils.DeviceSpec(this.browser, this.formFactor, this.OS, this.touchable);\r\n    }\r\n  }\r\n}","namespace com.keyman.dom {\r\n\r\n  // Defines DOM-related utility functions that are not reliant on KMW\u0027s internal state.\r\n  export class Utils {\r\n    /**\r\n     * Finds the `OutputTarget` associated with the specified element, or the currently-active element if not specified.\r\n     * @param Lelem The element corresponding to the desired `OutputTarget`\r\n     */\r\n    static getOutputTarget(Lelem?: HTMLElement): text.OutputTarget {\r\n      if(!Lelem) {\r\n        // Since this may be used to test modularly, we can\u0027t depend on the existence of the KMW global.\r\n        let keyman = com.keyman[\u0027singleton\u0027];\r\n        if(keyman) {\r\n          Lelem = keyman.domManager.getLastActiveElement();\r\n        }\r\n        \r\n        if(!Lelem) {\r\n          // If we\u0027re trying to find an active target but one doesn\u0027t exist, just return null.\r\n          return null;\r\n        }\r\n      }\r\n\r\n      // If we were provided an element or found an active element but it\u0027s improperly attached, that should cause an error.\r\n      if(Lelem._kmwAttachment \u0026\u0026 Lelem._kmwAttachment.interface) {\r\n        return Lelem._kmwAttachment.interface;\r\n      } else {\r\n        throw new Error(\"OSK could not find element output target data!\");\r\n      }\r\n    }\r\n    \r\n    /**\r\n     * Function     getAbsoluteX\r\n     * Scope        Public\r\n     * @param       {Object}    Pobj        HTML element\r\n     * @return      {number}               \r\n     * Description  Returns x-coordinate of Pobj element absolute position with respect to page\r\n     */\r\n    static getAbsoluteX(Pobj: HTMLElement): number { // I1476 - Handle SELECT overlapping END\r\n      var Lobj: HTMLElement\r\n\r\n      if(!Pobj) {\r\n        return 0;\r\n      }\r\n      \r\n      var Lcurleft = Pobj.offsetLeft ? Pobj.offsetLeft : 0;\r\n      Lobj = Pobj;   \t// I2404 - Support for IFRAMEs\r\n\r\n      if (Lobj.offsetParent) {\r\n        while (Lobj.offsetParent) {\r\n          Lobj = Lobj.offsetParent as HTMLElement;\r\n          Lcurleft += Lobj.offsetLeft;\r\n        }\r\n\r\n        // On mobile devices, the OSK uses \u0027fixed\u0027 - this requires some extra offset work to handle.\r\n        let Ldoc = Lobj.ownerDocument;\r\n        if(Lobj.style.position == \u0027fixed\u0027 \u0026\u0026 Ldoc \u0026\u0026 Ldoc.scrollingElement) {\r\n          Lcurleft += Ldoc.scrollingElement.scrollLeft;\r\n        }\r\n      }\r\n      // Correct position if element is within a frame (but not if the controller is in document within that frame)\r\n      // We used to reference a KMW state variable `this.keyman._MasterDocument`, but it was only ever set to `window.document`.\r\n      if(Lobj \u0026\u0026 Lobj.ownerDocument \u0026\u0026 (Pobj.ownerDocument != window.document)) {\r\n        var Ldoc=Lobj.ownerDocument;   // I2404 - Support for IFRAMEs\r\n\r\n        if(Ldoc \u0026\u0026 Ldoc.defaultView \u0026\u0026 Ldoc.defaultView.frameElement) {\r\n          return Lcurleft + Utils.getAbsoluteX(\u003cHTMLElement\u003eLdoc.defaultView.frameElement) - Ldoc.documentElement.scrollLeft;\r\n        }\r\n      }\r\n      return Lcurleft;\r\n    }\r\n\r\n    /**\r\n     * Function     getAbsoluteY\r\n     * Scope        Public\r\n     * @param       {Object}    Pobj        HTML element\r\n     * @return      {number}               \r\n     * Description  Returns y-coordinate of Pobj element absolute position with respect to page\r\n     */  \r\n    static getAbsoluteY(Pobj: HTMLElement): number {\r\n      var Lobj: HTMLElement\r\n\r\n      if(!Pobj) {\r\n        return 0;\r\n      }\r\n      var Lcurtop = Pobj.offsetTop ? Pobj.offsetTop : 0;\r\n      Lobj = Pobj;  // I2404 - Support for IFRAMEs\r\n\r\n      if (Lobj.ownerDocument \u0026\u0026 Lobj instanceof Lobj.ownerDocument.defaultView.HTMLElement) {\r\n        while (Lobj.offsetParent) {\r\n          Lobj = Lobj.offsetParent as HTMLElement;\r\n          Lcurtop += Lobj.offsetTop;\r\n        }\r\n\r\n        // On mobile devices, the OSK uses \u0027fixed\u0027 - this requires some extra offset work to handle.\r\n        let Ldoc = Lobj.ownerDocument;\r\n        if(Lobj.style.position == \u0027fixed\u0027 \u0026\u0026 Ldoc \u0026\u0026 Ldoc.scrollingElement) {\r\n          Lcurtop += Ldoc.scrollingElement.scrollTop;\r\n        }\r\n      }\r\n\r\n      // Correct position if element is within a frame (but not if the controller is in document within that frame)\r\n      // We used to reference a KMW state variable `this.keyman._MasterDocument`, but it was only ever set to `window.document`.\r\n      if(Lobj \u0026\u0026 Lobj.ownerDocument \u0026\u0026 (Pobj.ownerDocument != window.document)) {\r\n        var Ldoc=Lobj.ownerDocument;   // I2404 - Support for IFRAMEs\r\n\r\n        if(Ldoc \u0026\u0026 Ldoc.defaultView \u0026\u0026 Ldoc.defaultView.frameElement) {\r\n          return Lcurtop + Utils.getAbsoluteY(\u003cHTMLElement\u003eLdoc.defaultView.frameElement);\r\n        }\r\n      }\r\n      return Lcurtop;\r\n    }\r\n\r\n    /**\r\n     * Checks the type of an input DOM-related object while ensuring that it is checked against the correct prototype,\r\n     * as class prototypes are (by specification) scoped upon the owning Window.\r\n     * \r\n     * See https://stackoverflow.com/questions/43587286/why-does-instanceof-return-false-on-chrome-safari-and-edge-and-true-on-firefox\r\n     * for more details.\r\n     * \r\n     * @param {Element|Event}   Pelem       An element of the web page or one of its IFrame-based subdocuments.\r\n     * @param {string}          className   The plain-text name of the expected Element type.\r\n     * @return {boolean}\r\n     */\r\n    static instanceof(Pelem: Event|EventTarget, className: string): boolean {\r\n      // We must write special checks for our custom-defined element types!\r\n      if(className == \"TouchAliasElement\") {\r\n        if(this.instanceof(Pelem, \"HTMLDivElement\")) {\r\n          let div = \u003cHTMLDivElement\u003e Pelem;\r\n\r\n          // We should probably implement a slightly more robust check, but this should get us started well enough.\r\n          return div[\u0027base\u0027] !== undefined;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      var scopedClass;\r\n\r\n      if(!Pelem) {\r\n        // If we\u0027re bothering to check something\u0027s type, null references don\u0027t match\r\n        // what we\u0027re looking for. \r\n        return false;\r\n      }\r\n      if (Pelem[\u0027Window\u0027]) { // Window objects contain the class definitions for types held within them.  So, we can check for those.\r\n        return className == \u0027Window\u0027;\r\n      } else if (Pelem[\u0027defaultView\u0027]) { // Covers Document.\r\n        scopedClass = Pelem[\u0027defaultView\u0027][className];\r\n      } else if(Pelem[\u0027ownerDocument\u0027]) {\r\n        scopedClass = (Pelem as Node).ownerDocument.defaultView[className];\r\n      } else if(Pelem[\u0027target\u0027]) {\r\n        var event = Pelem as Event;\r\n\r\n        if(this.instanceof(event.target, \u0027Window\u0027)) {\r\n          scopedClass = event.target[className]; \r\n        } else if(this.instanceof(event.target, \u0027Document\u0027)) {\r\n          scopedClass = (event.target as Document).defaultView[className];\r\n        } else if(this.instanceof(event.target, \u0027HTMLElement\u0027)) {\r\n          scopedClass = (event.target as HTMLElement).ownerDocument.defaultView[className];\r\n        }\r\n      }\r\n\r\n      if(scopedClass) {\r\n        return Pelem instanceof scopedClass;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    static forceScroll(element: HTMLInputElement | HTMLTextAreaElement) {\r\n      // Needed to allow ./build_dev_resources.sh to complete;\r\n      // only executes when com.keyman.DOMEventHandlers is defined.\r\n      //\r\n      // We also bypass this whenever operating in the embedded format.\r\n      if(com \u0026\u0026 com.keyman \u0026\u0026 com.keyman[\u0027DOMEventHandlers\u0027] \u0026\u0026 !com.keyman[\u0027singleton\u0027][\u0027isEmbedded\u0027]) {\r\n        let DOMEventHandlers = com.keyman[\u0027DOMEventHandlers\u0027];\r\n\r\n        let selectionStart = element.selectionStart;\r\n        let selectionEnd = element.selectionEnd;\r\n\r\n        DOMEventHandlers.states._IgnoreBlurFocus = true;\r\n        //Forces scrolling; the re-focus triggers the scroll, at least.\r\n        element.blur();\r\n        element.focus();\r\n        DOMEventHandlers.states._IgnoreBlurFocus = false;\r\n\r\n        // On Edge, it appears that the blur/focus combination will reset the caret position\r\n        // under certain scenarios during unit tests.  So, we re-set it afterward.\r\n        element.selectionStart = selectionStart;\r\n        element.selectionEnd = selectionEnd;\r\n      }\r\n    }\r\n  }\r\n}","// References extra HTML definitions not included by default in TS.\r\n/// \u003creference path=\"../kmwexthtml.ts\" /\u003e\r\n// References device-specific code checks (separable module from KMW)\r\n/// \u003creference path=\"../kmwdevice.ts\" /\u003e\r\n// References common DOM utility functions (separate module from KMW)\r\n/// \u003creference path=\"utils.ts\" /\u003e\r\n\r\nnamespace com.keyman.dom {\r\n  /**\r\n   * As our touch-alias elements have historically been based on \u003cdiv\u003es, this\r\n   * defines the root element of touch-aliases as a merger type with HTMLDivElements.\r\n   *\r\n   */\r\n  export type TouchAliasElement = HTMLDivElement \u0026 TouchAliasData;\r\n\r\n  // Many thanks to https://www.typescriptlang.org/docs/handbook/advanced-types.html for this.\r\n  function link(elem: HTMLDivElement, data: TouchAliasData): TouchAliasElement {\r\n    let e = \u003cTouchAliasElement\u003e elem;\r\n\r\n    // Merges all properties and methods of KeyData onto the underlying HTMLDivElement, creating a merged class.\r\n    for(let id in data) {\r\n      if(!e.hasOwnProperty(id)) {\r\n        (\u003cany\u003ee)[id] = (\u003cany\u003edata)[id];\r\n      }\r\n    }\r\n\r\n    return e;\r\n  }\r\n\r\n  // If the specified HTMLElement is either a TouchAliasElement or one of its children elements,\r\n  // this method will return the root TouchAliasElement.\r\n  export function findTouchAliasTarget(target: HTMLElement): TouchAliasElement {\r\n    // The scrollable container element for the before \u0026 after text spans \u0026 the caret.\r\n    // Not to be confused with the simulated scrollbar.\r\n    let scroller: HTMLElement;\r\n\r\n    // Identify the scroller element\r\n    if(target \u0026\u0026 dom.Utils.instanceof(target, \"HTMLSpanElement\")) {\r\n      scroller=target.parentNode as HTMLElement;\r\n    } else if(target \u0026\u0026 (target.className != null \u0026\u0026 target.className.indexOf(\u0027keymanweb-input\u0027) \u003e= 0)) {\r\n      scroller=target.firstChild as HTMLElement;\r\n    } else if(target \u0026\u0026 dom.Utils.instanceof(target, \"HTMLDivElement\")) {\r\n      // Three possibilities:  the scroller, the scrollbar, \u0026 the blinking DIV of the caret.\r\n      // A direct click CAN trigger events on the blinking element itself if well-timed.\r\n      scroller=target;\r\n\r\n      // Ensures we land on the scroller, not the caret.\r\n      if(scroller.parentElement \u0026\u0026 scroller.parentElement.className.indexOf(\u0027keymanweb-input\u0027) \u003c 0) {\r\n        scroller = scroller.parentElement;\r\n      }\r\n\r\n      // scroller is now either the actual scroller or the scrollbar element.\r\n      // We don\u0027t return either of these, and they both have the same parent element.\r\n    } else if(target[\u0027kmw_ip\u0027]) { // In case it\u0027s called on a TouchAliasElement\u0027s base (aliased) element.\r\n      return target[\u0027kmw_ip\u0027] as TouchAliasElement;\r\n    } else {\r\n      // If it\u0027s not in any way related to a TouchAliasElement, simply return null.\r\n      return null;\r\n    }\r\n\r\n    // And the actual target element\r\n    let root = scroller.parentNode;\r\n    if(root[\u0027base\u0027] !== undefined) {\r\n      return root as TouchAliasElement;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  export function constructTouchAlias(base?: HTMLElement): TouchAliasElement {\r\n    let div = document.createElement(\"div\");\r\n    let ele = link(div, new TouchAliasData());\r\n\r\n    if(base) {\r\n      ele.initWithBase(base);\r\n    } else {\r\n      ele.init();\r\n    }\r\n\r\n    return ele;\r\n  }\r\n\r\n  /**\r\n   * The core definition for touch-alias \u0027subclassing\u0027 of HTMLDivElement.\r\n   * It\u0027s \u0027merged\u0027 with HTMLDivElement to avoid issues with DOM inheritance and DOM element creation.\r\n   */\r\n  class TouchAliasData {\r\n    [\u0027base\u0027]: HTMLElement = null; // NOT undefined; we can use this distinction for \u0027type-checking\u0027.\r\n    __preCaret:  HTMLSpanElement;\r\n    __postCaret: HTMLSpanElement;\r\n    __scrollDiv: HTMLDivElement;\r\n    __scrollBar: HTMLDivElement;\r\n\r\n    __caretSpan: HTMLSpanElement;\r\n    __caretDiv: HTMLDivElement;\r\n    __caretTimerId: number;\r\n    __activeCaret: boolean = false;\r\n\r\n    __resizeHandler: () =\u003e void;\r\n\r\n    private static device: Device;\r\n\r\n    private static getDevice(): Device {\r\n      if(!TouchAliasData.device) {\r\n        let device = new com.keyman.Device();\r\n        device.detect();\r\n\r\n        TouchAliasData.device = device;\r\n      }\r\n\r\n      return TouchAliasData.device;\r\n    }\r\n\r\n    private static getOS(): string {\r\n      return this.getDevice().OS;\r\n    }\r\n\r\n    isMultiline(): boolean {\r\n      return this[\u0027base\u0027] \u0026\u0026 this[\u0027base\u0027].nodeName == \"TEXTAREA\";\r\n    }\r\n\r\n    initCaret(): void {\r\n      /**\r\n       * Create a caret to be appended to the scroller of the focussed input field.\r\n       * The caret is appended to the scroller so that it will automatically be clipped\r\n       * when the user manually scrolls it outside the element boundaries.\r\n       * It is positioned exactly over the hidden span (__caretSpan) that is inserted\r\n       * between the text spans before and after the insertion point.\r\n       */\r\n      this.__caretDiv = \u003cHTMLDivElement\u003e document.createElement(\u0027DIV\u0027);\r\n      var cs=this.__caretDiv.style;\r\n      cs.position=\u0027absolute\u0027;\r\n      cs.height=\u002716px\u0027;           // default height, actual height set from element properties\r\n      cs.width=\u00272px\u0027;\r\n      cs.backgroundColor=\u0027blue\u0027;\r\n      cs.border=\u0027none\u0027;\r\n      cs.left=cs.top=\u00270px\u0027;           // actual position set relative to parent when displayed\r\n      cs.display=\u0027block\u0027;\r\n      cs.visibility=\u0027hidden\u0027;\r\n      cs.zIndex=\u00279998\u0027;           // immediately below the OSK\r\n\r\n      // Start the caret flash timer\r\n      this.__caretTimerId = window.setInterval(this.flashCaret.bind(this), 500);\r\n    }\r\n\r\n    init() {\r\n      // Remember, this type exists to be merged into HTMLDivElements, so this will work.\r\n      // We have to trick TS a bit to make it happy, though.\r\n      let divThis = \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n      divThis.className=\u0027keymanweb-input\u0027;\r\n\r\n      // Add a scrollable interior div\r\n      let d = this.__scrollDiv = document.createElement\u003c\u0027div\u0027\u003e(\u0027div\u0027);\r\n      let xs = divThis.style;\r\n      xs.overflow=\u0027hidden\u0027;\r\n      xs.position=\u0027absolute\u0027;\r\n      //xs.border=\u00271px solid gray\u0027;\r\n      xs.border=\u0027hidden\u0027;      // hide when element empty - KMW-3\r\n      xs.border=\u0027none\u0027;\r\n      xs.borderRadius=\u00275px\u0027;\r\n\r\n      // Add a scroll bar (horizontal for INPUT elements, vertical for TEXTAREA elements)\r\n      var sb = this.__scrollBar = document.createElement\u003c\u0027div\u0027\u003e(\u0027div\u0027), sbs=sb.style;\r\n      sbs.position=\u0027absolute\u0027;\r\n      sbs.height=sbs.width=\u00274px\u0027;\r\n      sbs.left=sbs.top=\u00270\u0027;\r\n      sbs.display=\u0027block\u0027;\r\n      sbs.visibility=\u0027hidden\u0027;\r\n      sbs.backgroundColor=\u0027#808080\u0027;\r\n      sbs.borderRadius=\u00272px\u0027;\r\n\r\n      // And add two spans for the text content before and after the caret, and a caret span\r\n      this.__preCaret=document.createElement\u003c\u0027span\u0027\u003e(\u0027span\u0027);\r\n      this.__postCaret=document.createElement\u003c\u0027span\u0027\u003e(\u0027span\u0027);\r\n      this.__caretSpan=document.createElement\u003c\u0027span\u0027\u003e(\u0027span\u0027);\r\n      this.__preCaret.innerHTML = this.__postCaret.innerHTML = this.__caretSpan.innerHTML=\u0027\u0027;\r\n      this.__preCaret.className = this.__postCaret.className = this.__caretSpan.className=\u0027keymanweb-font\u0027;\r\n\r\n      d.appendChild(this.__preCaret);\r\n      d.appendChild(this.__caretSpan);\r\n      d.appendChild(this.__postCaret);\r\n      divThis.appendChild(d);\r\n      divThis.appendChild(sb);\r\n\r\n      let ds=d.style;\r\n      ds.position=\u0027absolute\u0027;\r\n\r\n      let preCaretStyle = this.__preCaret.style;\r\n      let postCaretStyle = this.__postCaret.style;\r\n      let styleCaret = this.__caretSpan.style;\r\n      preCaretStyle.border=postCaretStyle.border=\u0027none\u0027;\r\n      //preCaretStyle.backgroundColor=\u0027rgb(220,220,255)\u0027;\r\n      //postCaretStyle.backgroundColor=\u0027rgb(220,255,220)\u0027; //only for testing\r\n      preCaretStyle.height=postCaretStyle.height=\u0027100%\u0027;\r\n\r\n      // The invisible caret-positioning span must have a border to ensure that\r\n      // it remains in the layout, but colour doesn\u0027t matter, as it is never visible.\r\n      // Span margins are adjusted to compensate for the border and maintain text positioning.\r\n      styleCaret.border=\u00271px solid red\u0027;\r\n      styleCaret.visibility=\u0027hidden\u0027;\r\n      styleCaret.marginLeft=styleCaret.marginRight=\u0027-1px\u0027;\r\n\r\n      // Set the outer element padding *after* appending the element,\r\n      // otherwise Firefox misaligns the two elements\r\n      xs.padding=\u00278px\u0027;\r\n\r\n      // Set internal padding to match the TEXTAREA and INPUT elements\r\n      ds.padding=\u00270px 2px\u0027; // OK for iPad, possibly device-dependent\r\n\r\n      // Set the tabindex to 0 to allow a DIV to accept focus and keyboard input\r\n      // c.f. http://www.w3.org/WAI/GL/WCAG20/WD-WCAG20-TECHS/SCR29.html\r\n      divThis.tabIndex=0;\r\n\r\n      // Disable (internal) pan and zoom on KMW input elements for IE10\r\n      divThis.style.msTouchAction=\u0027none\u0027;\r\n\r\n      ds.minWidth=xs.width;\r\n      ds.height=xs.height;\r\n\r\n      this.initCaret();\r\n    }\r\n\r\n    initWithBase(base: HTMLElement) {\r\n      this[\u0027base\u0027] = base;\r\n      this.init();\r\n\r\n      let divThis = \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n\r\n      // There\u0027s quite a bit of setup for touch-alias elements that only occurs if it has an associated base.\r\n      this[\u0027base\u0027][\u0027kmw_ip\u0027] = divThis;\r\n      base.disabled = true;\r\n\r\n      let baseStyle = window.getComputedStyle(base, null);\r\n      let scrollDivStyle = this.__scrollDiv.style;\r\n      let preCaretStyle  = this.__preCaret.style;\r\n      let postCaretStyle = this.__postCaret.style;\r\n\r\n      divThis.dir = base.dir;\r\n\r\n      preCaretStyle.fontFamily = postCaretStyle.fontFamily = scrollDivStyle.fontFamily = baseStyle.fontFamily;\r\n\r\n      // Set vertical centering for input elements\r\n      if(base.nodeName.toLowerCase() == \u0027input\u0027) {\r\n        if(!isNaN(parseInt(baseStyle.height,10))) {\r\n          preCaretStyle.lineHeight = postCaretStyle.lineHeight = baseStyle.height;\r\n        }\r\n      }\r\n\r\n      if(TouchAliasData.getOS() == \u0027Android\u0027 \u0026\u0026 baseStyle.backgroundColor == \u0027transparent\u0027) {\r\n        scrollDivStyle.backgroundColor = \u0027#fff\u0027;\r\n      } else {\r\n        scrollDivStyle.backgroundColor = baseStyle.backgroundColor;\r\n      }\r\n\r\n      if(divThis.base.nodeName.toLowerCase() == \u0027textarea\u0027) {\r\n        preCaretStyle.whiteSpace=postCaretStyle.whiteSpace=\u0027pre-wrap\u0027; //scroll vertically\r\n      } else {\r\n        preCaretStyle.whiteSpace=postCaretStyle.whiteSpace=\u0027pre\u0027;      //scroll horizontally\r\n      }\r\n\r\n      divThis.base.parentNode.appendChild(divThis);\r\n      divThis.updateInput();\r\n\r\n      let style = divThis.style;\r\n      style.color=baseStyle.color;\r\n      //style.backgroundColor=bs.backgroundColor;\r\n      style.fontFamily=baseStyle.fontFamily;\r\n      style.fontSize=baseStyle.fontSize;\r\n      style.fontWeight=baseStyle.fontWeight;\r\n      style.textDecoration=baseStyle.textDecoration;\r\n      style.padding=baseStyle.padding;\r\n      style.margin=baseStyle.margin;\r\n      style.border=baseStyle.border;\r\n      style.borderRadius=baseStyle.borderRadius;\r\n\r\n      //xs.color=\u0027red\u0027;  //use only for checking alignment\r\n\r\n      // Prevent highlighting of underlying element (Android)\r\n      if(\u0027webkitTapHighlightColor\u0027 in style) {\r\n        style.webkitTapHighlightColor=\u0027rgba(0,0,0,0)\u0027;\r\n      }\r\n\r\n      if(base instanceof base.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n        // Correct rows value if defaulted and box height set by CSS\r\n        // The rows value is used when setting the caret vertically\r\n\r\n        if(base.rows == 2) { // 2 is default value\r\n          var h=parseInt(baseStyle.height,10)-parseInt(baseStyle.paddingTop,10)-parseInt(baseStyle.paddingBottom,10),\r\n            dh=parseInt(baseStyle.fontSize,10), calcRows=Math.round(h/dh);\r\n          if(calcRows \u003e base.rows+1) {\r\n            base.rows=calcRows;\r\n          }\r\n        }\r\n        scrollDivStyle.width=style.width;\r\n        scrollDivStyle.minHeight=style.height;\r\n      } else {\r\n        scrollDivStyle.minWidth=style.width;\r\n        scrollDivStyle.height=style.height;\r\n      }\r\n      base.style.visibility=\u0027hidden\u0027; // hide by default: KMW-3\r\n\r\n      // Add an explicit event listener to allow the duplicated input element\r\n      // to be adjusted for any changes in base element location or size\r\n      // This will be called for each element after any rotation, as well as after user-initiated changes\r\n      // It has to be wrapped in an anonymous function to preserve scope and be applied to each element.\r\n      (function(xx: TouchAliasElement){\r\n        xx.__resizeHandler = function(){\r\n          /* A timeout is needed to let the base element complete its resizing before our\r\n          * simulated element can properly resize itself.\r\n          *\r\n          * Not doing this causes errors if the input elements are resized for whatever reason, such as\r\n          * changing languages to a text with greater height.\r\n          */\r\n          window.setTimeout(function (){\r\n            xx.updateInput();\r\n          }, 1);\r\n        };\r\n\r\n        xx.base.addEventListener(\u0027resize\u0027, xx.__resizeHandler, false);\r\n        xx.base.addEventListener(\u0027orientationchange\u0027, xx.__resizeHandler, false);\r\n      })(divThis);\r\n\r\n      var textValue: string;\r\n\r\n      if(base instanceof base.ownerDocument.defaultView.HTMLTextAreaElement\r\n        || base instanceof base.ownerDocument.defaultView.HTMLInputElement) {\r\n        textValue = base.value;\r\n      } else {\r\n        textValue = base.textContent;\r\n      }\r\n\r\n      // And copy the text content\r\n      this.setText(textValue, null);\r\n    }\r\n\r\n    setText(t?: string, cp?: number): void {\r\n      var tLen=0;\r\n      var t1: string, t2: string;\r\n\r\n      // Read current text if null passed (for caret positioning)\r\n      if(t === null) {\r\n        t1 = this.__preCaret.textContent;\r\n        t2 = this.__postCaret.textContent;\r\n        t  = t1 + t2;\r\n      }\r\n\r\n      if(cp \u003c 0) {\r\n        cp = 0;    //if(typeof t._kmwLength == \u0027undefined\u0027) return;\r\n      }\r\n\r\n      tLen=t._kmwLength();\r\n\r\n      if(cp === null || cp === undefined || cp \u003e tLen) {\r\n        cp=tLen;\r\n      }\r\n      t1=t._kmwSubstr(0,cp);\r\n      t2=t._kmwSubstr(cp);\r\n\r\n      this.__preCaret.textContent=t1;\r\n      this.__postCaret.textContent=t2;\r\n\r\n      this.updateBaseElement(); // KMW-3, KMW-29\r\n    }\r\n\r\n    getTextBeforeCaret() {\r\n      return this.__preCaret.textContent;\r\n    }\r\n\r\n    getTextAfterCaret() {\r\n      return this.__postCaret.textContent;\r\n    }\r\n\r\n    setTextBeforeCaret(t: string): void {\r\n      var tLen=0;\r\n\r\n      // Collapse (trailing) whitespace to a single space for INPUT fields (also prevents wrapping)\r\n      if(!this.isMultiline()) {\r\n        t=t.replace(/\\s+$/,\u0027 \u0027);\r\n      }\r\n      this.__preCaret.textContent=t;\r\n      // Test total length in order to control base element visibility\r\n      tLen=t.length;\r\n      tLen=tLen+this.__postCaret.textContent.length;\r\n\r\n      // Update the base element then scroll into view if necessary\r\n      this.updateBaseElement(); //KMW-3, KMW-29\r\n      this.scrollInput();\r\n    }\r\n\r\n    getTextCaret(): number {\r\n      return this.getTextBeforeCaret()._kmwLength();\r\n    }\r\n\r\n    setTextCaret(cp: number): void {\r\n      this.setText(null,cp);\r\n      this.showCaret();\r\n    }\r\n\r\n    /**\r\n     * Set content, visibility, background and borders of input and base elements (KMW-3,KMW-29)\r\n     */\r\n    updateBaseElement() {\r\n      let e = \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n\r\n      // Only proceed if we actually have a base element.\r\n      if(!e[\u0027base\u0027]) {\r\n        return;\r\n      }\r\n\r\n      var Ldv = e.base.ownerDocument.defaultView;\r\n      if(e.base instanceof Ldv.HTMLInputElement || e.base instanceof Ldv.HTMLTextAreaElement) {\r\n        e.base.value = this.getText(); //KMW-29\r\n      } else {\r\n        e.base.textContent = this.getText();\r\n      }\r\n\r\n      let n = this.getText()._kmwLength();\r\n\r\n      e.style.backgroundColor = (n==0 ? \u0027transparent\u0027 : window.getComputedStyle(e.base, null).backgroundColor);\r\n\r\n      if(TouchAliasData.getOS() == \u0027iOS\u0027) {\r\n        e.base.style.visibility=(n==0?\u0027visible\u0027:\u0027hidden\u0027);\r\n      }\r\n    }\r\n\r\n    flashCaret(): void {\r\n      // Significant change - each element manages its own caret, and its activation is managed through show/hideCaret()\r\n      // without referencing core KMW code.  (KMW must thus check if the active element is a TouchAliasElement, then use these\r\n      // methods as appropriate.)\r\n      if(this.__activeCaret) {\r\n        var cs=this.__caretDiv.style;\r\n        cs.visibility = cs.visibility != \u0027visible\u0027 ? \u0027visible\u0027 : \u0027hidden\u0027;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Position the caret at the start of the second span within the scroller\r\n     */\r\n    showCaret() {\r\n      var scroller=this.__scrollDiv, cs=this.__caretDiv.style, sp2=this.__caretSpan;\r\n\r\n      // Attach the caret to this scroller and position it over the caret span\r\n      if(this.__caretDiv.parentNode != \u003cNode\u003escroller) {\r\n        scroller.appendChild(this.__caretDiv);\r\n      }\r\n\r\n      cs.left=sp2.offsetLeft+\u0027px\u0027;\r\n      cs.top=sp2.offsetTop+\u0027px\u0027;\r\n      cs.height=(sp2.offsetHeight-1)+\u0027px\u0027;\r\n      cs.visibility=\u0027hidden\u0027;   // best to wait for timer to display caret\r\n      this.__activeCaret = true;\r\n\r\n      // Scroll into view if required\r\n      this.scrollBody();\r\n\r\n      // Display and position the scrollbar if necessary\r\n      this.setScrollBar();\r\n    }\r\n\r\n    hideCaret() {\r\n      var e= \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n\r\n      // Always copy text back to underlying field on blur\r\n      if(e.base instanceof e.base.ownerDocument.defaultView.HTMLTextAreaElement\r\n          || e.base instanceof e.base.ownerDocument.defaultView.HTMLInputElement) {\r\n        e.base.value = this.getText();\r\n      }\r\n\r\n      // And set the scroller caret to the end of the element content (null preserves text)\r\n      this.setText(null, 100000);\r\n\r\n      // Set the element scroll to zero (or max for RTL INPUT)\r\n      var ss=this.__scrollDiv.style;\r\n      if(e.isMultiline()) {\r\n        ss.top=\u00270\u0027;\r\n      } else {\r\n        if(e.base.dir == \u0027rtl\u0027) {\r\n          ss.left=(e.offsetWidth - this.__scrollDiv.offsetWidth-8)+\u0027px\u0027;\r\n        } else {\r\n          ss.left=\u00270\u0027;\r\n        }\r\n      }\r\n\r\n\r\n      // And hide the caret and scrollbar\r\n      if(this.__caretDiv.parentNode) {\r\n        this.__caretDiv.parentNode.removeChild(this.__caretDiv);\r\n      }\r\n\r\n      this.__caretDiv.style.visibility=\u0027hidden\u0027;\r\n      this.__scrollBar.style.visibility=\u0027hidden\u0027;\r\n\r\n      this.__activeCaret = false;\r\n    }\r\n\r\n    getText(): string {\r\n      return (\u003cTouchAliasElement\u003e (\u003cany\u003e this)).textContent;\r\n    }\r\n\r\n    updateInput() {\r\n      if(this[\u0027base\u0027]) {\r\n        let divThis = (\u003cTouchAliasElement\u003e (\u003cany\u003e this));\r\n\r\n        var xs=divThis.style, b=divThis.base,\r\n            s=window.getComputedStyle(b,null),\r\n            mLeft=parseInt(s.marginLeft,10),\r\n            mTop=parseInt(s.marginTop,10),\r\n            x1=Utils.getAbsoluteX(b), y1=Utils.getAbsoluteY(b);\r\n\r\n        var p=divThis.offsetParent as HTMLElement;\r\n        if(p) {\r\n          x1=x1-Utils.getAbsoluteX(p);\r\n          y1=y1-Utils.getAbsoluteY(p);\r\n        }\r\n\r\n        if(isNaN(mLeft)) {\r\n          mLeft=0;\r\n        }\r\n        if(isNaN(mTop)) {\r\n          mTop=0;\r\n        }\r\n\r\n        xs.left=(x1-mLeft)+\u0027px\u0027;\r\n        xs.top=(y1-mTop)+\u0027px\u0027;\r\n\r\n        // FireFox does not want the offset!\r\n        if(typeof(s.MozBoxSizing) != \u0027undefined\u0027) {\r\n          xs.left=x1+\u0027px\u0027;\r\n          xs.top=y1+\u0027px\u0027;\r\n        }\r\n\r\n        var w=b.offsetWidth, h=b.offsetHeight,\r\n            pLeft=parseInt(s.paddingLeft,10), pRight=parseInt(s.paddingRight,10),\r\n            pTop=parseInt(s.paddingTop,10), pBottom=parseInt(s.paddingBottom,10),\r\n            bLeft=parseInt(s.borderLeft,10), bRight=parseInt(s.borderRight,10),\r\n            bTop=parseInt(s.borderTop,10), bBottom=parseInt(s.borderBottom,10);\r\n\r\n        // If using content-box model, must subtract the padding and border,\r\n        // but *not* for border-box (as for WordPress PlugIn)\r\n        var boxSizing=\u0027undefined\u0027;\r\n        if(typeof(s.boxSizing) != \u0027undefined\u0027) {\r\n          boxSizing=s.boxSizing;\r\n        } else if(typeof(s.MozBoxSizing) != \u0027undefined\u0027) {\r\n          boxSizing=s.MozBoxSizing;\r\n        }\r\n\r\n        if(boxSizing == \u0027content-box\u0027) {\r\n          if(!isNaN(pLeft)) w -= pLeft;\r\n          if(!isNaN(pRight)) w -= pRight;\r\n          if(!isNaN(bLeft)) w -= bLeft;\r\n          if(!isNaN(bRight)) w -= bRight;\r\n\r\n          if(!isNaN(pTop)) h -= pTop;\r\n          if(!isNaN(pBottom)) h -= pBottom;\r\n          if(!isNaN(bTop)) h -= bTop;\r\n          if(!isNaN(bBottom)) h -= bBottom;\r\n        }\r\n\r\n        if(TouchAliasData.getOS() == \u0027Android\u0027) {\r\n          // FireFox - adjust padding to match input and text area defaults\r\n          if(typeof(s.MozBoxSizing) != \u0027undefined\u0027) {\r\n            xs.paddingTop=(pTop+1)+\u0027px\u0027;\r\n            xs.paddingLeft=pLeft+\u0027px\u0027;\r\n\r\n            if(this.isMultiline()) {\r\n              xs.marginTop=\u00271px\u0027;\r\n            } else {\r\n              xs.marginLeft=\u00271px\u0027;\r\n            }\r\n\r\n            w--;\r\n            h--;\r\n          } else { // Chrome, Opera, native browser (?)\r\n            w++;\r\n            h++;\r\n          }\r\n        }\r\n\r\n        xs.width=w+\u0027px\u0027;\r\n        xs.height=h+\u0027px\u0027;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Scroll the input field horizontally (INPUT base element) or\r\n     * vertically (TEXTAREA base element) to bring the caret into view\r\n     * as text is entered or deleted form an element\r\n     */\r\n    scrollInput() {\r\n      var scroller=this.__scrollDiv;\r\n      let divThis = \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n\r\n      // Get the actual absolute position of the caret and the element\r\n      var s2=this.__caretSpan,\r\n        cx=dom.Utils.getAbsoluteX(s2),cy=dom.Utils.getAbsoluteY(s2),\r\n        ex=dom.Utils.getAbsoluteX(divThis),ey=dom.Utils.getAbsoluteY(divThis),\r\n        x=parseInt(scroller.style.left,10),\r\n        y=parseInt(scroller.style.top,10),\r\n        dx=0,dy=0;\r\n\r\n      // Scroller offsets must default to zero\r\n      if(isNaN(x)) x=0; if(isNaN(y)) y=0;\r\n\r\n      // Scroll input field vertically if necessary\r\n      if(divThis.isMultiline()) {\r\n        var rowHeight=Math.round(divThis.offsetHeight/(\u003cHTMLTextAreaElement\u003e divThis.base).rows);\r\n        if(cy \u003c ey) {\r\n          dy=cy-ey;\r\n        }\r\n        if(cy \u003e ey+divThis.offsetHeight-rowHeight) {\r\n          dy=cy-ey-divThis.offsetHeight+rowHeight;\r\n        }\r\n        if(dy != 0){\r\n          scroller.style.top=(y\u003cdy?y-dy:0)+\u0027px\u0027;\r\n        }\r\n      } else { // or scroll horizontally if needed\r\n        if(cx \u003c ex+8) {\r\n          dx=cx-ex-12;\r\n        }\r\n        if(cx \u003e ex+divThis.offsetWidth-12) {\r\n          dx=cx-ex-divThis.offsetWidth+12;\r\n        }\r\n        if(dx != 0) {\r\n          scroller.style.left=(x\u003cdx?x-dx:0)+\u0027px\u0027;\r\n        }\r\n      }\r\n\r\n      // Display the caret (and scroll into view if necessary)\r\n      this.showCaret();\r\n    }\r\n\r\n    /**\r\n     * Scroll the document body vertically to bring the active input into view\r\n     */\r\n    scrollBody(): void {\r\n      // Note the deliberate lack of typing; we don\u0027t want to include KMW\u0027s core in isolated\r\n      // element interface testing, so we can\u0027t use it here.\r\n      var oskHeight: number = 0;\r\n\r\n      if(window[\u0027keyman\u0027]) {\r\n        var osk = window[\u0027keyman\u0027].osk;\r\n        if(osk \u0026\u0026 osk._Box) {\r\n          oskHeight = osk._Box.offsetHeight;\r\n        }\r\n      }\r\n\r\n      // Get the absolute position of the caret\r\n      var s2=this.__caretSpan, y=dom.Utils.getAbsoluteY(s2), t=window.pageYOffset,dy=0;\r\n      if(y \u003c t) {\r\n        dy=y-t;\r\n      } else {\r\n        dy=y-t-(window.innerHeight - oskHeight - s2.offsetHeight - 2);\r\n        if(dy \u003c 0) {\r\n          dy=0;\r\n        }\r\n      }\r\n      // Hide OSK, then scroll, then re-anchor OSK with absolute position (on end of scroll event)\r\n      if(dy != 0) {\r\n        window.scrollTo(0,dy+window.pageYOffset);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Display and position a scrollbar in the input field if needed\r\n     */\r\n    setScrollBar() {\r\n      let e = \u003cTouchAliasElement\u003e (\u003cany\u003e this);\r\n\r\n      // Display the scrollbar if necessary.  Added isMultiline condition to correct rotation issue KMW-5.  Fixed for 310 beta.\r\n      var scroller=this.__scrollDiv, sbs=this.__scrollBar.style;\r\n      if((scroller.offsetWidth \u003e e.offsetWidth || scroller.offsetLeft \u003c 0) \u0026\u0026 !e.isMultiline()) {\r\n        sbs.height=\u00274px\u0027;\r\n        sbs.width=100*(e.offsetWidth/scroller.offsetWidth)+\u0027%\u0027;\r\n        sbs.left=100*(-scroller.offsetLeft/scroller.offsetWidth)+\u0027%\u0027;\r\n        sbs.top=\u00270\u0027;\r\n        sbs.visibility=\u0027visible\u0027;\r\n      } else if(scroller.offsetHeight \u003e e.offsetHeight || scroller.offsetTop \u003c 0) {\r\n        sbs.width=\u00274px\u0027;\r\n        sbs.height=100*(e.offsetHeight/scroller.offsetHeight)+\u0027%\u0027;\r\n        sbs.top=100*(-scroller.offsetTop/scroller.offsetHeight)+\u0027%\u0027;\r\n        sbs.left=\u00270\u0027;\r\n        sbs.visibility=\u0027visible\u0027;\r\n      } else {\r\n        sbs.visibility=\u0027hidden\u0027;\r\n      }\r\n    }\r\n  }\r\n}","namespace com.keyman.dom {\r\n  export class PreProcessor {\r\n    /**\r\n     * Function     _GetEventKeyCode\r\n     * Scope        Private\r\n     * @param       {Event}       e         Event object\r\n     * Description  Finds the key code represented by the event.\r\n     */\r\n    static _GetEventKeyCode(e: KeyboardEvent) {\r\n      if (e.keyCode) {\r\n        return e.keyCode;\r\n      } else if (e.which) {\r\n        return e.which;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     _GetKeyEventProperties\r\n     * Scope        Private\r\n     * @param       {Event}       e         Event object\r\n     * @param       {boolean=}    keyState  true if call results from a keyDown event, false if keyUp, undefined if keyPress\r\n     * @return      {Object.\u003cstring,*\u003e}     KMW keyboard event object: \r\n     * Description  Get object with target element, key code, shift state, virtual key state \r\n     *                Lcode=keyCode\r\n     *                Lmodifiers=shiftState\r\n     *                LisVirtualKeyCode e.g. ctrl/alt key\r\n     *                LisVirtualKey     e.g. Virtual key or non-keypress event\r\n     */    \r\n    static _GetKeyEventProperties(e: KeyboardEvent, keyState?: boolean): text.KeyEvent {\r\n      let keyman = com.keyman.singleton;\r\n      let core = keyman.core;\r\n      var s = new text.KeyEvent();\r\n\r\n      e = keyman._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(e.cancelBubble === true) {\r\n        return null; // I2457 - Facebook meta-event generation mess -- two events generated for a keydown in Facebook contentEditable divs\r\n      }\r\n\r\n      s.Lcode = this._GetEventKeyCode(e);\r\n      if (s.Lcode == null) {\r\n        return null;\r\n      }\r\n\r\n      // Stage 1 - track the true state of the keyboard\u0027s modifiers.\r\n      var prevModState = core.keyboardProcessor.modStateFlags, curModState = 0x0000;\r\n      var ctrlEvent = false, altEvent = false;\r\n      \r\n      let keyCodes = text.Codes.keyCodes;\r\n      switch(s.Lcode) {\r\n        case keyCodes[\u0027K_CTRL\u0027]:      // The 3 shorter \"K_*CTRL\" entries exist in some legacy keyboards.\r\n        case keyCodes[\u0027K_LCTRL\u0027]:\r\n        case keyCodes[\u0027K_RCTRL\u0027]:\r\n        case keyCodes[\u0027K_CONTROL\u0027]:\r\n        case keyCodes[\u0027K_LCONTROL\u0027]:\r\n        case keyCodes[\u0027K_RCONTROL\u0027]:\r\n          ctrlEvent = true;\r\n          break;\r\n        case keyCodes[\u0027K_LMENU\u0027]:     // The 2 \"K_*MENU\" entries exist in some legacy keyboards.\r\n        case keyCodes[\u0027K_RMENU\u0027]:\r\n        case keyCodes[\u0027K_ALT\u0027]:\r\n        case keyCodes[\u0027K_LALT\u0027]:\r\n        case keyCodes[\u0027K_RALT\u0027]:\r\n          altEvent = true;\r\n          break;\r\n      }\r\n\r\n      /**\r\n       * Two separate conditions exist that should trigger chiral modifier detection.  Examples below use CTRL but also work for ALT.\r\n       * \r\n       * 1.  The user literally just pressed CTRL, so the event has a valid `location` property we can utilize.  \r\n       *     Problem: its layer isn\u0027t presently activated within the OSK.\r\n       * \r\n       * 2.  CTRL has been held a while, so the OSK layer is valid, but the key event doesn\u0027t tell us the chirality of the active CTRL press.\r\n       *     Bonus issue:  RAlt simulation may cause erasure of this location property, but it should ONLY be empty if pressed in this case.\r\n       *     We default to the \u0027left\u0027 variants since they\u0027re more likely to exist and cause less issues with RAlt simulation handling.\r\n       * \r\n       * In either case, `e.getModifierState(\"Control\")` is set to true, but as a result does nothing to tell us which case is active.\r\n       * \r\n       * `e.location != 0` if true matches condition 1 and matches condition 2 if false.\r\n       */\r\n\r\n      curModState |= (e.getModifierState(\"Shift\") ? 0x10 : 0);\r\n\r\n      let modifierCodes = text.Codes.modifierCodes;\r\n      if(e.getModifierState(\"Control\")) {\r\n        curModState |= ((e.location != 0 \u0026\u0026 ctrlEvent) ? \r\n          (e.location == 1 ? modifierCodes[\u0027LCTRL\u0027] : modifierCodes[\u0027RCTRL\u0027]) : // Condition 1\r\n          prevModState \u0026 0x0003);                                                       // Condition 2\r\n      }\r\n      if(e.getModifierState(\"Alt\")) {\r\n        curModState |= ((e.location != 0 \u0026\u0026 altEvent) ? \r\n          (e.location == 1 ? modifierCodes[\u0027LALT\u0027] : modifierCodes[\u0027RALT\u0027]) :   // Condition 1\r\n          prevModState \u0026 0x000C);                                                       // Condition 2\r\n      }\r\n\r\n      // Stage 2 - detect state key information.  It can be looked up per keypress with no issue.\r\n      s.Lstates = 0;\r\n      \r\n      s.Lstates |= e.getModifierState(\u0027CapsLock\u0027) ? modifierCodes[\u0027CAPS\u0027] : modifierCodes[\u0027NO_CAPS\u0027];\r\n      s.Lstates |= e.getModifierState(\u0027NumLock\u0027) ? modifierCodes[\u0027NUM_LOCK\u0027] : modifierCodes[\u0027NO_NUM_LOCK\u0027];\r\n      s.Lstates |= (e.getModifierState(\u0027ScrollLock\u0027) || e.getModifierState(\"Scroll\")) // \"Scroll\" for IE9.\r\n        ? modifierCodes[\u0027SCROLL_LOCK\u0027] : modifierCodes[\u0027NO_SCROLL_LOCK\u0027];\r\n\r\n      // We need these states to be tracked as well for proper OSK updates.\r\n      curModState |= s.Lstates;\r\n\r\n      // Stage 3 - Set our modifier state tracking variable and perform basic AltGr-related management.\r\n      s.LmodifierChange = core.keyboardProcessor.modStateFlags != curModState;\r\n      core.keyboardProcessor.modStateFlags = curModState;\r\n\r\n      // For European keyboards, not all browsers properly send both key-up events for the AltGr combo.\r\n      var altGrMask = modifierCodes[\u0027RALT\u0027] | modifierCodes[\u0027LCTRL\u0027];\r\n      if((prevModState \u0026 altGrMask) == altGrMask \u0026\u0026 (curModState \u0026 altGrMask) != altGrMask) {\r\n        // We just released AltGr - make sure it\u0027s all released.\r\n        curModState \u0026= ~ altGrMask;\r\n      }\r\n      // Perform basic filtering for Windows-based ALT_GR emulation on European keyboards.\r\n      if(curModState \u0026 modifierCodes[\u0027RALT\u0027]) {\r\n        curModState \u0026= ~modifierCodes[\u0027LCTRL\u0027];\r\n      }\r\n\r\n      let modifierBitmasks = text.Codes.modifierBitmasks;\r\n      // Stage 4 - map the modifier set to the appropriate keystroke\u0027s modifiers.\r\n      var activeKeyboard = core.activeKeyboard;\r\n      if(activeKeyboard \u0026\u0026 activeKeyboard.isChiral) {\r\n        s.Lmodifiers = curModState \u0026 modifierBitmasks.CHIRAL;\r\n\r\n        // Note for future - embedding a kill switch here would facilitate disabling AltGr / Right-alt simulation.\r\n        if(activeKeyboard.emulatesAltGr \u0026\u0026 (s.Lmodifiers \u0026 modifierBitmasks[\u0027ALT_GR_SIM\u0027]) == modifierBitmasks[\u0027ALT_GR_SIM\u0027]) {\r\n          s.Lmodifiers ^= modifierBitmasks[\u0027ALT_GR_SIM\u0027];\r\n          s.Lmodifiers |= modifierCodes[\u0027RALT\u0027];\r\n        }\r\n      } else {\r\n        // No need to sim AltGr here; we don\u0027t need chiral ALTs.\r\n        s.Lmodifiers = \r\n          (curModState \u0026 0x10) | // SHIFT\r\n          ((curModState \u0026 (modifierCodes[\u0027LCTRL\u0027] | modifierCodes[\u0027RCTRL\u0027])) ? 0x20 : 0) | \r\n          ((curModState \u0026 (modifierCodes[\u0027LALT\u0027] | modifierCodes[\u0027RALT\u0027]))   ? 0x40 : 0); \r\n      }\r\n\r\n\r\n      /* Tweak the modifiers if an OS meta key is detected; this will allow meta-key-based \r\n       * hotkeys to bypass Keyman processing.  We do this AFTER the chiral modifier filtering\r\n       * because some keyboards specify their own modifierBitmask, which won\u0027t include it.\r\n       * We don\u0027t currently use that reference in this method, but that may change in the future.\r\n       */\r\n      s.Lmodifiers |= (e.metaKey ? modifierCodes[\u0027META\u0027]: 0);\r\n\r\n      // Physically-typed keys require use of a \u0027desktop\u0027 form factor and thus are based on a virtual \"physical\" Device.\r\n      s.device = keyman.util.physicalDevice.coreSpec;\r\n\r\n      // Perform any browser-specific key remapping before other remaps and mnemonic transforms. \r\n      // (See https://github.com/keymanapp/keyman/issues/1125.)\r\n      if(!keyman.isEmbedded \u0026\u0026 s.device.browser == utils.Browser.Firefox) {\r\n      // Browser key identifiers are not completely consistent; Firefox has a few (for US punctuation)\r\n      // that differ from the norm.  Refer to https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode.\r\n        if(KeyMapping.browserMap.FF[\u0027k\u0027+s.Lcode]) {\r\n          s.Lcode = KeyMapping.browserMap.FF[\u0027k\u0027+s.Lcode];\r\n        }\r\n      }\r\n\r\n      // Mnemonic handling.\r\n      if(activeKeyboard \u0026\u0026 activeKeyboard.isMnemonic) {\r\n        // The following will never set a code corresponding to a modifier key, so it\u0027s fine to do this,\r\n        // which may change the value of Lcode, here.\r\n        text.KeyboardProcessor.setMnemonicCode(s, e.getModifierState(\"Shift\"), e.getModifierState(\"CapsLock\"));\r\n      }\r\n\r\n      // The 0x6F used to be 0x60 - this adjustment now includes the chiral alt and ctrl modifiers in that check.\r\n      var LisVirtualKeyCode = (typeof e.charCode != \u0027undefined\u0027 \u0026\u0026 e.charCode != null  \u0026\u0026  (e.charCode == 0 || (s.Lmodifiers \u0026 0x6F) != 0));\r\n      s.LisVirtualKey = LisVirtualKeyCode || e.type != \u0027keypress\u0027;\r\n\r\n      // This is based on a KeyboardEvent, so it\u0027s not considered \u0027synthetic\u0027 within web-core.\r\n      s.isSynthetic = false;\r\n\r\n      // Other minor physical-keyboard adjustments\r\n      if(activeKeyboard \u0026\u0026 !activeKeyboard.isMnemonic) {\r\n        // Positional Layout\r\n\r\n        /* 13/03/2007 MCD: Swedish: Start mapping of keystroke to US keyboard */\r\n        var Lbase = KeyMapping.languageMap[core.keyboardProcessor.baseLayout];\r\n        if(Lbase \u0026\u0026 Lbase[\u0027k\u0027+s.Lcode]) {\r\n          s.Lcode=Lbase[\u0027k\u0027+s.Lcode];\r\n        }\r\n        /* 13/03/2007 MCD: Swedish: End mapping of keystroke to US keyboard */\r\n        \r\n        if(!activeKeyboard.definesPositionalOrMnemonic \u0026\u0026 !(s.Lmodifiers \u0026 0x60)) {\r\n          // Support version 1.0 KeymanWeb keyboards that do not define positional vs mnemonic\r\n          s = {\r\n            Lcode: KeyMapping._USKeyCodeToCharCode(s),\r\n            Lmodifiers: 0,\r\n            LisVirtualKey: false,\r\n            vkCode: s.Lcode, // Helps to merge OSK and physical keystroke control paths.\r\n            Lstates: s.Lstates,\r\n            kName: \u0027\u0027,\r\n            device: keyman.util.physicalDevice.coreSpec,\r\n            isSynthetic: false\r\n          };\r\n        }\r\n      }\r\n      \r\n      return s;\r\n    }\r\n\r\n    public static getEventOutputTarget(e: KeyboardEvent): text.OutputTarget {\r\n      let keyman = com.keyman.singleton;\r\n      let target = keyman.util.eventTarget(e) as HTMLElement;\r\n      if (target == null) {\r\n        return null;\r\n      } else if (target.nodeType == 3) {// defeat Safari bug\r\n        target = target.parentNode as HTMLElement;\r\n      }\r\n\r\n      return dom.Utils.getOutputTarget(target);\r\n    }\r\n\r\n    /**\r\n     * Function     keyDown\r\n     * Scope        Public\r\n     * Description  Processes keydown event and passes data to keyboard. \r\n     * \r\n     * Note that the test-case oriented \u0027recorder\u0027 stubs this method to facilitate keystroke\r\n     * recording for use in test cases.  If changing this function, please ensure the recorder is\r\n     * not affected.\r\n     */ \r\n    static keyDown(e: KeyboardEvent): boolean {\r\n      let core = com.keyman.singleton.core;\r\n      DOMEventHandlers.states.swallowKeypress = false;\r\n\r\n      // Get event properties  \r\n      var Levent = this._GetKeyEventProperties(e, true);\r\n      if(Levent == null) {\r\n        return true;\r\n      }\r\n\r\n      let outputTarget = PreProcessor.getEventOutputTarget(e);\r\n      var LeventMatched = (core.processKeyEvent(Levent, outputTarget) != null);\r\n\r\n      if(LeventMatched) {\r\n        if(e  \u0026\u0026  e.preventDefault) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n\r\n        DOMEventHandlers.states.swallowKeypress = !!Levent.Lcode;\r\n        // Don\u0027t swallow backspaces on keypresses; this allows physical BKSP presses to repeat.\r\n        if(Levent.Lcode == 8) {\r\n          DOMEventHandlers.states.swallowKeypress = false;\r\n        }\r\n      } else {\r\n        DOMEventHandlers.states.swallowKeypress = false;\r\n      }\r\n\r\n      return !LeventMatched;\r\n    }\r\n\r\n    // KeyUp basically exists for two purposes:\r\n    // 1)  To detect browser form submissions (handled in kmwdomevents.ts)\r\n    // 2)  To detect modifier state changes.\r\n    static keyUp(e: KeyboardEvent): boolean {\r\n      let core = com.keyman.singleton.core;\r\n      var Levent = this._GetKeyEventProperties(e, false);\r\n      if(Levent == null) {\r\n        return true;\r\n      }\r\n\r\n      let outputTarget = PreProcessor.getEventOutputTarget(e);\r\n      return core.keyboardProcessor.doModifierPress(Levent, outputTarget, false);\r\n    }\r\n\r\n    static keyPress(e: KeyboardEvent): boolean {\r\n      let keyman = com.keyman.singleton;\r\n      let core = keyman.core;\r\n\r\n      var Levent = this._GetKeyEventProperties(e);\r\n      if(Levent == null || Levent.LisVirtualKey) {\r\n        return true;\r\n      }\r\n\r\n      // _Debug(\u0027KeyPress code=\u0027+Levent.Lcode+\u0027; Ltarg=\u0027+Levent.Ltarg.tagName+\u0027; LisVirtualKey=\u0027+Levent.LisVirtualKey+\u0027; _KeyPressToSwallow=\u0027+keymanweb._KeyPressToSwallow+\u0027; keyCode=\u0027+(e?e.keyCode:\u0027nothing\u0027));\r\n\r\n      /* I732 START - 13/03/2007 MCD: Swedish: Start positional keyboard layout code: prevent keystroke */\r\n      if(!core.activeKeyboard.isMnemonic) {\r\n        if(!DOMEventHandlers.states.swallowKeypress) {\r\n          return true;\r\n        }\r\n        if(Levent.Lcode \u003c 0x20 || ((\u003cany\u003ekeyman)._BrowserIsSafari  \u0026\u0026  (Levent.Lcode \u003e 0xF700  \u0026\u0026  Levent.Lcode \u003c 0xF900))) {\r\n          return true;\r\n        }\r\n\r\n        e = keyman._GetEventObject\u003cKeyboardEvent\u003e(e);   // I2404 - Manage IE events in IFRAMEs\r\n        if(e) {\r\n          e.returnValue = false;\r\n        }\r\n        return false;\r\n      }\r\n      /* I732 END - 13/03/2007 MCD: Swedish: End positional keyboard layout code */\r\n      \r\n      // Only reached if it\u0027s a mnemonic keyboard.\r\n      let outputTarget = PreProcessor.getEventOutputTarget(e);\r\n      if(DOMEventHandlers.states.swallowKeypress || core.keyboardInterface.processKeystroke(outputTarget, Levent)) {\r\n        DOMEventHandlers.states.swallowKeypress = false;\r\n        if(e \u0026\u0026 e.preventDefault) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n        return false;\r\n      }\r\n\r\n      DOMEventHandlers.states.swallowKeypress = false;\r\n      return true;\r\n    }\r\n  }\r\n}","/// \u003creference path=\"touchAliasElement.ts\" /\u003e\r\n/// \u003creference path=\"preProcessor.ts\" /\u003e\r\n\r\nnamespace com.keyman.dom {\r\n  /*\r\n  * Note that for many of the actual events represented by methods in this file, `this` is replaced \r\n  * automatically by JavaScript\u0027s event handling system.  As such, many \u0027wrapper\u0027 variants of the events\r\n  * exist to restore the object-oriented hierarchy below.\r\n  * \r\n  */\r\n\r\n  export class CommonDOMStates {\r\n    _DisableInput: boolean = false;         // Should input be disabled?\r\n    _IgnoreNextSelChange: number = 0;       // when a visual keyboard key is mouse-down, ignore the next sel change because this stuffs up our history  \r\n    _IgnoreBlurFocus: boolean = false;      // Used to temporarily ignore focus changes\r\n    _Selection = null;\r\n    _SelectionControl: any = null;   // Type behavior is as with activeElement and the like.\r\n    \r\n    activeElement: HTMLElement;\r\n    lastActiveElement: HTMLElement;\r\n\r\n    focusing: boolean;\r\n    focusTimer: number;\r\n\r\n    changed: boolean;         // Tracks if the element has been edited since gaining focus.\r\n    swallowKeypress: boolean; // Notes if a keypress should be swallowed; used when handing mnemonics.\r\n\r\n    /* ----------------------- Static event-related methods ------------------------ */\r\n\r\n    setFocusTimer(): void {\r\n      this.focusing=true;\r\n\r\n      this.focusTimer = window.setTimeout(function() {\r\n        this.focusing=false;\r\n      }.bind(this), 1000)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Declares a base, non-touch oriented implementation of all relevant DOM-related event handlers and state functions.\r\n   */\r\n  export class DOMEventHandlers {\r\n    // TODO:  resolve/refactor out!\r\n    protected keyman: KeymanBase;\r\n\r\n    // This is only static within a given initialization of KeymanWeb.  Perhaps it would be best as an initialization \r\n    // parameter and member field?\r\n    static states: CommonDOMStates = new CommonDOMStates();\r\n\r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n    }\r\n\r\n    /**\r\n     * Handle receiving focus by simulated input field\r\n     */       \r\n    setFocus: (e?: TouchEvent|MSPointerEvent) =\u003e void = function(e?: TouchEvent|MSPointerEvent): void {\r\n      // Touch-only handler.\r\n    }.bind(this);\r\n    \r\n    /** \r\n     * Handles touch-based loss of focus events.\r\n     */\r\n    setBlur: (e: FocusEvent) =\u003e void = function(e: FocusEvent) {\r\n      // Touch-only handler.\r\n    }.bind(this);\r\n\r\n    // End of I3363 (Build 301) additions\r\n\r\n    // Universal DOM event handlers (both desktop + touch)\r\n\r\n    //TODO: add more complete description of what ControlFocus really does\r\n    /**\r\n     * Respond to KeymanWeb-aware input element receiving focus \r\n     */    \r\n    _ControlFocus: (e: FocusEvent) =\u003e boolean = function(this: DOMEventHandlers, e: FocusEvent): boolean {\r\n      var Ltarg: HTMLElement, Ln;\r\n      var device = this.keyman.util.device;\r\n      var osk = this.keyman.osk;\r\n\r\n      e = this.keyman._GetEventObject\u003cFocusEvent\u003e(e);     // I2404 - Manage IE events in IFRAMEs\r\n      Ltarg = this.keyman.util.eventTarget(e) as HTMLElement;\r\n      if (Ltarg == null) {\r\n        return true;\r\n      }\r\n\r\n      if(Ltarg[\u0027body\u0027]) {\r\n        Ltarg = Ltarg[\u0027body\u0027]; // Occurs in Firefox for design-mode iframes.\r\n      }\r\n    \r\n      // Prevent any action if a protected input field\r\n      if(device.touchable \u0026\u0026 (Ltarg.className == null || Ltarg.className.indexOf(\u0027keymanweb-input\u0027) \u003c 0)) {\r\n        return true;\r\n      }\r\n\r\n      // Or if not a remappable input field\r\n      var en=Ltarg.nodeName.toLowerCase();\r\n      if(Ltarg.ownerDocument \u0026\u0026 Ltarg instanceof Ltarg.ownerDocument.defaultView.HTMLInputElement) {\r\n        var et=Ltarg.type.toLowerCase();\r\n        if(!(et == \u0027text\u0027 || et == \u0027search\u0027)) {\r\n          return true;\r\n        }\r\n      } else if(Ltarg.ownerDocument \u0026\u0026 Ltarg.ownerDocument.designMode == \u0027on\u0027) {\r\n        // continue; don\u0027t block this one!\r\n      } else if((device.touchable || !Ltarg.isContentEditable) \r\n          \u0026\u0026 !(Ltarg.ownerDocument \u0026\u0026 Ltarg instanceof Ltarg.ownerDocument.defaultView.HTMLTextAreaElement)) {\r\n        return true;\r\n      }\r\n\r\n      DOMTouchHandlers.states.activeElement = Ltarg;  // I3363 (Build 301)  \r\n\r\n      if (Ltarg.nodeType == 3) { // defeat Safari bug\r\n        Ltarg = Ltarg.parentNode as HTMLElement;\r\n      }\r\n        \r\n      var LfocusTarg = Ltarg;\r\n\r\n      // Ensure that focussed element is visible above the keyboard\r\n      if(Ltarg.className == null || Ltarg.className.indexOf(\u0027keymanweb-input\u0027) \u003c 0) {\r\n        if(this instanceof DOMTouchHandlers) {\r\n          (this as DOMTouchHandlers).scrollBody(Ltarg);\r\n        }\r\n      }\r\n          \r\n      if(Ltarg.ownerDocument \u0026\u0026 Ltarg instanceof Ltarg.ownerDocument.defaultView.HTMLIFrameElement) { //**TODO: check case reference\r\n        this.keyman.domManager._AttachToIframe(Ltarg as HTMLIFrameElement);\r\n        Ltarg=Ltarg.contentWindow.document.body;\r\n      }\r\n\r\n      //??keymanweb._Selection = null;\r\n\r\n      // We condition on \u0027priorElement\u0027 below as a check to allow KMW to set a default active keyboard.\r\n      var priorElement = DOMEventHandlers.states.lastActiveElement;\r\n      DOMEventHandlers.states.lastActiveElement = Ltarg;\r\n\r\n      if(this.keyman.uiManager.justActivated) {\r\n        this._BlurKeyboardSettings();\r\n      } else {\r\n        this._FocusKeyboardSettings(priorElement ? false : true);\r\n      }\r\n\r\n      // Always do the common focus stuff, instantly returning if we\u0027re in an editable iframe.\r\n      if(this._CommonFocusHelper(Ltarg)) {\r\n        return true;\r\n      };\r\n\r\n      // Set element directionality (but only if element is empty)\r\n      if(Ltarg.ownerDocument \u0026\u0026 Ltarg instanceof Ltarg.ownerDocument.defaultView.HTMLElement) {\r\n        this.keyman.domManager._SetTargDir(Ltarg);\r\n      }\r\n\r\n      //Execute external (UI) code needed on focus if required\r\n      this.doControlFocused(LfocusTarg, DOMEventHandlers.states.lastActiveElement);\r\n    \r\n      // Force display of OSK for touch input device, or if a CJK keyboard, to ensure visibility of pick list\r\n      if(device.touchable) {\r\n        osk._Enabled = true;\r\n      } else {\r\n        // Conditionally show the OSK when control receives the focus\r\n        if(osk.ready) {\r\n          if(this.keyman.isCJK()) {\r\n            osk._Enabled = true;\r\n          }\r\n          if(osk._Enabled) {\r\n            osk._Show();\r\n          } else {\r\n            osk._Hide(false);\r\n          }\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     doControlFocused\r\n     * Scope        Private\r\n     * @param       {Object}            _target         element gaining focus\r\n     * @param       {Object}            _activeControl  currently active control\r\n     * @return      {boolean}   \r\n     * Description  Execute external (UI) code needed on focus\r\n     */       \r\n    doControlFocused(_target: HTMLElement, _activeControl: HTMLElement): boolean {\r\n      var p={};\r\n      p[\u0027target\u0027]=_target;\r\n      p[\u0027activeControl\u0027]=_activeControl;\r\n\r\n      return this.keyman.util.callEvent(\u0027kmw.controlfocused\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Respond to KMW losing focus on event\r\n     */    \r\n    _ControlBlur: (e: FocusEvent) =\u003e boolean = function(this: DOMEventHandlers, e: FocusEvent): boolean {\r\n      var Ltarg: HTMLElement;  \r\n\r\n      e = this.keyman._GetEventObject\u003cFocusEvent\u003e(e);   // I2404 - Manage IE events in IFRAMEs\r\n      Ltarg = this.keyman.util.eventTarget(e) as HTMLElement;\r\n      if (Ltarg == null) {\r\n        return true;\r\n      }\r\n\r\n      if(Ltarg[\u0027body\u0027]) {\r\n        Ltarg = Ltarg[\u0027body\u0027]; // Occurs in Firefox for design-mode iframes.\r\n      }\r\n\r\n      // Makes sure we properly detect the TouchAliasElement root, \r\n      // rather than one of its constituent children.\r\n      if(this.keyman.util.device.touchable) {\r\n        Ltarg = findTouchAliasTarget(Ltarg);\r\n\r\n        if(!Ltarg) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if(DOMEventHandlers.states._IgnoreBlurFocus) {\r\n        // Prevent triggering other blur-handling events (as possible)\r\n        e.cancelBubble = true;\r\n        e.stopPropagation();\r\n        return true;\r\n      }\r\n\r\n      // Hide the touch device input caret, if applicable  I3363 (Build 301)\r\n      if(dom.Utils.instanceof(DOMEventHandlers.states.activeElement, \"TouchAliasElement\")) {\r\n        let lastAlias = \u003cTouchAliasElement\u003e DOMEventHandlers.states.activeElement;\r\n        lastAlias.hideCaret();\r\n      }\r\n\r\n      DOMEventHandlers.states.activeElement = null; // I3363 (Build 301)\r\n      \r\n      if (Ltarg.nodeType == 3) { // defeat Safari bug\r\n        Ltarg = Ltarg.parentNode as HTMLElement;\r\n      }\r\n\r\n      if(Ltarg.ownerDocument) {\r\n        if(Ltarg instanceof Ltarg.ownerDocument.defaultView.HTMLIFrameElement) {\r\n          Ltarg=Ltarg.contentWindow.frameElement as HTMLElement;\r\n        }\r\n      }\r\n      \r\n      ////keymanweb._SelectionControl = null;    \r\n      this._BlurKeyboardSettings();\r\n\r\n      // Now that we\u0027ve handled all prior-element maintenance, update the \u0027last active element\u0027.\r\n      DOMEventHandlers.states.lastActiveElement = Ltarg;\r\n\r\n      /* If the KeymanWeb UI is active as a user changes controls, all UI-based effects should be restrained to this control in case\r\n      * the user is manually specifying languages on a per-control basis.\r\n      */\r\n      this.keyman.uiManager.justActivated = false;\r\n      \r\n      var isActivating = this.keyman.uiManager.isActivating;\r\n      let activeKeyboard = com.keyman.singleton.core.activeKeyboard;\r\n      if(!isActivating \u0026\u0026 activeKeyboard) {\r\n        activeKeyboard.notify(0, Utils.getOutputTarget(Ltarg as HTMLElement), 0);  // I2187\r\n      }\r\n\r\n      //e = this.keyman._GetEventObject\u003cFocusEvent\u003e(e);   // I2404 - Manage IE events in IFRAMEs  //TODO: is this really needed again????\r\n      this.doControlBlurred(Ltarg, e, isActivating);\r\n\r\n      // Hide the OSK when the control is blurred, unless the UI is being temporarily selected\r\n      if(this.keyman.osk.ready \u0026\u0026 !isActivating) {\r\n        this.keyman.osk._Hide(false);\r\n      }\r\n\r\n      this.doChangeEvent(Ltarg);\r\n      this.keyman[\u0027resetContext\u0027]();\r\n\r\n      return true;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     doControlBlurred\r\n     * Scope        Private\r\n     * @param       {Object}            _target       element losing focus\r\n     * @param       {Event}             _event        event object\r\n     * @param       {(boolean|number)}  _isActivating activation state\r\n     * @return      {boolean}      \r\n     * Description  Execute external (UI) code needed on blur\r\n     */       \r\n    doControlBlurred(_target: HTMLElement, _event: Event, _isActivating: boolean|number): boolean {\r\n      var p={};\r\n      p[\u0027target\u0027]=_target;\r\n      p[\u0027event\u0027]=_event;\r\n      p[\u0027isActivating\u0027]=_isActivating;\r\n\r\n      return this.keyman.util.callEvent(\u0027kmw.controlblurred\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Function             _BlurKeyboardSettings\r\n     * Description          Stores the last active element\u0027s keyboard settings.  Should be called\r\n     *                      whenever a KMW-enabled page element loses control.\r\n     */\r\n    _BlurKeyboardSettings(PInternalName?: string, PLgCode?: string) {\r\n      var keyboardID = this.keyman.core.activeKeyboard ? this.keyman.core.activeKeyboard.id : \u0027\u0027;\r\n      var langCode = this.keyman.keyboardManager.getActiveLanguage();\r\n      \r\n      if(PInternalName !== undefined \u0026\u0026 PLgCode !== undefined) {\r\n        keyboardID = PInternalName;\r\n        langCode = PLgCode;\r\n      }\r\n      \r\n      var lastElem = DOMEventHandlers.states.lastActiveElement;\r\n\r\n      if(lastElem \u0026\u0026 lastElem._kmwAttachment.keyboard != null) {\r\n        lastElem._kmwAttachment.keyboard = keyboardID;\r\n        lastElem._kmwAttachment.languageCode = langCode;\r\n      } else {\r\n        this.keyman.globalKeyboard = keyboardID;\r\n        this.keyman.globalLanguageCode = langCode;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function             _FocusKeyboardSettings\r\n     * @param   {boolean}   blockGlobalChange   A flag indicating if the global keyboard setting should be ignored for this call.\r\n     * Description          Restores the newly active element\u0027s keyboard settings.  Should be called\r\n     *                      whenever a KMW-enabled page element gains control, but only once the prior\r\n     *                      element\u0027s loss of control is guaranteed.\r\n     */ \r\n    _FocusKeyboardSettings(blockGlobalChange: boolean) {\r\n      var lastElem = DOMEventHandlers.states.lastActiveElement;\r\n\r\n      if(lastElem \u0026\u0026 lastElem._kmwAttachment.keyboard != null) {\r\n        this.keyman.keyboardManager.setActiveKeyboard(lastElem._kmwAttachment.keyboard,\r\n          lastElem._kmwAttachment.languageCode);\r\n      } else if(!blockGlobalChange) {\r\n        this.keyman.keyboardManager.setActiveKeyboard(this.keyman.globalKeyboard, this.keyman.globalLanguageCode);\r\n      }\r\n\r\n       // Now that we\u0027ve fully entered the new context, invalidate the context so we can generate initial predictions from it.\r\n      if(this.keyman.modelManager) {\r\n        let outputTarget = dom.Utils.getOutputTarget(lastElem);\r\n        this.keyman.core.languageProcessor.invalidateContext(outputTarget);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function             _CommonFocusHelper\r\n     * @param   {Element}   target \r\n     * @returns {boolean}\r\n     * Description          Performs common state management for the various focus events of KeymanWeb.                      \r\n     *                      The return value indicates whether (true) or not (false) the calling event handler \r\n     *                      should be terminated immediately after the call.\r\n     */\r\n    _CommonFocusHelper(target: HTMLElement): boolean {\r\n      let keyman = com.keyman.singleton;\r\n      var uiManager = this.keyman.uiManager;\r\n      //TODO: the logic of the following line doesn\u0027t look right!!  Both variables are true, but that doesn\u0027t make sense!\r\n      //_Debug(keymanweb._IsIEEditableIframe(Ltarg,1) + \u0027...\u0027 +keymanweb._IsMozillaEditableIframe(Ltarg,1));\r\n      if(target.ownerDocument \u0026\u0026 target instanceof target.ownerDocument.defaultView.HTMLIFrameElement) {\r\n        if(!this.keyman.domManager._IsIEEditableIframe(target, 1) ||\r\n            !this.keyman.domManager._IsMozillaEditableIframe(target, 1)) {\r\n          DOMEventHandlers.states._DisableInput = true; \r\n          return true;\r\n        }\r\n      }\r\n      DOMEventHandlers.states._DisableInput = false; \r\n\r\n      let activeKeyboard = keyman.core.activeKeyboard;\r\n      if(!uiManager.justActivated) {\r\n        if(target \u0026\u0026 Utils.getOutputTarget(target)) {\r\n          Utils.getOutputTarget(target).deadkeys().clear();\r\n        }\r\n        \r\n        if(activeKeyboard) {\r\n          activeKeyboard.notify(0, Utils.getOutputTarget(target), 1);  // I2187\r\n        }\r\n      }\r\n    \r\n      if(!uiManager.justActivated \u0026\u0026 DOMEventHandlers.states._SelectionControl != target) {\r\n        uiManager.isActivating = false;\r\n      }\r\n      uiManager.justActivated = false;\r\n\r\n      DOMEventHandlers.states._SelectionControl = target;\r\n\r\n      if(keyman.core.languageProcessor.isActive) {\r\n        keyman.core.languageProcessor.predictFromTarget(Utils.getOutputTarget(target));\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Function   _SelectionChange\r\n     * Scope      Private\r\n     * Description Respond to selection change event \r\n     */\r\n    _SelectionChange: () =\u003e boolean = function(this: DOMEventHandlers): boolean {\r\n      if(DOMEventHandlers.states._IgnoreNextSelChange) {\r\n        DOMEventHandlers.states._IgnoreNextSelChange--;\r\n      } \r\n      return true;\r\n    }.bind(this);\r\n\r\n\r\n    /**\r\n     * Function     _KeyDown\r\n     * Scope        Private\r\n     * Description  Processes keydown event and passes data to keyboard. \r\n     * \r\n     * Note that the test-case oriented \u0027recorder\u0027 stubs this method to facilitate keystroke\r\n     * recording for use in test cases.  If changing this function, please ensure the recorder is\r\n     * not affected.\r\n     */ \r\n    _KeyDown: (e: KeyboardEvent) =\u003e boolean = function(this: DOMEventHandlers, e: KeyboardEvent): boolean {\r\n      var activeKeyboard = this.keyman.core.activeKeyboard;\r\n      var osk = this.keyman.osk;\r\n      var util = this.keyman.util;\r\n\r\n      if(DOMEventHandlers.states._DisableInput || activeKeyboard == null) {\r\n        return true;\r\n      }\r\n\r\n      // Prevent mapping element is readonly or tagged as kmw-disabled\r\n      var el=util.eventTarget(e) as HTMLElement;\r\n      if(util.device.touchable) {\r\n        if(el \u0026\u0026 typeof el.kmwInput != \u0027undefined\u0027 \u0026\u0026 el.kmwInput == false) {\r\n          return true;\r\n        }\r\n      } else if(el \u0026\u0026 el.className.indexOf(\u0027kmw-disabled\u0027) \u003e= 0) {\r\n        return true; \r\n      }\r\n      \r\n      // Or if OSK not yet ready (for any reason)\r\n      if(!osk.ready) {\r\n        return true;\r\n      }\r\n      \r\n      return PreProcessor.keyDown(e);\r\n    }.bind(this);\r\n\r\n    doChangeEvent(_target: HTMLElement) {\r\n      if(DOMEventHandlers.states.changed) {\r\n        var event: Event;\r\n        if(typeof Event == \u0027function\u0027) {\r\n          event = new Event(\u0027change\u0027, {\"bubbles\": true, \"cancelable\": false});\r\n        } else { // IE path\r\n          event = document.createEvent(\"HTMLEvents\");\r\n          event.initEvent(\u0027change\u0027, true, false);\r\n        }\r\n\r\n        // Ensure that touch-aliased elements fire as if from the aliased element.\r\n        if(_target[\u0027base\u0027] \u0026\u0026 _target[\u0027base\u0027][\u0027kmw_ip\u0027]) {\r\n          _target = _target[\u0027base\u0027];\r\n        }\r\n        _target.dispatchEvent(event);\r\n      }\r\n\r\n      DOMEventHandlers.states.changed = false;\r\n    }\r\n\r\n    /**\r\n     * Function     _KeyPress\r\n     * Scope        Private\r\n     * Description Processes keypress event (does not pass data to keyboard)\r\n     */       \r\n    _KeyPress: (e: KeyboardEvent) =\u003e boolean = function(this: DOMEventHandlers, e: KeyboardEvent): boolean {\r\n      if(DOMEventHandlers.states._DisableInput || this.keyman.core.activeKeyboard == null) {\r\n        return true;\r\n      }\r\n\r\n      return PreProcessor.keyPress(e);\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _KeyUp\r\n     * Scope        Private\r\n     * Description Processes keyup event and passes event data to keyboard\r\n     */       \r\n    _KeyUp: (e: KeyboardEvent) =\u003e boolean = function(this: DOMEventHandlers, e: KeyboardEvent): boolean {\r\n      var osk = this.keyman.osk;\r\n\r\n      var Levent = PreProcessor._GetKeyEventProperties(e, false);\r\n      if(Levent == null || !osk.ready) {\r\n        return true;\r\n      }\r\n      let outputTarget = PreProcessor.getEventOutputTarget(e) as dom.targets.OutputTarget;\r\n      var inputEle = outputTarget.getElement();\r\n\r\n      // Since this part concerns DOM element + browser interaction management, we preprocess it for\r\n      // browser form commands before passing control to the Processor module.\r\n      if(Levent.Lcode == 13) {\r\n        var ignore = false;\r\n        if(outputTarget instanceof inputEle.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n          ignore = true;\r\n        }\r\n      \r\n        if(inputEle.base \u0026\u0026 inputEle.base instanceof inputEle.base.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n          ignore = true;\r\n        }\r\n\r\n        if(!ignore) {\r\n          // For input fields, move to next input element\r\n          if(inputEle instanceof inputEle.ownerDocument.defaultView.HTMLInputElement) {\r\n            if(inputEle.type == \u0027search\u0027 || inputEle.type == \u0027submit\u0027) {\r\n              inputEle.form.submit();\r\n            } else {\r\n              this.keyman.domManager.moveToNext(false);\r\n            }\r\n          }\r\n          return true;\r\n        }\r\n      }      \r\n                  \r\n      return PreProcessor.keyUp(e);\r\n    }.bind(this);\r\n  }\r\n\r\n  // -------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Defines numerous functions for handling and modeling touch-based aliases.\r\n   */\r\n  export class DOMTouchHandlers extends DOMEventHandlers {\r\n    firstTouch: {\r\n      x: number;\r\n      y: number;\r\n    };\r\n\r\n    \r\n    constructor(keyman: KeymanBase) {\r\n      super(keyman);\r\n    }\r\n\r\n    private static selectTouch(e: TouchEvent): Touch {\r\n      /**\r\n       * During multi-touch event\u0027s, it\u0027s possible for one or more touches of said multi-touch\r\n       * to be against irrelevant parts of the page.  We only want to consider touches against\r\n       * valid OutputTargets - against elements of the page that KMW can attach to.\r\n       * With touch active... that\u0027s a TouchAliasElement.\r\n       */\r\n      let isValidTouch = function(touch: Touch, target: EventTarget): boolean {\r\n        return e.target == target \u0026\u0026 !!(findTouchAliasTarget(touch.target as HTMLElement));\r\n      }\r\n\r\n      // The event at least tells us the event\u0027s target, which can be used to help check\r\n      // whether or not individual `Touch`es may be related to this specific event for\r\n      // an ongoing multitouch scenario.\r\n      let target = e.target;\r\n      \r\n      // Find the first touch affected by this event that matches the current target.\r\n      for(let i=0; i \u003c e.changedTouches.length; i++) {\r\n        if(isValidTouch(e.changedTouches[i], target)) {\r\n          return e.changedTouches[i];\r\n        }\r\n      }\r\n\r\n      // Shouldn\u0027t be possible.  Just in case, we\u0027d prefer a silent failure that allows\r\n      // callers to silently abort.\r\n      throw new Error(\"Could not select valid Touch for event.\");\r\n    }\r\n\r\n    /**\r\n     * Handle receiving focus by simulated input field \r\n     *      \r\n     */       \r\n    setFocus: (e?: TouchEvent|MSPointerEvent) =\u003e void = function(this: DOMTouchHandlers, e?: TouchEvent|MSPointerEvent): void {\r\n      DOMEventHandlers.states.setFocusTimer();\r\n\r\n      var tEvent: {\r\n        clientX: number;\r\n        clientY: number;\r\n        target?: EventTarget;\r\n      };\r\n\r\n      if(e \u0026\u0026 dom.Utils.instanceof(e, \"TouchEvent\")) {\r\n        try {\r\n          tEvent=DOMTouchHandlers.selectTouch(e as TouchEvent);\r\n        } catch(err) {\r\n          console.warn(err);\r\n          return;\r\n        }\r\n      } else { // Allow external code to set focus and thus display the OSK on touch devices if required (KMEW-123)\r\n        tEvent={clientX:0, clientY:0}\r\n\r\n        // Will usually be called from setActiveElement, which should define DOMEventHandlers.states.lastActiveElement\r\n        if(DOMEventHandlers.states.lastActiveElement) {\r\n          tEvent.target = DOMEventHandlers.states.lastActiveElement;\r\n          // Shouldn\u0027t happen, but... just in case.  Implemented late in 14.0 beta, so\r\n          // this detail was kept, though it\u0027s likely safe to eliminate.\r\n          if(tEvent.target[\u0027kmw_ip\u0027]) {\r\n            tEvent.target = tEvent.target[\u0027kmw_ip\u0027];\r\n          }\r\n        // but will default to first input or text area on page if DOMEventHandlers.states.lastActiveElement is null\r\n        } else {\r\n          tEvent.target = this.keyman.domManager.sortedInputs[0][\u0027kmw_ip\u0027];\r\n        }\r\n      }\r\n\r\n      this.setFocusWithTouch(tEvent);\r\n    }.bind(this);\r\n\r\n    // Also handles initial touch responses.\r\n    setFocusWithTouch(tEvent: {clientX: number, clientY: number, target?: EventTarget}) {\r\n      var osk = this.keyman.osk;\r\n\r\n      var touchX=tEvent.clientX,touchY=tEvent.clientY;\r\n\r\n      // Some specifics rely upon which child of the TouchAliasElement received the actual event.\r\n      let tTarg=tEvent.target as HTMLElement;\r\n\r\n      // Determines the actual TouchAliasElement - the part tied to an OutputTarget.\r\n      let target = findTouchAliasTarget(tTarg);\r\n\r\n      if(!target) {\r\n        return;\r\n      }\r\n\r\n      // Some parts rely upon the scroller element.\r\n      let scroller = target.firstChild as HTMLElement;\r\n\r\n      // Move the caret and refocus if necessary     \r\n      if(DOMEventHandlers.states.activeElement != target) {\r\n        // Hide the KMW caret\r\n        let prevTarget = \u003cTouchAliasElement\u003e DOMEventHandlers.states.activeElement;\r\n\r\n        // We\u0027re not 100% sure whether or not the next line can occur,\r\n        // but it\u0027s a decent failsafe regardless.\r\n        if(prevTarget \u0026\u0026 prevTarget[\u0027kmw_ip\u0027]) {\r\n          prevTarget = prevTarget[\u0027kmw_ip\u0027] as TouchAliasElement;\r\n        }\r\n\r\n        // Make sure that we have the right type so that the expected method exists.\r\n        if(prevTarget \u0026\u0026 dom.Utils.instanceof(prevTarget, \"TouchAliasElement\")) {\r\n          prevTarget.hideCaret();\r\n        }\r\n\r\n        DOMEventHandlers.states.activeElement=target;\r\n        // The issue here is that touching a DIV does not actually set the focus for iOS, even when enabled to accept focus (by setting tabIndex=0)\r\n        // We must explicitly set the focus in order to remove focus from any non-KMW input\r\n        target.focus();  //Android native browsers may not like this, but it is needed for Chrome, Safari\r\n      }  \r\n      \r\n      // Correct element directionality if required\r\n      this.keyman.domManager._SetTargDir(target);  \r\n      // What we really want to do is to blur any active element that is not a KMW input, \r\n      // but the following line does not work as might be expected, even though the correct element is referenced.\r\n      // It is as though blur is ignored if focus is supposed to have been moved, even if it has not in fact been moved?\r\n      //if(document.activeElement.nodeName != \u0027DIV\u0027 \u0026\u0026 document.activeElement.nodeName != \u0027BODY\u0027) document.activeElement.blur();\r\n      \r\n      // And display the OSK if not already visible\r\n      if(osk.ready \u0026\u0026 !osk._Visible) {\r\n        osk._Show();\r\n      }\r\n      \r\n      // If clicked on DIV on the main element, rather than any part of the text representation,\r\n      // set caret to end of text\r\n      if(tTarg \u0026\u0026 tTarg == target) {\r\n        var x,cp;\r\n        x=dom.Utils.getAbsoluteX(scroller.firstChild as HTMLElement);        \r\n        if(target.dir == \u0027rtl\u0027) { \r\n          x += (scroller.firstChild as HTMLElement).offsetWidth;        \r\n          cp=(touchX \u003e x ? 0 : 100000);\r\n        } else {\r\n          cp=(touchX\u003cx ? 0 : 100000);\r\n        }\r\n    \r\n        target.setTextCaret(cp);\r\n        target.scrollInput();\r\n        // nextSibling - the scrollbar element.  \r\n      } else if(tTarg != scroller.nextSibling) { // Otherwise, if clicked on text in SPAN, set at touch position\r\n        var caret,cp,cpMin,cpMax,x,y,dy,yRow,iLoop;\r\n        caret=scroller.childNodes[1]; //caret span\r\n        cpMin=0;\r\n        cpMax=target.getText()._kmwLength();\r\n        cp=target.getTextCaret();\r\n        dy=document.body.scrollTop;\r\n\r\n        // Vertical scrolling\r\n        if(target.base instanceof target.base.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n          yRow=Math.round(target.base.offsetHeight/(target.base as HTMLTextAreaElement).rows);     \r\n          for(iLoop=0; iLoop\u003c16; iLoop++)\r\n          {\r\n            y=dom.Utils.getAbsoluteY(caret)-dy;  //top of caret            \r\n            if(y \u003e touchY \u0026\u0026 cp \u003e cpMin \u0026\u0026 cp != cpMax) {cpMax=cp; cp=Math.round((cp+cpMin)/2);}\r\n            else if(y \u003c touchY-yRow \u0026\u0026 cp \u003c cpMax \u0026\u0026 cp != cpMin) {cpMin=cp; cp=Math.round((cp+cpMax)/2);}\r\n            else break;\r\n            target.setTextCaret(cp);\r\n          }\r\n\r\n          while(dom.Utils.getAbsoluteY(caret)-dy \u003e touchY \u0026\u0026 cp \u003e cpMin) {\r\n            target.setTextCaret(--cp);\r\n          }\r\n\r\n          while(dom.Utils.getAbsoluteY(caret)-dy \u003c touchY-yRow \u0026\u0026 cp \u003c cpMax) {\r\n            target.setTextCaret(++cp);\r\n          }\r\n        }\r\n\r\n        // Caret repositioning for horizontal scrolling of RTL text\r\n\r\n        // snapOrder - \u0027snaps\u0027 the touch location in a manner corresponding to the \u0027ltr\u0027 vs \u0027rtl\u0027 orientation.\r\n        // Think of it as performing a floor() function, but the floor depends on the origin\u0027s direction.\r\n        var snapOrder;\r\n        if(target.dir == \u0027rtl\u0027) {  // I would use arrow functions, but IE doesn\u0027t like \u0027em.\r\n          snapOrder = function(a, b) {\r\n            return a \u003c b; \r\n          };\r\n        } else {\r\n          snapOrder = function(a, b) { \r\n            return a \u003e b; \r\n          };\r\n        }\r\n\r\n        for(iLoop=0; iLoop\u003c16; iLoop++) {\r\n          x=dom.Utils.getAbsoluteX(caret);  //left of caret            \r\n          if(snapOrder(x, touchX) \u0026\u0026 cp \u003e cpMin \u0026\u0026 cp != cpMax) {\r\n            cpMax=cp; \r\n            cp=Math.round((cp+cpMin)/2);\r\n          } else if(!snapOrder(x, touchX) \u0026\u0026 cp \u003c cpMax \u0026\u0026 cp != cpMin) {\r\n            cpMin=cp; \r\n            cp=Math.round((cp+cpMax)/2);\r\n          } else {\r\n            break;\r\n          }\r\n          target.setTextCaret(cp);\r\n        }\r\n\r\n        while(snapOrder(dom.Utils.getAbsoluteX(caret), touchX) \u0026\u0026 cp \u003e cpMin) {\r\n          target.setTextCaret(--cp);\r\n        }\r\n        while(!snapOrder(dom.Utils.getAbsoluteX(caret), touchX) \u0026\u0026 cp \u003c cpMax) {\r\n          target.setTextCaret(++cp);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * This event will trigger before keymanweb.setBlur is triggered.  Now that we\u0027re allowing independent keyboard settings\r\n       * for controls, we have to act here to preserve the outgoing control\u0027s keyboard settings.\r\n       *\r\n       * If we \u0027just activated\u0027 the KeymanWeb UI, we need to save the new keyboard change as appropriate.\r\n       */  \r\n      this._BlurKeyboardSettings();\r\n\r\n      // With the attachment API update, we now directly track the old legacy control behavior.\r\n      DOMEventHandlers.states.lastActiveElement = target;\r\n      target.showCaret();\r\n\r\n      /**\r\n       * If we \u0027just activated\u0027 the KeymanWeb UI, we need to save the new keyboard change as appropriate.\r\n       * If not, we need to activate the control\u0027s preferred keyboard.\r\n       */\r\n      this._FocusKeyboardSettings(false);\r\n      \r\n      // Always do the common focus stuff, instantly returning if we\u0027re in an editable iframe.\r\n      // This parallels the if-statement in _ControlFocus - it may be needed as this if-statement in the future,\r\n      // despite its present redundancy.\r\n      if(this._CommonFocusHelper(target)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Close OSK and remove simulated caret on losing focus\r\n     */          \r\n    cancelInput(): void {\r\n      if(DOMEventHandlers.states.activeElement \u0026\u0026 Utils.instanceof(DOMEventHandlers.states.activeElement, \"TouchAliasElement\")) {\r\n        (DOMEventHandlers.states.activeElement as TouchAliasElement).hideCaret();\r\n      }\r\n      DOMEventHandlers.states.activeElement=null; \r\n      this.keyman.osk.hideNow();\r\n    };\r\n\r\n    /**\r\n     * Handle losing focus from simulated input field \r\n     */\r\n    setBlur: (e: FocusEvent) =\u003e void = function(this: DOMTouchHandlers, e: FocusEvent) {\r\n      // This works OK for iOS, but may need something else for other platforms\r\n      var elem: HTMLElement;\r\n\r\n      if((\u0027relatedTarget\u0027 in e) \u0026\u0026 e.relatedTarget) {\r\n        elem = e.relatedTarget as HTMLElement;\r\n      }\r\n\r\n      this.keyman[\u0027resetContext\u0027]();\r\n\r\n      if(elem) {\r\n        this.doChangeEvent(elem);\r\n        if(elem.nodeName != \u0027DIV\u0027 || elem.className.indexOf(\u0027keymanweb-input\u0027) == -1) {\r\n          this.cancelInput(); \r\n          return;\r\n        }\r\n      }\r\n\r\n      //Hide the OSK\r\n      if(!DOMEventHandlers.states.focusing) {\r\n        this.cancelInput();\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Display and position a scrollbar in the input field if needed\r\n     * \r\n     * @param   {Object}  e   input DIV element (copy of INPUT or TEXTAREA)\r\n     */\r\n    setScrollBar(e: HTMLElement) {\r\n      // Display the scrollbar if necessary.  Added TEXTAREA condition to correct rotation issue KMW-5.  Fixed for 310 beta.\r\n      var scroller=\u003cHTMLElement\u003ee.childNodes[0], sbs=(\u003cHTMLElement\u003ee.childNodes[1]).style;\r\n      if((scroller.offsetWidth \u003e e.offsetWidth || scroller.offsetLeft \u003c 0) \u0026\u0026 (e.base.nodeName != \u0027TEXTAREA\u0027)) {\r\n        sbs.height=\u00274px\u0027;\r\n        sbs.width=100*(e.offsetWidth/scroller.offsetWidth)+\u0027%\u0027;\r\n        sbs.left=100*(-scroller.offsetLeft/scroller.offsetWidth)+\u0027%\u0027;\r\n        sbs.top=\u00270\u0027;\r\n        sbs.visibility=\u0027visible\u0027;  \r\n      } else if(scroller.offsetHeight \u003e e.offsetHeight || scroller.offsetTop \u003c 0) {\r\n        sbs.width=\u00274px\u0027;\r\n        sbs.height=100*(e.offsetHeight/scroller.offsetHeight)+\u0027%\u0027;\r\n        sbs.top=100*(-scroller.offsetTop/scroller.offsetHeight)+\u0027%\u0027;\r\n        sbs.left=\u00270\u0027;    \r\n        sbs.visibility=\u0027visible\u0027;        \r\n      } else {\r\n        sbs.visibility=\u0027hidden\u0027;\r\n      }\r\n    }                    \r\n\r\n    /**\r\n     * Handle the touch move event for an input element\r\n     */         \r\n    dragInput: (e: TouchEvent|MouseEvent) =\u003e void = function(this: DOMTouchHandlers, e: TouchEvent|MouseEvent) {\r\n      // Prevent dragging window\r\n      if(e.cancelable) {\r\n        // If a touch-alias element is scrolling, this may be false.\r\n        // Tends to result in a spam of console errors when e.cancelable == false.\r\n        e.preventDefault();\r\n      }\r\n      e.stopPropagation();      \r\n\r\n      // Identify the target from the touch list or the event argument (IE 10 only)\r\n      var target: HTMLElement;\r\n      let touch: Touch;\r\n      \r\n      if(dom.Utils.instanceof(e, \"TouchEvent\")) {\r\n        try {\r\n          touch=DOMTouchHandlers.selectTouch(e as TouchEvent);\r\n        } catch(err) {\r\n          console.warn(err);\r\n          return;\r\n        }\r\n        target = touch.target as HTMLElement;\r\n      } else {\r\n        target = e.target as HTMLElement;\r\n      }\r\n      if(target == null) {\r\n        return;\r\n      }\r\n      \r\n      // Identify the input element from the touch event target (touched element may be contained by input)\r\n      target = findTouchAliasTarget(target);\r\n\r\n      if(!target) {\r\n        return;\r\n      }\r\n\r\n      var x, y;\r\n\r\n      if(dom.Utils.instanceof(e, \"TouchEvent\")) {\r\n        x = touch.screenX;\r\n        y = touch.screenY;\r\n      } else {\r\n        x = (e as MouseEvent).screenX;\r\n        y = (e as MouseEvent).screenY;\r\n      }\r\n                \r\n      // Allow content of input elements to be dragged horizontally or vertically\r\n      if(typeof this.firstTouch == \u0027undefined\u0027 || this.firstTouch == null) {\r\n        this.firstTouch={x:x,y:y};\r\n      } else {\r\n        var x0=this.firstTouch.x,y0=this.firstTouch.y,\r\n          scroller=target.firstChild as HTMLElement,dx,dy,x1;\r\n        \r\n        if(target.base.nodeName == \u0027TEXTAREA\u0027) {\r\n          var yOffset=parseInt(scroller.style.top,10);\r\n          if(isNaN(yOffset)) yOffset=0;\r\n          dy=y0-y;\r\n          if(dy \u003c -4 || dy \u003e 4) {\r\n            scroller.style.top=(yOffset\u003cdy?yOffset-dy:0)+\u0027px\u0027;\r\n            this.firstTouch.y=y;  \r\n          } \r\n        } else {\r\n          var xOffset=parseInt(scroller.style.left,10);\r\n          if(isNaN(xOffset)) xOffset=0;\r\n          dx=x0-x;\r\n          if(dx \u003c -4 || dx \u003e 4)\r\n          {\r\n            // Limit dragging beyond the defined text (to avoid dragging the text completely out of view)\r\n            var xMin=0, xMax= dom.Utils.getAbsoluteX(target)+target.offsetWidth-scroller.offsetWidth-32;\r\n            if(target.base.dir == \u0027rtl\u0027)xMin=16; else xMax=xMax-24;            \r\n            x1=xOffset-dx;\r\n            if(x1 \u003e xMin) x1=xMin;\r\n            if(x1 \u003c xMax) x1=xMax;\r\n            scroller.style.left=x1+\u0027px\u0027;\r\n            this.firstTouch.x=x;       \r\n          }    \r\n        }\r\n      }\r\n      // Should refactor to use TouchAliasElement\u0027s version; target is an instance of the class.\r\n      this.setScrollBar(target);\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Scroll the document body vertically to bring the active input into view\r\n     * \r\n     * @param       {Object}      e        simulated input field object being focussed\r\n     */         \r\n    scrollBody(e: HTMLElement): void {\r\n      var osk = this.keyman.osk;\r\n      var util = this.keyman.util;\r\n\r\n      if(!e || e.className == null || e.className.indexOf(\u0027keymanweb-input\u0027) \u003c 0 || !osk.ready) {\r\n        return;\r\n      }\r\n\r\n      // Get the absolute position of the caret\r\n      var s2=\u003cHTMLElement\u003ee.firstChild.childNodes[1], y=dom.Utils.getAbsoluteY(s2), t=window.pageYOffset,dy=0;\r\n      if(y \u003c t) {\r\n        dy=y-t;\r\n      } else {\r\n        dy=y-t-(window.innerHeight-osk._Box.offsetHeight-s2.offsetHeight-2);\r\n        if(dy \u003c 0) dy=0;\r\n      }    \r\n      // Hide OSK, then scroll, then re-anchor OSK with absolute position (on end of scroll event)\r\n      if(dy != 0) {\r\n        window.scrollTo(0,dy+window.pageYOffset);\r\n      }\r\n    }\r\n  }\r\n}\r\n","namespace com.keyman.dom {\r\n  // Basically, these are shorthand imports, only viewable within this file.\r\n  let DefaultOutput = text.DefaultOutput;\r\n  let Codes = text.Codes;\r\n  type KeyEvent = text.KeyEvent;\r\n\r\n  // Now for some classic JS method \"extension\".\r\n  let coreIsCommand = DefaultOutput.isCommand;\r\n  let coreApplyCommand = DefaultOutput.applyCommand;\r\n\r\n  DefaultOutput.isCommand = function(Lkc: KeyEvent): boolean {\r\n    let code = DefaultOutput.codeForEvent(Lkc);\r\n\r\n    switch(code) {\r\n      case Codes.keyCodes[\u0027K_TAB\u0027]:\r\n      case Codes.keyCodes[\u0027K_TABBACK\u0027]:\r\n      case Codes.keyCodes[\u0027K_TABFWD\u0027]:\r\n        return true;\r\n      default:\r\n        return coreIsCommand(Lkc);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * applyCommand - used when a RuleBehavior represents a non-text \"command\" within the Engine.\r\n   */\r\n  DefaultOutput.applyCommand = function(Lkc: KeyEvent, outputTarget: text.OutputTarget): void {\r\n    let code = DefaultOutput.codeForEvent(Lkc);\r\n    let domManager = com.keyman.singleton.domManager;\r\n\r\n    let hideCaret: () =\u003e void;\r\n    if(outputTarget instanceof com.keyman.dom.targets.TouchAlias) {\r\n      hideCaret = function() {\r\n        let target = outputTarget as com.keyman.dom.targets.TouchAlias;\r\n        target.root.hideCaret();\r\n      }\r\n    } else {\r\n      hideCaret = function() {};\r\n    }\r\n\r\n    switch(code) {\r\n      case Codes.keyCodes[\u0027K_TAB\u0027]:\r\n        hideCaret();\r\n        domManager.moveToNext((Lkc.Lmodifiers \u0026 text.Codes.modifierCodes[\u0027SHIFT\u0027]) != 0);\r\n        break;\r\n      case Codes.keyCodes[\u0027K_TABBACK\u0027]:\r\n        hideCaret();\r\n        domManager.moveToNext(true);\r\n        break;\r\n      case Codes.keyCodes[\u0027K_TABFWD\u0027]:\r\n        hideCaret();\r\n        domManager.moveToNext(false);\r\n        break;\r\n    }\r\n\r\n    coreApplyCommand(Lkc, outputTarget);\r\n  }\r\n}","namespace com.keyman.dom {\r\n  text.prediction.LanguageProcessor.prototype.canEnable = function(): boolean {\r\n    let keyman = com.keyman.singleton;\r\n\r\n    if(keyman.util.getIEVersion() == 10) {\r\n      console.warn(\"KeymanWeb cannot properly initialize its WebWorker in this version of IE.\");\r\n      return false;\r\n    } else if(keyman.util.getIEVersion() \u003c 10) {\r\n      console.warn(\"WebWorkers are not supported in this version of IE.\");\r\n      return false;\r\n    } else if(typeof Worker != \u0027function\u0027) {\r\n      console.warn(\"WebWorkers are not supported by this browser.\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  let headlessRuleBehaviorFinalize = text.RuleBehavior.prototype.finalize;\r\n  text.RuleBehavior.prototype.finalize = function(this: text.RuleBehavior, processor: text.KeyboardProcessor, outputTarget: text.OutputTarget) {\r\n    // Execute the standard baseline stuff first.\r\n    headlessRuleBehaviorFinalize.call(this, processor);\r\n\r\n    // If the transform isn\u0027t empty, we\u0027ve changed text - which should produce a \u0027changed\u0027 event in the DOM.\r\n    let ruleTransform = this.transcription.transform;\r\n    if(ruleTransform.insert != \"\" || ruleTransform.deleteLeft \u003e 0 || ruleTransform.deleteRight \u003e 0) {\r\n      if(outputTarget instanceof targets.OutputTarget \u0026\u0026 outputTarget.getElement() == dom.DOMEventHandlers.states.activeElement) {\r\n        dom.DOMEventHandlers.states.changed = true;\r\n      }\r\n    }\r\n\r\n    let keyman = com.keyman.singleton;\r\n    // KMEA and KMEI (embedded mode) use direct insertion of the character string\r\n    if(keyman.isEmbedded) {\r\n      // A special embedded callback used to setup direct callbacks to app-native code.\r\n      keyman[\u0027oninserttext\u0027](ruleTransform.deleteLeft, ruleTransform.insert, ruleTransform.deleteRight);\r\n      if(outputTarget instanceof targets.OutputTarget) {\r\n        keyman.refreshElementContent(outputTarget.getElement());\r\n      }\r\n    }\r\n  }\r\n}","namespace com.keyman.dom.targets {\r\n  export abstract class OutputTarget extends text.OutputTarget {\r\n    /**\r\n     * Returns the underlying element / document modeled by the wrapper.\r\n     */\r\n    abstract getElement(): HTMLElement;\r\n\r\n    /**\r\n     * A helper method for doInputEvent; creates a simple common event and default dispatching.\r\n     * @param elem \r\n     */\r\n    protected dispatchInputEventOn(elem: HTMLElement) {\r\n      let event: InputEvent;\r\n\r\n      // `undefined` in Edge and IE.\r\n      if(window[\u0027InputEvent\u0027]) { // can\u0027t condition on the type directly; TS optimizes that out.\r\n        event = new InputEvent(\u0027input\u0027, {\"bubbles\": true, \"cancelable\": false});\r\n      }\r\n\r\n      if(elem \u0026\u0026 event) {\r\n        elem.dispatchEvent(event);\r\n      }\r\n    }\r\n\r\n    apply(transform: Transform) {\r\n      super.apply(transform);\r\n\r\n      // This class has non-integrated unit tests in which the `singleton` object doesn\u0027t exist.\r\n      // Thus, we need to test for this case.\r\n      let keyman = com.keyman[\u0027singleton\u0027];\r\n\r\n      // Signal the necessary text changes to the embedding app, if it exists.\r\n      if(keyman \u0026\u0026 keyman[\u0027oninserttext\u0027] \u0026\u0026 keyman.isEmbedded) {\r\n        keyman[\u0027oninserttext\u0027](transform.deleteLeft, transform.insert, transform.deleteRight);\r\n      }\r\n    }\r\n  }\r\n}","namespace com.keyman.dom.targets {\r\n\r\n  export class Input extends OutputTarget {\r\n    root: HTMLInputElement;\r\n\r\n    /**\r\n     * Tracks the most recently-cached selection start index.\r\n     */\r\n    private _cachedSelectionStart: number\r\n\r\n    /**\r\n     * Tracks the most recently processed, extended-string-based selection start index.\r\n     * When the element\u0027s selectionStart value changes, this should be invalidated.\r\n     */\r\n    private processedSelectionStart: number;\r\n\r\n    /**\r\n     * Tracks the most recently processed, extended-string-based selection end index.\r\n     * When the element\u0027s selectionEnd value changes, this should be invalidated.\r\n     */\r\n    private processedSelectionEnd: number;\r\n\r\n    constructor(ele: HTMLInputElement) {\r\n      super();\r\n\r\n      this.root = ele;\r\n      this._cachedSelectionStart = -1;\r\n    }\r\n\r\n    get isSynthetic(): boolean {\r\n      return false;\r\n    }\r\n\r\n    getElement(): HTMLInputElement {\r\n      return this.root;\r\n    }\r\n\r\n    clearSelection(): void {\r\n      // Processes our codepoint-based variants of selectionStart and selectionEnd.\r\n      let caret = this.getCaret();\r\n      this.root.value = this.root.value._kmwSubstring(0, caret) + this.root.value._kmwSubstring(this.processedSelectionEnd); //I3319\r\n\r\n      this.setCaret(caret);\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      return true;\r\n    }\r\n\r\n    invalidateSelection() {\r\n      // Since .selectionStart will never return this value, we use it to indicate\r\n      // the need to refresh our processed indices.\r\n      this._cachedSelectionStart = -1;\r\n    }\r\n\r\n    getCaret(): number {\r\n      if(this.root.selectionStart == this._cachedSelectionStart) {\r\n        return this.processedSelectionStart;\r\n      } else {\r\n        this._cachedSelectionStart = this.root.selectionStart; // KMW-1\r\n        this.processedSelectionStart = this.root.value._kmwCodeUnitToCodePoint(this.root.selectionStart); // I3319\r\n        this.processedSelectionEnd = this.root.value._kmwCodeUnitToCodePoint(this.root.selectionEnd);     // I3319\r\n\r\n        return this.processedSelectionStart;\r\n      }\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.getCaret();\r\n    }\r\n\r\n    setCaret(caret: number) {\r\n      this.setSelection(caret, caret);\r\n    }\r\n\r\n    setSelection(start: number, end: number) {\r\n      let domStart = this.root.value._kmwCodePointToCodeUnit(start);\r\n      let domEnd = this.root.value._kmwCodePointToCodeUnit(end);\r\n      this.root.setSelectionRange(domStart, domEnd);\r\n\r\n      this.processedSelectionStart = start;\r\n      this.processedSelectionEnd = end;\r\n\r\n      keyman.dom.Utils.forceScroll(this.root);\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      return this.getText()._kmwSubstring(0, this.getCaret());\r\n    }\r\n\r\n    setTextBeforeCaret(text: string) {\r\n      this.getCaret();\r\n      let newCaret = text._kmwLength();\r\n      this.root.value = text + this.getText()._kmwSubstring(this.processedSelectionStart);\r\n\r\n      this.setCaret(newCaret);\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string) {\r\n      let c = this.getCaret();\r\n\r\n      this.root.value = this.getTextBeforeCaret() + s;\r\n      this.setCaret(c);\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      this.getCaret();\r\n      return this.getText()._kmwSubstring(this.processedSelectionEnd);\r\n    }\r\n\r\n    getText(): string {\r\n      return this.root.value;\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number) {\r\n      if(dn \u003e 0) {\r\n        let curText = this.getTextBeforeCaret();\r\n        let caret = this.getCaret();\r\n\r\n        if(dn \u003e caret) {\r\n          dn = caret;\r\n        }\r\n\r\n        this.adjustDeadkeys(-dn);\r\n        this.setTextBeforeCaret(curText.kmwSubstring(0, this.getCaret() - dn));\r\n        this.setCaret(caret - dn);\r\n      }\r\n    }\r\n\r\n    insertTextBeforeCaret(s: string) {\r\n      if(!s) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCaret();\r\n      let front = this.getTextBeforeCaret();\r\n      let back = this.getText()._kmwSubstring(this.processedSelectionStart);\r\n\r\n      this.adjustDeadkeys(s._kmwLength());\r\n      this.root.value = front + s + back;\r\n      this.setCaret(caret + s._kmwLength());\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      Input.newlineHandler(this.root);\r\n    }\r\n\r\n    static newlineHandler(inputEle: HTMLInputElement) {\r\n      // Can\u0027t occur for Mocks - just Input and TouchAlias types.\r\n      if (inputEle \u0026\u0026 (inputEle.type == \u0027search\u0027 || inputEle.type == \u0027submit\u0027)) {\r\n        inputEle.disabled=false;\r\n        inputEle.form.submit();\r\n      } else {\r\n        // Allows compiling this separately from the main body of KMW.\r\n        // TODO:  rework class to accept a class-static \u0027callback\u0027 from the DOM module that this can call.\r\n        //        Would eliminate the need for this \u0027static\u0027 reference. \r\n        //        Only strongly matters once we better modularize KMW, with web-dom vs web-dom-targets vs web-core, etc.\r\n        if(com.keyman[\"singleton\"]) {\r\n          com.keyman[\"singleton\"].domManager.moveToNext(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    doInputEvent() {\r\n      this.dispatchInputEventOn(this.root);\r\n    }\r\n  }\r\n}","namespace com.keyman.dom.targets {\r\n  export class TextArea extends OutputTarget {\r\n    root: HTMLTextAreaElement;\r\n\r\n    /**\r\n     * Tracks the most recently-cached selection start index.\r\n     */\r\n    private _cachedSelectionStart: number\r\n\r\n    /**\r\n     * Tracks the most recently processed, extended-string-based selection start index.\r\n     * When the element\u0027s selectionStart value changes, this should be invalidated.\r\n     */\r\n    private processedSelectionStart: number;\r\n\r\n    /**\r\n     * Tracks the most recently processed, extended-string-based selection end index.\r\n     * When the element\u0027s selectionEnd value changes, this should be invalidated.\r\n     */\r\n    private processedSelectionEnd: number;\r\n\r\n    /**\r\n     * Used to temporarily store the y-axis scroll coordinate.\r\n     */\r\n    private scrollTop?: number;\r\n\r\n    /**\r\n     * Used to temporarily store the x-axis scroll coordinate.\r\n     */\r\n    private scrollLeft?: number;\r\n\r\n    constructor(ele: HTMLTextAreaElement) {\r\n      super();\r\n      \r\n      this.root = ele;\r\n      this._cachedSelectionStart = -1;\r\n    }\r\n\r\n    get isSynthetic(): boolean {\r\n      return false;\r\n    }\r\n\r\n    getElement(): HTMLTextAreaElement {\r\n      return this.root;\r\n    }\r\n\r\n    clearSelection(): void {\r\n      // Processes our codepoint-based variants of selectionStart and selectionEnd.\r\n      let caret = this.getCaret();\r\n      this.root.value = this.root.value._kmwSubstring(0, caret) + this.root.value._kmwSubstring(this.processedSelectionEnd); //I3319\r\n\r\n      this.setCaret(caret);\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      return true;\r\n    }\r\n\r\n    invalidateSelection() {\r\n      // Since .selectionStart will never return this value, we use it to indicate\r\n      // the need to refresh our processed indices.\r\n      this._cachedSelectionStart = -1;\r\n    }\r\n\r\n    getCaret(): number {\r\n      if(this.root.selectionStart == this._cachedSelectionStart) {\r\n        return this.processedSelectionStart;\r\n      } else {\r\n        this._cachedSelectionStart = this.root.selectionStart; // KMW-1\r\n        this.processedSelectionStart = this.root.value._kmwCodeUnitToCodePoint(this.root.selectionStart); // I3319\r\n        this.processedSelectionEnd = this.root.value._kmwCodeUnitToCodePoint(this.root.selectionEnd);     // I3319\r\n\r\n        return this.processedSelectionStart;\r\n      }\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.getCaret();\r\n    }\r\n\r\n    setCaret(caret: number) {\r\n      this.setSelection(caret, caret);\r\n    }\r\n\r\n    setSelection(start: number, end: number) {\r\n      let domStart = this.root.value._kmwCodePointToCodeUnit(start);\r\n      let domEnd = this.root.value._kmwCodePointToCodeUnit(end);\r\n      this.root.setSelectionRange(domStart, domEnd);\r\n\r\n      this.processedSelectionStart = start;\r\n      this.processedSelectionEnd = end;\r\n\r\n      Utils.forceScroll(this.root);\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      return this.getText()._kmwSubstring(0, this.getCaret());\r\n    }\r\n\r\n    setTextBeforeCaret(text: string) {\r\n      this.getCaret();\r\n      let newCaret = text._kmwLength();\r\n      this.root.value = text + this.getText()._kmwSubstring(this.processedSelectionStart);\r\n\r\n      this.setCaret(newCaret);\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string) {\r\n      let c = this.getCaret();\r\n\r\n      this.root.value = this.getTextBeforeCaret() + s;\r\n      this.setCaret(c);\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      this.getCaret();\r\n      return this.getText()._kmwSubstring(this.processedSelectionEnd);\r\n    }\r\n\r\n    getText(): string {\r\n      return this.root.value;\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number) {\r\n      if(dn \u003e 0) {\r\n        let curText = this.getTextBeforeCaret();\r\n        let caret = this.getCaret();\r\n\r\n        if(dn \u003e caret) {\r\n          dn = caret;\r\n        }\r\n        \r\n        this.adjustDeadkeys(-dn);\r\n        this.setTextBeforeCaret(curText.kmwSubstring(0, this.getCaret() - dn));\r\n        this.setCaret(caret - dn);\r\n      }\r\n    }\r\n\r\n    insertTextBeforeCaret(s: string) {\r\n      if(!s) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCaret();\r\n      let front = this.getTextBeforeCaret();\r\n      let back = this.getText()._kmwSubstring(this.processedSelectionStart);\r\n\r\n      this.adjustDeadkeys(s._kmwLength());\r\n      this.root.value = front + s + back;\r\n      this.setCaret(caret + s._kmwLength());\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      this.insertTextBeforeCaret(\u0027\\n\u0027);\r\n    }\r\n\r\n    doInputEvent() {\r\n      this.dispatchInputEventOn(this.root);\r\n    }\r\n  }\r\n}","namespace com.keyman.dom.targets {\r\n  class SelectionCaret {\r\n    node: Node;\r\n    offset: number;\r\n\r\n    constructor(node, offset) {\r\n      this.node = node;\r\n      this.offset = offset;\r\n    }\r\n  }\r\n\r\n  class SelectionRange {\r\n    start: SelectionCaret;\r\n    end: SelectionCaret;\r\n\r\n    constructor(start, end) {\r\n      this.start = start;\r\n      this.end = end;\r\n    }\r\n  }\r\n\r\n  export class ContentEditable extends OutputTarget {\r\n    root: HTMLElement;\r\n\r\n    constructor(ele: HTMLElement) {\r\n      if(ele.isContentEditable) {\r\n        super();\r\n        this.root = ele;\r\n      } else {\r\n        throw \"Specified element is not already content-editable!\";\r\n      }\r\n    }\r\n\r\n    get isSynthetic(): boolean {\r\n      return false;\r\n    }\r\n\r\n    getElement(): HTMLElement {\r\n      return this.root;\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      let Lsel = this.root.ownerDocument.getSelection();\r\n      \r\n      // We can\u0027t completely rely on this.root.contains because of a weird IE 11 bug.\r\n      // Apparently, the text node contains the HTMLElement?\r\n      var ie11ParentChild = function(parent, child) {\r\n        // It\u0027s explicitly a text node bug.\r\n        if(child.nodeType != 3) {\r\n          return null;\r\n        }\r\n        let code = child.compareDocumentPosition(parent);\r\n\r\n        return (code \u0026 8) != 0; // Yep.  Text node contains its root.\r\n      }\r\n\r\n      if(this.root != Lsel.anchorNode \u0026\u0026 !this.root.contains(Lsel.anchorNode) \u0026\u0026 !ie11ParentChild(this.root, Lsel.anchorNode)) {\r\n        return false;\r\n      }\r\n\r\n      if(this.root != Lsel.focusNode \u0026\u0026 !this.root.contains(Lsel.focusNode) \u0026\u0026 !ie11ParentChild(this.root, Lsel.anchorNode)) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    clearSelection(): void {\r\n      if(this.hasSelection()) {\r\n        let Lsel = this.root.ownerDocument.getSelection();\r\n\r\n        if(!Lsel.isCollapsed) {\r\n          Lsel.deleteFromDocument();  // I2134, I2192\r\n        }\r\n      } else {\r\n        console.warn(\"Attempted to clear an unowned Selection!\");\r\n      }\r\n    }\r\n\r\n    invalidateSelection(): void { /* No cache maintenance needed here, partly because\r\n                                   * it\u0027s impossible to cache a Selection; it mutates.\r\n                                   */  }\r\n\r\n    getCarets(): SelectionRange {\r\n      let Lsel = this.root.ownerDocument.getSelection();\r\n      let code = Lsel.anchorNode.compareDocumentPosition(Lsel.focusNode);\r\n\r\n      if(Lsel.isCollapsed) {\r\n        let caret = new SelectionCaret(Lsel.anchorNode, Lsel.anchorOffset);\r\n        return new SelectionRange(caret, caret); \r\n      } else {\r\n        let anchor = new SelectionCaret(Lsel.anchorNode, Lsel.anchorOffset);\r\n        let focus = new SelectionCaret(Lsel.focusNode, Lsel.focusOffset);\r\n\r\n        if(anchor.node == focus.node) {\r\n          code = (focus.offset - anchor.offset \u003e 0) ? 2 : 4;\r\n        }\r\n\r\n        if(code \u0026 2) {\r\n          return new SelectionRange(anchor, focus);\r\n        } else { // Default\r\n          // can test against code \u0026 4 to ensure Focus is before anchor, though.\r\n          return new SelectionRange(focus, anchor);\r\n        }\r\n      }\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.getTextBeforeCaret().kmwLength();\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().start;\r\n\r\n      if(caret.node.nodeType != 3) {\r\n        return \u0027\u0027; // Must be a text node to provide a context.\r\n      }\r\n\r\n      return caret.node.textContent.substr(0, caret.offset);\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().end;\r\n\r\n      if(caret.node.nodeType != 3) {\r\n        return \u0027\u0027; // Must be a text node to provide a context.\r\n      }\r\n\r\n      return caret.node.textContent.substr(caret.offset);\r\n    }\r\n\r\n    getText(): string {\r\n      return this.root.innerText;\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number) {\r\n      if(!this.hasSelection() || dn \u003c= 0) {\r\n        return;\r\n      }\r\n\r\n      let start = this.getCarets().start;\r\n\r\n      // Bounds-check on the number of chars to delete.\r\n      if(dn \u003e start.offset) {\r\n        dn = start.offset;\r\n      }\r\n\r\n      if(start.node.nodeType != 3) {\r\n        console.warn(\"Deletion of characters requested without available context!\");\r\n        return; // No context to delete characters from.\r\n      }\r\n\r\n      let range = this.root.ownerDocument.createRange();\r\n      let dnOffset = start.offset - start.node.nodeValue.substr(0, start.offset)._kmwSubstr(-dn).length;\r\n\r\n      range.setStart(start.node, dnOffset);\r\n      range.setEnd(start.node, start.offset);\r\n\r\n      this.adjustDeadkeys(-dn);\r\n      range.deleteContents();\r\n      // No need to reposition the caret - the DOM will auto-move the selection accordingly, since\r\n      // we didn\u0027t use the selection to delete anything.\r\n    }\r\n\r\n    insertTextBeforeCaret(s: string) {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let start = this.getCarets().start;\r\n      let delta = s._kmwLength();\r\n      let Lsel = this.root.ownerDocument.getSelection();\r\n\r\n      if(delta == 0) {\r\n        return;\r\n      }\r\n\r\n      this.adjustDeadkeys(delta);\r\n\r\n      // While Selection.extend() is really nice for this, IE doesn\u0027t support it whatsoever.\r\n      // However, IE (11, at least) DOES support setting selections via ranges, so we can still\r\n      // manage the caret properly.\r\n      let finalCaret = this.root.ownerDocument.createRange();\r\n\r\n      if(start.node.nodeType == 3) {\r\n        let textStart = \u003cText\u003e start.node;\r\n        textStart.insertData(start.offset, s);\r\n        finalCaret.setStart(textStart, start.offset + s.length);\r\n      } else {\r\n        // Create a new text node - empty control\r\n        var n = start.node.ownerDocument.createTextNode(s);\r\n\r\n        let range = this.root.ownerDocument.createRange();\r\n        range.setStart(start.node, start.offset);\r\n        range.collapse(true);\r\n        range.insertNode(n);\r\n        finalCaret.setStart(n, s.length);\r\n      }\r\n\r\n      finalCaret.collapse(true);\r\n      Lsel.removeAllRanges();\r\n      try {\r\n        Lsel.addRange(finalCaret);\r\n      } catch(e) {\r\n        // Chrome (through 4.0 at least) throws an exception because it has not synchronised its content with the selection.\r\n        // scrollIntoView synchronises the content for selection\r\n        start.node.parentElement.scrollIntoView();\r\n        Lsel.addRange(finalCaret);\r\n      }\r\n      Lsel.collapseToEnd();\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      // TODO:  Implement.\r\n      //\r\n      // As it turns out, we never had an implementation for handling newline inputs from the OSK for this element type.\r\n      // At least this way, it\u0027s more explicit.\r\n      //\r\n      // Note:  consult \"// Create a new text node - empty control\" case in insertTextBeforeCaret - \r\n      // this helps to handle the browser-default implementation of newline handling.  In particular,\r\n      // entry of the first character after a newline.\r\n      //\r\n      // If raw newlines are entered into the HTML, but as with usual HTML, they\u0027re interpreted as excess whitespace and\r\n      // have no effect.  We need to add DOM elements for a functional newline.\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string) {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().end;\r\n      let delta = s._kmwLength();\r\n      let Lsel = this.root.ownerDocument.getSelection();\r\n\r\n      if(delta == 0) {\r\n        return;\r\n      }\r\n\r\n      // This is designed explicitly for use in direct-setting operations; deadkeys\r\n      // will be handled after this method.\r\n\r\n      if(caret.node.nodeType == 3) {\r\n        let textStart = \u003cText\u003e caret.node;\r\n        textStart.replaceData(caret.offset, textStart.length, s);\r\n      } else {\r\n        // Create a new text node - empty control\r\n        var n = caret.node.ownerDocument.createTextNode(s);\r\n\r\n        let range = this.root.ownerDocument.createRange();\r\n        range.setStart(caret.node, caret.offset);\r\n        range.collapse(true);\r\n        range.insertNode(n);\r\n      }\r\n    }\r\n\r\n    doInputEvent() {\r\n      this.dispatchInputEventOn(this.root);\r\n    }\r\n  }\r\n}","namespace com.keyman.dom.targets {\r\n  class SelectionCaret {\r\n    node: Node;\r\n    offset: number;\r\n\r\n    constructor(node, offset) {\r\n      this.node = node;\r\n      this.offset = offset;\r\n    }\r\n  }\r\n\r\n  class SelectionRange {\r\n    start: SelectionCaret;\r\n    end: SelectionCaret;\r\n\r\n    constructor(start, end) {\r\n      this.start = start;\r\n      this.end = end;\r\n    }\r\n  }\r\n\r\n  class StyleCommand {\r\n    cmd: string;\r\n    stateType: number;\r\n    cache: string|boolean;\r\n\r\n    constructor(c: string, s:number) {\r\n      this.cmd = c;\r\n      this.stateType = s;\r\n    }\r\n  }\r\n\r\n  export class DesignIFrame extends OutputTarget {\r\n    root: HTMLIFrameElement;\r\n    doc: Document;\r\n    docRoot: HTMLElement;\r\n\r\n    commandCache: StyleCommand[];\r\n\r\n    constructor(ele: HTMLIFrameElement) {\r\n      super();\r\n      this.root = ele;\r\n\r\n      if(ele.contentWindow \u0026\u0026 ele.contentWindow.document \u0026\u0026 ele.contentWindow.document.designMode == \u0027on\u0027) {\r\n        this.doc = ele.contentWindow.document;\r\n        this.docRoot = ele.contentWindow.document.documentElement;\r\n      } else {\r\n        throw \"Specified IFrame is not in design-mode!\";\r\n      }\r\n    }\r\n\r\n    get isSynthetic(): boolean {\r\n      return false;\r\n    }\r\n\r\n    getElement(): HTMLIFrameElement {\r\n      return this.root;\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      let Lsel = this.doc.getSelection();\r\n      let outerSel = document.getSelection();\r\n\r\n      // If the outer doc\u0027s selection matches, we\u0027re active.\r\n      if(outerSel.anchorNode == Lsel.anchorNode \u0026\u0026 outerSel.focusNode == Lsel.focusNode) {\r\n        return true;\r\n      } else {\r\n        // Problem:  for testing, we can\u0027t enforce the ideal (ie: first) condition.\r\n        // Technically, the IFrame _will_ always have its own internal selection, though... so... it kinda works?\r\n        return true;\r\n      }\r\n    }\r\n\r\n    clearSelection(): void {\r\n      if(this.hasSelection()) {\r\n        let Lsel = this.doc.getSelection();\r\n\r\n        if(!Lsel.isCollapsed) {\r\n          Lsel.deleteFromDocument();  // I2134, I2192\r\n        }\r\n      } else {\r\n        console.warn(\"Attempted to clear an unowned Selection!\");\r\n      }\r\n    }\r\n\r\n    invalidateSelection(): void { /* No cache maintenance needed here, partly because\r\n                                   * it\u0027s impossible to cache a Selection; it mutates.\r\n                                   */  }\r\n\r\n    getCarets(): SelectionRange {\r\n      let Lsel = this.doc.getSelection();\r\n      let code = Lsel.anchorNode.compareDocumentPosition(Lsel.focusNode);\r\n\r\n      if(Lsel.isCollapsed) {\r\n        let caret = new SelectionCaret(Lsel.anchorNode, Lsel.anchorOffset);\r\n        return new SelectionRange(caret, caret); \r\n      } else {\r\n        let anchor = new SelectionCaret(Lsel.anchorNode, Lsel.anchorOffset);\r\n        let focus = new SelectionCaret(Lsel.focusNode, Lsel.focusOffset);\r\n\r\n        if(anchor.node == focus.node) {\r\n          code = (focus.offset - anchor.offset \u003e 0) ? 2 : 4;\r\n        }\r\n\r\n        if(code \u0026 2) {\r\n          return new SelectionRange(anchor, focus);\r\n        } else { // Default\r\n          // can test against code \u0026 4 to ensure Focus is before anchor, though.\r\n          return new SelectionRange(focus, anchor);\r\n        }\r\n      }\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.getTextBeforeCaret().kmwLength();\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().start;\r\n\r\n      if(caret.node.nodeType != 3) {\r\n        return \u0027\u0027; // Must be a text node to provide a context.\r\n      }\r\n\r\n      return caret.node.textContent.substr(0, caret.offset);\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().end;\r\n\r\n      if(caret.node.nodeType != 3) {\r\n        return \u0027\u0027; // Must be a text node to provide a context.\r\n      }\r\n\r\n      return caret.node.textContent.substr(caret.offset);\r\n    }\r\n\r\n    getText(): string {\r\n      return this.docRoot.innerText;\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number) {\r\n      if(!this.hasSelection() || dn \u003c= 0) {\r\n        return;\r\n      }\r\n\r\n      let start = this.getCarets().start;\r\n\r\n      // Bounds-check on the number of chars to delete.\r\n      if(dn \u003e start.offset) {\r\n        dn = start.offset;\r\n      }\r\n\r\n      if(start.node.nodeType != 3) {\r\n        console.warn(\"Deletion of characters requested without available context!\");\r\n        return; // No context to delete characters from.\r\n      }\r\n\r\n      let range = this.doc.createRange();\r\n      let dnOffset = start.offset - start.node.nodeValue.substr(0, start.offset)._kmwSubstr(-dn).length;\r\n\r\n      range.setStart(start.node, dnOffset);\r\n      range.setEnd(start.node, start.offset);\r\n\r\n      this.adjustDeadkeys(-dn);\r\n      range.deleteContents();\r\n      // No need to reposition the caret - the DOM will auto-move the selection accordingly, since\r\n      // we didn\u0027t use the selection to delete anything.\r\n    }\r\n\r\n    insertTextBeforeCaret(s: string) {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let start = this.getCarets().start;\r\n      let delta = s._kmwLength();\r\n      let Lsel = this.doc.getSelection();\r\n\r\n      if(delta == 0) {\r\n        return;\r\n      }\r\n\r\n      this.adjustDeadkeys(delta);\r\n\r\n      // While Selection.extend() is really nice for this, IE doesn\u0027t support it whatsoever.\r\n      // However, IE (11, at least) DOES support setting selections via ranges, so we can still\r\n      // manage the caret properly.\r\n      let finalCaret = this.root.ownerDocument.createRange();\r\n\r\n      if(start.node.nodeType == 3) {\r\n        let textStart = \u003cText\u003e start.node;\r\n        textStart.insertData(start.offset, s);\r\n        finalCaret.setStart(textStart, start.offset + s.length);\r\n      } else {\r\n        // Create a new text node - empty control\r\n        var n = this.doc.createTextNode(s);\r\n\r\n        let range = this.doc.createRange();\r\n        range.setStart(start.node, start.offset);\r\n        range.collapse(true);\r\n        range.insertNode(n);\r\n        finalCaret.setStart(n, s.length);\r\n      }\r\n\r\n      finalCaret.collapse(true);\r\n      Lsel.removeAllRanges();\r\n      try {\r\n        Lsel.addRange(finalCaret);\r\n      } catch(e) {\r\n        // Chrome (through 4.0 at least) throws an exception because it has not synchronised its content with the selection.\r\n        // scrollIntoView synchronises the content for selection\r\n        start.node.parentElement.scrollIntoView();\r\n        Lsel.addRange(finalCaret);\r\n      }\r\n      Lsel.collapseToEnd();\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      // TODO:  Implement.\r\n      //\r\n      // As it turns out, we never had an implementation for handling newline inputs from the OSK for this element type.\r\n      // At least this way, it\u0027s more explicit.\r\n      //\r\n      // Note:  consult \"// Create a new text node - empty control\" case in insertTextBeforeCaret - \r\n      // this helps to handle the browser-default implementation of newline handling.  In particular,\r\n      // entry of the first character after a newline.\r\n      //\r\n      // If raw newlines are entered into the HTML, but as with usual HTML, they\u0027re interpreted as excess whitespace and\r\n      // have no effect.  We need to add DOM elements for a functional newline.\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string) {\r\n      if(!this.hasSelection()) {\r\n        return;\r\n      }\r\n\r\n      let caret = this.getCarets().end;\r\n      let delta = s._kmwLength();\r\n      let Lsel = this.doc.getSelection();\r\n\r\n      if(delta == 0) {\r\n        return;\r\n      }\r\n\r\n      // This is designed explicitly for use in direct-setting operations; deadkeys\r\n      // will be handled after this method.\r\n\r\n      if(caret.node.nodeType == 3) {\r\n        let textStart = \u003cText\u003e caret.node;\r\n        textStart.replaceData(caret.offset, textStart.length, s);\r\n      } else {\r\n        // Create a new text node - empty control\r\n        var n = caret.node.ownerDocument.createTextNode(s);\r\n\r\n        let range = this.root.ownerDocument.createRange();\r\n        range.setStart(caret.node, caret.offset);\r\n        range.collapse(true);\r\n        range.insertNode(n);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     saveProperties\r\n     * Scope        Private\r\n     * Description  Build and create list of styles that can be applied in iframes\r\n     */\r\n    saveProperties() {\r\n      // Formerly _CacheCommands.\r\n      var _CacheableCommands=[\r\n        new StyleCommand(\u0027backcolor\u0027,1), new StyleCommand(\u0027fontname\u0027,1), new StyleCommand(\u0027fontsize\u0027,1), \r\n        new StyleCommand(\u0027forecolor\u0027,1), new StyleCommand(\u0027bold\u0027,0), new StyleCommand(\u0027italic\u0027,0), \r\n        new StyleCommand(\u0027strikethrough\u0027,0), new StyleCommand(\u0027subscript\u0027,0),\r\n        new StyleCommand(\u0027superscript\u0027,0), new StyleCommand(\u0027underline\u0027,0)\r\n      ];\r\n\r\n      if(this.doc.defaultView) {\r\n        _CacheableCommands.push(new StyleCommand(\u0027hilitecolor\u0027,1));\r\n      }\r\n        \r\n      for(var n=0; n \u003c _CacheableCommands.length; n++) { // I1511 - array prototype extended\r\n        let cmd = _CacheableCommands[n];\r\n        //KeymanWeb._Debug(\u0027Command:\u0027+_CacheableCommands[n][0]);\r\n        if(cmd.stateType == 1) {\r\n          cmd.cache = this.doc.queryCommandValue(cmd.cmd);\r\n        } else {\r\n          cmd.cache = this.doc.queryCommandState(cmd.cmd);\r\n        }\r\n      }\r\n      this.commandCache = _CacheableCommands;\r\n    }\r\n\r\n    /**\r\n     * Function     restoreProperties\r\n     * Scope        Private\r\n     * Description  Restore styles in IFRAMEs (??)\r\n     */\r\n    restoreProperties(_func?: () =\u003e void): void {\r\n      // Formerly _CacheCommandsReset.\r\n      if(!this.commandCache) {\r\n        console.error(\"No command cache exists to restore!\");\r\n      }\r\n\r\n      for(var n=0; n \u003c this.commandCache.length; n++) { // I1511 - array prototype extended\r\n        let cmd = this.commandCache[n];\r\n\r\n        //KeymanWeb._Debug(\u0027ResetCacheCommand:\u0027+_CacheableCommands[n][0]+\u0027=\u0027+_CacheableCommands[n][2]);\r\n        if(cmd.stateType == 1) {\r\n          if(this.doc.queryCommandValue(cmd.cmd) != cmd.cache) {\r\n            if(_func) {\r\n              _func();\r\n            }\r\n            this.doc.execCommand(cmd.cmd, false, \u003cstring\u003e cmd.cache);\r\n          }\r\n        } else if(this.doc.queryCommandState(cmd.cmd) != cmd.cache) {\r\n          if(_func) {\r\n            _func();\r\n          }\r\n          //KeymanWeb._Debug(\u0027executing command \u0027+_CacheableCommand[n][0]);\r\n          this.doc.execCommand(cmd.cmd, false, null);\r\n        }\r\n      }\r\n    }\r\n\r\n    doInputEvent() {\r\n      // Root = the iframe, the outermost component and the one we were originally told to attach to.\r\n      this.dispatchInputEventOn(this.root);\r\n    }\r\n  }\r\n}","// Defines the TouchAliasElement merged type.\r\n/// \u003creference path=\"../touchAliasElement.ts\" /\u003e\r\n\r\nnamespace com.keyman.dom.targets {\r\n  export class TouchAlias extends OutputTarget {\r\n    root: TouchAliasElement;\r\n\r\n    constructor(e: TouchAliasElement) {\r\n      super();\r\n      this.root = e;\r\n    }\r\n\r\n    getElement(): HTMLDivElement {\r\n      return this.root;\r\n    }\r\n\r\n    clearSelection(): void {\r\n      // Touch-alias elements do not currently support selections.\r\n      return;\r\n    }\r\n\r\n    invalidateSelection(): void {\r\n      // Touch-alias elements do not currently support selections.\r\n      return;\r\n    }\r\n\r\n    hasSelection(): boolean {\r\n      // Always has an internal caret position.\r\n      return true;\r\n    }\r\n\r\n    getDeadkeyCaret(): number {\r\n      return this.root.getTextCaret();\r\n    }\r\n\r\n    getTextBeforeCaret(): string {\r\n      return this.root.getTextBeforeCaret();\r\n    }\r\n\r\n    getTextAfterCaret(): string {\r\n      return this.root.getTextAfterCaret();\r\n    }\r\n\r\n    getText(): string {\r\n      return this.root.getText();\r\n    }\r\n\r\n    deleteCharsBeforeCaret(dn: number): void {\r\n      if(dn \u003e 0) {\r\n        let curText = this.getTextBeforeCaret();\r\n        if(this.getDeadkeyCaret() \u003c dn) {\r\n          dn = this.getDeadkeyCaret();\r\n        }\r\n        this.adjustDeadkeys(-dn);\r\n        this.root.setTextBeforeCaret(curText.kmwSubstring(0, this.root.getTextCaret() - dn));\r\n      }\r\n    }\r\n    \r\n    insertTextBeforeCaret(s: string): void {\r\n      this.adjustDeadkeys(s._kmwLength());\r\n      this.root.setTextBeforeCaret(this.root.getTextBeforeCaret() + s);\r\n    }\r\n\r\n    handleNewlineAtCaret(): void {\r\n      // Insert new line in text area fields\r\n      if(this.root.base.nodeName == \u0027TEXTAREA\u0027) {\r\n        // As the TouchAliasElement was implemented long before OutputTargets, it already has\r\n        // built-in newline handling.\r\n        this.insertTextBeforeCaret(\u0027\\n\u0027);\r\n      } else if(dom.Utils.instanceof(this.root.base, \"HTMLInputElement\")) {\r\n        // HTMLInputElements do not permit newlines; they instead have DOM-specific behaviors.\r\n        this.root.hideCaret();\r\n        Input.newlineHandler(this.root.base as HTMLInputElement);\r\n      } else {\r\n        console.warn(\"TouchAlias OutputTarget cannot output newlines for unexpected base element types!\");\r\n      }\r\n    }\r\n\r\n    protected setTextAfterCaret(s: string) {\r\n      this.root.setText(this.getTextBeforeCaret() + s, this.getTextBeforeCaret()._kmwLength());\r\n    }\r\n\r\n    doInputEvent() {\r\n      // Dispatch the event on the aliased element, not the TouchAliasElement itself.\r\n      this.dispatchInputEventOn(this.root.base);\r\n    }\r\n  }\r\n}","/// \u003creference path=\"outputTarget.ts\" /\u003e\r\n// Defines a basic HTMLInputElement wrapper.\r\n///\u003creference path=\"input.ts\" /\u003e\r\n// Defines a basic HTMLTextAreaElement wrapper.\r\n///\u003creference path=\"textarea.ts\" /\u003e\r\n// Defines a basic content-editable wrapper.\r\n///\u003creference path=\"contentEditable.ts\" /\u003e\r\n// Defines a basic design-mode IFrame wrapper.\r\n///\u003creference path=\"designIFrame.ts\" /\u003e\r\n// Defines a basic touch-alias element wrapper.\r\n///\u003creference path=\"touchAlias.ts\" /\u003e\r\n\r\nnamespace com.keyman.dom.targets {\r\n  export function wrapElement(e: HTMLElement): OutputTarget {\r\n    // Complex type scoping is implemented here so that kmwutils.ts is not a dependency for test compilations.\r\n\r\n    if(Utils.instanceof(e, \"HTMLInputElement\")) {\r\n      return new Input(\u003cHTMLInputElement\u003e e);\r\n    } else if(Utils.instanceof(e, \"HTMLTextAreaElement\")) {\r\n      return new TextArea(\u003cHTMLTextAreaElement\u003e e);\r\n    } else if(Utils.instanceof(e, \"TouchAliasElement\")) {\r\n      return new TouchAlias(\u003cTouchAliasElement\u003e e);\r\n    } else if(Utils.instanceof(e, \"HTMLIFrameElement\")) {\r\n      let iframe = \u003cHTMLIFrameElement\u003e e;\r\n\r\n      if(iframe.contentWindow \u0026\u0026 iframe.contentWindow.document \u0026\u0026 iframe.contentWindow.document.designMode == \"on\") {\r\n        return new DesignIFrame(iframe);\r\n      } else if (e.isContentEditable) {\r\n        // Do content-editable \u003ciframe\u003es make sense?\r\n        return new ContentEditable(e);\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if(e.isContentEditable) {\r\n      return new ContentEditable(e);\r\n    }\r\n    \r\n    return null;\r\n  }\r\n}","namespace com.keyman.dom {\r\n  export class VariableStoreCookieSerializer implements text.VariableStoreSerializer {\r\n    loadStore(keyboardID: string, storeName: string): text.VariableStore {\r\n      var cName=\u0027KeymanWeb_\u0027+keyboardID+\u0027_Option_\u0027+storeName;\r\n      let map = com.keyman.singleton.util.loadCookie(cName) as text.VariableStore;\r\n\r\n      if(typeof map[storeName] != \u0027undefined\u0027) {\r\n        // Since it was stored in a cookie.\r\n        map[storeName] = decodeURIComponent(map[storeName]);\r\n      }\r\n\r\n      return map || {};\r\n    }\r\n    \r\n    saveStore(keyboardID: string, storeName: string, storeMap: text.VariableStore) {\r\n      // The cookie entry includes the store name...\r\n      var cName=\u0027KeymanWeb_\u0027+keyboardID+\u0027_Option_\u0027+storeName;\r\n      storeMap[storeName] = encodeURIComponent(storeMap[storeName]);\r\n\r\n      // And the lookup under that entry looks for the value under the store name, again.\r\n      com.keyman.singleton.util.saveCookie(cName, storeMap);\r\n    }\r\n  }\r\n}","// Includes KMW-added property declaration extensions for HTML elements.\r\n/// \u003creference path=\"../kmwexthtml.ts\" /\u003e\r\n// References the base KMW object.\r\n/// \u003creference path=\"../kmwbase.ts\" /\u003e\r\n// References DOM event handling interfaces and classes.\r\n/// \u003creference path=\"domEventHandlers.ts\" /\u003e\r\n// References DOM-specific output handling.\r\n/// \u003creference path=\"domDefaultOutput.ts\" /\u003e\r\n// References other DOM-specific web-core overrides.\r\n/// \u003creference path=\"domOverrides.ts\" /\u003e\r\n// Defines the touch-alias element structure used for mobile devices.\r\n/// \u003creference path=\"touchAliasElement.ts\" /\u003e\r\n// Defines per-element-type OutputTarget element wrapping.\r\n/// \u003creference path=\"targets/wrapElement.ts\" /\u003e\r\n// Defines cookie-based variable store serialization\r\n/// \u003creference path=\"variableStoreCookieSerializer.ts\" /\u003e\r\n\r\nnamespace com.keyman.dom {\r\n  // Utility object used to handle beep (keyboard error response) operations.\r\n  class BeepData {\r\n    e: HTMLElement;\r\n    c: string;\r\n\r\n    constructor(e: HTMLElement) {\r\n      this.e = e;\r\n      this.c = e.style.backgroundColor;\r\n    }\r\n\r\n    reset(): void {\r\n      this.e.style.backgroundColor = this.c;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This class serves as the intermediary between KeymanWeb and any given web page\u0027s elements.\r\n   */\r\n  export class DOMManager {\r\n    private keyman: KeymanBase;\r\n\r\n    /**\r\n     * Implements the AliasElementHandlers interface for touch interaction.\r\n     */\r\n    touchHandlers?: DOMTouchHandlers;\r\n\r\n    /**\r\n     * Implements stubs for the AliasElementHandlers interface for non-touch interaction.\r\n     */\r\n    nonTouchHandlers: DOMEventHandlers;\r\n\r\n    /**\r\n     * Tracks the attachment MutationObserver.\r\n     */\r\n    attachmentObserver: MutationObserver;\r\n\r\n    /**\r\n     * Tracks the enablement MutationObserver.\r\n     */\r\n    enablementObserver: MutationObserver;\r\n\r\n    /**\r\n     * Tracks a list of event-listening elements.  \r\n     * \r\n     * In touch mode, this should contain touch-aliasing DIVs, but will contain other elements in non-touch mode.\r\n     */\r\n    inputList: HTMLElement[] = [];            // List of simulated input divisions for touch-devices   I3363 (Build 301)\r\n\r\n    /**\r\n     * Tracks a visually-sorted list of elements that are KMW-enabled.\r\n     */\r\n    sortedInputs: HTMLElement[] = [];   // List of all INPUT and TEXTAREA elements ordered top to bottom, left to right\r\n\r\n    _BeepObjects: BeepData[] = [];  // BeepObjects - maintains a list of active \u0027beep\u0027 visual feedback elements\r\n    _BeepTimeout: number = 0;       // BeepTimeout - a flag indicating if there is an active \u0027beep\u0027. \r\n                                    // Set to 1 if there is an active \u0027beep\u0027, otherwise leave as \u00270\u0027.\r\n\r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n      \r\n      if(keyman.util.device.touchable) {\r\n        this.touchHandlers = new DOMTouchHandlers(keyman);\r\n      }\r\n\r\n      this.nonTouchHandlers = new DOMEventHandlers(keyman);\r\n    }\r\n\r\n    shutdown() {\r\n      // Catch and notify of any shutdown errors, but don\u0027t let errors fail unit tests.\r\n      try {\r\n        if(this.enablementObserver) {\r\n          this.enablementObserver.disconnect();\r\n        }\r\n        if(this.attachmentObserver) {\r\n          this.attachmentObserver.disconnect();\r\n        }\r\n    \r\n        for(let input of this.inputList) {\r\n          this.disableInputElement(input);\r\n        }\r\n\r\n        // On shutdown, we remove our general focus-suppression handlers as well.\r\n        this.keyman.util.detachDOMEvent(document.body, \u0027focus\u0027, DOMManager.suppressFocusCheck, true);\r\n        this.keyman.util.detachDOMEvent(document.body, \u0027blur\u0027, DOMManager.suppressFocusCheck, true);\r\n      } catch (e) {\r\n        console.error(\"Error occurred during shutdown\");\r\n        console.error(e);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     beep          KB      (DOM-side implementation)\r\n     * Scope        Public\r\n     * @param       {Object}      Pelem     element to flash\r\n     * Description  Flash body as substitute for audible beep; notify embedded device to vibrate\r\n     */    \r\n    doBeep(outputTarget: targets.OutputTarget) {\r\n      // Handles embedded-mode beeps.\r\n      let keyman = com.keyman.singleton;\r\n      if (\u0027beepKeyboard\u0027 in keyman) {\r\n        keyman[\u0027beepKeyboard\u0027]();\r\n        return;\r\n      }\r\n\r\n      if(!(outputTarget instanceof targets.OutputTarget)) {\r\n        return;\r\n      }\r\n\r\n      // All code after this point is DOM-based, triggered by the beep.\r\n      var Pelem: HTMLElement = outputTarget.getElement();\r\n      if(outputTarget instanceof dom.targets.DesignIFrame) {\r\n        Pelem = outputTarget.docRoot; // I1446 - beep sometimes fails to flash when using OSK and rich control\r\n      }\r\n\r\n      if(!Pelem) {\r\n        return; // There\u0027s no way to signal a \u0027beep\u0027 to null, so just cut everything short.\r\n      }\r\n      \r\n      if(!Pelem.style || typeof(Pelem.style.backgroundColor)==\u0027undefined\u0027) {\r\n        return;\r\n      }\r\n\r\n      for(var Lbo=0; Lbo\u003cthis._BeepObjects.length; Lbo++) { // I1446 - beep sometimes fails to return background color to normal\r\n                                                                  // I1511 - array prototype extended\r\n        if(this._BeepObjects[Lbo].e == Pelem) {\r\n          return;\r\n        }\r\n      }\r\n      \r\n      this._BeepObjects = com.keyman.singleton._push(this._BeepObjects, new BeepData(Pelem));\r\n      // TODO:  This is probably a bad color choice if \"dark mode\" is enabled.  A proper implementation\r\n      //        would probably require some \u0027fun\u0027 CSS work, though.\r\n      Pelem.style.backgroundColor = \u0027#000000\u0027;\r\n      if(this._BeepTimeout == 0) {\r\n        this._BeepTimeout = 1;\r\n        window.setTimeout(this.beepReset.bind(this), 50);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     beepReset      \r\n     * Scope        Public\r\n     * Description  Reset/terminate beep or flash (not currently used: Aug 2011)\r\n     */    \r\n    beepReset(): void {\r\n      com.keyman.singleton.core.keyboardInterface.resetContextCache();\r\n\r\n      var Lbo;\r\n      this._BeepTimeout = 0;\r\n      for(Lbo=0;Lbo\u003cthis._BeepObjects.length;Lbo++) { // I1511 - array prototype extended\r\n        this._BeepObjects[Lbo].reset();\r\n      }\r\n      this._BeepObjects = [];\r\n    }\r\n\r\n    /**\r\n     * Function     getHandlers\r\n     * Scope        Private\r\n     * @param       {Element}   Pelem  An input, textarea, or touch-alias element from the page.\r\n     * @returns     {Object}    \r\n     */\r\n    getHandlers(Pelem: HTMLElement): DOMEventHandlers {\r\n      var _attachObj = Pelem.base ? Pelem.base._kmwAttachment : Pelem._kmwAttachment;\r\n\r\n      if(_attachObj) {\r\n        return _attachObj.touchEnabled ? this.touchHandlers : this.nonTouchHandlers;\r\n      } else {\r\n        // Best guess solution.\r\n        return this.keyman.touchAliasing;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     enableTouchElement\r\n     * Scope        Private\r\n     * @param       {Element}  Pelem   An input or textarea element from the page.\r\n     * @return      {boolean}  Returns true if it creates a simulated input element for Pelem; false if not.\r\n     * Description  Creates a simulated input element for the specified INPUT or TEXTAREA, comprising:\r\n     *              an outer DIV, matching the position, size and style of the base element\r\n     *              a scrollable DIV within that outer element\r\n     *              two SPAN elements within the scrollable DIV, to hold the text before and after the caret\r\n     *    \r\n     *              The left border of the second SPAN is flashed on and off as a visible caret  \r\n     * \r\n     *              Also ensures the element is registered on keymanweb\u0027s internal input list.\r\n     */\r\n    enableTouchElement(Pelem: HTMLElement) {\r\n      // Touch doesn\u0027t worry about iframes.\r\n      if(Pelem.tagName.toLowerCase() == \u0027iframe\u0027) {\r\n        return false;\r\n      }\r\n\r\n      if(this.isKMWDisabled(Pelem)) {\r\n        this.setupNonKMWTouchElement(Pelem);\r\n        return false;\r\n      } else {\r\n        // Initialize and protect input elements for touch-screen devices (but never for apps)\r\n        // NB: now set disabled=true rather than readonly, since readonly does not always \r\n        // prevent element from getting focus, e.g. within a LABEL element.\r\n        // c.f. http://kreotekdev.wordpress.com/2007/11/08/disabled-vs-readonly-form-fields/ \r\n        Pelem.kmwInput = true;\r\n      }\r\n\r\n      // Remove any handlers for \"NonKMWTouch\" elements, since we\u0027re enabling it here.\r\n      Pelem.removeEventListener(\u0027touchstart\u0027, this.nonKMWTouchHandler);\r\n\r\n      /*\r\n      *  Does this element already have a simulated touch element established?  If so,\r\n      *  just reuse it - if it isn\u0027t still in the input list!\r\n      */\r\n      if(Pelem[\u0027kmw_ip\u0027]) {\r\n\r\n        if(this.inputList.indexOf(Pelem[\u0027kmw_ip\u0027]) != -1) {\r\n          return false;\r\n        }\r\n\r\n        this.inputList.push(Pelem[\u0027kmw_ip\u0027]);\r\n        \r\n        console.log(\"Unexpected state - this element\u0027s simulated input DIV should have been removed from the page!\");\r\n\r\n        return true;   // May need setup elsewhere since it\u0027s just been re-added!\r\n      }\r\n\r\n      // The simulated touch element doesn\u0027t already exist?  Time to initialize it.\r\n      let x=dom.constructTouchAlias(Pelem);\r\n      if(this.isAttached(x)) {\r\n        x._kmwAttachment.interface = dom.targets.wrapElement(x);\r\n      } else {\r\n        this.setupElementAttachment(x); // The touch-alias should have its own wrapper.\r\n      }\r\n      Pelem._kmwAttachment = x._kmwAttachment; // It\u0027s an object reference we need to alias.\r\n      \r\n      // Set font for base element\r\n      this.enableInputElement(x, true);\r\n\r\n      // Superimpose custom input fields for each input or textarea, unless readonly or disabled \r\n      \r\n      // On touch event, reposition the text caret and prepare for OSK input\r\n      // Removed \u0027onfocus=\u0027 as that resulted in handling the event twice (on iOS, anyway) \r\n\r\n      // We know this to be the correct set of handlers because we\u0027re setting up a touch element.\r\n      var touchHandlers = this.touchHandlers;\r\n      \r\n      x.addEventListener(\u0027touchstart\u0027, touchHandlers.setFocus);\r\n      x.onmspointerdown=function(e: MSPointerEvent) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return touchHandlers.setFocus(e);\r\n      };\r\n\r\n      x.addEventListener(\u0027touchend\u0027, function(e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      x.onmspointerup=function(e) {\r\n        e.stopPropagation();\r\n      };\r\n      \r\n      // Disable internal scroll when input element in focus \r\n      x.addEventListener(\u0027touchmove\u0027, touchHandlers.dragInput, false);\r\n      x.onmspointermove=touchHandlers.dragInput;\r\n      \r\n      // Hide keyboard and caret when losing focus from simulated input field\r\n      x.onblur=touchHandlers.setBlur;\r\n      \r\n      // Note that touchend event propagates and is processed by body touchend handler\r\n      // re-setting the first touch point for a drag\r\n\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Function     disableTouchElement\r\n     * Scope        Private\r\n     * @param       {Element}  Pelem   An input or textarea element from the page.\r\n     * Description  Destroys the simulated input element for the specified INPUT or TEXTAREA and reverts\r\n     *              back to desktop-style \u0027enablement\u0027 for the base control.\r\n     */\r\n    disableTouchElement(Pelem: HTMLElement) {\r\n      // Do not check for the element being officially disabled - it\u0027s also used for detachment.\r\n\r\n      // Touch doesn\u0027t worry about iframes.\r\n      if(Pelem.tagName.toLowerCase() == \u0027iframe\u0027) {\r\n        return; // If/when we do support this, we\u0027ll need an iframe-level manager for it.\r\n      }\r\n\r\n      if(Pelem[\u0027kmw_ip\u0027]) {\r\n        var index = this.inputList.indexOf(Pelem[\u0027kmw_ip\u0027]);\r\n        if(index != -1) {\r\n          this.inputList.splice(index, 1);\r\n        }\r\n\r\n        Pelem.style.visibility=\u0027visible\u0027; // hide by default: KMW-3\r\n        Pelem.disabled = false;\r\n        Pelem.removeEventListener(\u0027resize\u0027, Pelem[\u0027kmw_ip\u0027]._kmwResizeHandler);\r\n\r\n        // Disable touch-related handling code.\r\n        this.disableInputElement(Pelem[\u0027kmw_ip\u0027]);\r\n        Pelem._kmwAttachment.interface = dom.targets.wrapElement(Pelem);\r\n        \r\n        // We get weird repositioning errors if we don\u0027t remove our simulated input element - and permanently.\r\n        if(Pelem.parentNode) {\r\n          Pelem.parentNode.removeChild(Pelem[\u0027kmw_ip\u0027]);\r\n        }\r\n        delete Pelem[\u0027kmw_ip\u0027];\r\n      }\r\n\r\n      this.setupNonKMWTouchElement(Pelem);\r\n    }\r\n\r\n    /** \r\n     * Function     nonKMWTouchHandler\r\n     * Scope        Private\r\n     * Description  A handler for KMW-touch-disabled elements when operating on touch devices.\r\n     */\r\n    nonKMWTouchHandler = function(x) {\r\n      DOMEventHandlers.states.focusing=false;\r\n      clearTimeout(DOMEventHandlers.states.focusTimer);\r\n      this.keyman.osk.hideNow();\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     setupNonKMWTouchElement\r\n     * Scope        Private\r\n     * @param       {Element}    x  A child element of document.\r\n     * Description  Performs handling for the specified disabled input element on touch-based systems.\r\n     */\r\n    setupNonKMWTouchElement(x: HTMLElement) {\r\n      this.keyman.util.attachDOMEvent(x, \u0027touchstart\u0027, this.nonKMWTouchHandler, false);\r\n\r\n      // Signify that touch isn\u0027t enabled on the control.\r\n      if(this.isAttached(x)) {\r\n        x._kmwAttachment.touchEnabled = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     enableInputElement\r\n     * Scope        Private\r\n     * @param       {Element}   Pelem   An element from the document to be enabled with full KMW handling.\r\n     * @param       {boolean=}   isAlias A flag that indicates if the element is a simulated input element for touch.\r\n     * Description  Performs the basic enabling setup for one element and adds it to the inputList if it is an input element.\r\n     *              Note that this method is called for both desktop and touch control routes; the touch route calls it from within\r\n     *              enableTouchElement as it must first establish the simulated touch element to serve as the alias \"input element\" here.\r\n     *              Note that the \u0027kmw-disabled\u0027 property is managed by the MutationObserver and by the surface API calls.\r\n     */       \r\n    enableInputElement(Pelem: HTMLElement, isAlias?: boolean) { \r\n      var baseElement = isAlias ? Pelem[\u0027base\u0027] : Pelem;\r\n\r\n      if(!this.isKMWDisabled(baseElement)) {\r\n        if(Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement) {\r\n          this._AttachToIframe(Pelem);\r\n        } else {\r\n          if(!isAlias) {\r\n            this.setupElementAttachment(Pelem);\r\n          }\r\n\r\n          baseElement.className = baseElement.className ? baseElement.className + \u0027 keymanweb-font\u0027 : \u0027keymanweb-font\u0027;\r\n          this.inputList.push(Pelem);\r\n\r\n          this.keyman.util.attachDOMEvent(baseElement,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n          this.keyman.util.attachDOMEvent(baseElement,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n\r\n          // These need to be on the actual input element, as otherwise the keyboard will disappear on touch.\r\n          Pelem.onkeypress = this.getHandlers(Pelem)._KeyPress;\r\n          Pelem.onkeydown = this.getHandlers(Pelem)._KeyDown;\r\n          Pelem.onkeyup = this.getHandlers(Pelem)._KeyUp;      \r\n        }\r\n      } \r\n    }; \r\n\r\n    /**\r\n     * Function     disableInputElement\r\n     * Scope        Private\r\n     * @param       {Element}   Pelem   An element from the document to be enabled with full KMW handling.\r\n     * @param       {boolean=}   isAlias A flag that indicates if the element is a simulated input element for touch.\r\n     * Description  Inverts the process of enableInputElement, removing all event-handling from the element.\r\n     *              Note that the \u0027kmw-disabled\u0027 property is managed by the MutationObserver and by the surface API calls.\r\n     */       \r\n    disableInputElement(Pelem: HTMLElement, isAlias?: boolean) { \r\n      if(!Pelem) {\r\n        return;\r\n      }\r\n      \r\n      var baseElement = isAlias ? Pelem[\u0027base\u0027] : Pelem;\r\n      // Do NOT test for pre-disabledness - we also use this to fully detach without officially \u0027disabling\u0027 via kmw-disabled.\r\n      if((Pelem.ownerDocument.defaultView \u0026\u0026 Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement) ||\r\n          Pelem instanceof HTMLIFrameElement) {\r\n        this._DetachFromIframe(Pelem);\r\n      } else { \r\n        var cnIndex = baseElement.className.indexOf(\u0027keymanweb-font\u0027);\r\n        if(cnIndex \u003e 0 \u0026\u0026 !isAlias) { // See note about the alias below.\r\n          baseElement.className = baseElement.className.replace(\u0027keymanweb-font\u0027, \u0027\u0027).trim();\r\n        }\r\n\r\n        // Remove the element from our internal input tracking.\r\n        var index = this.inputList.indexOf(Pelem);\r\n        if(index \u003e -1) {\r\n          this.inputList.splice(index, 1);\r\n        }\r\n\r\n        if(!isAlias) { // See note about the alias below.\r\n          this.keyman.util.detachDOMEvent(baseElement,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n          this.keyman.util.detachDOMEvent(baseElement,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n        }\r\n        // These need to be on the actual input element, as otherwise the keyboard will disappear on touch.\r\n        Pelem.onkeypress = null;\r\n        Pelem.onkeydown = null;\r\n        Pelem.onkeyup = null;      \r\n      }\r\n\r\n      // If we\u0027re disabling an alias, we should fully enable the base version.  (Thinking ahead to toggleable-touch mode.)\r\n      if(isAlias) {\r\n        this.inputList.push(baseElement);\r\n\r\n        baseElement.onkeypress = this.getHandlers(Pelem)._KeyPress;\r\n        baseElement.onkeydown = this.getHandlers(Pelem)._KeyDown;\r\n        baseElement.onkeyup = this.getHandlers(Pelem)._KeyUp;  \r\n      }\r\n\r\n      var lastElem = this.getLastActiveElement();\r\n      if(lastElem == Pelem || lastElem == Pelem[\u0027kmw_ip\u0027]) {\r\n        this.clearLastActiveElement();\r\n        this.keyman.osk._Hide(false);\r\n      }\r\n      \r\n      return;\r\n    };\r\n\r\n        /**\r\n     * Function     isKMWDisabled\r\n     * Scope        Private\r\n     * @param       {Element}   x   An element from the page.\r\n     * @return      {boolean}      true if the element\u0027s properties indicate a \u0027disabled\u0027 state.\r\n     * Description  Examines attachable elements to determine their default enablement state.\r\n     */ \r\n    isKMWDisabled(x: HTMLElement): boolean {\r\n      var c = x.className;\r\n\r\n      // Exists for some HTMLElements.\r\n      if(x[\u0027readOnly\u0027]) {\r\n        return true;\r\n      } else if(c \u0026\u0026 c.indexOf(\u0027kmw-disabled\u0027) \u003e= 0) {\r\n        return true;\r\n      }\r\n\r\n      return false;     \r\n    }\r\n\r\n    /**\r\n     * Function     attachToControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem       Element to which KMW will be attached\r\n     * Description  Attaches KMW to control (or IFrame) \r\n     */  \r\n    attachToControl(Pelem: HTMLElement) {\r\n      var touchable = this.keyman.util.device.touchable;\r\n\r\n      // Exception for IFrame elements, in case of async loading issues.  (Fixes fun iframe loading bug with Chrome.)\r\n      if(this.isAttached(Pelem) \u0026\u0026 !(Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement)) {\r\n        return; // We\u0027re already attached.\r\n      }\r\n\r\n      if(this.isKMWInput(Pelem)) {\r\n        if(!this.isKMWDisabled(Pelem)) {\r\n          if(touchable \u0026\u0026 !this.keyman.isEmbedded) {\r\n            this.enableTouchElement(Pelem);\r\n          } else {\r\n            this.enableInputElement(Pelem);\r\n          }\r\n        } else {\r\n          if(touchable) {\r\n            this.setupNonKMWTouchElement(Pelem);\r\n          }\r\n        }\r\n      } else if(touchable) {\r\n        this.setupNonKMWTouchElement(Pelem);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     detachFromControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem       Element from which KMW will detach\r\n     * Description  Detaches KMW from a control (or IFrame) \r\n     */  \r\n    detachFromControl(Pelem: HTMLElement) {\r\n      if(!(this.isAttached(Pelem) || Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement)) {\r\n        return;  // We never were attached.\r\n      }\r\n\r\n      // #1 - if element is enabled, disable it.  But don\u0027t manipulate the \u0027kmw-disabled\u0027 tag.\r\n      if(this.isKMWInput(Pelem)) {\r\n        // Is it already disabled?\r\n        if(!this.isKMWDisabled(Pelem)) {\r\n          this._DisableControl(Pelem);\r\n        } \r\n      }\r\n\r\n      // #2 - clear attachment data.      \r\n      this.clearElementAttachment(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Function     isAttached\r\n     * Scope        Private\r\n     * @param       {Element}   x   An element from the page.\r\n     * @return      {boolean}       true if KMW is attached to the element, otherwise false.\r\n     */\r\n    isAttached(x: HTMLElement) {\r\n      return x._kmwAttachment ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Function     isKMWInput\r\n     * Scope        Private\r\n     * @param       {Element}   x   An element from the page.\r\n     * @return      {boolean}      true if the element is viable for KMW attachment.\r\n     * Description  Examines potential input elements to determine whether or not they are viable for KMW attachment.\r\n     *              Also filters elements not supported for touch devices when device.touchable == true.\r\n     */ \r\n    isKMWInput(x: HTMLElement): boolean {\r\n      var touchable = this.keyman.util.device.touchable;\r\n\r\n      if(x instanceof x.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n        return true;\r\n      } else if(x instanceof x.ownerDocument.defaultView.HTMLInputElement) {\r\n        if (x.type == \u0027text\u0027 || x.type == \u0027search\u0027) {\r\n          return true;\r\n        }\r\n      } else if(x instanceof x.ownerDocument.defaultView.HTMLIFrameElement \u0026\u0026 !touchable) { // Do not allow iframe attachment if in \u0027touch\u0027 mode.\r\n        try {\r\n          if(x.contentWindow) {\r\n            if(x.contentWindow.document) {  // Only allow attachment if the iframe\u0027s internal document is valid.\r\n              return true;\r\n            }\r\n          } // else nothing?\r\n        }\r\n        catch(err) { \r\n          /* Do not attempt to access iframes outside this site */ \r\n          console.warn(\"Error during attachment to / detachment from iframe: \");\r\n          console.warn(err);\r\n        }\r\n      } else if(x.isContentEditable \u0026\u0026 !touchable) { // Only allow contentEditable attachment outside of \u0027touch\u0027 mode.\r\n        return true;\r\n      }\r\n\r\n      return false;     \r\n    }\r\n\r\n    /**\r\n     * Function     setupElementAttachment\r\n     * Scope        Private\r\n     * @param       {Element}   x   An element from the page valid for KMW attachment\r\n     * Description  Establishes the base KeymanWeb data for newly-attached elements.\r\n     *              Does not establish input hooks, which are instead handled during enablement.  \r\n     */\r\n    setupElementAttachment(x: HTMLElement) {\r\n      // The `_kmwAttachment` property tag maintains all relevant KMW-maintained data regarding the element.\r\n      // It is disgarded upon de-attachment.\r\n      if(x._kmwAttachment) {\r\n        return;\r\n      } else {\r\n        // Problem:  tries to wrap IFrames that aren\u0027t design-mode.\r\n        // The elements in the contained document get separately wrapped, so this doesn\u0027t need a proper wrapper.\r\n        //\r\n        // Its attachment process might need some work.\r\n        let eleInterface = dom.targets.wrapElement(x);\r\n        // May should filter better for IFrames.\r\n        if(!(eleInterface || dom.Utils.instanceof(x, \"HTMLIFrameElement\"))) {\r\n          console.warn(\"Could not create processing interface for newly-attached element!\");\r\n        }\r\n\r\n        x._kmwAttachment = new AttachmentInfo(eleInterface, null, this.keyman.util.device.touchable);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     clearElementAttachment\r\n     * Scope        Private\r\n     * @param       {Element}   x   An element from the page valid for KMW attachment\r\n     * Description  Establishes the base KeymanWeb data for newly-attached elements.\r\n     *              Does not establish input hooks, which are instead handled during enablement.  \r\n     */\r\n    clearElementAttachment(x: HTMLElement) {\r\n      // We need to clear the object when de-attaching; helps prevent memory leaks.\r\n      x._kmwAttachment = null;\r\n    }\r\n\r\n    /**\r\n     * Function     _AttachToIframe\r\n     * Scope        Private\r\n     * @param       {Element}      Pelem       IFrame to which KMW will be attached\r\n     * Description  Attaches KeymanWeb to IFrame \r\n     */  \r\n    _AttachToIframe(Pelem: HTMLIFrameElement) {\r\n      var util = this.keyman.util;\r\n      \r\n      try {\r\n        var Lelem=Pelem.contentWindow.document;\r\n        /* editable Iframe */\r\n        if(Lelem) {\r\n          if(Lelem.designMode.toLowerCase() == \u0027on\u0027) {\r\n            // I2404 - Attach to IFRAMEs child objects, only editable IFRAMEs here\r\n            if(util.device.browser == \u0027firefox\u0027) {\r\n              util.attachDOMEvent(Lelem,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n              util.attachDOMEvent(Lelem,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n            } else { // Chrome, Safari\r\n              util.attachDOMEvent(Lelem.body,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n              util.attachDOMEvent(Lelem.body,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n            }\r\n            util.attachDOMEvent(Lelem.body,\u0027keydown\u0027, this.getHandlers(Pelem)._KeyDown);\r\n            util.attachDOMEvent(Lelem.body,\u0027keypress\u0027, this.getHandlers(Pelem)._KeyPress);\r\n            util.attachDOMEvent(Lelem.body,\u0027keyup\u0027, this.getHandlers(Pelem)._KeyUp);\r\n\r\n            // Set up a reference alias; the internal document will need the same attachment info!\r\n            this.setupElementAttachment(Pelem);\r\n            Lelem.body._kmwAttachment = Pelem._kmwAttachment;\r\n          } else {\r\n            // Lelem is the IFrame\u0027s internal document; set \u0027er up!\r\n            this._SetupDocument(Lelem.body);\t   // I2404 - Manage IE events in IFRAMEs\r\n          }\r\n        }\r\n      }\r\n      catch(err)\r\n      {\r\n        // do not attempt to attach to the iframe as it is from another domain - XSS denied!\r\n      }  \r\n    }\r\n\r\n        /**\r\n     * Function     _DetachFromIframe\r\n     * Scope        Private\r\n     * @param       {Element}      Pelem       IFrame to which KMW will be attached\r\n     * Description  Detaches KeymanWeb from an IFrame \r\n     */  \r\n    _DetachFromIframe(Pelem: HTMLIFrameElement) {\r\n      var util = this.keyman.util;\r\n\r\n      try {\r\n        var Lelem=Pelem.contentWindow.document;\r\n        /* editable Iframe */\r\n        if(Lelem) {\r\n          if(Lelem.designMode.toLowerCase() == \u0027on\u0027) {\r\n            // Mozilla      // I2404 - Attach to  IFRAMEs child objects, only editable IFRAMEs here\r\n            if(util.device.browser == \u0027firefox\u0027) {\r\n              // Firefox won\u0027t handle these events on Lelem.body - only directly on Lelem (the doc) instead.\r\n              util.detachDOMEvent(Lelem,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n              util.detachDOMEvent(Lelem,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n            } else { // Chrome, Safari\r\n              util.detachDOMEvent(Lelem.body,\u0027focus\u0027, this.getHandlers(Pelem)._ControlFocus);\r\n              util.detachDOMEvent(Lelem.body,\u0027blur\u0027, this.getHandlers(Pelem)._ControlBlur);\r\n            }\r\n            util.detachDOMEvent(Lelem.body,\u0027keydown\u0027, this.getHandlers(Pelem)._KeyDown);\r\n            util.detachDOMEvent(Lelem.body,\u0027keypress\u0027, this.getHandlers(Pelem)._KeyPress);\r\n            util.detachDOMEvent(Lelem.body,\u0027keyup\u0027, this.getHandlers(Pelem)._KeyUp);\r\n\r\n            // Remove the reference to our prior attachment data!\r\n            Lelem.body._kmwAttachment = null;\r\n          } else {\r\n            // Lelem is the IFrame\u0027s internal document; set \u0027er up!\r\n            this._ClearDocument(Lelem.body);\t   // I2404 - Manage IE events in IFRAMEs\r\n          }\r\n        }\r\n      }\r\n      catch(err)\r\n      {\r\n        // do not attempt to attach to the iframe as it is from another domain - XSS denied!\r\n      }  \r\n    }\r\n\r\n    /**\r\n     * Function     _GetDocumentEditables\r\n     * Scope        Private\r\n     * @param       {Element}     Pelem     HTML element\r\n     * @return      {Array\u003cElement\u003e}        A list of potentially-editable controls.  Further filtering [as with isKMWInput() and\r\n     *                                      isKMWDisabled()] is required.\r\n     */\r\n    _GetDocumentEditables(Pelem: HTMLElement): (HTMLElement)[] {\r\n      var util = this.keyman.util;\r\n\r\n      var possibleInputs: (HTMLElement)[] = [];\r\n\r\n      // Document.ownerDocument === null, so we better check that it\u0027s not null before proceeding.\r\n      if(Pelem.ownerDocument \u0026\u0026 Pelem instanceof Pelem.ownerDocument.defaultView.HTMLElement) {\r\n        var dv = Pelem.ownerDocument.defaultView;\r\n\r\n        if(Pelem instanceof dv.HTMLInputElement || Pelem instanceof dv.HTMLTextAreaElement) {\r\n          possibleInputs.push(Pelem);\r\n        } else if(Pelem instanceof dv.HTMLIFrameElement) {\r\n          possibleInputs.push(Pelem);\r\n        }\r\n      }\r\n\r\n      // Constructing it like this also allows for individual element filtering for the auto-attach MutationObserver without errors.\r\n      if(Pelem.getElementsByTagName) {\r\n        /**\r\n         * Function     LiTmp\r\n         * Scope        Private\r\n         * @param       {string}    _colon    type of element\r\n         * @return      {Array\u003cElement\u003e}  array of elements of specified type                       \r\n         * Description  Local function to get list of editable controls\r\n         */    \r\n        var LiTmp = function(_colon: string): HTMLElement[] {\r\n          return util.arrayFromNodeList(Pelem.getElementsByTagName(_colon));\r\n        };\r\n\r\n        // Note that isKMWInput() will block IFRAME elements as necessary for touch-based devices.\r\n        possibleInputs = possibleInputs.concat(LiTmp(\u0027INPUT\u0027), LiTmp(\u0027TEXTAREA\u0027), LiTmp(\u0027IFRAME\u0027));\r\n      }\r\n      \r\n      // Not all active browsers may support the method, but only those that do would work with contenteditables anyway.\r\n      if(Pelem.querySelectorAll) {\r\n        possibleInputs = possibleInputs.concat(util.arrayFromNodeList(Pelem.querySelectorAll(\u0027[contenteditable]\u0027)));\r\n      }\r\n      \r\n      if(Pelem.ownerDocument \u0026\u0026 Pelem instanceof Pelem.ownerDocument.defaultView.HTMLElement \u0026\u0026 Pelem.isContentEditable) {\r\n        possibleInputs.push(Pelem);\r\n      }\r\n\r\n      return possibleInputs;\r\n    }\r\n\r\n    /**\r\n     * Function     _SetupDocument\r\n     * Scope        Private\r\n     * @param       {Element}     Pelem - the root element of a document, including IFrame documents.\r\n     * Description  Used to automatically attach KMW to editable controls, regardless of control path.\r\n     */\r\n    _SetupDocument(Pelem: HTMLElement) { // I1961\r\n      var possibleInputs = this._GetDocumentEditables(Pelem);\r\n\r\n      for(var Li = 0; Li \u003c possibleInputs.length; Li++) {\r\n        var input = possibleInputs[Li];\r\n\r\n        // It knows how to handle pre-loaded iframes appropriately.\r\n        this.attachToControl(possibleInputs[Li] as HTMLElement);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     _ClearDocument\r\n     * Scope        Private\r\n     * @param       {Element}     Pelem - the root element of a document, including IFrame documents.\r\n     * Description  Used to automatically detach KMW from editable controls, regardless of control path.\r\n     *              Mostly used to clear out all controls of a detached IFrame.\r\n     */\r\n    _ClearDocument(Pelem: HTMLElement) { // I1961\r\n      var possibleInputs = this._GetDocumentEditables(Pelem);\r\n\r\n      for(var Li = 0; Li \u003c possibleInputs.length; Li++) {\r\n        var input = possibleInputs[Li];\r\n\r\n        // It knows how to handle pre-loaded iframes appropriately.\r\n        this.detachFromControl(possibleInputs[Li] as HTMLElement);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Set target element text direction (LTR or RTL), but only if the element is empty\r\n     *    \r\n     * If the element base directionality is changed after it contains content, unless all the text\r\n     * has the same directionality, text runs will be re-ordered which is confusing and causes\r\n     * incorrect caret positioning\r\n     *    \r\n     * @param       {Object}      Ptarg      Target element\r\n     */    \r\n    _SetTargDir(Ptarg: HTMLElement) {\r\n      let activeKeyboard = com.keyman.singleton.core.activeKeyboard;\r\n      var elDir=(activeKeyboard \u0026\u0026 activeKeyboard.isRTL) ? \u0027rtl\u0027 : \u0027ltr\u0027;\r\n\r\n      if(Ptarg) {\r\n        if(this.keyman.util.device.touchable) {\r\n          let alias = \u003cdom.TouchAliasElement\u003e Ptarg;\r\n          if(Ptarg.textContent.length == 0) {\r\n            alias.base.dir=alias.dir=elDir;\r\n            alias.setTextCaret(10000);\r\n          }\r\n        } else {\r\n          if(Ptarg instanceof Ptarg.ownerDocument.defaultView.HTMLInputElement \r\n              || Ptarg instanceof Ptarg.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n            if((Ptarg as HTMLInputElement|HTMLTextAreaElement).value.length == 0) {\r\n              Ptarg.dir=elDir;\r\n            }\r\n          } else if(typeof Ptarg.textContent == \"string\" \u0026\u0026 Ptarg.textContent.length == 0) { // As with contenteditable DIVs, for example.\r\n            Ptarg.dir=elDir;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     _DisableControl\r\n     * Scope        Private\r\n     * @param       {Element}      Pelem       Element to be disabled\r\n     * Description  Disable KMW control element \r\n     */    \r\n    _DisableControl(Pelem: HTMLElement) {\r\n      // Only operate on attached elements!  Non-design-mode IFrames don\u0027t get attachment markers, so we check them specifically instead.\r\n      if(this.isAttached(Pelem) || Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement) {\r\n        if(this.keyman.util.device.touchable) {\r\n          this.disableTouchElement(Pelem);\r\n          this.setupNonKMWTouchElement(Pelem);\r\n\r\n          var keyman = this.keyman;\r\n        \r\n          // If a touch alias was removed, chances are it\u0027s gonna mess up our touch-based layout scheme, so let\u0027s update the touch elements.\r\n          window.setTimeout(function() {\r\n            this.listInputs();\r\n\r\n            for(var k = 0; k \u003c this.sortedInputs.length; k++) {\r\n              if(this.sortedInputs[k][\u0027kmw_ip\u0027]) {\r\n                this.sortedInputs[k][\u0027kmw_ip\u0027].updateInput(this.sortedInputs[k][\u0027kmw_ip\u0027]);\r\n              }\r\n            }\r\n          }.bind(this), 1);\r\n        } else {\r\n          this.listInputs(); // Fix up our internal input ordering scheme.\r\n        }\r\n        \r\n        this.disableInputElement(Pelem);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     _EnableControl\r\n     * Scope        Private\r\n     * @param       {Element}    Pelem   Element to be enabled\r\n     * Description  Enable KMW control element \r\n     */    \r\n    _EnableControl(Pelem: HTMLElement) {\r\n      if(this.isAttached(Pelem)) { // Only operate on attached elements!\r\n        if(this.keyman.util.device.touchable) {\r\n          this.enableTouchElement(Pelem);\r\n\r\n          var keyman = this.keyman;\r\n\r\n          // If we just added a new input alias, some languages will mess up our touch-based layout scheme\r\n          // if we don\u0027t update the touch elements.\r\n          window.setTimeout(function() {\r\n            keyman.domManager.listInputs();\r\n\r\n            for(var k = 0; k \u003c this.sortedInputs.length; k++) {\r\n              if(this.sortedInputs[k][\u0027kmw_ip\u0027]) {\r\n                this.sortedInputs[k][\u0027kmw_ip\u0027].updateInput(this.sortedInputs[k][\u0027kmw_ip\u0027]);\r\n              }\r\n            }\r\n          }.bind(this), 1);\r\n        } else {\r\n          this.enableInputElement(Pelem);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Create an ordered list of all text and search input elements and textarea elements\r\n    // except any tagged with class \u0027kmw-disabled\u0027\r\n    // TODO: email and url types should perhaps use default keyboard only\r\n    listInputs() {\r\n      var i,eList=[],\r\n        t1=document.getElementsByTagName\u003c\u0027input\u0027\u003e(\u0027input\u0027),\r\n        t2=document.getElementsByTagName\u003c\u0027textarea\u0027\u003e(\u0027textarea\u0027);\r\n\r\n      var util = this.keyman.util;\r\n\r\n      for(i=0; i\u003ct1.length; i++) {\r\n        switch(t1[i].type) {\r\n          case \u0027text\u0027:\r\n          case \u0027search\u0027:\r\n          case \u0027email\u0027:\r\n          case \u0027url\u0027:\r\n            if(t1[i].className.indexOf(\u0027kmw-disabled\u0027) \u003c 0) {\r\n              eList.push({ip:t1[i], x: dom.Utils.getAbsoluteX(t1[i]), y: dom.Utils.getAbsoluteY(t1[i])});\r\n            }\r\n            break;    \r\n        }\r\n      }\r\n\r\n      for(i=0; i\u003ct2.length; i++) { \r\n        if(t2[i].className.indexOf(\u0027kmw-disabled\u0027) \u003c 0)\r\n          eList.push({ip:t2[i], x: dom.Utils.getAbsoluteX(t2[i]), y: dom.Utils.getAbsoluteY(t2[i])});\r\n      }\r\n      \r\n      /**\r\n       * Local function to sort by screen position\r\n       * \r\n       * @param       {Object}     e1     first object\r\n       * @param       {Object}     e2     second object\r\n       * @return      {number}            y-difference between object positions, or x-difference if y values the same\r\n       */       \r\n      var xySort=function(e1,e2)\r\n      {\r\n        if(e1.y != e2.y) return e1.y-e2.y;\r\n        return e1.x-e2.x;    \r\n      }\r\n      \r\n      // Sort elements by Y then X\r\n      eList.sort(xySort);\r\n      \r\n      // Create a new list of sorted elements\r\n      var tList=[];\r\n      for(i=0;i\u003ceList.length;i++)\r\n        tList.push(eList[i].ip);\r\n    \r\n      // Return the sorted element list\r\n      this.sortedInputs=tList;\r\n    }\r\n\r\n    _EnablementMutationObserverCore = function(mutations: MutationRecord[]) {\r\n      for(var i=0; i \u003c mutations.length; i++) {\r\n        var mutation = mutations[i];\r\n\r\n        // ( ? : ) needed as a null check.\r\n        var disabledBefore = mutation.oldValue ? mutation.oldValue.indexOf(\u0027kmw-disabled\u0027) \u003e= 0 : false;\r\n        var disabledAfter = (mutation.target as HTMLElement).className.indexOf(\u0027kmw-disabled\u0027) \u003e= 0;\r\n        \r\n        if(disabledBefore \u0026\u0026 !disabledAfter) {\r\n          this._EnableControl(mutation.target);\r\n        } else if(!disabledBefore \u0026\u0026 disabledAfter) {\r\n          this._DisableControl(mutation.target);\r\n        }\r\n\r\n        // \u0027readonly\u0027 triggers on whether or not the attribute exists, not its value.\r\n        if(!disabledAfter \u0026\u0026 mutation.attributeName == \"readonly\") {\r\n          var readonlyBefore = mutation.oldValue ? mutation.oldValue != null : false;\r\n          var elem = mutation.target;\r\n\r\n          if(elem instanceof elem.ownerDocument.defaultView.HTMLInputElement\r\n              || elem instanceof elem.ownerDocument.defaultView.HTMLTextAreaElement) {\r\n            var readonlyAfter = elem.readOnly;\r\n\r\n            if(readonlyBefore \u0026\u0026 !readonlyAfter) {\r\n              this._EnableControl(mutation.target);\r\n            } else if(!readonlyBefore \u0026\u0026 readonlyAfter) {\r\n              this._DisableControl(mutation.target);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }.bind(this);\r\n\r\n    _AutoAttachObserverCore = function(mutations: MutationRecord[]) {\r\n      var inputElementAdditions = [];\r\n      var inputElementRemovals = [];\r\n\r\n      for(var i=0; i \u003c mutations.length; i++) {\r\n        var mutation = mutations[i];\r\n        \r\n        for(var j=0; j \u003c mutation.addedNodes.length; j++) {\r\n          inputElementAdditions = inputElementAdditions.concat(this._GetDocumentEditables(mutation.addedNodes[j]));\r\n        }          \r\n\r\n        for(j = 0; j \u003c mutation.removedNodes.length; j++) {\r\n          inputElementRemovals = inputElementRemovals.concat(this._GetDocumentEditables(mutation.removedNodes[j]));\r\n        }\r\n      }\r\n\r\n      for(var k = 0; k \u003c inputElementAdditions.length; k++) {\r\n        if(this.isKMWInput(inputElementAdditions[k])) { // Apply standard element filtering!\r\n          this._MutationAdditionObserved(inputElementAdditions[k]);\r\n        }\r\n      }\r\n\r\n      for(k = 0; k \u003c inputElementRemovals.length; k++) {\r\n        if(this.isKMWInput(inputElementRemovals[k])) { // Apply standard element filtering!\r\n          this._MutationRemovalObserved(inputElementRemovals[k]);\r\n        }\r\n      }\r\n\r\n      /* After all mutations have been handled, we need to recompile our .sortedInputs array, but only\r\n        * if any have actually occurred.\r\n        */\r\n      if(inputElementAdditions.length || inputElementRemovals.length) {\r\n        if(!this.keyman.util.device.touchable) {\r\n          this.listInputs();\r\n        } else if(this.keyman.util.device.touchable) {   // If something was added or removed, chances are it\u0027s gonna mess up our touch-based layout scheme, so let\u0027s update the touch elements.\r\n          var domManager = this;\r\n          window.setTimeout(function() {\r\n            domManager.listInputs();\r\n\r\n            for(var k = 0; k \u003c this.sortedInputs.length; k++) {\r\n              if(this.sortedInputs[k][\u0027kmw_ip\u0027]) {\r\n                this.sortedInputs[k][\u0027kmw_ip\u0027].updateInput();\r\n              }\r\n            }\r\n          }.bind(this), 1);\r\n        }\r\n      }\r\n    }.bind(this);\r\n\r\n    /** \r\n     * Function     _MutationAdditionObserved\r\n     * Scope        Private\r\n     * @param       {Element}  Pelem     A page input, textarea, or iframe element.\r\n     * Description  Used by the MutationObserver event handler to properly setup any elements dynamically added to the document post-initialization.\r\n     * \r\n     */\r\n    _MutationAdditionObserved = function(Pelem: HTMLElement) {\r\n      if(Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement \u0026\u0026 !this.keyman.util.device.touchable) {\r\n        //Problem:  the iframe is loaded asynchronously, and we must wait for it to load fully before hooking in.\r\n\r\n        var domManager = this;\r\n\r\n        var attachFunctor = function() {  // Triggers at the same time as iframe\u0027s onload property, after its internal document loads.\r\n          // Provide a minor delay to allow \u0027load\u0027 event handlers to set the design-mode property.\r\n          window.setTimeout(function() { \r\n            domManager.attachToControl(Pelem);\r\n          }, 1);\r\n        };\r\n\r\n        Pelem.addEventListener(\u0027load\u0027, attachFunctor);\r\n\r\n        // The following block breaks for design-mode iframes, at least in Chrome; a blank document may exist\r\n        // before the load of the desired actual document. \r\n        //\r\n        // /* If the iframe has somehow already loaded, we can\u0027t expect the onload event to be raised.  We ought just\r\n        // * go ahead and perform our callback\u0027s contents.\r\n        // * \r\n        // * keymanweb.domManager.attachToControl() is now idempotent, so even if our call \u0027whiffs\u0027, it won\u0027t cause long-lasting\r\n        // * problems.\r\n        // */\r\n        // if(Pelem.contentDocument.readyState == \u0027complete\u0027) {\r\n        //   window.setTimeout(attachFunctor, 1);\r\n        // }\r\n      } else {\r\n        this.attachToControl(Pelem);\r\n      }  \r\n    }\r\n\r\n    // Used by the mutation event handler to properly decouple any elements dynamically removed from the document.\r\n    _MutationRemovalObserved = function(Pelem: HTMLElement) {\r\n      var element = Pelem;\r\n      if(this.keyman.util.device.touchable) {\r\n        this.disableTouchElement(Pelem);\r\n      }\r\n\r\n      this.disableInputElement(Pelem); // Remove all KMW event hooks, styling.\r\n      this.clearElementAttachment(element);  // Memory management \u0026 auto de-attachment upon removal.\r\n    }\r\n\r\n    /**\r\n     * Function     disableControl\r\n     * Scope        Public\r\n     * @param       {Element}      Pelem       Element to be disabled\r\n     * Description  Disables a KMW control element \r\n     */    \r\n    disableControl(Pelem: HTMLElement) {\r\n      if(!this.isAttached(Pelem)) {\r\n        console.warn(\"KeymanWeb is not attached to element \" + Pelem);\r\n      } \r\n\r\n      var cn = Pelem.className;\r\n      if(cn.indexOf(\u0027kmw-disabled\u0027) \u003c 0) { // if not already explicitly disabled...\r\n        Pelem.className = cn ? cn + \u0027 kmw-disabled\u0027 : \u0027kmw-disabled\u0027;\r\n      }\r\n\r\n      // The rest is triggered within MutationObserver code.\r\n      // See _EnablementMutationObserverCore.\r\n    }\r\n\r\n    /**\r\n     * Function     enableControl\r\n     * Scope        Public\r\n     * @param       {Element}      Pelem       Element to be disabled\r\n     * Description  Disables a KMW control element \r\n     */    \r\n    enableControl = function(Pelem: HTMLElement) {\r\n      if(!this.isAttached(Pelem)) {\r\n        console.warn(\"KeymanWeb is not attached to element \" + Pelem);\r\n      } \r\n\r\n      var cn = Pelem.className;\r\n      var tagIndex = cn.indexOf(\u0027kmw-disabled\u0027);\r\n      if(tagIndex \u003e= 0) { // if already explicitly disabled...\r\n        Pelem.className = cn.replace(\u0027kmw-disabled\u0027, \u0027\u0027).trim();\r\n      }\r\n\r\n      // The rest is triggered within MutationObserver code.\r\n      // See _EnablementMutationObserverCore.\r\n    }\r\n\r\n    /* ------------- Page and document-level management events ------------------ */\r\n\r\n    _WindowLoad: (e: Event) =\u003e void = function(e: Event) {\r\n      //keymanweb.completeInitialization();\r\n      // Always return to top of page after a page reload\r\n      document.body.scrollTop=0;\r\n      if(typeof document.documentElement != \u0027undefined\u0027) {\r\n        document.documentElement.scrollTop=0;\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _WindowUnload\r\n     * Scope        Private\r\n     * Description  Remove handlers before detaching KMW window  \r\n     */    \r\n    _WindowUnload: () =\u003e void = function(this: DOMManager) {\r\n      // Allow the UI to release its own resources\r\n      this.keyman.uiManager.doUnload();\r\n      \r\n      // Allow the OSK to release its own resources\r\n      if(this.keyman.osk.ready) {\r\n        this.keyman.osk.shutdown();\r\n        this.keyman.osk._Unload(); // I3363 (Build 301)\r\n      }\r\n      \r\n      this.clearLastActiveElement();\r\n    }.bind(this);\r\n\r\n    /* ------ Defines independent, per-control keyboard setting behavior for the API. ------ */\r\n\r\n    /**\r\n     * Function     setKeyboardForControl\r\n     * Scope        Public   \r\n     * @param       {Element}    Pelem    Control element \r\n     * @param       {string|null=}    Pkbd     Keyboard (Clears the set keyboard if set to null.)  \r\n     * @param       {string|null=}     Plc      Language Code\r\n     * Description  Set default keyboard for the control \r\n     */    \r\n    setKeyboardForControl(Pelem: HTMLElement, Pkbd?: string, Plc?: string) {\r\n      /* pass null for kbd to specify no default, or \u0027\u0027 to specify the default system keyboard. */\r\n      if(Pkbd !== null \u0026\u0026 Pkbd !== undefined) {\r\n        var index = Pkbd.indexOf(\"Keyboard_\");\r\n        if(index \u003c 0 \u0026\u0026 Pkbd != \u0027\u0027) {\r\n          Pkbd = \"Keyboard_\" + Pkbd;\r\n        }\r\n      } else {\r\n        Plc = null;\r\n      }\r\n\r\n      if(Pelem instanceof Pelem.ownerDocument.defaultView.HTMLIFrameElement) {\r\n        console.warn(\"\u0027keymanweb.setKeyboardForControl\u0027 cannot set keyboard on iframes.\");\r\n        return;\r\n      }\r\n\r\n      if(!this.isAttached(Pelem)) {\r\n        console.error(\"KeymanWeb is not attached to element \" + Pelem);\r\n        return;\r\n      } else {\r\n        Pelem._kmwAttachment.keyboard = Pkbd;\r\n        Pelem._kmwAttachment.languageCode = Plc;\r\n\r\n        // If Pelem is the focused element/active control, we should set the keyboard in place now.\r\n        // \u0027kmw_ip\u0027 is the touch-alias for the original page\u0027s control.\r\n\r\n        var lastElem = this.getLastActiveElement();\r\n        if(lastElem \u0026\u0026 (lastElem == Pelem || lastElem == Pelem[\u0027kmw_ip\u0027])) {\r\n\r\n          if(Pkbd != null \u0026\u0026 Plc != null) { // Second part necessary for Closure.\r\n            this.keyman.keyboardManager.setActiveKeyboard(Pkbd, Plc);\r\n          } else {\r\n            this.keyman.keyboardManager.setActiveKeyboard(this.keyman.globalKeyboard, this.keyman.globalLanguageCode);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     getKeyboardForControl\r\n     * Scope        Public   \r\n     * @param       {Element}    Pelem    Control element \r\n     * @return      {string|null}         The independently-managed keyboard for the control.\r\n     * Description  Returns the keyboard ID of the current independently-managed keyboard for this control.\r\n     *              If it is currently following the global keyboard setting, returns null instead.\r\n     */\r\n    getKeyboardForControl(Pelem: HTMLElement): string {\r\n      if(!this.isAttached(Pelem)) {\r\n        console.error(\"KeymanWeb is not attached to element \" + Pelem);\r\n        return null;\r\n      } else {\r\n        return Pelem._kmwAttachment.keyboard;\r\n      }\r\n    }\r\n    \r\n    /**\r\n     * Function     getLanguageForControl\r\n     * Scope        Public   \r\n     * @param       {Element}    Pelem    Control element \r\n     * @return      {string|null}         The independently-managed keyboard for the control.\r\n     * Description  Returns the language code used with the current independently-managed keyboard for this control.\r\n     *              If it is currently following the global keyboard setting, returns null instead.\r\n     */\r\n    getLanguageForControl(Pelem: HTMLElement): string {\r\n      if(!this.isAttached(Pelem)) {\r\n        console.error(\"KeymanWeb is not attached to element \" + Pelem);\r\n        return null;\r\n      } else {\r\n        return Pelem._kmwAttachment.languageCode;  // Should we have a version for the language code, too?\r\n      }\r\n    }\r\n\r\n    /* ------ End independent, per-control keyboard setting behavior definitions. ------ */\r\n\r\n    /**\r\n     * Set focus to last active target element (browser-dependent)\r\n     */    \r\n    focusLastActiveElement() {\r\n      var lastElem = this.getLastActiveElement();\r\n      if(!lastElem) {\r\n        return;\r\n      }\r\n\r\n      this.keyman.uiManager.justActivated = true;\r\n      if(lastElem.ownerDocument \u0026\u0026 lastElem instanceof lastElem.ownerDocument.defaultView.HTMLIFrameElement \u0026\u0026 \r\n          this.keyman.domManager._IsMozillaEditableIframe(lastElem as HTMLIFrameElement,0)) {\r\n        lastElem.ownerDocument.defaultView.focus(); // I3363 (Build 301)\r\n      } else if(lastElem.focus) {\r\n        lastElem.focus();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get the last active target element *before* KMW activated (I1297)\r\n     * \r\n     * @return      {Element}        \r\n     */    \r\n    getLastActiveElement(): HTMLElement {\r\n      return DOMEventHandlers.states.lastActiveElement;\r\n    }\r\n\r\n    clearLastActiveElement() {\r\n      DOMEventHandlers.states.lastActiveElement = null;\r\n    }\r\n\r\n    getActiveElement(): HTMLElement {\r\n      return DOMEventHandlers.states.activeElement;\r\n    }\r\n\r\n    _setActiveElement(Pelem: HTMLElement) {\r\n      DOMEventHandlers.states.activeElement = Pelem;\r\n    }\r\n\r\n    /**\r\n     *  Set the active input element directly optionally setting focus \r\n     * \r\n     *  @param  {Object|string} e         element id or element\r\n     *  @param  {boolean=}      setFocus  optionally set focus  (KMEW-123) \r\n     **/\r\n    setActiveElement(e: string|HTMLElement, setFocus?: boolean) {\r\n      if(typeof e == \"string\") { // Can\u0027t instanceof string, and String is a different type.\r\n        e = document.getElementById(e);\r\n      }\r\n\r\n      if(this.keyman.isEmbedded) {\r\n        // If we\u0027re in embedded mode, auto-attach to the element specified by the page.\r\n        if(!this.isAttached(e)) {\r\n          this.attachToControl(e);\r\n        }\r\n        // Non-attached elements cannot be set as active.\r\n      } else if(!this.isAttached(e)) {\r\n        console.warn(\"Cannot set an element KMW is not attached to as the active element.\");\r\n        return;\r\n      }\r\n\r\n      // As this is an API function, someone may pass in the base of a touch element.\r\n      // We need to respond appropriately.\r\n      e = (e[\u0027kmw_ip\u0027] ? e[\u0027kmw_ip\u0027] : e) as HTMLElement;\r\n\r\n      // If we\u0027re changing controls, don\u0027t forget to properly manage the keyboard settings!\r\n      // It\u0027s only an issue on \u0027native\u0027 (non-embedded) code paths.\r\n      if(!this.keyman.isEmbedded) {\r\n        this.keyman.touchAliasing._BlurKeyboardSettings();\r\n      }\r\n\r\n      // No need to reset context if we stay within the same element.\r\n      if(DOMEventHandlers.states.activeElement != e) {\r\n        this.keyman[\u0027resetContext\u0027](e as HTMLElement);\r\n      }\r\n\r\n      DOMEventHandlers.states.activeElement = DOMEventHandlers.states.lastActiveElement=e;\r\n      if(!this.keyman.isEmbedded) {\r\n        this.keyman.touchAliasing._FocusKeyboardSettings(false);\r\n      }\r\n\r\n      // Allow external focusing KMEW-123\r\n      if(arguments.length \u003e 1 \u0026\u0026 setFocus) {\r\n        if(this.keyman.util.device.touchable) {\r\n          var tEvent = {\r\n            clientX: 0,\r\n            clientY: 0,\r\n            target: e as HTMLElement\r\n          };\r\n          \r\n          // Kinda hacky, but gets the job done.\r\n          (this.keyman.touchAliasing as DOMTouchHandlers).setFocusWithTouch(tEvent);\r\n        } else {\r\n          this.focusLastActiveElement();\r\n        }\r\n      }\r\n    }\r\n\r\n    /** Sets the active input element only if it is presently null.\r\n     * \r\n     * @param  {Element}\r\n     */\r\n    initActiveElement(Lelem: HTMLElement) {\r\n      if(DOMEventHandlers.states.activeElement == null) {\r\n        DOMEventHandlers.states.activeElement = Lelem;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Move focus to next (or previous) input or text area element on TAB\r\n     *   Uses list of actual input elements\r\n     *     \r\n     *   Note that activeElement() on touch devices returns the DIV that overlays\r\n     *   the input element, not the element itself.\r\n     * \r\n     * @param      {number|boolean}  bBack     Direction to move (0 or 1)\r\n     */\r\n    moveToNext(bBack: number|boolean) {\r\n      var i,t=this.sortedInputs, activeBase=this.getActiveElement();\r\n      var touchable = this.keyman.util.device.touchable;\r\n      \r\n      if(t.length == 0) {\r\n        return;\r\n      }\r\n\r\n      // For touchable devices, get the base element of the DIV\r\n      if(touchable) {\r\n        activeBase=activeBase.base;\r\n      }\r\n\r\n      // Identify the active element in the list of inputs ordered by position\r\n      for(i=0; i\u003ct.length; i++) {\r\n        if(t[i] == activeBase) break;\r\n      }\r\n\r\n      // Find the next (or previous) element in the list\r\n      i = bBack ? i-1 : i+1;\r\n      // Treat the list as circular, wrapping the index if necessary.\r\n      i = i \u003e= t.length ? i-t.length : i;\r\n      i = i \u003c 0 ? i+t.length : i;\r\n\r\n      // Move to the selected element\r\n      if(touchable) {\r\n        // Set focusing flag to prevent OSK disappearing \r\n        DOMEventHandlers.states.focusing=true;\r\n        var target=t[i][\u0027kmw_ip\u0027];\r\n\r\n        // Focus if next element is non-mapped\r\n        if(typeof(target) == \u0027undefined\u0027) {\r\n          t[i].focus();\r\n        } else { // Or reposition the caret on the input DIV if mapped\r\n          let alias = \u003cdom.TouchAliasElement\u003e target;\r\n          this.keyman.domManager.setActiveElement(target); // Handles both `lastActive` + `active`.\r\n          alias.setTextCaret(10000); // Safe b/c touchable == true.\r\n          alias.scrollInput();   // mousedown check\r\n          target.focus();\r\n        }\r\n      } else { // Behaviour for desktop browsers\r\n        t[i].focus();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Move focus to user-specified element\r\n     * \r\n     *  @param  {string|Object}   e   element or element id\r\n     *           \r\n     **/\r\n    moveToElement(e:string|HTMLElement) {\r\n      var i;\r\n      \r\n      if(typeof(e) == \"string\") { // Can\u0027t instanceof string, and String is a different type.\r\n        e=document.getElementById(e);\r\n      }\r\n      \r\n      if(this.keyman.util.device.touchable \u0026\u0026 e[\u0027kmw_ip\u0027]) {\r\n        e[\u0027kmw_ip\u0027].focus();\r\n      } else {\r\n        e.focus();\r\n      }\r\n    }\r\n\r\n    /* ----------------------- Editable IFrame methods ------------------- */\r\n\r\n    /**\r\n     * Function     _IsIEEditableIframe\r\n     * Scope        Private\r\n     * @param       {Object}          Pelem         Iframe element\r\n     *              {boolean|number}  PtestOn       1 to test if frame content is editable (TODO: unclear exactly what this is doing!)   \r\n     * @return      {boolean}\r\n     * Description  Test if element is an IE editable IFrame \r\n     */    \r\n    _IsIEEditableIframe(Pelem: HTMLIFrameElement, PtestOn?: number) {\r\n      var Ldv, Lvalid = Pelem  \u0026\u0026  (Ldv=Pelem.tagName)  \u0026\u0026  Ldv.toLowerCase() == \u0027body\u0027  \u0026\u0026  (Ldv=Pelem.ownerDocument)  \u0026\u0026  Ldv.parentWindow;\r\n      return (!PtestOn  \u0026\u0026  Lvalid) || (PtestOn  \u0026\u0026  (!Lvalid || Pelem.isContentEditable));\r\n    }\r\n\r\n    /**\r\n     * Function     _IsMozillaEditableIframe\r\n     * Scope        Private\r\n     * @param       {Object}           Pelem    Iframe element\r\n     * @param       {boolean|number}   PtestOn  1 to test if \u0027designMode\u0027 is \u0027ON\u0027    \r\n     * @return      {boolean} \r\n     * Description  Test if element is a Mozilla editable IFrame \r\n     */    \r\n    _IsMozillaEditableIframe(Pelem: HTMLIFrameElement, PtestOn?: number) {\r\n      var Ldv, Lvalid = Pelem  \u0026\u0026  (Ldv=(\u003cany\u003ePelem).defaultView)  \u0026\u0026  Ldv.frameElement;  // Probable bug!\r\n      return (!PtestOn  \u0026\u0026  Lvalid) || (PtestOn  \u0026\u0026  (!Lvalid || Ldv.document.designMode.toLowerCase()==\u0027on\u0027));\r\n    }\r\n\r\n    /* ----------------------- Initialization methods ------------------ */\r\n    \r\n    /**\r\n     * Get the user-specified (or default) font for the first mapped input or textarea element\r\n     * before applying any keymanweb styles or classes\r\n     * \r\n     *  @return   {string}\r\n     **/                 \r\n    getBaseFont() {\r\n      var util = this.keyman.util;\r\n      var ipInput = document.getElementsByTagName\u003c\u0027input\u0027\u003e(\u0027input\u0027),\r\n          ipTextArea=document.getElementsByTagName\u003c\u0027textarea\u0027\u003e(\u0027textarea\u0027),\r\n          n=0,fs,fsDefault=\u0027Arial,sans-serif\u0027;\r\n      \r\n      // Find the first input element (if it exists)\r\n      if(ipInput.length == 0 \u0026\u0026 ipTextArea.length == 0) {\r\n        n=0;\r\n      } else if(ipInput.length \u003e 0 \u0026\u0026 ipTextArea.length == 0) {\r\n        n=1;\r\n      } else if(ipInput.length == 0 \u0026\u0026 ipTextArea.length \u003e 0) {\r\n        n=2;\r\n      } else {\r\n        var firstInput = ipInput[0];\r\n        var firstTextArea = ipTextArea[0];\r\n\r\n        if(firstInput.offsetTop \u003c firstTextArea.offsetTop) {\r\n          n=1;\r\n        } else if(firstInput.offsetTop \u003e firstTextArea.offsetTop) {\r\n          n=2;\r\n        } else if(firstInput.offsetLeft \u003c firstTextArea.offsetLeft) {\r\n          n=1;\r\n        } else if(firstInput.offsetLeft \u003e firstTextArea.offsetLeft) {\r\n          n=2;\r\n        }\r\n      }\r\n      \r\n      // Grab that font!\r\n      switch(n) {\r\n        case 0:\r\n          fs=fsDefault;\r\n        case 1:\r\n          fs=util.getStyleValue(ipInput[0],\u0027font-family\u0027);\r\n        case 2:\r\n          fs=util.getStyleValue(ipTextArea[0],\u0027font-family\u0027);\r\n      }\r\n      if(typeof(fs) == \u0027undefined\u0027 || fs == \u0027monospace\u0027) {\r\n        fs=fsDefault;\r\n      }\r\n      \r\n      return fs;\r\n    }\r\n\r\n    /**\r\n     * Function     Initialization\r\n     * Scope        Public\r\n     * @param       {Object}  arg     object array of user-defined properties\r\n     * Description  KMW window initialization  \r\n     */    \r\n    init: (arg:any) =\u003e Promise\u003cany\u003e = function(this: DOMManager, arg): Promise\u003cany\u003e { \r\n      var i,j,c,e,p,eTextArea,eInput,opt,dTrailer,ds;\r\n      var osk = this.keyman.osk;\r\n      var util = this.keyman.util;\r\n      var device = util.device;\r\n\r\n      // Set callbacks for proper feedback from web-core.\r\n      this.keyman.core.keyboardProcessor.beepHandler = this.doBeep.bind(this);\r\n      this.keyman.core.keyboardProcessor.warningLogger = console.warn.bind(console);\r\n      this.keyman.core.keyboardProcessor.errorLogger = console.error.bind(console);\r\n\r\n      // Local function to convert relative to absolute URLs\r\n      // with respect to the source path, server root and protocol \r\n      var fixPath = function(p) {\r\n        if(p.length == 0) return p;\r\n        \r\n        // Add delimiter if missing\r\n        if(p.substr(p.length-1,1) != \u0027/\u0027) p = p+\u0027/\u0027;\r\n\r\n        // Absolute\r\n        if((p.replace(/^(http)s?:.*/,\u0027$1\u0027) == \u0027http\u0027) \r\n            || (p.replace(/^(file):.*/,\u0027$1\u0027) == \u0027file\u0027))\r\n          return p;         \r\n          \r\n        // Absolute (except for protocol)\r\n        if(p.substr(0,2) == \u0027//\u0027)\r\n          return this.keyman.protocol+p;\r\n        \r\n        // Relative to server root\r\n        if(p.substr(0,1) == \u0027/\u0027)\r\n          return this.keyman.rootPath+p.substr(1);\r\n\r\n        // Otherwise, assume relative to source path\r\n        return this.keyman.srcPath+p;\r\n      }.bind(this);\r\n      \r\n      // Explicit (user-defined) parameter initialization       \r\n      opt=this.keyman.options;\r\n      if(typeof(arg) == \u0027object\u0027 \u0026\u0026 arg !== null)\r\n      {\r\n        for(p in opt)\r\n        { \r\n          if(arg.hasOwnProperty(p)) opt[p] = arg[p];\r\n        }\r\n      }\r\n    \r\n      // Get default paths and device options\r\n      if(opt[\u0027root\u0027] != \u0027\u0027) {\r\n        this.keyman.rootPath = fixPath(opt[\u0027root\u0027]); \r\n      }\r\n\r\n      // Keyboards and fonts are located with respect to the server root by default          \r\n      //if(opt[\u0027keyboards\u0027] == \u0027\u0027) opt[\u0027keyboards\u0027] = keymanweb.rootPath+\u0027keyboard/\u0027;\r\n      //if(opt[\u0027fonts\u0027] == \u0027\u0027) opt[\u0027fonts\u0027] = keymanweb.rootPath+\u0027font/\u0027;\r\n    \r\n      // Resources are located with respect to the engine by default \r\n      if(opt[\u0027resources\u0027] == \u0027\u0027) {\r\n        opt[\u0027resources\u0027] = this.keyman.srcPath;\r\n      }\r\n    \r\n      // Convert resource, keyboard and font paths to absolute URLs\r\n      opt[\u0027resources\u0027] = fixPath(opt[\u0027resources\u0027]);\r\n      opt[\u0027keyboards\u0027] = fixPath(opt[\u0027keyboards\u0027]);\r\n      opt[\u0027fonts\u0027] = fixPath(opt[\u0027fonts\u0027]);    \r\n\r\n      // Set default device options\r\n      this.keyman.setDefaultDeviceOptions(opt);   \r\n      \r\n      // Only do remainder of initialization once!  \r\n      if(this.keyman.initialized) {\r\n        return Promise.resolve();\r\n      }\r\n\r\n      var keyman: KeymanBase = this.keyman;\r\n      var domManager = this;\r\n\r\n      // Do not initialize until the document has been fully loaded\r\n      if(document.readyState !== \u0027complete\u0027)\r\n      {\r\n        return new Promise(function(resolve) {\r\n          window.setTimeout(function(){\r\n            domManager.init(arg).then(function() {\r\n              resolve();\r\n            });\r\n          }, 50);\r\n        });\r\n      }\r\n\r\n      keyman.modelManager.init();\r\n      this.keyman._MasterDocument = window.document;\r\n\r\n      /**\r\n       * Initialization of touch devices and browser interfaces must be done \r\n       * after all resources are loaded, during final stage of initialization\r\n       *        \r\n       */            \r\n      \r\n      // Treat Android devices as phones if either (reported) screen dimension is less than 4\" \r\n      if(device.OS == \u0027Android\u0027)\r\n      {\r\n        // Determine actual device characteristics  I3363 (Build 301)\r\n        // TODO: device.dpi may no longer be needed - if so, get rid of it.\r\n        var dpi = device.getDPI(); //TODO: this will not work when called from HEAD!!\r\n        device.formFactor=((screen.height \u003c 4.0 * dpi) || (screen.width \u003c 4.0 * dpi)) ? \u0027phone\u0027 : \u0027tablet\u0027;\r\n      }\r\n    \r\n      // Set exposed initialization flag member for UI (and other) code to use \r\n      this.keyman.setInitialized(1);\r\n\r\n      // Finish keymanweb and OSK initialization once all necessary resources are available\r\n      osk.prepare();\r\n    \r\n      // Create and save the remote keyboard loading delay indicator\r\n      util.prepareWait();\r\n\r\n      // Register deferred keyboard stubs (addKeyboards() format)\r\n      this.keyman.keyboardManager.registerDeferredStubs();\r\n    \r\n      // Initialize the desktop UI\r\n      this.initializeUI();\r\n    \r\n      // Register deferred keyboards \r\n      this.keyman.keyboardManager.registerDeferredKeyboards();\r\n    \r\n      // Exit initialization here if we\u0027re using an embedded code path.\r\n      if(this.keyman.isEmbedded) {\r\n        if(!this.keyman.keyboardManager.setDefaultKeyboard()) {\r\n          console.error(\"No keyboard stubs exist - cannot initialize keyboard!\");\r\n        }\r\n        return Promise.resolve();\r\n      }\r\n\r\n      // Determine the default font for mapped elements\r\n      this.keyman.appliedFont=this.keyman.baseFont=this.getBaseFont();\r\n\r\n      // Add orientationchange event handler to manage orientation changes on mobile devices\r\n      // Initialize touch-screen device interface  I3363 (Build 301)\r\n      if(device.touchable) {\r\n        this.keyman.handleRotationEvents();\r\n      }    \r\n      // Initialize browser interface\r\n\r\n      if(this.keyman.options[\u0027attachType\u0027] != \u0027manual\u0027) {\r\n        this._SetupDocument(document.documentElement);\r\n      }\r\n\r\n      // Create an ordered list of all input and textarea fields\r\n      this.listInputs();\r\n    \r\n      // Initialize the OSK and set default OSK styles\r\n      // Note that this should *never* be called before the OSK has been initialized.\r\n      // However, it possibly may be called before the OSK has been fully defined with the current keyboard, need to check.    \r\n      //osk._Load(); \r\n      \r\n      //document.body.appendChild(osk._Box); \r\n\r\n      //osk._Load(false);\r\n      \r\n      // I3363 (Build 301)\r\n      if(device.touchable) {\r\n        // Handle OSK touchend events (prevent propagation)\r\n        osk._Box.addEventListener(\u0027touchend\u0027,function(e){\r\n          e.stopPropagation();\r\n        }, false);\r\n\r\n        // Add a blank DIV to the bottom of the page to allow the bottom of the page to be shown\r\n        dTrailer=document.createElement(\u0027DIV\u0027);\r\n        ds=dTrailer.style;\r\n        ds.width=\u0027100%\u0027;\r\n        ds.height=(screen.width/2)+\u0027px\u0027;\r\n        document.body.appendChild(dTrailer);  \r\n        \r\n        // On Chrome, scrolling up or down causes the URL bar to be shown or hidden \r\n        // according to whether or not the document is at the top of the screen.\r\n        // But when doing that, each OSK row top and height gets modified by Chrome\r\n        // looking very ugly.  Itwould be best to hide the OSK then show it again \r\n        // when the user scroll finishes, but Chrome has no way to reliably report\r\n        // the touch end event after a move. c.f. http://code.google.com/p/chromium/issues/detail?id=152913\r\n        // The best compromise behaviour is simply to hide the OSK whenever any \r\n        // non-input and non-OSK element is touched.\r\n        if(device.OS == \u0027Android\u0027 \u0026\u0026 navigator.userAgent.indexOf(\u0027Chrome\u0027) \u003e 0) {\r\n          (\u003cany\u003ethis.keyman).hideOskWhileScrolling=function(e) {           \r\n            if(typeof(osk._Box) == \u0027undefined\u0027) return;\r\n            if(typeof(osk._Box.style) == \u0027undefined\u0027) return;\r\n\r\n            // The following tests are needed to prevent the OSK from being hidden during normal input!\r\n            p=e.target.parentNode;\r\n            if(typeof(p) != \u0027undefined\u0027 \u0026\u0026 p != null) {\r\n              if(p.className.indexOf(\u0027keymanweb-input\u0027) \u003e= 0) return; \r\n              if(p.className.indexOf(\u0027kmw-key-\u0027) \u003e= 0) return; \r\n              if(typeof(p.parentNode) != \u0027undefined\u0027) {\r\n                p=p.parentNode;\r\n                if(p.className.indexOf(\u0027keymanweb-input\u0027) \u003e= 0) return; \r\n                if(p.className.indexOf(\u0027kmw-key-\u0027) \u003e= 0) return; \r\n              }\r\n            }          \r\n            osk.hideNow(); \r\n          }        \r\n          this.keyman.util.attachDOMEvent(document.body, \u0027touchstart\u0027, (\u003cany\u003ethis.keyman).hideOskWhileScrolling, false);\r\n        } else {\r\n          (\u003cany\u003ethis.keyman).conditionallyHideOsk = function() {\r\n            // Should not hide OSK if simply closing the language menu (30/4/15)\r\n            if((\u003cany\u003ekeyman).hideOnRelease \u0026\u0026 !osk[\u0027lgList\u0027]) osk.hideNow();\r\n            (\u003cany\u003ekeyman).hideOnRelease=false;\r\n          };\r\n          (\u003cany\u003ethis.keyman).hideOskIfOnBody = function(e) {\r\n            (\u003cany\u003ekeyman).touchY=e.touches[0].screenY;\r\n            (\u003cany\u003ekeyman).hideOnRelease=true;\r\n          };\r\n          (\u003cany\u003ethis.keyman).cancelHideIfScrolling = function(e) {\r\n            var y=e.touches[0].screenY,y0=(\u003cany\u003ekeyman).touchY;    \r\n            if(y-y0 \u003e 5 || y0-y \u003c 5) (\u003cany\u003ekeyman).hideOnRelease = false;\r\n          };\r\n\r\n          this.keyman.util.attachDOMEvent(document.body, \u0027touchstart\u0027,(\u003cany\u003ethis.keyman).hideOskIfOnBody,false);      \r\n          this.keyman.util.attachDOMEvent(document.body, \u0027touchmove\u0027,(\u003cany\u003ethis.keyman).cancelHideIfScrolling,false);      \r\n          this.keyman.util.attachDOMEvent(document.body, \u0027touchend\u0027,(\u003cany\u003ethis.keyman).conditionallyHideOsk,false);      \r\n        } \r\n      }\r\n\r\n      //document.body.appendChild(keymanweb._StyleBlock);\r\n    \r\n      // Restore and reload the currently selected keyboard, selecting a default keyboard if necessary.\r\n      this.keyman.keyboardManager.restoreCurrentKeyboard(); \r\n\r\n      /* Setup of handlers for dynamically-added and (eventually) dynamically-removed elements.\r\n        * Reference: https://developer.mozilla.org/en/docs/Web/API/MutationObserver\r\n        * \r\n        * We place it here so that it loads after most of the other UI loads, reducing the MutationObserver\u0027s overhead.\r\n        * Of course, we only want to dynamically add elements if the user hasn\u0027t enabled the manual attachment option.\r\n        */\r\n      \r\n      if(typeof MutationObserver == \u0027function\u0027) {\r\n        var observationTarget = document.querySelector(\u0027body\u0027), observationConfig: MutationObserverInit;\r\n        if(this.keyman.options[\u0027attachType\u0027] != \u0027manual\u0027) { //I1961\r\n          observationConfig = { childList: true, subtree: true};\r\n          this.attachmentObserver = new MutationObserver(this._AutoAttachObserverCore);\r\n          this.attachmentObserver.observe(observationTarget, observationConfig);\r\n        }\r\n\r\n        /**\r\n         * Setup of handlers for dynamic detection of the kmw-disabled class tag that controls enablement.\r\n         */\r\n        observationConfig = { subtree: true, attributes: true, attributeOldValue: true, attributeFilter: [\u0027class\u0027, \u0027readonly\u0027]};\r\n        this.enablementObserver = new MutationObserver(this._EnablementMutationObserverCore);\r\n        this.enablementObserver.observe(observationTarget, observationConfig);\r\n      } else {\r\n        console.warn(\"Your browser is outdated and does not support MutationObservers, a web feature \" + \r\n          \"needed by KeymanWeb to support dynamically-added elements.\");\r\n      }\r\n\r\n      // Set exposed initialization flag to 2 to indicate deferred initialization also complete\r\n\r\n      /* To prevent propagation of focus \u0026 blur events from the input-scroll workaround,\r\n       * we attach top-level capturing listeners to the focus \u0026 blur events.  They prevent propagation\r\n       * but NOT default behavior, allowing the scroll to complete while preventing nearly all\r\n       * possible event \u0027noise\u0027 that could result from the workaround.\r\n       */\r\n      this.keyman.util.attachDOMEvent(document.body, \u0027focus\u0027, DOMManager.suppressFocusCheck, true);\r\n      this.keyman.util.attachDOMEvent(document.body, \u0027blur\u0027, DOMManager.suppressFocusCheck, true);\r\n\r\n      this.keyman.setInitialized(2);\r\n      return Promise.resolve();\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Initialize the desktop user interface as soon as it is ready\r\n    **/       \r\n    initializeUI() {\r\n      if(this.keyman.ui \u0026\u0026 this.keyman.ui[\u0027initialize\u0027] instanceof Function) {\r\n        this.keyman.ui[\u0027initialize\u0027]();\r\n        // Display the OSK (again) if enabled, in order to set its position correctly after\r\n        // adding the UI to the page \r\n        this.keyman.osk._Show();     \r\n      } else if(this.keyman.isEmbedded) {\r\n        // UI modules aren\u0027t utilized in embedded mode.  There\u0027s nothing to init, so we simply\r\n        // return instead of waiting for a UI module that will never come.\r\n        return;\r\n      } else {\r\n        window.setTimeout(this.initializeUI.bind(this),1000);\r\n      }\r\n    }\r\n\r\n    static suppressFocusCheck(e: Event) {\r\n      if(DOMEventHandlers.states._IgnoreBlurFocus) {\r\n        // Prevent triggering other blur-handling events (as possible)\r\n        e.stopPropagation();\r\n        e.cancelBubble = true;\r\n      }\r\n      // But DO perform default event behavior (actually blurring \u0026 focusing the affected element)\r\n      return true;\r\n    }\r\n  }\r\n}","// Includes KMW-added property declaration extensions for HTML elements.\r\n/// \u003creference path=\"kmwexthtml.ts\" /\u003e\r\n// Includes the Device definition set.\r\n/// \u003creference path=\"kmwdevice.ts\" /\u003e\r\n// Includes the DOM utils, since our UI modules need access to certain methods here.\r\n/// \u003creference path=\"dom/utils.ts\" /\u003e\r\n\r\nnamespace com.keyman {\r\n  class DOMEventTracking {\r\n    Pelem: EventTarget;\r\n    Peventname: string;\r\n    Phandler: (Object) =\u003e boolean;\r\n    PuseCapture?: boolean\r\n\r\n    constructor(Pelem: EventTarget, Peventname: string, Phandler: (Object) =\u003e boolean, PuseCapture?: boolean) {\r\n      this.Pelem = Pelem;\r\n      this.Peventname = Peventname.toLowerCase();\r\n      this.Phandler = Phandler;\r\n      this.PuseCapture = PuseCapture;\r\n    }\r\n\r\n    equals(other: DOMEventTracking): boolean {\r\n      return this.Pelem == other.Pelem \u0026\u0026 this.Peventname == other.Peventname \u0026\u0026\r\n        this.Phandler == other.Phandler \u0026\u0026 this.PuseCapture == other.PuseCapture;\r\n    }\r\n  };\r\n\r\n  export class Util {\r\n    // Generalized component event registration\r\n    device: Device;\r\n    activeDevice: Device;\r\n    physicalDevice: Device;\r\n\r\n    linkedStylesheets: (HTMLLinkElement|HTMLStyleElement)[] = [];\r\n\r\n    waiting: HTMLDivElement;                  // The element displayed for util.wait and util.alert.\r\n\r\n    // An object mapping event names to individual event lists.  Maps strings to arrays.\r\n    private events: { [name: string]: ((Object) =\u003e boolean)[];} = {};\r\n    private currentEvents: string[] = [];  // The event messaging call stack.\r\n\r\n    private domEvents: DOMEventTracking[] = [];\r\n\r\n    private embeddedFonts: any[] = [];     // Array of currently embedded font descriptor entries.  (Is it just a string?)\r\n\r\n    // Consider refactoring keymanweb.options to within Util.\r\n\r\n    private keyman: KeymanBase; // Closure doesn\u0027t like relying on the global object from within a class def.\r\n\r\n    constructor(keyman: any) {\r\n      this.initDevices();\r\n\r\n      this.keyman = keyman;\r\n    }\r\n\r\n    // Possible alternative:  https://www.npmjs.com/package/language-tags\r\n    // This would necessitate linking in a npm module into compiled KeymanWeb, though.\r\n    [\u0027getLanguageCodes\u0027](lgCode: string): string[] {\r\n      if(lgCode.indexOf(\u0027-\u0027)==-1) {\r\n        return [lgCode];\r\n      } else {\r\n        return lgCode.split(\u0027-\u0027);\r\n      }\r\n    }\r\n\r\n    initDevices(): void {\r\n      this.device = new Device();\r\n      this.physicalDevice = new Device();\r\n      this.activeDevice = this.device;\r\n\r\n      // Initialize the true device values.\r\n      this.device.detect();\r\n\r\n      /* DEBUG: Force touch device   (Build 360)\r\n\r\n      device.touchable = true;\r\n      device.browser = \u0027safari\u0027;\r\n      device.formFactor = \u0027tablet\u0027;\r\n      device.OS = \u0027iOS\u0027;\r\n\r\n      END DEBUG */\r\n\r\n      /* If we\u0027ve made it to this point of initialization and aren\u0027t anything else, KeymanWeb assumes\r\n      * we\u0027re a desktop.  Since we don\u0027t yet support desktops with touch-based input, we disable it here.\r\n      */\r\n      if(this.device.formFactor == \u0027desktop\u0027) {\r\n        this.device.touchable = false;\r\n      }\r\n\r\n      /**\r\n       * Represents hardware-based keystrokes regardless of the \u0027true\u0027 device, facilitating hardware keyboard input\r\n       * whenever touch-based input is available.\r\n       */\r\n      this.physicalDevice = new Device();\r\n      this.physicalDevice.touchable = false;\r\n      this.physicalDevice.browser = this.device.browser;\r\n      this.physicalDevice.formFactor = \u0027desktop\u0027;\r\n      this.physicalDevice.OS = this.device.OS;\r\n    }\r\n\r\n    /**\r\n     * Function     arrayFromNodeList\r\n     * Scope        Public\r\n     * @param       {Object}    nl a node list, as returned from getElementsBy_____ methods.\r\n     * Description  Transforms a node list into an array.   *\r\n     * @return      {Array\u003cElement\u003e}\r\n     */\r\n    arrayFromNodeList(nl: NodeList|HTMLCollectionOf\u003cElement\u003e): HTMLElement[] {\r\n      var res = [];\r\n      for(var i=0; i \u003c nl.length; i++) {\r\n        res.push(nl[i]);\r\n      }\r\n      return res;\r\n    }\r\n\r\n    /**\r\n     * Function    addEventListener\r\n     * Scope       Private\r\n     * @param      {string}     event     name of event prefixed by module, e.g. osk.touchmove\r\n     * @param      {function(Object)}   func      event handler\r\n     * @return     {boolean}\r\n     * Description Add (or replace) an event listener for this component\r\n     */\r\n    addEventListener(event: string, func: (Object) =\u003e boolean): boolean {\r\n      this.removeEventListener(event, func);\r\n      this.events[event].push(func);\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Function    removeEventListener\r\n     * Scope       Private\r\n     * @param      {string}     event     name of event prefixed by module, e.g. osk.touchmove\r\n     * @param      {function(Object)}   func      event handler\r\n     * @return     {boolean}\r\n     * Description Remove the specified function from the listeners for this event\r\n     */\r\n    removeEventListener(event: string, func: (Object) =\u003e boolean): boolean {\r\n      if(typeof this.events[event] == \u0027undefined\u0027) {\r\n        this.events[event] = [];\r\n      }\r\n\r\n      for(var i=0; i\u003cthis.events[event].length; i++) {\r\n        if(this.events[event][i] == func) {\r\n          this.events[event].splice(i, 1);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Function    callEvent\r\n     * Scope       Private\r\n     * @param      {string}     event     name of event prefixed by module, e.g. osk.touchmove\r\n     * @param      {Array}      params    parameter array for function\r\n     * @return     {boolean}\r\n     * Description Invoke an event using any function with up to four arguments\r\n     */\r\n    callEvent(event: string, params: Object|Object[]): boolean {\r\n      if(typeof this.events[event] == \u0027undefined\u0027) {\r\n        return true;\r\n      }\r\n\r\n      if(this.currentEvents.indexOf(event) != -1) {\r\n        return false;  // Avoid event messaging recursion!\r\n      }\r\n\r\n      this.currentEvents.push(event);\r\n\r\n      for(var i=0; i\u003cthis.events[event].length; i++) {\r\n        var func=this.events[event][i], result=false;\r\n        try {\r\n          result=func(params);\r\n        } catch(strExcept) {\r\n          console.error(strExcept);\r\n          result=false;\r\n        } //don\u0027t know whether to use true or false here\r\n        if(result === false) {\r\n          this.currentEvents.pop();\r\n          return false;\r\n        }\r\n      }\r\n      this.currentEvents.pop();\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Function     attachDOMEvent: Note for most browsers, adds an event to a chain, doesn\u0027t stop existing events\r\n     * Scope        Public\r\n     * @param       {Object}    Pelem       Element (or IFrame-internal Document) to which event is being attached\r\n     * @param       {string}    Peventname  Name of event without \u0027on\u0027 prefix\r\n     * @param       {function(Object)}  Phandler    Event handler for event\r\n     * @param       {boolean=}  PuseCapture True only if event to be handled on way to target element\r\n     * Description  Attaches event handler to element DOM event\r\n     */\r\n    attachDOMEvent(Pelem: EventTarget, Peventname: string, Phandler: (Object) =\u003e boolean, PuseCapture?: boolean): void {\r\n      this.detachDOMEvent(Pelem, Peventname, Phandler, PuseCapture);\r\n      Pelem.addEventListener(Peventname, Phandler, PuseCapture?true:false);\r\n\r\n      // Since we\u0027re attaching to the DOM, these events should be tracked for detachment during shutdown.\r\n      var event = new DOMEventTracking(Pelem, Peventname, Phandler, PuseCapture);\r\n      this.domEvents.push(event);\r\n    }\r\n\r\n    /**\r\n     * Function     detachDOMEvent\r\n     * Scope        Public\r\n     * @param       {Object}    Pelem       Element from which event is being detached\r\n     * @param       {string}    Peventname  Name of event without \u0027on\u0027 prefix\r\n     * @param       {function(Object)}  Phandler    Event handler for event\r\n     * @param       {boolean=}  PuseCapture True if event was being handled on way to target element\r\n     * Description Detaches event handler from element [to prevent memory leaks]\r\n     */\r\n    detachDOMEvent(Pelem: EventTarget, Peventname: string, Phandler: (Object) =\u003e boolean, PuseCapture?: boolean): void {\r\n      Pelem.removeEventListener(Peventname, Phandler, PuseCapture);\r\n\r\n      // Since we\u0027re detaching, we should drop the tracking data from the old event.\r\n      var event = new DOMEventTracking(Pelem, Peventname, Phandler, PuseCapture);\r\n      for(var i = 0; i \u003c this.domEvents.length; i++) {\r\n        if(this.domEvents[i].equals(event)) {\r\n          this.domEvents.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     getOption\r\n     * Scope        Public\r\n     * @param       {string}    optionName  Name of option\r\n     * @param       {*=}        dflt        Default value of option\r\n     * @return      {*}\r\n     * Description  Returns value of named option\r\n     */\r\n    getOption(optionName:string, dflt:any): any {\r\n      if(optionName in this.keyman.options) {\r\n        return this.keyman.options[optionName];\r\n      } else if(arguments.length \u003e 1) {\r\n        return dflt;\r\n      } else {\r\n        return \u0027\u0027;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * More reliable way of identifying  element class\r\n     * @param   {Object}  e HTML element\r\n     * @param   {string}  name  class name\r\n     * @return  {boolean}\r\n     */\r\n    hasClass(e: HTMLElement, name: string): boolean {\r\n      var className = \" \" + name + \" \";\r\n      return (\" \" + e.className + \" \").replace(/[\\n\\t\\r\\f]/g, \" \").indexOf(className) \u003e= 0;\r\n    }\r\n\r\n    /**\r\n     * Function     setOption\r\n     * Scope        Public\r\n     * @param       {string}    optionName  Name of option\r\n     * @param       {*=}        value       Value of option\r\n     * Description  Sets value of named option\r\n     */\r\n    setOption(optionName,value) {\r\n      this.keyman.options[optionName] = value;\r\n    }\r\n\r\n    //  Unofficial API used by our desktop UIs.\r\n    getAbsoluteX(Pobj: HTMLElement): number {\r\n      return dom.Utils.getAbsoluteX(Pobj);\r\n    }\r\n\r\n    //  Unofficial API used by our desktop UIs.\r\n    getAbsoluteY(Pobj: HTMLElement): number {\r\n      return dom.Utils.getAbsoluteY(Pobj);\r\n    }\r\n\r\n    /**\r\n     * Function     getAbsolute\r\n     * Scope        Public\r\n     * @param       {Object}    Pobj        HTML element\r\n     * @return      {Object.\u003cstring,number\u003e}\r\n     * Description  Returns absolute position of Pobj element with respect to page\r\n     */\r\n    getAbsolute(Pobj: HTMLElement) {\r\n      var p={\r\n        /* @ export */\r\n        x: this.getAbsoluteX(Pobj),\r\n        /* @ export */\r\n        y: this.getAbsoluteY(Pobj)\r\n      };\r\n      return p;\r\n    }\r\n\r\n    //  Unofficial API used by our desktop UIs.\r\n    _GetAbsolute = this.getAbsolute;\r\n\r\n    /**\r\n     * Select start handler (to replace multiple inline handlers) (Build 360)\r\n     */\r\n    selectStartHandler = function() {\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Default mouse down event handler (to replace multiple inline handlers) (Build 360)\r\n     */\r\n    mouseDownPreventDefaultHandler(e: MouseEvent) {\r\n      if(e) {\r\n        e.preventDefault();\r\n      }\r\n    }\r\n\r\n    // Found a bit of magic formatting that allows dynamic return typing for a specified element tag!\r\n    _CreateElement\u003cE extends \"p\"|\"style\"|\"script\"|\"div\"|\"canvas\"|\"span\"\u003e(nodeName:E) {\r\n      var e = document.createElement\u003cE\u003e(nodeName);\r\n\r\n      // Make element unselectable (Internet Explorer)\r\n      if (typeof e.onselectstart != \u0027undefined\u0027) { //IE route\r\n        e.onselectstart=this.selectStartHandler; // Build 360\r\n      } else { // And for well-behaved browsers (may also work for IE9+, but not necessary)\r\n        e.style.MozUserSelect=\"none\";\r\n        e.style.KhtmlUserSelect=\"none\";\r\n        e.style.UserSelect=\"none\";\r\n        e.style.WebkitUserSelect=\"none\";\r\n      }\r\n      return e;\r\n    }\r\n\r\n        /**\r\n     * Function     _CancelMouse\r\n     * Scope        Private\r\n     * @param       {Object}      e     event\r\n     * @return      {boolean}           always false\r\n     * Description  Closes mouse click event\r\n     */\r\n    _CancelMouse=function(e: MouseEvent) {\r\n      e = com.keyman.singleton._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(e \u0026\u0026 e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n      if(e) {\r\n        e.cancelBubble=true;\r\n        e.returnValue=false;\r\n      } // I2409 - Avoid focus loss for visual keyboard events\r\n\r\n      return false;\r\n    }\r\n\r\n    createElement = this._CreateElement;\r\n\r\n    /**\r\n     * Function     getIEVersion\r\n     * Scope        Public\r\n     * @return      {number}\r\n     * Description  Return IE version number (or 999 if browser not IE)\r\n     */\r\n    getIEVersion() {\r\n      return Device._GetIEVersion();\r\n    }\r\n\r\n    getFontSizeStyle(e: HTMLElement|string): {val: number, absolute: boolean} {\r\n      var val: number;\r\n      var fs: string;\r\n\r\n      if(typeof e == \u0027string\u0027) {\r\n        fs = e;\r\n      } else {\r\n        fs = e.style.fontSize;\r\n        if(!fs) {\r\n          fs = getComputedStyle(e).fontSize;\r\n        }\r\n      }\r\n\r\n      if(fs.indexOf(\u0027em\u0027) != -1) {\r\n        val = parseFloat(fs.substr(0, fs.indexOf(\u0027em\u0027)));\r\n        return {val: val, absolute: false};\r\n      } else if(fs.indexOf(\u0027px\u0027) != -1) {\r\n        val = parseFloat(fs.substr(0, fs.indexOf(\u0027px\u0027)));\r\n        return {val: val, absolute: true};\r\n      } else if(fs.indexOf(\u0027pt\u0027) != -1) {\r\n        // 16 px ~= 12 pt.\r\n        // Reference: https://kyleschaeffer.com/css-font-size-em-vs-px-vs-pt-vs-percent\r\n        val = parseFloat(fs.substr(0, fs.indexOf(\u0027pt\u0027)));\r\n        return {val: (4 * val / 3), absolute: true};\r\n      } else if(fs.indexOf(\u0027%\u0027) != -1) {\r\n        val = parseFloat(fs.substr(0, fs.indexOf(\u0027%\u0027)));\r\n        return {val: val/100, absolute: false};\r\n      } else if(!isNaN(val = Number(fs))) {\r\n        // Note:  this one is NOT natively handled by browsers!\r\n        //        We\u0027ll treat it as if it were \u0027pt\u0027, since that\u0027s likely the user\u0027s\r\n        //        most familiar font size unit.\r\n        return {val: (4 * val / 3), absolute: true};\r\n      } else {\r\n        // Cannot parse.\r\n        console.error(\"Could not properly parse specified fontsize info: \u0027\" + fs + \"\u0027.\");\r\n        return null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get browser-independent computed style value for element\r\n     *\r\n     * @param       {Element}     e             HTML element\r\n     * @param       {string}      s             CSS style name\r\n     * @return      {*}\r\n     */\r\n    getStyleValue(e:HTMLElement, s:string) {\r\n      // Build 349: error trap added, since on iOS, getPropertyValue may fail\r\n      // and crash in some cases, possibly if passed a text node\r\n      try\r\n      {\r\n        if(e \u0026\u0026 (typeof(window.getComputedStyle) != \u0027undefined\u0027)) {\r\n            return window.getComputedStyle(e,\u0027\u0027).getPropertyValue(s);\r\n        }\r\n      }\r\n      catch(ex){}\r\n\r\n      // Return empty string if unable to get style value\r\n      return \u0027\u0027;\r\n    }\r\n\r\n    /**\r\n     * Get browser-independent computed style integer value for element  (Build 349)\r\n     *\r\n     * @param       {Element}     e             HTML element\r\n     * @param       {string}      s             CSS style name\r\n     * @param       {number=}     d             default value if NaN\r\n     * @return      {number}                    integer value of style\r\n     */\r\n    getStyleInt(e: HTMLElement, s: string, d?: number): number {\r\n      var x=parseInt(this.getStyleValue(e,s),10);\r\n      if(!isNaN(x)) {\r\n        return x;\r\n      }\r\n\r\n      // Return the default value if numeric, else 0\r\n      if(typeof(d) == \u0027number\u0027) {\r\n        return d;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Expose the touchable state for UIs - will disable external UIs entirely\r\n     **/\r\n    isTouchDevice(): boolean {\r\n      return this.device.touchable;\r\n    }\r\n\r\n    /**\r\n     * Get orientation of tablet or phone  display\r\n     *\r\n     * @return      {boolean}\r\n     */\r\n    portraitView() { // new for I3363 (Build 301)\r\n      return !this.landscapeView();\r\n    }\r\n\r\n    /**\r\n     * Get orientation of tablet or phone  display\r\n     *\r\n     * @return      {boolean}\r\n     */\r\n    landscapeView(): boolean\t{ // new for I3363 (Build 301)\r\n      var orientation: number;\r\n\r\n      // Assume portrait mode if orientation undefined\r\n      if(typeof window.orientation != \u0027undefined\u0027) { // Used by iOS Safari\r\n        // Else landscape for +/-90, portrait for 0, +/-180\r\n        orientation = window.orientation as number;\r\n      } else if(typeof window.screen.orientation != \u0027undefined\u0027) { // Used by Firefox, Chrome\r\n        orientation = window.screen.orientation.angle;\r\n      }\r\n\r\n      if(orientation !== undefined) {\r\n        return (Math.abs(orientation/90) == 1);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get viewport scale factor for this document\r\n     *\r\n     * @return      {number}\r\n     */\r\n    getViewportScale(): number {\r\n      // This can sometimes fail with some browsers if called before document defined,\r\n      // so catch the exception\r\n      try {\r\n        // Get viewport width\r\n        var viewportWidth = document.documentElement.clientWidth;\r\n\r\n        // Return a default value if screen width is greater than the viewport width (not fullscreen).\r\n        if(screen.width \u003e viewportWidth) {\r\n          return 1;\r\n        }\r\n\r\n        // Get the orientation corrected screen width\r\n        var screenWidth = screen.width;\r\n        if(this.landscapeView()) {\r\n          // Take larger of the two dimensions\r\n          if(screen.width \u003c screen.height) {\r\n            screenWidth = screen.height;\r\n          }\r\n        } else {\r\n          // Take smaller of the two dimensions\r\n          if(screen.width \u003e screen.height) {\r\n            screenWidth = screen.height;\r\n          }\r\n        }\r\n        // Calculate viewport scale\r\n        return Math.round(100*screenWidth / window.innerWidth)/100;\r\n      } catch(ex) {\r\n        return 1;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return height of URL bar on mobile devices, if visible\r\n     * TODO: This does not seem to be right, so is not currently used\r\n     *\r\n     * @return      {number}\r\n     */\r\n    barHeight(): number {\r\n      var dy=0;\r\n      if(this.device.formFactor == \u0027phone\u0027) {\r\n        dy=screen.height/2-window.innerHeight-(this.landscapeView() ? this.device.dyLandscape: this.device.dyPortrait);\r\n      }\r\n      return dy;\r\n    }\r\n\r\n    /**\r\n     * Function     _EncodeEntities\r\n     * Scope        Private\r\n     * @param       {string}      P_txt         string to be encoded\r\n     * @return      {string}                    encoded (html-safe) string\r\n     * Description Encode angle brackets and ampersand in text string\r\n     */\r\n    _EncodeEntities(P_txt: string): string {\r\n      return P_txt.replace(\u0027\u0026\u0027,\u0027\u0026amp;\u0027).replace(\u0027\u003c\u0027,\u0027\u0026lt;\u0027).replace(\u0027\u003e\u0027,\u0027\u0026gt;\u0027);  // I1452 part 2\r\n    }\r\n\r\n    /**\r\n     * Function     createShim\r\n     * Scope        Public\r\n     * Description  [Deprecated] Create an IFRAME element to go between KMW and drop down (to fix IE6 bug)\r\n     * @deprecated\r\n     */\r\n    createShim(): void {    // I1476 - Handle SELECT overlapping BEGIN\r\n      console.warn(\"The util.createShim function is deprecated, as its old functionality is no longer needed.  \" +\r\n        \"It and references to its previously-produced shims may be safely removed.\");\r\n      return;\r\n    }\r\n\r\n    // I1476 - Handle SELECT overlapping BEGIN\r\n\r\n    /**\r\n     * Function     showShim\r\n     * Scope        Public\r\n     * @param       {Object}      Pvkbd         Visual keyboard DIV element\r\n     * @param       {Object}      Pframe        IFRAME shim element\r\n     * @param       {Object}      Phelp         OSK Help DIV element\r\n     * Description  [Deprecated] Display iFrame under OSK at its currently defined position, to allow OSK to overlap SELECT elements (IE6 fix)\r\n     * @deprecated\r\n     */\r\n    showShim(Pvkbd: HTMLElement, Pframe: HTMLElement, Phelp: HTMLElement) {\r\n      console.warn(\"The util.showShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.\");\r\n    }\r\n\r\n    /**\r\n     * Function     hideShim\r\n     * Scope        Public\r\n     * @param       {Object}      Pframe        IFRAME shim element\r\n     * Description  [Deprecated] Hide iFrame shim containing OSK\r\n     * @deprecated\r\n     */\r\n    hideShim(Pframe: HTMLElement) {\r\n      console.warn(\"The util.hideShim function is deprecated, as its old functionality is no longer needed.  It may be safely removed.\");\r\n    }\r\n\r\n    /**\r\n     * Function     rgba\r\n     * Scope        Public\r\n     * @param       {Object}      s           element style object\r\n     * @param       {number}      r           red value, 0-255\r\n     * @param       {number}      g           green value, 0-255\r\n     * @param       {number}      b           blue value, 0-255\r\n     * @param       {number}      a           opacity value, 0-1.0\r\n     * @return      {string}                  background colour style string\r\n     * Description  Browser-independent alpha-channel management\r\n     */\r\n    rgba(s: HTMLStyleElement, r:number, g:number, b:number, a:number): string {\r\n      var bgColor=\u0027transparent\u0027;\r\n      try {\r\n        bgColor=\u0027rgba(\u0027+r+\u0027,\u0027+g+\u0027,\u0027+b+\u0027,\u0027+a+\u0027)\u0027;\r\n      } catch(ex) {\r\n        bgColor=\u0027rgb(\u0027+r+\u0027,\u0027+g+\u0027,\u0027+b+\u0027)\u0027;\r\n      }\r\n\r\n      return bgColor;\r\n    }\r\n\r\n    /**\r\n     * Add a stylesheet to a page programmatically, for use by the OSK, the UI or the page creator\r\n     *\r\n     * @param       {string}        s             style string\r\n     * @return      {Object}                      returns the object reference\r\n     **/\r\n    addStyleSheet(s: string): HTMLStyleElement {\r\n      var _ElemStyle: HTMLStyleElement = \u003cHTMLStyleElement\u003edocument.createElement\u003c\u0027style\u0027\u003e(\u0027style\u0027);\r\n\r\n      _ElemStyle.type = \u0027text/css\u0027;\r\n      _ElemStyle.appendChild(document.createTextNode(s));\r\n\r\n      var _ElemHead=document.getElementsByTagName(\u0027HEAD\u0027);\r\n      if(_ElemHead.length \u003e 0) {\r\n        _ElemHead[0].appendChild(_ElemStyle);\r\n      } else {\r\n        document.body.appendChild(_ElemStyle); // Won\u0027t work on Chrome, ah well\r\n      }\r\n\r\n      this.linkedStylesheets.push(_ElemStyle);\r\n\r\n      return _ElemStyle;\r\n    }\r\n\r\n    /**\r\n     * Remove a stylesheet element\r\n     *\r\n     * @param       {Object}        s             style sheet reference\r\n     * @return      {boolean}                     false if element is not a style sheet\r\n     **/\r\n    removeStyleSheet(s: HTMLStyleElement) {\r\n      if(s == null || typeof(s) != \u0027object\u0027) {\r\n        return false;\r\n      }\r\n\r\n      if(s.nodeName != \u0027STYLE\u0027) {\r\n        return false;\r\n      }\r\n\r\n      if(typeof(s.parentNode) == \u0027undefined\u0027 || s.parentNode == null) {\r\n        return false;\r\n      }\r\n\r\n      s.parentNode.removeChild(s);\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Add a reference to an external stylesheet file\r\n     *\r\n     * @param   {string}  s   path to stylesheet file\r\n     */\r\n    linkStyleSheet(s: string): void {\r\n      var headElements=document.getElementsByTagName(\u0027head\u0027);\r\n      if(headElements.length \u003e 0) {\r\n        var linkElement=document.createElement(\u0027link\u0027);\r\n        linkElement.type=\u0027text/css\u0027;\r\n        linkElement.rel=\u0027stylesheet\u0027;\r\n        linkElement.href=s;\r\n        this.linkedStylesheets.push(linkElement);\r\n        headElements[0].appendChild(linkElement);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Add a stylesheet with a font-face CSS descriptor for the embedded font appropriate\r\n     * for the browser being used\r\n     *\r\n     * @param    {Object}  fd  keymanweb font descriptor\r\n     **/\r\n    addFontFaceStyleSheet(fd: any) { // TODO:  Font descriptor object needs definition!\r\n      // Test if a valid font descriptor\r\n      if(typeof(fd) == \u0027undefined\u0027) return;\r\n\r\n      if(typeof(fd[\u0027files\u0027]) == \u0027undefined\u0027) fd[\u0027files\u0027]=fd[\u0027source\u0027];\r\n      if(typeof(fd[\u0027files\u0027]) == \u0027undefined\u0027) return;\r\n\r\n      var i,ttf=\u0027\u0027,woff=\u0027\u0027,eot=\u0027\u0027,svg=\u0027\u0027,fList=[];\r\n\r\n  // TODO: 22 Aug 2014: check that font path passed from cloud is actually used!\r\n\r\n      // Do not add a new font-face style sheet if already added for this font\r\n      for(i=0; i\u003cthis.embeddedFonts.length; i++) {\r\n        if(this.embeddedFonts[i] == fd[\u0027family\u0027]) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if(typeof(fd[\u0027files\u0027]) == \u0027string\u0027) {\r\n        fList[0]=fd[\u0027files\u0027];\r\n      } else {\r\n        fList=fd[\u0027files\u0027];\r\n      }\r\n\r\n      for(i=0;i\u003cfList.length;i++) {\r\n        if(fList[i].toLowerCase().indexOf(\u0027.otf\u0027) \u003e 0) ttf=fList[i];\r\n        if(fList[i].toLowerCase().indexOf(\u0027.ttf\u0027) \u003e 0) ttf=fList[i];\r\n        if(fList[i].toLowerCase().indexOf(\u0027.woff\u0027) \u003e 0) woff=fList[i];\r\n        if(fList[i].toLowerCase().indexOf(\u0027.eot\u0027) \u003e 0) eot=fList[i];\r\n        if(fList[i].toLowerCase().indexOf(\u0027.svg\u0027) \u003e 0) svg=fList[i];\r\n      }\r\n\r\n      // Font path qualified to support page-relative fonts (build 347)\r\n      if(ttf != \u0027\u0027 \u0026\u0026 (ttf.indexOf(\u0027/\u0027) \u003c 0))  {\r\n        ttf = this.keyman.options[\u0027fonts\u0027]+ttf;\r\n      }\r\n\r\n      if(woff != \u0027\u0027 \u0026\u0026 (woff.indexOf(\u0027/\u0027) \u003c 0)) {\r\n        woff = this.keyman.options[\u0027fonts\u0027]+woff;\r\n      }\r\n\r\n      if(eot != \u0027\u0027 \u0026\u0026 (eot.indexOf(\u0027/\u0027) \u003c 0)) {\r\n      eot = this.keyman.options[\u0027fonts\u0027]+eot;\r\n      }\r\n\r\n      if(svg != \u0027\u0027 \u0026\u0026 (svg.indexOf(\u0027/\u0027) \u003c 0)) {\r\n        svg = this.keyman.options[\u0027fonts\u0027]+svg;\r\n      }\r\n\r\n      // Build the font-face definition according to the browser being used\r\n      var s=\u0027@font-face {\\nfont-family:\u0027\r\n        +fd[\u0027family\u0027]+\u0027;\\nfont-style:normal;\\nfont-weight:normal;\\n\u0027;\r\n\r\n      // Detect if Internet Explorer and version if so\r\n      var IE=Device._GetIEVersion();\r\n\r\n      // Build the font source string according to the browser,\r\n      // but return without adding the style sheet if the required font type is unavailable\r\n\r\n      // Modern browsers: use WOFF, TTF and fallback finally to SVG. Don\u0027t provide EOT\r\n      if(IE \u003e= 9) {\r\n        if(this.device.OS == \u0027iOS\u0027) {\r\n          if(ttf != \u0027\u0027) {\r\n            // Modify the url if required to prevent caching\r\n            ttf = this.unCached(ttf);\r\n            s=s+\u0027src:url(\\\u0027\u0027+ttf+\u0027\\\u0027) format(\\\u0027truetype\\\u0027);\u0027;\r\n          } else {\r\n            return;\r\n          }\r\n        } else {\r\n          var s0 = [];\r\n\r\n          if(this.device.OS == \u0027Android\u0027) {\r\n            // Android 4.2 and 4.3 have bugs in their rendering for some scripts\r\n            // with embedded ttf or woff.  svg mostly works so is a better initial\r\n            // choice on the Android browser.\r\n            if(svg != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+svg+\"\u0027) format(\u0027svg\u0027)\");\r\n            }\r\n\r\n            if(woff != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+woff+\"\u0027) format(\u0027woff\u0027)\");\r\n            }\r\n\r\n            if(ttf != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+ttf+\"\u0027) format(\u0027truetype\u0027)\");\r\n            }\r\n          } else {\r\n            if(woff != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+woff+\"\u0027) format(\u0027woff\u0027)\");\r\n            }\r\n\r\n            if(ttf != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+ttf+\"\u0027) format(\u0027truetype\u0027)\");\r\n            }\r\n\r\n            if(svg != \u0027\u0027) {\r\n              s0.push(\"url(\u0027\"+svg+\"\u0027) format(\u0027svg\u0027)\");\r\n            }\r\n          }\r\n\r\n          if(s0.length == 0) {\r\n            return;\r\n          }\r\n\r\n          s += \u0027src:\u0027+s0.join(\u0027,\u0027)+\u0027;\u0027;\r\n        }\r\n      } else { // IE 6-8\r\n        if(eot != \u0027\u0027) {\r\n          s=s+\u0027src:url(\\\u0027\u0027+eot+\u0027\\\u0027);\u0027;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n\r\n      s=s+\u0027\\n}\\n\u0027;\r\n\r\n      this.addStyleSheet(s);\r\n      this.embeddedFonts.push(fd[\u0027family\u0027]);\r\n    }\r\n\r\n    /**\r\n     * Allow forced reload if necessary (stub only here)\r\n     *\r\n     *  @param  {string}  s unmodified URL\r\n     *  @return {string}    modified URL\r\n     */\r\n    unCached(s: string): string {\r\n      // var t=(new Date().getTime());\r\n      // s = s + \u0027?v=\u0027 + t;\r\n      return s;\r\n    }\r\n\r\n    /**\r\n     * Document cookie parsing for use by kernel, OSK, UI etc.\r\n     *\r\n     * @param       {string=}       cn        cookie name (optional)\r\n     * @return      {Object}                  array of names and strings, or array of variables and values\r\n     */\r\n    loadCookie(cn?: string) {\r\n      var v={};\r\n      if(arguments.length \u003e 0) {\r\n        var cx = this.loadCookie();\r\n        for(var t in cx) {\r\n          if(t == cn) {\r\n            var d = decodeURIComponent(cx[t]).split(\u0027;\u0027);\r\n            for(var i=0; i\u003cd.length; i++) {\r\n              var xc = d[i].split(\u0027=\u0027);\r\n              if(xc.length \u003e 1) {\r\n                v[xc[0]] = xc[1];\r\n              } else {\r\n                v[xc[0]] = \u0027\u0027;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if(typeof(document.cookie) != \u0027undefined\u0027 \u0026\u0026 document.cookie != \u0027\u0027) {\r\n          var c = document.cookie.split(/;\\s*/);\r\n          for(var i = 0; i \u003c c.length; i++) {\r\n            var d = c[i].split(\u0027=\u0027);\r\n            if(d.length == 2) {\r\n              v[d[0]] = d[1];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n\r\n    /**\r\n     * Standard cookie saving for use by kernel, OSK, UI etc.\r\n     *\r\n     * @param       {string}      cn            name of cookie\r\n     * @param       {Object}      cv            object with array of named arguments and values\r\n     */\r\n    saveCookie(cn: string, cv) {\r\n      var s=\u0027\u0027;\r\n      for(var v in cv) {\r\n        s = s + v+\u0027=\u0027+cv[v]+\";\";\r\n      }\r\n\r\n      var d = new Date(new Date().valueOf() + 1000 * 60 * 60 * 24 * 30).toUTCString();\r\n      document.cookie = cn+\u0027=\u0027+encodeURIComponent(s)+\u0027; path=/; expires=\u0027+d;//Fri, 31 Dec 2099 23:59:59 GMT;\u0027;\r\n    }\r\n\r\n    /**\r\n     * Function     toNumber\r\n     * Scope        Public\r\n     * @param       {string}      s            numeric string\r\n     * @param       {number}      dflt         default value\r\n     * @return      {number}\r\n     * Description  Return string converted to integer or default value\r\n     */\r\n    toNumber(s: string, dflt: number): number {\r\n      var x = parseInt(s,10);\r\n      return isNaN(x) ? dflt : x;\r\n    }\r\n\r\n    /**\r\n     * Function     toNumber\r\n     * Scope        Public\r\n     * @param       {string}      s            numeric string\r\n     * @param       {number}      dflt         default value\r\n     * @return      {number}\r\n     * Description  Return string converted to real value or default value\r\n     */\r\n    toFloat(s: string, dflt: number): number {\r\n      var x = parseFloat(s);\r\n      return isNaN(x) ? dflt : x;\r\n    }\r\n\r\n    /**\r\n     * Function     toNzString\r\n     * Scope        Public\r\n     * @param       {*}           item         variable to test\r\n     * @param       {?*=}         dflt         default value\r\n     * @return      {*}\r\n     * Description  Test if a variable is null, false, empty string, or undefined, and return as string\r\n     */\r\n    nzString(item: any, dflt: any): string {\r\n      var dfltValue = \u0027\u0027;\r\n      if(arguments.length \u003e 1) {\r\n        dfltValue = dflt;\r\n      }\r\n\r\n      if(typeof(item) == \u0027undefined\u0027) {\r\n        return dfltValue;\r\n      }\r\n\r\n      if(item == null) {\r\n        return dfltValue;\r\n      }\r\n\r\n      if(item == 0 || item == \u0027\u0027) {\r\n        return dfltValue;\r\n      }\r\n\r\n      return \u0027\u0027+item;\r\n    }\r\n\r\n    /**\r\n     * Return the event target for any browser\r\n     *\r\n     * @param       {Event}      e        event\r\n     * @return      {Object}              HTML element\r\n     */\r\n    eventTarget(e: Event): EventTarget {\r\n      if(!e) {\r\n        return null;\r\n      } else if (e.target) {       // most browsers\r\n        return e.target;\r\n      } else if (e.srcElement) {\r\n        return e.srcElement;\r\n      } else if(window.event) { //IE 8 (and earlier)\r\n        return window.event.srcElement;\r\n      } else {\r\n        return null;            // shouldn\u0027t happen!\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return the event type for any browser\r\n     *\r\n     * @param       {Event}      e        event\r\n     * @return      {string}              type of event\r\n     */\r\n    eventType(e: Event): string {\r\n      if(e \u0026\u0026 e.type) {         // most browsers\r\n        return e.type;\r\n      } else if(window.event) { // IE 8 (and earlier)\r\n        return window.event.type;\r\n      } else {\r\n        return \u0027\u0027;              // shouldn\u0027t happen!\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Customized alert\r\n     *\r\n     * @param     {string}        s       alert text\r\n     * @param     {function()=}   fn      function to call when alert dismissed\r\n     */\r\n    alert(s: string, fn?: () =\u003e void): void {\r\n      var bg = this.waiting, nn=bg.firstChild.childNodes;\r\n      (nn[0] as HTMLElement).style.display=\u0027block\u0027;\r\n      (nn[1] as HTMLElement).className=\u0027kmw-alert-text\u0027;\r\n      (nn[1] as HTMLElement).innerHTML=s;\r\n      (nn[2] as HTMLElement).style.display=\u0027none\u0027;\r\n      bg.style.display=\u0027block\u0027;\r\n      if(arguments.length \u003e 1) {\r\n        bg.dismiss=fn;\r\n      } else {\r\n        bg.dismiss=null;\r\n      }\r\n    }\r\n\r\n    // Stub definition to be fleshed out depending upon native/embedded mode.\r\n    wait(s: string|boolean): void {\r\n\r\n    }\r\n\r\n    /**\r\n     *  Prepare the background and keyboard loading wait message box\r\n     *  Should not be called before options are defined during initialization\r\n     **/\r\n    prepareWait(): void {\r\n      var bg: HTMLDivElement = \u003cHTMLDivElement\u003edocument.createElement(\u0027DIV\u0027),\r\n          lb=document.createElement(\u0027DIV\u0027),\r\n          lt=document.createElement(\u0027DIV\u0027),\r\n          gr=document.createElement(\u0027DIV\u0027),\r\n          bx=document.createElement(\u0027DIV\u0027);\r\n\r\n      bg.className=\u0027kmw-wait-background\u0027;\r\n      lb.className=\u0027kmw-wait-box\u0027;\r\n      bg.dismiss=null;\r\n      lt.className=\u0027kmw-wait-text\u0027;\r\n      gr.className=\u0027kmw-wait-graphic\u0027;\r\n      bx.className=\u0027kmw-alert-close\u0027;\r\n\r\n      // Close alert if anywhere in box is touched, since close box is too small on mobiles\r\n      lb.onmousedown=lb.onclick=function(e) {\r\n        // Ignore if waiting, only handle for alert\r\n        if(bx.style.display == \u0027block\u0027) {\r\n          bg.style.display=\u0027none\u0027;\r\n          if(bg.dismiss) {\r\n            bg.dismiss();\r\n          }\r\n        }\r\n      };\r\n\r\n      lb.addEventListener(\u0027touchstart\u0027, lb.onclick, false);\r\n      bg.onmousedown=bg.onclick=function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n      }\r\n      bg.addEventListener(\u0027touchstart\u0027, bg.onclick, false);\r\n      lb.appendChild(bx);\r\n      lb.appendChild(lt);\r\n      lb.appendChild(gr);\r\n      bg.appendChild(lb);\r\n      document.body.appendChild(bg);\r\n      this.waiting=bg;\r\n    }\r\n\r\n    shutdown() {\r\n      // Remove all event-handler references rooted in KMW events.\r\n      this.events = {};\r\n\r\n      // Remove all events linking to elements of the original, unaltered page.\r\n      // This should sever any still-existing page ties to this instance of KMW,\r\n      // allowing browser GC to do its thing.\r\n      for(let event of this.domEvents) {\r\n        this.detachDOMEvent(event.Pelem, event.Peventname, event.Phandler, event.PuseCapture);\r\n      }\r\n\r\n      // Remove any KMW-added DOM element clutter.\r\n      this.waiting.parentNode.removeChild(this.waiting);\r\n\r\n      for(let ss of this.linkedStylesheets) {\r\n        if(ss.remove) {\r\n          ss.remove();\r\n        } else if(ss.parentNode) {\r\n          ss.parentNode.removeChild(ss);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get path of keymanweb script, for relative references\r\n     *\r\n     * *** This is not currently used, but may possibly be needed if ***\r\n     * *** script identification during loading proves unreliable.   ***\r\n     *\r\n     *  @param    {string}      sName   filename prefix\r\n     *  @return   {string}      path to source, with trailing slash\r\n    **/\r\n    myPath(sName: string): string {\r\n      var i, scripts=document.getElementsByTagName(\u0027script\u0027), ss;\r\n\r\n      for(i=0; i\u003cscripts.length; i++) {\r\n        ss=scripts[i];\r\n        if(ss.src.indexOf(sName) \u003e= 0) {\r\n          return ss.src.substr(0,ss.src.lastIndexOf(\u0027/\u0027)+1);\r\n        }\r\n      }\r\n\r\n      return \u0027\u0027;\r\n    }\r\n\r\n    // Prepend the appropriate protocol if not included in path\r\n    prependProtocol(path: string): string {\r\n      var pattern = new RegExp(\u0027^https?:\u0027);\r\n\r\n      if(pattern.test(path)) {\r\n        return path;\r\n      } else if(path.substr(0,2) == \u0027//\u0027) {\r\n        return this.keyman.protocol+path;\r\n      } else if(path.substr(0,1) == \u0027/\u0027) {\r\n        return this.keyman.protocol+\u0027/\u0027+path;\r\n      } else {\r\n        return this.keyman.protocol+\u0027//\u0027+path;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Return the appropriate test string for a given font\r\n     *\r\n     * TODO: Tidy up and remove arrays once \u0027sample\u0027 included in font metadata\r\n     *\r\n     *  @param  {Object}    fd    font meta-data object\r\n     *  @return {string}          string to compare width\r\n     *\r\n     */\r\n    testString(fd): string {\r\n      var fontName=fd[\u0027family\u0027],\r\n      i,s=\u0027BESbswy\u0027;\r\n\r\n      if(\u0027sample\u0027 in fd \u0026\u0026 typeof(fd[\u0027sample\u0027]) == \u0027string\u0027) {\r\n        return s+fd[\u0027sample\u0027];\r\n      }\r\n\r\n      var f=[\u0027TamilWeb\u0027,\u0027TibetanWeb\u0027,\u0027LatinWeb\u0027,\u0027CherokeeWeb\u0027,\r\n            \u0027EgyptianWeb\u0027,\u0027SinhalaWeb\u0027,\u0027KhmerWeb\u0027,\u0027ArabicWeb\u0027,\r\n            \u0027BurmeseWeb\u0027,\u0027LaoWeb\u0027,\u0027OriyaWeb\u0027,\u0027GeezWeb\u0027],\r\n          t=[\u0027\\u0BBE\\u0BF5\u0027,\u0027\\u0F7F\\u0FD0\u0027,\u0027\\u02B0\\u02A4\u0027,\u0027\\u13D0\\u13C9\u0027,\r\n            \u0027\\uA723\\uF7D3\u0027,\u0027\\u0DD8\\u0DA3\u0027,\u0027\\u17D6\\u178E\u0027,\u0027\\u0639\\u06B3\u0027,\r\n            \u0027\\u1038\\u1024\u0027,\u0027\\u0EC0\\u0EDD\u0027,\u0027\\u0B03\\u0B06\u0027,\u0027\\u1361\\u132C\u0027];\r\n\r\n      for(i=0; i\u003cf.length; i++) {\r\n        if(fontName == f[i]) {\r\n          return s+t[i];\r\n        }\r\n      }\r\n\r\n      return s;\r\n    }\r\n\r\n    /**\r\n     * Test if a font is installed (or available) on the target platform\r\n     *\r\n     * @param       {Object}        fd    font structure\r\n     * @return      {boolean}             true if font available\r\n     */\r\n    checkFont(fd): boolean {\r\n      var fontReady=false, fontName=fd[\u0027family\u0027];\r\n\r\n      // Create an absolute positioned div and two paragraph elements with spans for the test string.\r\n      // The paragraph elements ensure that the spans are measured from the same point, otherwise\r\n      // pixel rounding can result in different widths for the same string and styles.\r\n      // Using a separate invisible DIV is more reliable than other positioning.\r\n      var d=document.createElement(\u0027DIV\u0027), ds=d.style,\r\n          p1=document.createElement(\u0027P\u0027),\r\n          p2=document.createElement(\u0027P\u0027),\r\n          t1=document.createElement(\u0027SPAN\u0027), s1=t1.style,\r\n          t2=document.createElement(\u0027SPAN\u0027), s2=t2.style;\r\n\r\n      ds.position=\u0027absolute\u0027;\r\n      ds.top=\u002710px\u0027;\r\n      ds.left=\u002710px\u0027;\r\n      ds.visibility=\u0027hidden\u0027;\r\n      document.body.appendChild(d);\r\n      d.appendChild(p1);\r\n      d.appendChild(p2);\r\n      p1.appendChild(t1);\r\n      p2.appendChild(t2);\r\n\r\n      // Firefox fails without the !important prefix on the fallback font,\r\n      // apparently applying the same font to both elements.\r\n      // But it also fails to distinguish the two if !important is added to the test font!\r\n      // *** TODO: See if still true after changes Dec 2013 ***\r\n      // Must apply !important tag to font-family, but must apply it to the CSS style, not the JS object member\r\n      // c.f. http://stackoverflow.com/questions/462537/overriding-important-style-using-javascript\r\n      t1.setAttribute(\u0027style\u0027,\u0027font-family:monospace !important\u0027);\r\n      s2.fontFamily=fontName+\u0027,monospace\u0027;\r\n      s1.fontSize=s2.fontSize=\u002724px\u0027;      // Not too large, to avoid wrapping or overflow\r\n\r\n      // Include narrow and wide characters from each unique script\r\n      t1.innerHTML=t2.innerHTML=this.testString(fd);\r\n\r\n      // Compare the actual width of each span. Checking monospace, serif,\r\n      // and sans-serif helps to avoid falsely reporting the font as ready\r\n      // The width must be different for all three tests.\r\n      if(t1.offsetWidth != t2.offsetWidth) {\r\n        t1.setAttribute(\u0027style\u0027,\u0027font-family:sans-serif !important\u0027);\r\n        s2.fontFamily=fontName+\u0027,sans-serif\u0027;\r\n        if(t1.offsetWidth != t2.offsetWidth) {\r\n          t1.setAttribute(\u0027style\u0027,\u0027font-family:serif !important\u0027);\r\n          s2.fontFamily=fontName+\u0027,serif\u0027;\r\n        }\r\n      }\r\n\r\n      fontReady=(t1.offsetWidth != t2.offsetWidth);\r\n\r\n      // Delete test elements\r\n      p1.removeChild(t1);\r\n      p2.removeChild(t2);\r\n      d.removeChild(p1);\r\n      d.removeChild(p2);\r\n      document.body.removeChild(d);\r\n\r\n      return fontReady;\r\n    }\r\n\r\n    /**\r\n     * Check a font descriptor for font availability, returning true if undefined\r\n     *\r\n     *  @param  {Object}  fd  font descriptor member of keyboard stub\r\n     *  @return {boolean}\r\n     **/\r\n    checkFontDescriptor(fd): boolean {\r\n      if(typeof(fd) == \u0027undefined\u0027 || typeof(fd[\u0027family\u0027]) != \u0027string\u0027) {\r\n        return true;\r\n      }\r\n\r\n      return this.checkFont(fd);\r\n    }\r\n  }\r\n}\r\n\r\nimport Util = com.keyman.Util;","/// \u003creference path=\"../kmwbase.ts\" /\u003e\r\n\r\nnamespace com.keyman.keyboards {\r\n  class CloudRequestEntry {\r\n    id: string;\r\n    language?: string;\r\n    version?: string;\r\n\r\n    constructor(id: string, language?: string) {\r\n      this.id = id;\r\n      this.language = language;\r\n    }\r\n\r\n    toString(): string {\r\n      var kbid=this.id;\r\n      var lgid=\u0027\u0027;\r\n      var kvid=\u0027\u0027;\r\n\r\n      if(this.language) {\r\n        kbid=kbid+\u0027@\u0027+this.language;\r\n        if(this.version) {\r\n          kbid=kbid+\u0027@\u0027+this.version;\r\n        }\r\n      } else {\r\n        if(this.version) {\r\n          kbid=kbid+\u0027@@\u0027+this.version;\r\n        }\r\n      }\r\n\r\n      //TODO: add specifier validation...\r\n\r\n      return kbid;\r\n    }\r\n  }\r\n\r\n  class KeyboardFont {\r\n    \u0027family\u0027: string;\r\n    \u0027files\u0027: string;\r\n    \u0027path\u0027: string;\r\n\r\n    constructor(fontObj: any, fontPath: string) {\r\n      this[\u0027family\u0027] = fontObj[\u0027family\u0027];\r\n      this[\u0027files\u0027] = fontObj[\u0027source\u0027];\r\n      this[\u0027path\u0027] = fontPath;\r\n    }\r\n  }\r\n\r\n  export class KeyboardStub {\r\n    \u0027KI\u0027: string;\r\n    \u0027KLC\u0027: string;\r\n\r\n    \u0027KN\u0027: string;\r\n    \u0027KL\u0027: string;\r\n    \u0027KR\u0027: string;\r\n    \u0027KRC\u0027: string;\r\n\r\n    \u0027KF\u0027: string;\r\n\r\n    \u0027KFont\u0027: KeyboardFont;\r\n    \u0027KOskFont\u0027: KeyboardFont;\r\n\r\n    // Used when loading a stub\u0027s keyboard.\r\n    asyncLoader?: any;\r\n\r\n    constructor(id: string, langCode: string) {\r\n      this[\u0027KI\u0027] = \u0027Keyboard_\u0027 + id;\r\n      this[\u0027KLC\u0027] = langCode;\r\n    }\r\n  }\r\n\r\n  export class KeyboardTag {\r\n    stores: {[text: string]: text.ComplexKeyboardStore} = {};\r\n  }\r\n\r\n  export interface KeyboardChangeData {\r\n    [\u0027internalName\u0027]: string;\r\n    [\u0027languageCode\u0027]: string;\r\n    [\u0027indirect\u0027]: boolean;\r\n  }\r\n\r\n  // For when the API call straight-up times out.\r\n  const CLOUD_TIMEOUT_ERR = \"The Cloud API request timed out.\";\r\n  // Currently cannot distinguish between \"no matching keyboard\" and other script-load errors.\r\n  const CLOUD_MALFORMED_OBJECT_ERR = \"Could not find a keyboard with that ID.\";\r\n  // Represents unspecified errors that occur when registering the results of a successful API call.\r\n  const CLOUD_STUB_REGISTRATION_ERR = \"The Cloud API failed to find an appropriate keyboard.\";\r\n  // Represents custom, specified KMW errors that occur when registering the results of a successful API call.\r\n  const CLOUD_REGISTRATION_ERROR = \"Error occurred while registering keyboards: \";\r\n\r\n  const MISSING_KEYBOARD = function(kbdid: string) {\r\n    return kbdid + \u0027 keyboard not found.\u0027;\r\n  }\r\n\r\n  interface RegistrationPromiseTuple {\r\n    // TODO (#5044): the parameter for `resolve` should match the type of the Promise in keymanCloudRequest.\r\n    resolve: () =\u003e void;\r\n    reject: (err: Error) =\u003e void;\r\n  }\r\n\r\n  export class KeyboardManager {\r\n    // Language regions as defined by cloud server\r\n    static readonly regions = [\u0027World\u0027,\u0027Africa\u0027,\u0027Asia\u0027,\u0027Europe\u0027,\u0027South America\u0027,\u0027North America\u0027,\u0027Oceania\u0027,\u0027Central America\u0027,\u0027Middle East\u0027];\r\n    static readonly regionCodes = [\u0027un\u0027,\u0027af\u0027,\u0027as\u0027,\u0027eu\u0027,\u0027sa\u0027,\u0027na\u0027,\u0027oc\u0027,\u0027ca\u0027,\u0027me\u0027];\r\n\r\n    keymanweb: KeymanBase;\r\n\r\n    activeStub: KeyboardStub = null;\r\n    keyboardStubs: KeyboardStub[] = [];\r\n\r\n    deferredStubs: any[] = []; // The list of user-provided keyboard stub registration objects.\r\n    deferredKRS = [];          // Array of pending keyboard stubs from KRS, to register after initialization\r\n    deferredKR = [];           // Array of pending keyboards, to be installed at end of initialization\r\n\r\n    // The following was not actually utilized within KeymanWeb; I think it\u0027s handled via different logic.\r\n    // See setDefaultKeyboard() below.\r\n    dfltStub = null;           // First keyboard stub loaded - default for touch-screen devices, ignored on desktops\r\n\r\n    keyboards: any[] = [];\r\n\r\n    /**\r\n     * Holds the \u0027resolve\u0027 function for Promises built by keymanCloudRequest.\r\n     * These should be cleared when the Promise is fulfilled.\r\n     */\r\n    registrationResolvers: {[timeoutID: number] : RegistrationPromiseTuple} = {};\r\n\r\n    languageList: any[] = null; // List of keyboard languages available for KeymanCloud\r\n    languagesPending: any[] = [];     // Array of languages waiting to be registered\r\n\r\n    linkedScripts: HTMLScriptElement[] = [];\r\n\r\n    constructor(kmw: KeymanBase) {\r\n      this.keymanweb = kmw;\r\n    }\r\n\r\n    getActiveKeyboardName(): string {\r\n      let core = com.keyman.singleton.core;\r\n      return core.activeKeyboard ? core.activeKeyboard.id : \u0027\u0027;\r\n    }\r\n\r\n    getActiveLanguage(fullName?: boolean): string {\r\n      if(this.activeStub == null) {\r\n        return \u0027\u0027;\r\n      } else if(fullName) {\r\n        return this.activeStub[\u0027KL\u0027];\r\n      } else {\r\n        return this.activeStub[\u0027KLC\u0027];\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get an associative array of keyboard identification strings\r\n     *   This was defined as an array, so is kept that way, but\r\n     *   Javascript treats it as an object anyway\r\n     *\r\n     * @param       {Object}    Lkbd       Keyboard object\r\n     * @return      {Object}               Copy of keyboard identification strings\r\n     *\r\n     */\r\n    private _GetKeyboardDetail = function(Lkbd) { // I2078 - Full keyboard detail\r\n      var Lr={};\r\n      Lr[\u0027Name\u0027] = Lkbd[\u0027KN\u0027];\r\n      Lr[\u0027InternalName\u0027] =  Lkbd[\u0027KI\u0027];\r\n      Lr[\u0027LanguageName\u0027] = Lkbd[\u0027KL\u0027];  // I1300 - Add support for language names\r\n      Lr[\u0027LanguageCode\u0027] = Lkbd[\u0027KLC\u0027]; // I1702 - Add support for language codes, region names, region codes, country names and country codes\r\n      Lr[\u0027RegionName\u0027] = Lkbd[\u0027KR\u0027];\r\n      Lr[\u0027RegionCode\u0027] = Lkbd[\u0027KRC\u0027];\r\n      Lr[\u0027CountryName\u0027] = Lkbd[\u0027KC\u0027];\r\n      Lr[\u0027CountryCode\u0027] = Lkbd[\u0027KCC\u0027];\r\n      Lr[\u0027KeyboardID\u0027] = Lkbd[\u0027KD\u0027];\r\n      Lr[\u0027Font\u0027] = Lkbd[\u0027KFont\u0027];\r\n      Lr[\u0027OskFont\u0027] = Lkbd[\u0027KOskFont\u0027];\r\n      return Lr;\r\n    }\r\n\r\n    /**\r\n     * Get array of available keyboard stubs\r\n     *\r\n     * @return   {Array}     Array of available keyboards\r\n     *\r\n     */\r\n    getDetailedKeyboards() {\r\n      var Lr = [], Ln, Lstub, Lrn;\r\n\r\n      for(Ln=0; Ln \u003c this.keyboardStubs.length; Ln++)  // I1511 - array prototype extended\r\n      {\r\n        Lstub = this.keyboardStubs[Ln];\r\n        Lrn = this._GetKeyboardDetail(Lstub);  // I2078 - Full keyboard detail\r\n        Lr=this.keymanweb._push(Lr,Lrn); // TODO:  Resolve without need for the cast.\r\n      }\r\n      return Lr;\r\n    }\r\n\r\n    registerDeferredStubs() {\r\n      this.addKeyboardArray(this.deferredStubs);\r\n\r\n      // KRS stubs (legacy format registration)\r\n      for(var j=0; j\u003cthis.deferredKRS.length; j++) {\r\n        this._registerStub(this.deferredKRS[j]);\r\n      }\r\n    }\r\n\r\n    registerDeferredKeyboards() {\r\n      for(var j=0; j\u003cthis.deferredKR.length; j++) {\r\n        this._registerKeyboard(this.deferredKR[j]);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Register a fully specified keyboard (add meta-data for each language) immediately\r\n     *\r\n     * @param  {Object}  arg\r\n     * @returns {boolean}\r\n     **/\r\n    addStub(arg: any): boolean {\r\n      if(typeof(arg[\u0027id\u0027]) != \u0027string\u0027) {\r\n        return false;\r\n      }\r\n\r\n      if(typeof(arg[\u0027language\u0027]) != \"undefined\") {\r\n        console.warn(\"The \u0027language\u0027 property for keyboard stubs has been deprecated.  Please use the \u0027languages\u0027 property instead.\");\r\n        arg[\u0027languages\u0027] = arg[\u0027language\u0027];\r\n      }\r\n\r\n      if(typeof(arg[\u0027languages\u0027]) == \u0027undefined\u0027) {\r\n        return false;\r\n      }\r\n\r\n      // Default the keyboard name to its id, capitalized\r\n      if(typeof(arg[\u0027name\u0027]) != \u0027string\u0027) {\r\n        arg[\u0027name\u0027] = arg[\u0027id\u0027].replace(\u0027_\u0027,\u0027 \u0027);\r\n        arg[\u0027name\u0027] = arg[\u0027name\u0027].substr(0,1).toUpperCase()+arg[\u0027name\u0027].substr(1);\r\n      }\r\n\r\n      var lgArg=arg[\u0027languages\u0027];\r\n      var lgList=[], i, lg;\r\n      if(typeof(lgArg.length) == \u0027undefined\u0027) {\r\n        lgList[0] = lgArg;\r\n      } else {\r\n        lgList = lgArg;\r\n      }\r\n\r\n      var localOptions={\r\n        \u0027keyboardBaseUri\u0027: this.keymanweb.options[\u0027keyboards\u0027],\r\n        \u0027fontBaseUri\u0027: this.keymanweb.options[\u0027fonts\u0027]\r\n      };\r\n\r\n      // Add a stub for each correctly specified language\r\n      for(i=0; i\u003clgList.length; i++) {\r\n        this.mergeStub(arg, lgList[i], localOptions);\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     *  Create or update a keyboard meta-data \u0027stub\u0027 during keyboard registration\r\n     *\r\n     *  Cross-reference with https://help.keyman.com/developer/engine/web/11.0/reference/core/addKeyboards.\r\n     *\r\n     *  @param  {Object}  kp  (partial) keyboard meta-data object (`spec` object)\r\n     *  @param  {Object}  lp  language object (`spec.languages` object)\r\n     *  @param  {Object}  options   KeymanCloud callback options\r\n     **/\r\n    mergeStub(kp: any, lp: any, options) {\r\n      var sp: KeyboardStub = this.findStub(kp[\u0027id\u0027], lp[\u0027id\u0027]);\r\n      var isNew: boolean = false;\r\n\r\n      if(sp == null) {\r\n        sp= new KeyboardStub(kp[\u0027id\u0027], lp[\u0027id\u0027]);\r\n        this.keyboardStubs.push(sp);\r\n        isNew = true;\r\n      }\r\n\r\n      // Accept region as number (from Cloud server), code, or name\r\n      var region=lp[\u0027region\u0027], rIndex=0;\r\n      if(typeof(region) == \u0027number\u0027) {\r\n        if(region \u003c 1 || region \u003e 9) {\r\n          rIndex = 0;\r\n        } else {\r\n          rIndex = region-1;\r\n        }\r\n      } else if(typeof(region) == \u0027string\u0027) {\r\n        var list = (region.length == 2 ? KeyboardManager.regionCodes : KeyboardManager.regions);\r\n        for(var i=0; i\u003clist.length; i++) {\r\n          if(region.toLowerCase() == list[i].toLowerCase()) {\r\n            rIndex=i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      var rx: RegExp;\r\n\r\n      sp[\u0027KL\u0027] = (typeof sp[\u0027KL\u0027] === \u0027undefined\u0027) ? lp[\u0027name\u0027] : sp[\u0027KL\u0027];\r\n      sp[\u0027KR\u0027] = (typeof sp[\u0027KR\u0027] === \u0027undefined\u0027) ? KeyboardManager.regions[rIndex] : sp[\u0027KR\u0027];\r\n      sp[\u0027KRC\u0027] = (typeof sp[\u0027KRC\u0027] === \u0027undefined\u0027) ? KeyboardManager.regionCodes[rIndex] : sp[\u0027KRC\u0027];\r\n      sp[\u0027KN\u0027] = (typeof sp[\u0027KN\u0027] === \u0027undefined\u0027) ? kp[\u0027name\u0027] : sp[\u0027KN\u0027];\r\n\r\n      if(typeof(sp[\u0027KF\u0027]) == \u0027undefined\u0027) {\r\n        rx=RegExp(\u0027^(([\\\\.]/)|([\\\\.][\\\\.]/)|(/))|(:)\u0027);\r\n        sp[\u0027KF\u0027] = kp[\u0027filename\u0027];\r\n\r\n        if(!rx.test(sp[\u0027KF\u0027])) {\r\n          sp[\u0027KF\u0027] = options[\u0027keyboardBaseUri\u0027]+sp[\u0027KF\u0027];\r\n        }\r\n      }\r\n\r\n      // Font path defined by cloud entry\r\n      var fontPath=options[\u0027fontBaseUri\u0027];\r\n\r\n      // or overridden locally, in page source\r\n      if(this.keymanweb.options[\u0027fonts\u0027] != \u0027\u0027) {\r\n        fontPath=this.keymanweb.options[\u0027fonts\u0027];\r\n        rx=new RegExp(\u0027^https?\\\\:\u0027);\r\n        if(!rx.test(fontPath)) {\r\n          if(fontPath.substr(0,2) == \u0027//\u0027) {\r\n            fontPath = this.keymanweb.protocol + fontPath;\r\n          } else if(fontPath.substr(0,1) == \u0027/\u0027) {\r\n            fontPath = this.keymanweb.rootPath + fontPath.substr(1);\r\n          } else {\r\n            fontPath = this.keymanweb.rootPath + fontPath;\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        this.keymanweb.options.fonts=fontPath;\r\n      }\r\n\r\n      // Add font specifiers where necessary and not overridden by user\r\n      if(typeof(lp[\u0027font\u0027]) != \u0027undefined\u0027) {\r\n        sp[\u0027KFont\u0027] = (typeof sp[\u0027KFont\u0027] === \u0027undefined\u0027) ? new KeyboardFont(lp[\u0027font\u0027], fontPath) : sp[\u0027KFont\u0027];\r\n      }\r\n\r\n      // Fixed OSK font issue Github #7 (9/1/2015)\r\n      if(typeof(lp[\u0027oskFont\u0027]) != \u0027undefined\u0027) {\r\n        sp[\u0027KOskFont\u0027] = (typeof sp[\u0027KOskFont\u0027] === \u0027undefined\u0027) ? new KeyboardFont(lp[\u0027oskFont\u0027], fontPath) : sp[\u0027KOskFont\u0027];\r\n      }\r\n\r\n      // Update the UI\r\n      this.doKeyboardRegistered(sp[\u0027KI\u0027],sp[\u0027KL\u0027],sp[\u0027KN\u0027],sp[\u0027KLC\u0027],sp[\u0027KP\u0027]);\r\n\r\n      // If we have no activeStub because there were no stubs, set the new keyboard as active.\r\n      // Do not trigger on merges.\r\n      if(!this.activeStub \u0026\u0026 isNew \u0026\u0026 this.keyboardStubs.length == 1 \u0026\u0026 this.keymanweb.options[\u0027setActiveOnRegister\u0027]==\u0027true\u0027) {\r\n        // #676: We call _SetActiveKeyboard so we can avoid overwriting\r\n        // cookies that determine our active keyboard at page load time\r\n        this.doBeforeKeyboardChange(sp[\u0027KI\u0027], sp[\u0027KLC\u0027]);\r\n        this._SetActiveKeyboard(sp[\u0027KI\u0027], sp[\u0027KLC\u0027], false);\r\n        this.doKeyboardChange(sp[\u0027KI\u0027], sp[\u0027KLC\u0027]);\r\n      }\r\n    }\r\n\r\n    /**\r\n     *  Find a keyboard stub by id in the registered keyboards list\r\n     *\r\n     *  @param  {string}  kid   internal keyboard id (without \u0027Keyboard_\u0027 prefix)\r\n     *  @param  {string}  lgid  language code\r\n     *\r\n     **/\r\n    findStub(kid: string, lgid: string): KeyboardStub {\r\n      var i;\r\n      for(i=0; i\u003cthis.keyboardStubs.length; i++) {\r\n        if((this.keyboardStubs[i][\u0027KI\u0027] == \u0027Keyboard_\u0027+kid) \u0026\u0026 (this.keyboardStubs[i][\u0027KLC\u0027] == lgid)) {\r\n          return this.keyboardStubs[i];\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    // Called on the embedded path at the end of its initialization.\r\n    setDefaultKeyboard() {\r\n      if(this.keyboardStubs.length \u003e 0) {\r\n        // Select the first stub as our active keyboard.\r\n        this._SetActiveKeyboard(this.keyboardStubs[0][\u0027KI\u0027], this.keyboardStubs[0][\u0027KLC\u0027]);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Allow to change active keyboard by (internal) keyboard name\r\n     *\r\n     * @param       {string}    PInternalName   Internal name\r\n     * @param       {string}    PLgCode         Language code\r\n     */\r\n    setActiveKeyboard(PInternalName: string, PLgCode: string): Promise\u003cvoid\u003e {\r\n      //TODO: This does not make sense: the callbacks should be in _SetActiveKeyboard, not here,\r\n      //      since this is always called FROM the UI, which should not need notification.\r\n      //      If UI callbacks are needed at all, they should be within _SetActiveKeyboard\r\n\r\n      // Skip on embedded which namespaces packageID::Keyboard_keyboardID\r\n      if(!this.keymanweb.isEmbedded \u0026\u0026 PInternalName \u0026\u0026 PInternalName.indexOf(\"Keyboard_\") != 0) {\r\n        PInternalName = \"Keyboard_\" + PInternalName;\r\n      }\r\n\r\n      this.doBeforeKeyboardChange(PInternalName,PLgCode);\r\n      let p: Promise\u003cvoid\u003e = this._SetActiveKeyboard(PInternalName,PLgCode,true);\r\n      if(this.keymanweb.domManager.getLastActiveElement() != null) {\r\n        this.keymanweb.domManager.focusLastActiveElement(); // TODO:  Resolve without need for the cast.\r\n      }\r\n      // If we ever allow PLgCode to be set by default, we can auto-detect the language code\r\n      // after the _SetActiveKeyboard call.\r\n      // if(!PLgCode \u0026\u0026 (\u003cKeymanBase\u003ekeymanweb).keyboardManager.activeStub) {\r\n      //   PLgCode = (\u003cKeymanBase\u003ekeymanweb).keyboardManager.activeStub[\u0027KLC\u0027];\r\n      // }\r\n      this.doKeyboardChange(PInternalName, PLgCode);\r\n\r\n      p.catch(function() {\r\n        // Rejection indicates a failure of the keyboard to load.\r\n        //\r\n        // In case p\u0027s rejection is never caught, throwing this error will generate logs that shows up\r\n        // in Sentry or in the console, with useful information for debugging either way.\r\n        throw new Error(\"Unable to load keyboard with internal name \\\"\" + PInternalName + \"\\\", language code \\\"\" + PLgCode + \"\\\".\");\r\n      })\r\n\r\n      return p;\r\n    }\r\n\r\n    /**\r\n     * Change active keyboard to keyboard selected by (internal) name and language code\r\n     *\r\n     *  Test if selected keyboard already loaded, and simply update active stub if so.\r\n     *  Otherwise, insert a script to download and insert the keyboard from the repository\r\n     *  or user-indicated file location.\r\n     *\r\n     * Note that the test-case oriented \u0027recorder\u0027 stubs this method to provide active\r\n     * keyboard stub information.  If changing this function, please ensure the recorder is\r\n     * not affected.\r\n     *\r\n     * @param       {string}    PInternalName\r\n     * @param       {string=}    PLgCode\r\n     * @param       {boolean=}   saveCookie\r\n     */\r\n    _SetActiveKeyboard(PInternalName: string, PLgCode?: string, saveCookie?: boolean): Promise\u003cvoid\u003e {\r\n      var n, Ln;\r\n\r\n      let keyman = com.keyman.singleton;\r\n\r\n      var util = keyman.util;\r\n      var osk = keyman.osk;\r\n\r\n      let activeKeyboard = keyman.core.activeKeyboard;\r\n\r\n      // Set default language code\r\n      if(arguments.length \u003c 2 || (!PLgCode)) {\r\n        PLgCode=\u0027---\u0027;\r\n      }\r\n\r\n      // Check that the saved keyboard is currently registered\r\n      for(n=0; n \u003c this.keyboardStubs.length; n++) {\r\n        if(PInternalName == this.keyboardStubs[n][\u0027KI\u0027]) {\r\n          if(PLgCode == this.keyboardStubs[n][\u0027KLC\u0027] || PLgCode == \u0027---\u0027) break;\r\n        }\r\n      }\r\n\r\n      // Mobile device addition: force selection of the first keyboard if none set\r\n      if(util.device.touchable \u0026\u0026 (PInternalName == \u0027\u0027 || PInternalName == null || n \u003e= this.keyboardStubs.length)) {\r\n        if(this.keyboardStubs.length != 0) {\r\n          PInternalName=this.keyboardStubs[0][\u0027KI\u0027];\r\n          PLgCode=this.keyboardStubs[0][\u0027KLC\u0027];\r\n        }\r\n      }\r\n\r\n      // Save name of keyboard (with language code) as a cookie\r\n      if(arguments.length \u003e 2 \u0026\u0026 saveCookie) {\r\n        this.saveCurrentKeyboard(PInternalName,PLgCode);\r\n      }\r\n\r\n      // Check if requested keyboard and stub are currently active\r\n      if(this.activeStub \u0026\u0026 activeKeyboard \u0026\u0026 activeKeyboard.id == PInternalName\r\n        \u0026\u0026 this.activeStub[\u0027KI\u0027] == PInternalName     //this part of test should not be necessary, but keep anyway\r\n        \u0026\u0026 this.activeStub[\u0027KLC\u0027] == PLgCode \u0026\u0026 !this.keymanweb.mustReloadKeyboard\r\n        ) return Promise.resolve();\r\n\r\n      // Check if current keyboard matches requested keyboard, but not stub\r\n      if(activeKeyboard \u0026\u0026 (activeKeyboard.id == PInternalName)) {\r\n        // If so, simply update the active stub\r\n        for(Ln=0; Ln\u003cthis.keyboardStubs.length; Ln++) {\r\n          if((this.keyboardStubs[Ln][\u0027KI\u0027] == PInternalName)\r\n            \u0026\u0026 (this.keyboardStubs[Ln][\u0027KLC\u0027] == PLgCode)) {\r\n            this.activeStub = this.keyboardStubs[Ln];\r\n\r\n            // Append a stylesheet for this keyboard for keyboard specific styles\r\n            // or if needed to specify an embedded font\r\n            osk.vkbd.appendStyleSheet();\r\n\r\n            // Re-initializate OSK before returning if required\r\n            if(this.keymanweb.mustReloadKeyboard) {\r\n              activeKeyboard.refreshLayouts();\r\n              osk._Load();\r\n            }\r\n            return Promise.resolve();\r\n          }\r\n        }\r\n      }\r\n\r\n      keyman.core.activeKeyboard = null;\r\n      this.activeStub = null;\r\n\r\n      // Hide OSK and do not update keyboard list if using internal keyboard (desktops)\r\n      if(PInternalName == \u0027\u0027) {\r\n        osk._Hide(false);\r\n\r\n        if(!this.keymanweb.isEmbedded) {\r\n          util.wait(false);\r\n        }\r\n\r\n        return Promise.resolve();\r\n      }\r\n\r\n      // Determine if the keyboard was previously loaded but is not active and use the prior load if so.\r\n      for(Ln=0; Ln\u003cthis.keyboards.length; Ln++) { // I1511 - array prototype extended\r\n        if(this.keyboards[Ln][\u0027KI\u0027] == PInternalName) {\r\n          keyman.core.activeKeyboard = new Keyboard(this.keyboards[Ln]);\r\n          // As a rotation may have occurred since the keyboard was swapped out,\r\n          // we should refresh its layouts.\r\n          keyman.core.activeKeyboard.refreshLayouts();\r\n          this.keymanweb.domManager._SetTargDir(this.keymanweb.domManager.getLastActiveElement());  // I2077 - LTR/RTL timing\r\n\r\n          // and update the active stub\r\n          for(var Ls=0; Ls\u003cthis.keyboardStubs.length; Ls++) {\r\n            if((this.keyboardStubs[Ls][\u0027KI\u0027] == PInternalName) \u0026\u0026\r\n              (this.keyboardStubs[Ls][\u0027KLC\u0027] == PLgCode || PLgCode == \u0027---\u0027)) {\r\n              this.activeStub = this.keyboardStubs[Ls];\r\n              break;\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n\r\n      // If we\u0027ve reached this point, this is the first load request for the requested keyboard.\r\n      if(keyman.core.activeKeyboard == null) {\r\n        for(Ln=0; Ln\u003cthis.keyboardStubs.length; Ln++) { // I1511 - array prototype extended\r\n          if((this.keyboardStubs[Ln][\u0027KI\u0027] == PInternalName)\r\n            \u0026\u0026 ((this.keyboardStubs[Ln][\u0027KLC\u0027] == PLgCode) || (PLgCode == \u0027---\u0027))) {\r\n            // Force OSK display for CJK keyboards (keyboards using a pick list)\r\n            if(this.isCJK(this.keyboardStubs[Ln]) || util.device.touchable) {\r\n              osk._Enabled = true;\r\n            }\r\n\r\n            // Create a script to load from the server - when it finishes loading, it will register itself,\r\n            //  detect that it is active, and focus as appropriate. The second test is needed to allow recovery from a failed script load\r\n\r\n            // Ensure we\u0027re not already loading the keyboard.\r\n            if(!this.keyboardStubs[Ln].asyncLoader) {\r\n              // Always (temporarily) hide the OSK when loading a new keyboard, to ensure that a failure to load doesn\u0027t leave the current OSK displayed\r\n              if(osk.ready) {\r\n                osk._Hide(false);\r\n              }\r\n\r\n              var loadingStub = this.keyboardStubs[Ln];\r\n              // Tag the stub so that we don\u0027t double-load the keyboard!\r\n              loadingStub.asyncLoader = {};\r\n\r\n              var kbdName = loadingStub[\u0027KN\u0027];\r\n              var lngName = loadingStub[\u0027KL\u0027];\r\n              kbdName = kbdName.replace(/\\s*keyboard\\s*/i, \u0027\u0027);\r\n\r\n              // Setup our default error-messaging callback if it should be implemented.\r\n              loadingStub.asyncLoader.callback = function(altString, msgType) {\r\n                var msg = altString || \u0027Sorry, the \u0027+kbdName+\u0027 keyboard for \u0027+lngName+\u0027 is not currently available.\u0027;\r\n\r\n                // Thanks, Closure errors.\r\n                if(!this.keymanweb.isEmbedded) {\r\n                  util.wait(false);\r\n                  util.alert(altString || msg, function() {\r\n                    this.keymanweb[\u0027setActiveKeyboard\u0027](\u0027\u0027); // The API call!\r\n                  }.bind(this));\r\n                }\r\n\r\n                switch(msgType) { // in case we extend this later.\r\n                  case \u0027err\u0027:\r\n                    console.error(msg);\r\n                    break;\r\n                  case \u0027warn\u0027:\r\n                  default:\r\n                    console.warn(msg);\r\n                    break;\r\n                }\r\n\r\n                if(Ln \u003e 0) {\r\n                  var Ps = this.keyboardStubs[0];\r\n                  this._SetActiveKeyboard(Ps[\u0027KI\u0027], Ps[\u0027KLC\u0027], true);\r\n                }\r\n              }.bind(this);\r\n\r\n              loadingStub.asyncLoader.timer = window.setTimeout(loadingStub.asyncLoader.callback, 10000);\r\n\r\n              //Display the loading delay bar (Note: only append \u0027keyboard\u0027 if not included in name.)\r\n              if(!this.keymanweb.isEmbedded) {\r\n                util.wait(\u0027Installing keyboard\u003cbr/\u003e\u0027 + kbdName);\r\n              }\r\n\r\n              // Installing the script immediately does not work reliably if two keyboards are\r\n              // loaded in succession if there is any delay in downloading the script.\r\n              // It works much more reliably if deferred (KMEW-101, build 356)\r\n              // The effect of a delay can also be tested, for example, by setting the timeout to 5000\r\n              var manager = this;\r\n              loadingStub.asyncLoader.promise = new Promise(function(resolve, reject) {\r\n                window.setTimeout(function(){\r\n                  manager.installKeyboard(resolve, reject, loadingStub);\r\n                },0);\r\n              });\r\n            }\r\n            this.activeStub=this.keyboardStubs[Ln];\r\n            return this.keyboardStubs[Ln].asyncLoader.promise;\r\n          }\r\n        }\r\n        this.keymanweb.domManager._SetTargDir(this.keymanweb.domManager.getLastActiveElement());  // I2077 - LTR/RTL timing\r\n      }\r\n\r\n      // Initialize the OSK (provided that the base code has been loaded)\r\n      osk._Load();\r\n      return Promise.resolve();\r\n    }\r\n\r\n    /**\r\n     * Install a keyboard script that has been downloaded from a keyboard server\r\n     * Operates as the core of a Promise, hence the \u0027resolve\u0027 and \u0027reject\u0027 parameters.\r\n     *\r\n     *  @param  {Object}  kbdStub   keyboard stub to be loaded.\r\n     *\r\n     **/\r\n    installKeyboard(resolve: () =\u003e void, reject: () =\u003e void, kbdStub: KeyboardStub) {\r\n      var util = this.keymanweb.util;\r\n      var osk = this.keymanweb.osk;\r\n\r\n      var Lscript = util._CreateElement(\u0027script\u0027);\r\n      Lscript.charset=\"UTF-8\";        // KMEW-89\r\n      Lscript.type = \u0027text/javascript\u0027;\r\n\r\n      // Preserve any namespaced IDs by use of the script\u0027s id tag attribute!\r\n      if(this.keymanweb.isEmbedded) {\r\n        Lscript.id = kbdStub[\u0027KI\u0027];\r\n      }\r\n\r\n      var kbdFile = kbdStub[\u0027KF\u0027];\r\n      var kbdLang = kbdStub[\u0027KL\u0027];\r\n      var kbdName = kbdStub[\u0027KN\u0027];\r\n\r\n      var manager = this;\r\n      let core = com.keyman.singleton.core;\r\n\r\n      // Add a handler for cases where the new \u003cscript\u003e block fails to load.\r\n      Lscript.addEventListener(\u0027error\u0027, function() {\r\n        if(kbdStub.asyncLoader.timer !== null) {\r\n          // Clear the timeout timer.\r\n          window.clearTimeout(kbdStub.asyncLoader.timer);\r\n          kbdStub.asyncLoader.timer = null;\r\n        }\r\n\r\n        // We already know the load has failed... why wait?\r\n        kbdStub.asyncLoader.callback(\u0027Cannot find the \u0027 + kbdName + \u0027 keyboard for \u0027 + kbdLang + \u0027.\u0027, \u0027warn\u0027);\r\n        kbdStub.asyncLoader = null;\r\n\r\n        reject();\r\n      }, false);\r\n\r\n\r\n      // The load event will activate a newly-loaded keyboard if successful and report an error if it is not.\r\n      Lscript.addEventListener(\u0027load\u0027, function() {\r\n        if(kbdStub.asyncLoader.timer !== null) {\r\n          // Clear the timeout timer.\r\n          window.clearTimeout(kbdStub.asyncLoader.timer);\r\n          kbdStub.asyncLoader.timer = null;\r\n        }\r\n\r\n        // To determine if the load was successful, we\u0027ll need to check the keyboard array for our desired keyboard.\r\n        // Test if keyboard already loaded\r\n        var kbd = manager.getKeyboardByID(kbdStub[\u0027KI\u0027]), Li;\r\n        if(kbd) {  // Is cleared upon a successful load.\r\n\r\n          //Activate keyboard, if it\u0027s still the active stub.\r\n          if(kbdStub == manager.activeStub) {\r\n            manager.doBeforeKeyboardChange(kbd[\u0027KI\u0027],kbdStub[\u0027KLC\u0027]);\r\n            core.activeKeyboard=new Keyboard(kbd);\r\n\r\n            if(manager.keymanweb.domManager.getLastActiveElement() != null) { // TODO:  Resolve without need for the cast.\r\n              manager.keymanweb.uiManager.justActivated = true; // TODO:  Resolve without need for the cast.\r\n              manager.keymanweb.domManager._SetTargDir(manager.keymanweb.domManager.getLastActiveElement());\r\n            }\r\n            \r\n            manager.saveCurrentKeyboard(kbd[\u0027KI\u0027], kbdStub[\u0027KLC\u0027]);\r\n\r\n            // Prepare and show the OSK for this keyboard\r\n            osk._Load();\r\n          }\r\n\r\n          // Remove the wait message, if defined\r\n          if(!manager.keymanweb.isEmbedded) {\r\n            util.wait(false);\r\n          }\r\n\r\n          kbdStub.asyncLoader = null;\r\n          resolve();\r\n          // A handler portion for cases where the new \u003cscript\u003e block loads, but fails to process.\r\n        } else {  // Output error messages even when embedded - they\u0027re useful when debugging the apps and KMEA/KMEI engines.\r\n          kbdStub.asyncLoader.callback(\u0027Error registering the \u0027 + kbdName + \u0027 keyboard for \u0027 + kbdLang + \u0027.\u0027, \u0027error\u0027);\r\n          kbdStub.asyncLoader = null;\r\n          reject();\r\n        }\r\n      }, false);\r\n\r\n      // IE likes to instantly start loading the file when assigned to an element, so we do this after the rest\r\n      // of our setup.  This method is not relocated here (yet) b/c it varies based upon \u0027native\u0027 vs \u0027embedded\u0027.\r\n      Lscript.src = this.keymanweb.getKeyboardPath(kbdFile);\r\n\r\n      try {\r\n        document.body.appendChild(Lscript);\r\n        this.linkedScripts.push(Lscript);\r\n      }\r\n      catch(ex) {\r\n        try {\r\n          document.getElementsByTagName(\u0027head\u0027)[0].appendChild(Lscript);\r\n        } catch(ex2) {\r\n          reject();\r\n        }\r\n      }\r\n    }\r\n\r\n    /* TODO: why not use util.loadCookie and saveCookie?? */\r\n\r\n    /**\r\n     * Function     saveCurrentKeyboard\r\n     * Scope        Private\r\n     * @param       {string}    PInternalName       name of keyboard\r\n     * @param       {string}    PLgCode             language code\r\n     * Description Saves current keyboard as a cookie\r\n     */\r\n    private saveCurrentKeyboard(PInternalName: string, PLgCode: string) {\r\n      var s = \"current=\"+PInternalName+\":\"+PLgCode;\r\n      this.keymanweb.util.saveCookie(\u0027KeymanWeb_Keyboard\u0027,{\u0027current\u0027:PInternalName+\u0027:\u0027+PLgCode});\r\n\r\n      // Additionally, make sure we save the (upcoming) per-control keyboard settings.\r\n      // This allows us to ensure the keyboard is set correctly without waiting for focus event\r\n      // triggers - very helpful for automated testing.\r\n      if(!this.keymanweb.isEmbedded) {\r\n        this.keymanweb.touchAliasing._BlurKeyboardSettings(PInternalName, PLgCode);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Restore the most recently used keyboard, if still available\r\n     */\r\n    restoreCurrentKeyboard() {\r\n      var stubs = this.keyboardStubs, i, n=stubs.length;\r\n      let core = com.keyman.singleton.core;\r\n\r\n      // Do nothing if no stubs loaded\r\n      if(stubs.length \u003c 1) return;\r\n\r\n      // If no saved keyboard, default to US English, else first loaded stub\r\n      var d=this.getSavedKeyboard();\r\n      var t=d.split(\u0027:\u0027);\r\n\r\n      // Identify the stub with the saved keyboard\r\n      t=d.split(\u0027:\u0027);\r\n      if(t.length \u003c 2) t[1]=\u0027\u0027;\r\n\r\n      // This loop is needed to select the correct stub when several apply to a given keyboard\r\n      // TODO: There should be a better way!\r\n      for(i=0; i\u003cn; i++)\r\n      {\r\n        if(stubs[i][\u0027KI\u0027] == t[0] \u0026\u0026 (stubs[i][\u0027KLC\u0027] == t[1] || t[1] == \u0027\u0027)) break;\r\n      }\r\n\r\n      // Sets the default stub (as specified with the `getSavedKeyboard` call) as active.\r\n      // if((i \u003c n) || (device.touchable \u0026\u0026 (this.activeKeyboard == null)))\r\n      if((i \u003c n) || (core.activeKeyboard == null))\r\n      {\r\n        this._SetActiveKeyboard(t[0],t[1],false);\r\n        this.keymanweb.globalKeyboard = t[0];\r\n        this.keymanweb.globalLanguageCode = t[1];\r\n\r\n        this.doKeyboardChange(t[0],t[1]);        // And update the UI if necessary\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Gets the cookie for the name and language code of the most recently active keyboard\r\n     *\r\n     *  Defaults to US English, but this needs to be user-set in later revision (TODO)\r\n     *\r\n     * @return      {string}          InternalName:LanguageCode\r\n     **/\r\n    getSavedKeyboard(): string {\r\n      var v = this.keymanweb.util.loadCookie(\u0027KeymanWeb_Keyboard\u0027);\r\n\r\n      if(typeof(v[\u0027current\u0027]) != \u0027string\u0027) {\r\n        return \u0027Keyboard_us:eng\u0027;\r\n      }\r\n\r\n      // Check that the requested keyboard is included in the available keyboard stubs\r\n      var n, stubs = this.keyboardStubs,kd;\r\n\r\n      for(n=0; n\u003cstubs.length; n++) {\r\n        kd=stubs[n][\u0027KI\u0027]+\u0027:\u0027+stubs[n][\u0027KLC\u0027];\r\n        if(kd == v[\u0027current\u0027]) return kd;\r\n      }\r\n\r\n      // Default to US English if available (but don\u0027t assume it is first)\r\n      for(n=0; n\u003cstubs.length; n++) {\r\n        kd=stubs[n][\u0027KI\u0027]+\u0027:\u0027+stubs[n][\u0027KLC\u0027];\r\n        if(kd == \u0027Keyboard_us:eng\u0027) return kd;\r\n      }\r\n\r\n      // Otherwise use the first keyboard stub\r\n      if(stubs.length \u003e 0) {\r\n        return stubs[0][\u0027KI\u0027]+\u0027:\u0027+stubs[0][\u0027KLC\u0027];\r\n      }\r\n\r\n      // Or US English if no stubs loaded (should never happen)\r\n      return \u0027Keyboard_us:eng\u0027;\r\n    }\r\n\r\n    /**\r\n     * Function    isCJK\r\n     * Scope       Public\r\n     * @param      {Object=}  k0\r\n     * @return     {boolean}\r\n     * Description Tests if the keyboard stub uses a pick list (Chinese, Japanese, Korean, etc.)\r\n     *             (This function accepts either keyboard structure.)\r\n     */\r\n    isCJK(k: KeyboardStub) { // I3363 (Build 301)\r\n      var lg: string;\r\n      if(typeof(k[\u0027KLC\u0027]) != \u0027undefined\u0027) {\r\n        lg = k[\u0027KLC\u0027];\r\n      } else if(typeof(k[\u0027LanguageCode\u0027]) != \u0027undefined\u0027) {\r\n        lg = k[\u0027LanguageCode\u0027];\r\n      }\r\n\r\n      return ((lg == \u0027cmn\u0027) || (lg == \u0027jpn\u0027) || (lg == \u0027kor\u0027));\r\n    }\r\n\r\n    /**\r\n     * Function     _getKeyboardByID\r\n     * Scope        Private\r\n     * @param       {string}  keyboardID\r\n     * @return      {Object|null}\r\n     * Description  Returns the internal, registered keyboard object - not the stub, but the keyboard itself.\r\n     */\r\n    private getKeyboardByID(keyboardID: string):any {\r\n      var Li;\r\n      for(Li=0; Li\u003cthis.keyboards.length; Li++) {\r\n        if(keyboardID == this.keyboards[Li][\u0027KI\u0027]) {\r\n          return this.keyboards[Li];\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    /* ------------------------------------------------------------\r\n    *  Definitions for adding, removing, and requesting keyboards.\r\n    *  ------------------------------------------------------------\r\n    */\r\n\r\n    /**\r\n     * Function       isUniqueRequest\r\n     * Scope          Private\r\n     * @param         {Object}    tEntry\r\n     * Description    Checks to ensure that the stub isn\u0027t already loaded within KMW or subject\r\n     *                to an already-pending request.\r\n     */\r\n    isUniqueRequest(cloudList: {id: string, language?: string}[], tEntry: CloudRequestEntry) {\r\n      var k;\r\n\r\n      if(this.findStub(tEntry.id, tEntry.language) == null) {\r\n        for(k=0; k \u003c cloudList.length; k++) {\r\n          if(cloudList[k].id == tEntry[\u0027id\u0027] \u0026\u0026 cloudList[k].language == tEntry.language) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Build 362: addKeyboardArray() link to Cloud. One or more arguments may be used\r\n     *\r\n     * @param {string|Object} x keyboard name string or keyboard metadata JSON object\r\n     *\r\n     */\r\n    addKeyboardArray(x: any[] | IArguments): void {\r\n      // Store all keyboard meta-data for registering later if called before initialization\r\n      if(!this.keymanweb.initialized) {\r\n        for(var k=0; k\u003cx.length; k++) {\r\n          this.deferredStubs.push(x[k]);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Ignore empty array passed as argument\r\n      if(x.length == 0) {\r\n        return;\r\n      }\r\n\r\n      // Create a temporary array of metadata objects from the arguments used\r\n      var i,j,kp,kbid,lgid,kvid,cmd=\u0027\u0027,comma=\u0027\u0027;\r\n      var cloudList: CloudRequestEntry[] = [];\r\n\r\n      var tEntry: CloudRequestEntry;\r\n\r\n      for(i=0; i\u003cx.length; i++) {\r\n        if(typeof(x[i]) == \u0027string\u0027 \u0026\u0026 (\u003cstring\u003ex[i]).length \u003e 0) {\r\n          var pList=(\u003cstring\u003ex[i]).split(\u0027@\u0027),lList=[\u0027\u0027];\r\n          if(pList[0].toLowerCase() == \u0027english\u0027) {\r\n            pList[0] = \u0027us\u0027;\r\n          }\r\n\r\n          if(pList.length \u003e 1) {\r\n            lList=pList[1].split(\u0027,\u0027);\r\n          }\r\n\r\n          for(j=0; j\u003clList.length; j++) {\r\n            tEntry = new CloudRequestEntry(pList[0]);\r\n\r\n            if(lList[j] != \u0027\u0027) {\r\n              tEntry.language=lList[j];\r\n            }\r\n\r\n            if(pList.length \u003e 2) {\r\n              tEntry.version=pList[2];\r\n            }\r\n\r\n            // If we\u0027ve already registered or requested a stub for this keyboard-language pairing,\r\n            // don\u0027t bother with a cloud request.\r\n            if(this.isUniqueRequest(cloudList, tEntry)) {\r\n              cloudList.push(tEntry);\r\n            }\r\n          }\r\n        }\r\n        if(typeof(x[i]) == \u0027object\u0027 \u0026\u0026 x[i] != null) {\r\n          // Register any local keyboards immediately:\r\n          // - must specify filename, keyboard name, language codes, region codes\r\n          // - no request will be sent to cloud\r\n          var stub: KeyboardStub = \u003cKeyboardStub\u003e x[i];\r\n\r\n          if(typeof(x[i][\u0027filename\u0027]) == \u0027string\u0027) {\r\n            if(!this.addStub(x[i])) {\r\n              alert(\u0027To use a custom keyboard, you must specify file name, keyboard name, language, language code and region code.\u0027);\r\n            }\r\n          } else {\r\n            if(x[i][\u0027language\u0027]) {\r\n              console.warn(\"The \u0027language\u0027 property for keyboard stubs has been deprecated.  Please use the \u0027languages\u0027 property instead.\");\r\n              x[i][\u0027languages\u0027] = x[i][\u0027language\u0027];\r\n            }\r\n\r\n            lList=x[i][\u0027languages\u0027];\r\n\r\n            //Array or single entry?\r\n            if(typeof(lList.length) == \u0027number\u0027) {\r\n              for(j=0; j\u003clList.length; j++) {\r\n                tEntry = new CloudRequestEntry(x[i][\u0027id\u0027], x[i][\u0027languages\u0027][j][\u0027id\u0027]);\r\n                if(this.isUniqueRequest(cloudList, tEntry)) {\r\n                  cloudList.push(tEntry);\r\n                }\r\n              }\r\n            } else { // Single language element\r\n              tEntry = new CloudRequestEntry(x[i][\u0027id\u0027], x[i][\u0027languages\u0027][j][\u0027id\u0027]);\r\n              if(this.isUniqueRequest(cloudList, tEntry)) {\r\n                cloudList.push(tEntry);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // Return if all keyboards being registered are local and fully specified\r\n      if(cloudList.length == 0) {\r\n        return;\r\n      }\r\n\r\n      // Update the keyboard metadata list from keyman.com - build the command\r\n      cmd=\u0027\u0026keyboardid=\u0027;\r\n      for(i=0; i\u003ccloudList.length; i++) {\r\n        cmd=cmd+comma+cloudList[i].toString();\r\n        comma=\u0027,\u0027;\r\n      }\r\n\r\n      // Request keyboard metadata from the Keyman Cloud keyboard metadata server\r\n      this.keymanCloudRequest(cmd,false);\r\n    }\r\n\r\n    /**\r\n     *  Register a keyboard for each associated language\r\n     *\r\n     *  @param  {Object}  kp  Keyboard Object or Object array\r\n     *  @param  {Object}  options   keymanCloud callback options\r\n     *  @param  {number}  nArg  keyboard index in argument array\r\n     *\r\n     **/\r\n    registerLanguagesForKeyboard(kp, options, nArg:number) {\r\n      var i,j,id,nDflt=0,kbId=\u0027\u0027;\r\n\r\n      // Do not attempt to process badly formatted requests\r\n      if(typeof(kp) == \u0027undefined\u0027) {\r\n        return;\r\n      }\r\n\r\n      if(typeof(options[\u0027keyboardid\u0027]) == \u0027string\u0027) {\r\n        kbId = options[\u0027keyboardid\u0027].split(\u0027,\u0027)[nArg];\r\n      }\r\n\r\n      // When keyboards requested by language code, several keyboards may be returned as an array\r\n      if(typeof(kp.length) == \u0027number\u0027) {\r\n        // If language code is suffixed by $, register all keyboards for this language\r\n        if(kp.length == 1 || kbId.substr(-1,1) == \u0027$\u0027 || kbId == \u0027\u0027) {\r\n          for(i=0; i\u003ckp.length; i++) {\r\n            this.registerLanguagesForKeyboard(kp[i],options,nArg);\r\n          }\r\n        }\r\n        // Register the default keyboard for the language code\r\n        // Until a default is defined, the default will be the Windows keyboard,\r\n        // that is, the keyboard named for the language (exception: English:US), or the\r\n        // first keyboard found.\r\n        else {\r\n          for(i=0; i\u003ckp.length; i++) {\r\n            id=kp[i].id.toLowerCase();\r\n            if(id == \u0027us\u0027) {\r\n              id=\u0027english\u0027;\r\n            }\r\n\r\n            for(j=0; j\u003ckp[i][\u0027languages\u0027].length; j++) {\r\n              if(id == kp[i][\u0027languages\u0027][j][\u0027name\u0027].toLowerCase()) {\r\n                nDflt = i;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          this.registerLanguagesForKeyboard(kp[nDflt],options,nArg);\r\n        }\r\n      } else { // Otherwise, process a single keyboard for the specified languages\r\n        // May need to filter returned stubs by language\r\n        var lgCode=kbId.split(\u0027@\u0027)[1];\r\n        if(typeof(lgCode) == \u0027string\u0027) {\r\n          lgCode=lgCode.replace(/\\$$/,\u0027\u0027);\r\n        }\r\n\r\n        // Can only add keyboard stubs for defined languages\r\n        var ll=kp[\u0027languages\u0027];\r\n        if(typeof(ll) != \u0027undefined\u0027) {\r\n          if(typeof(ll.length) == \u0027number\u0027) {\r\n            for(i=0; i\u003cll.length; i++) {\r\n              if(typeof(lgCode) == \u0027undefined\u0027 || ll[i][\u0027id\u0027] == lgCode) {\r\n                this.mergeStub(kp,ll[i],options);\r\n              }\r\n            }\r\n          } else {\r\n            this.mergeStub(kp,ll,options);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Call back from cloud for adding keyboard metadata\r\n     *\r\n     * @param {Object}    x   metadata object\r\n     **/\r\n    register(x) {\r\n      const promiseid = x[\u0027timerid\u0027];\r\n\r\n      let result: Error;\r\n      try {\r\n        result = this._registerCore(x);\r\n      } catch(err) {\r\n        result = new Error(CLOUD_REGISTRATION_ERROR + err);\r\n      }\r\n      \r\n      if(promiseid) {\r\n        const promiseFuncs = this.registrationResolvers[promiseid];\r\n        window.clearTimeout(promiseid);\r\n\r\n        try {\r\n          if(result instanceof Error) {\r\n            promiseFuncs.reject(result as Error);\r\n          } else { // TODO (#5044): pass `result` to the `resolve` function.\r\n            promiseFuncs.resolve();\r\n          }\r\n        } finally {\r\n          delete this.registrationResolvers[promiseid];\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Call back from cloud for adding keyboard metadata\r\n     *\r\n     * @param {Object}    x   metadata object\r\n     **/\r\n    private _registerCore(x): Error { // TODO (#5044): should return heterogenous type; allow array of stubs.\r\n      var options=x[\u0027options\u0027];\r\n\r\n      // Indicate if unable to register keyboard\r\n      if(typeof(x[\u0027error\u0027]) == \u0027string\u0027) {\r\n        // Currently unreachable (24 May 2021 - API returns a 404; returned \u0027script\u0027 does not call register)\r\n        var badName=\u0027\u0027;\r\n        if(typeof(x[\u0027keyboardid\u0027]) == \u0027string\u0027) {\r\n          badName = x[\u0027keyboardid\u0027].substr(0,1).toUpperCase()+x[\u0027keyboardid\u0027].substr(1);\r\n        }\r\n\r\n        return new Error(MISSING_KEYBOARD(badName));\r\n      }\r\n\r\n      // Ignore callback unless the context is defined\r\n      if(typeof(options) == \u0027undefined\u0027 || typeof(options[\u0027context\u0027]) == \u0027undefined\u0027) {\r\n        return new Error(CLOUD_MALFORMED_OBJECT_ERR);\r\n      }\r\n\r\n      // Register each keyboard for the specified language codes\r\n      if(options[\u0027context\u0027] == \u0027keyboard\u0027) {\r\n        var i,kp=x[\u0027keyboard\u0027];\r\n        // Process array of keyboard definitions\r\n        if(typeof(kp.length) == \u0027number\u0027) {\r\n          for(i=0; i\u003ckp.length; i++) {\r\n            // Note:  if an invalid language code is specified, the elements here may be\r\n            //        empty arrays.  Will not report an error if so.\r\n            this.registerLanguagesForKeyboard(kp[i],options,i);\r\n          }\r\n        } else { // Process a single keyboard definition\r\n          this.registerLanguagesForKeyboard(kp,options,0);\r\n        }\r\n      } else if(options[\u0027context\u0027] == \u0027language\u0027) { // Download the full list of supported keyboard languages\r\n        this.languageList = x[\u0027languages\u0027];\r\n        if(this.languagesPending) {\r\n          this.addLanguageKeyboards(this.languagesPending);\r\n        }\r\n        this.languagesPending = [];\r\n      }\r\n\r\n      return null; // TODO (#5044): return the list of newly-registered stubs here.\r\n    }\r\n\r\n    /**\r\n     *  Internal handler for processing keyboard registration, used only by `register`\r\n     *\r\n     *  @param  {Object}   languages    Array of language names\r\n     **/\r\n    addLanguageKeyboards(languages) {\r\n      var i, j, lgName, cmd, first, addAll;\r\n\r\n      // Defer registering keyboards by language until the language list has been loaded\r\n      if(this.languageList == null) {\r\n        first = (this.languagesPending.length == 0);\r\n\r\n        for(i=0; i\u003clanguages.length; i++) {\r\n          this.languagesPending.push(languages[i]);\r\n        }\r\n\r\n        if(first) {\r\n          this.keymanCloudRequest(\u0027\u0027,true);\r\n        }\r\n      } else { // Identify and register each keyboard by language name\r\n        cmd = \u0027\u0027;\r\n        for(i=0; i\u003clanguages.length; i++) {\r\n          lgName = languages[i].toLowerCase();\r\n          addAll = (lgName.substr(-1,1) == \u0027$\u0027);\r\n          if(addAll) {\r\n            lgName = lgName.substr(0,lgName.length-1);\r\n          }\r\n\r\n          for(j=0; j\u003cthis.languageList.length; j++) {\r\n            if(lgName == this.languageList[j][\u0027name\u0027].toLowerCase()) {\r\n              if(cmd != \u0027\u0027) {\r\n                cmd = cmd + \u0027,\u0027;\r\n              }\r\n\r\n              cmd = cmd+\u0027@\u0027+this.languageList[j][\u0027id\u0027];\r\n              if(addAll) {\r\n                cmd = cmd + \u0027$\u0027;\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        if(cmd == \u0027\u0027) {\r\n          this.keymanweb.util.alert(\u0027No keyboards are available for \u0027+languages[0]+\u0027. \u0027\r\n            +\u0027Does it have another language name?\u0027);\r\n        } else {\r\n          this.keymanCloudRequest(\u0027\u0026keyboardid=\u0027+cmd,false);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     *  Request keyboard metadata from the Keyman Cloud keyboard metadata server\r\n     *\r\n     *  @param  {string}   cmd        command string\r\n     *  @param  {boolean?} byLanguage if true, context=languages, else context=keyboards\r\n     **/\r\n    keymanCloudRequest(cmd: string, byLanguage?: boolean) {    \r\n      var kbdManager = this;\r\n      var keymanweb = this.keymanweb;\r\n\r\n      // Some basic support toward #5044, but definitely not a full solution toward it.\r\n      // Wraps the cloud API keyboard-stub request in a Promise, allowing response on network\r\n      // and/or parser errors.  Also detects when `register` returns due to an error case that\r\n      // does not throw errors.  (There are a few such \"empty\" `return` statements there.)\r\n      const URL=\u0027https://api.keyman.com/cloud/4.0/\u0027\r\n                + ((arguments.length \u003e 1) \u0026\u0026 byLanguage ? \u0027languages\u0027 : \u0027keyboards\u0027);\r\n\r\n      let promise = new Promise\u003cvoid\u003e(function(resolve: () =\u003e void, reject: (Error?) =\u003e void) {\r\n        const Lscript: HTMLScriptElement = keymanweb.util._CreateElement(\u0027script\u0027);\r\n\r\n        const queryConfig = \u0027?jsonp=keyman.register\u0026languageidtype=bcp47\u0026version=\u0027+keymanweb[\u0027version\u0027];\r\n  \r\n        // Set callback timer\r\n        const timeoutID = window.setTimeout(function() {\r\n          delete kbdManager.registrationResolvers[timeoutID];\r\n          reject(CLOUD_TIMEOUT_ERR);\r\n        } ,10000);\r\n\r\n        // Save the resolve / reject functions.\r\n        kbdManager.registrationResolvers[timeoutID] = {\r\n          resolve: resolve,\r\n          reject: reject\r\n        };\r\n\r\n        const tFlag=\u0027\u0026timerid=\u0027+ timeoutID;\r\n\r\n        Lscript.onload = function(event: Event) {\r\n          window.clearTimeout(timeoutID);\r\n          // This case should only happen if a returned, otherwise-valid keyboard \r\n          // script does not ever call `register`.  Also provides default handling\r\n          // should `register` fail to report results/failure correctly.\r\n          if(kbdManager.registrationResolvers[timeoutID]) {\r\n            try {\r\n              reject(new Error(CLOUD_STUB_REGISTRATION_ERR));\r\n            } finally {\r\n              delete kbdManager.registrationResolvers[timeoutID];\r\n            }\r\n          }\r\n        };\r\n\r\n        // Note:  at this time (24 May 2021), this is also happens for \"successful\" \r\n        //        API calls where there is no matching keyboard ID.\r\n        //        \r\n        //        The returned \u0027error\u0027 JSON object is sent with an HTML error code (404)\r\n        //        and does not call `keyman.register`.  Even if it did the latter, the\r\n        //        404 code would likely prevent the returned script\u0027s call.\r\n        Lscript.onerror = function(event: string | Event, source?: string, \r\n                                  lineno?: number, colno?: number, error?: Error) {\r\n          window.clearTimeout(timeoutID);\r\n          try {\r\n            let msg = CLOUD_MALFORMED_OBJECT_ERR;\r\n            if(error) {\r\n              msg = msg + \": \" + error.message;\r\n            }\r\n            reject(new Error(msg));\r\n          } finally {\r\n            delete kbdManager.registrationResolvers[timeoutID];\r\n          }\r\n        }\r\n\r\n        Lscript.src = URL + queryConfig + cmd + tFlag;\r\n  \r\n        try {\r\n          document.body.appendChild(Lscript);\r\n        } catch(ex) {\r\n          document.getElementsByTagName(\u0027head\u0027)[0].appendChild(Lscript);\r\n        }\r\n      });\r\n\r\n      // TODO:  Allow the site developer to handle error messaging via this catch.\r\n      //        This current version simply maintains pre-existing behavior.\r\n      promise.catch(function(error: Error) {\r\n        kbdManager.serverUnavailable(error);\r\n        throw error;\r\n      });\r\n    }\r\n\r\n    /**\r\n     *  Display warning if Keyman Cloud server fails to respond\r\n     *\r\n     *  @param  {string}  cmd command string sent to Cloud\r\n     *\r\n     **/\r\n    private serverUnavailable(cmd) {\r\n      this.keymanweb.util.alert(cmd == \u0027\u0027 ? \u0027Unable to connect to Keyman Cloud server!\u0027 : cmd);\r\n      this.keymanweb.warned=true;\r\n    }\r\n\r\n    /**\r\n     * Build 362: removeKeyboards() remove keyboard from list of available keyboards\r\n     *\r\n     * @param {string}  x      keyboard name string\r\n     * @param {boolean} force  When true, also drops the cached keyboard object\r\n     *\r\n     */\r\n    removeKeyboards(x: string, force?: boolean) {\r\n      if(arguments.length == 0) {\r\n        return false;\r\n      }\r\n\r\n      var i, j;\r\n      var success = true, activeRemoved = false, anyRemoved = false;;\r\n\r\n      for(i=0; i\u003carguments.length; i++) {\r\n        for(j=this.keyboardStubs.length-1; j\u003e=0; j--) {\r\n          if(\u0027Keyboard_\u0027+arguments[i] == this.keyboardStubs[j][\u0027KI\u0027]) {\r\n            if(\u0027Keyboard_\u0027+arguments[i] == this.getActiveKeyboardName()) {\r\n              activeRemoved = true;\r\n            }\r\n\r\n            anyRemoved = true;\r\n            this.keyboardStubs.splice(j,1);\r\n            break;\r\n          }\r\n        }\r\n\r\n        if(j \u003c 0) {\r\n          success = false;\r\n        }\r\n      }\r\n\r\n      for(i=0; i\u003carguments.length; i++) {\r\n        for(j=this.keyboards.length-1; j\u003e=0; j--) {\r\n          if(\u0027Keyboard_\u0027+arguments[i] == this.keyboards[j][\u0027KI\u0027]) {\r\n            this.keyboards.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if(activeRemoved) {\r\n        if(this.keyboardStubs.length \u003e 0) {\r\n        // Always reset to the first remaining keyboard\r\n          this._SetActiveKeyboard(this.keyboardStubs[0][\u0027KI\u0027],this.keyboardStubs[0][\u0027KLC\u0027],true);\r\n        } else {\r\n          this._SetActiveKeyboard(\u0027\u0027, \u0027\u0027, false);\r\n        }\r\n        // This is likely to be triggered by a UI call of some sort, and we need to treat\r\n        // this call as such to properly maintain the globalKeyboard setting.\r\n        this.keymanweb.uiManager.justActivated = true;\r\n      }\r\n\r\n      if(anyRemoved) {\r\n        // Update the UI keyboard menu\r\n        this.doKeyboardUnregistered();\r\n      }\r\n\r\n      return success;\r\n    }\r\n\r\n    /**\r\n     * Function     _registerKeyboard  KR\r\n     * Scope        Public\r\n     * @param       {Object}      Pk      Keyboard  object\r\n     * Description  Register and load the keyboard\r\n     */\r\n    _registerKeyboard(Pk) {\r\n      // If initialization not yet complete, list the keyboard to be registered on completion of initialization\r\n      if(!this.keymanweb.initialized) {\r\n        this.deferredKR.push(Pk);\r\n        return;\r\n      }\r\n\r\n      if(Pk[\u0027_kmw\u0027]) {\r\n        console.error(\"The keyboard _kmw property is a reserved field for engine use only; this keyboard is invalid.\");\r\n        return;\r\n      } else {\r\n        Pk[\u0027_kmw\u0027] = new KeyboardTag();\r\n      }\r\n\r\n      var Li,Lstub;\r\n\r\n      // For package namespacing with KMEA/KMEI.\r\n      if(this.keymanweb.isEmbedded) {\r\n        this.keymanweb.preserveID(Pk);\r\n      }\r\n\r\n      // Check if the active stub refers to this keyboard, else find applicable stub\r\n\r\n      var Ps=this.activeStub;\r\n      var savedActiveStub = this.activeStub;\r\n      if(!Ps || !(\u0027KI\u0027 in Ps) || (Ps[\u0027KI\u0027] != Pk[\u0027KI\u0027])) {\r\n        // Find the first stub for this keyboard\r\n        for(Lstub=0; Lstub \u003c this.keyboardStubs.length; Lstub++) { // I1511 - array prototype extended\r\n          Ps=this.keyboardStubs[Lstub];\r\n          if(Pk[\u0027KI\u0027] == Ps[\u0027KI\u0027]) {\r\n            break;\r\n          }\r\n\r\n          Ps=null;\r\n        }\r\n      }\r\n\r\n      // Build 369: ensure active stub defined when loading local keyboards\r\n      if(this.activeStub == null \u0026\u0026 Ps != null) {\r\n        this.activeStub = Ps;\r\n      }\r\n\r\n      // Register the stub for this language (unless it is already registered)\r\n      // keymanweb.KRS(Ps?Ps:Pk);\r\n\r\n      // Test if keyboard already loaded\r\n      for(Li=0; Li\u003cthis.keyboards.length; Li++) {\r\n        if(Pk[\u0027KI\u0027] == this.keyboards[Li][\u0027KI\u0027]) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Append to keyboards array\r\n      this.keyboards=this.keymanweb._push(this.keyboards, Pk); // TODO:  Resolve without need for the cast.\r\n\r\n      // Execute any external (UI) code needed after loading keyboard\r\n      this.doKeyboardLoaded(Pk[\u0027KI\u0027]);\r\n\r\n      // Restore the originally-active stub to its prior state.  No need to change it permanently.\r\n      this.activeStub = savedActiveStub;\r\n    }\r\n\r\n    /**\r\n     * Add the basic keyboard parameters (keyboard stub) to the array of keyboard stubs\r\n     * If no language code is specified in a keyboard it cannot be registered,\r\n     * and a keyboard stub must be registered before the keyboard is loaded\r\n     * for the keyboard to be usable.\r\n     *\r\n     * @param       {Object}      Pstub     Keyboard stub object\r\n     * @return      {?number}               1 if already registered, else null\r\n     */\r\n    _registerStub(Pstub): number {\r\n      var Lk;\r\n\r\n      // In initialization not complete, list the stub to be registered on completion of initialization\r\n      if(!this.keymanweb.initialized) {\r\n        this.deferredKRS.push(Pstub);\r\n        return null;\r\n      }\r\n\r\n      // The default stub is always the first keyboard stub loaded [and will be ignored by desktop browsers - not for beta, anyway]\r\n      if(this.dfltStub == null) {\r\n        this.dfltStub=Pstub;\r\n        //if(device.formFactor == \u0027desktop\u0027) return 1;    //Needs further thought before release\r\n      }\r\n\r\n      // If no language code has been defined, and no stub has been registered for this keyboard, register with empty string as the language code\r\n      if(this.keymanweb.isEmbedded) {\r\n        this.keymanweb.namespaceID(Pstub);\r\n      } // else leave undefined.  It\u0027s nice to condition upon.\r\n      if(typeof(Pstub[\u0027KLC\u0027]) == \u0027undefined\u0027) {\r\n        Pstub[\u0027KLC\u0027] = \u0027\u0027;\r\n      }\r\n      if(typeof(Pstub[\u0027KL\u0027]) == \u0027undefined\u0027) {\r\n        Pstub[\u0027KL\u0027] = \u0027undefined\u0027;\r\n      }\r\n\r\n      // If language code already defined (or not specified in stub), check to see if stub already registered\r\n      for(Lk=0; Lk \u003c this.keyboardStubs.length; Lk++) {\r\n        if(this.keyboardStubs[Lk][\u0027KI\u0027] == Pstub[\u0027KI\u0027]) {\r\n          if(Pstub[\u0027KLC\u0027] == \u0027\u0027 || (this.keyboardStubs[Lk][\u0027KLC\u0027] == Pstub[\u0027KLC\u0027])) {\r\n            return 1; // no need to register\r\n          }\r\n        }\r\n      }\r\n\r\n      // Register stub (add to KeyboardStubs array)\r\n      this.keyboardStubs=this.keymanweb._push(this.keyboardStubs, Pstub); // TODO:  Resolve without need for the cast.\r\n\r\n      // TODO: Need to distinguish between initial loading of a large number of stubs and any subsequent loading.\r\n      //   UI initialization should not be needed for each registration, only at end.\r\n      // Reload this keyboard if it was the last active keyboard and\r\n      // make any changes needed by UI for new keyboard stub\r\n      // (Uncommented for Build 360)\r\n      this.doKeyboardRegistered(Pstub[\u0027KI\u0027],Pstub[\u0027KL\u0027],Pstub[\u0027KN\u0027],Pstub[\u0027KLC\u0027],Pstub[\u0027KP\u0027]);\r\n\r\n      // If we have no activeStub because there were no stubs, set the new keyboard as active.\r\n      // Do not trigger on merges.\r\n      if(!this.activeStub \u0026\u0026 this.dfltStub == Pstub \u0026\u0026 this.keyboardStubs.length == 1 \u0026\u0026 this.keymanweb.options[\u0027setActiveOnRegister\u0027]==\u0027true\u0027) {\r\n        this.setActiveKeyboard(Pstub[\u0027KI\u0027], Pstub[\u0027KLC\u0027]);\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    /*\r\n    * Last part - the events.\r\n    */\r\n\r\n    /**\r\n     * Execute external (UI) code needed on registering keyboard, used\r\n     * to update each UIs language menu\r\n     *\r\n     * Note that the argument object is not at present used by any UI,\r\n     * since the menu is always fully recreated when needed, but the arguments\r\n     * remain defined to allow for possible use in future (Aug 2014)\r\n     *\r\n     * @param       {string}            _internalName\r\n     * @param       {string}            _language\r\n     * @param       {string}            _keyboardName\r\n     * @param       {string}            _languageCode\r\n     * @param       {string=}           _packageID        Used by KMEA/KMEI to track .kmp related info.\r\n     * @return      {boolean}\r\n     */\r\n    doKeyboardRegistered(_internalName: string, _language: string, _keyboardName: string,\r\n        _languageCode: string, _packageID?: string): boolean {\r\n      var p={\u0027internalName\u0027:_internalName,\u0027language\u0027:_language,\u0027keyboardName\u0027:_keyboardName,\u0027languageCode\u0027:_languageCode};\r\n\r\n      // Utilized only by our embedded codepaths.\r\n      if(_packageID) {\r\n        p[\u0027package\u0027] = _packageID;\r\n      }\r\n      return this.keymanweb.util.callEvent(\u0027kmw.keyboardregistered\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Execute external (UI) code to rebuild menu when deregistering keyboard\r\n     *\r\n     * @return      {boolean}\r\n     */\r\n\r\n    doKeyboardUnregistered(): boolean {\r\n      var p={};\r\n      return this.keymanweb.util.callEvent(\u0027kmw.keyboardregistered\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Execute external (UI) code needed on loading keyboard\r\n     *\r\n     * @param       {string}            _internalName\r\n     * @return      {boolean}\r\n     */\r\n    doKeyboardLoaded(_internalName: string): boolean {\r\n      var p={};\r\n      p[\u0027keyboardName\u0027]=_internalName;\r\n      return this.keymanweb.util.callEvent(\u0027kmw.keyboardloaded\u0027, p);\r\n    }\r\n\r\n    /**\r\n     * Function     doBeforeKeyboardChange\r\n     * Scope        Private\r\n     * @param       {string}            _internalName\r\n     * @param       {string}            _languageCode\r\n     * @return      {boolean}\r\n     * Description  Execute external (UI) code needed before changing keyboard\r\n     */\r\n    doBeforeKeyboardChange(_internalName: string, _languageCode: string): boolean {\r\n      var p={};\r\n      p[\u0027internalName\u0027]=_internalName;\r\n      p[\u0027languageCode\u0027]=_languageCode;\r\n      return this.keymanweb.util.callEvent(\u0027kmw.beforekeyboardchange\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Execute external (UI) code needed *after* changing keyboard\r\n     *\r\n     * @param       {string}            _internalName\r\n     * @param       {string}            _languageCode\r\n     * @param       {boolean=}           _indirect\r\n     * @return      {boolean}\r\n     */\r\n    doKeyboardChange(_internalName: string, _languageCode: string, _indirect?:boolean): boolean {\r\n      var p: KeyboardChangeData = {\r\n        \u0027internalName\u0027: _internalName,\r\n        \u0027languageCode\u0027: _languageCode,\r\n        \u0027indirect\u0027: (arguments.length \u003e 2 ? _indirect : false)\r\n      }\r\n\r\n      return this.keymanweb.util.callEvent(\u0027kmw.keyboardchange\u0027, p);\r\n    }\r\n\r\n    shutdown() {\r\n      for(let script of this.linkedScripts) {\r\n        if(script.remove) {\r\n          script.remove();\r\n        } else if(script.parentNode) {\r\n          script.parentNode.removeChild(script);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","namespace com.keyman {\r\n\r\n  class Hotkey {\r\n    code: number;\r\n    shift: number;\r\n    handler: () =\u003e void\r\n\r\n    constructor(code: number, shift: number, handler: () =\u003e void) {\r\n      this.code = code;\r\n      this.shift = shift;\r\n      this.handler = handler;\r\n    }\r\n\r\n    matches(keyCode: number, shiftState: number): boolean {\r\n      return (this.code == keyCode \u0026\u0026 this.shift == shiftState);\r\n    }\r\n  }\r\n\r\n  export class HotkeyManager {\r\n    keyman: KeymanBase;\r\n    hotkeys: Hotkey[] = [];\r\n\r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n    }\r\n\r\n    /**\r\n     * Function     addHotkey\r\n     * Scope        Public\r\n     * @param       {number}            keyCode\r\n     * @param       {number}            shiftState\r\n     * @param       {function(Object)}  handler\r\n     * Description  Add hot key handler to array of document-level hotkeys triggered by key up event\r\n     */\r\n    addHotKey(keyCode: number, shiftState: number, handler: () =\u003e void) {\r\n      // Test if existing handler for this code and replace it if so\r\n      for(var i=0; i\u003cthis.hotkeys.length; i++) {\r\n        if(this.hotkeys[i].code == keyCode \u0026\u0026 this.hotkeys[i].shift == shiftState) {\r\n          this.hotkeys[i].handler = handler;\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Otherwise add it to the array\r\n      this.hotkeys.push(new Hotkey(keyCode, shiftState, handler));\r\n    }              \r\n\r\n    /**\r\n     * Function     removeHotkey\r\n     * Scope        Public\r\n     * @param       {number}        keyCode\r\n     * @param       {number}        shiftState\r\n     * Description  Remove a hot key handler from array of document-level hotkeys triggered by key up event\r\n     */\r\n    /*keymanweb[\u0027removeHotKey\u0027] = */removeHotkey(keyCode: number, shiftState: number) {\r\n      for(var i=0; i\u003cthis.hotkeys.length; i++) {\r\n        if(this.hotkeys[i].matches(keyCode, shiftState)) {\r\n          this.hotkeys.splice(i,1);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n                  \r\n    /**\r\n     * Function     _Process\r\n     * Scope        Private\r\n     * @param       {Event}       e       event\r\n     * Description  Passes control to handlers according to the hotkey pressed\r\n     */\r\n    _Process: (e: KeyboardEvent) =\u003e boolean = function(this: HotkeyManager, e: KeyboardEvent) {\r\n      if(!e) {\r\n        e = window.event as KeyboardEvent;\r\n      }\r\n\r\n      var _Lcode = dom.PreProcessor._GetEventKeyCode(e);\r\n      if(_Lcode == null) {\r\n        return false;\r\n      }\r\n      \r\n      // Removed testing of e.shiftKey==null  I3363 (Build 301)\r\n      var _Lmodifiers = \r\n        (e.shiftKey ? 0x10 : 0) |\r\n        (e.ctrlKey ? 0x20 : 0) | \r\n        (e.altKey ? 0x40 : 0);\r\n\r\n      for(var i=0; i\u003cthis.hotkeys.length; i++) {  \r\n        if(this.hotkeys[i].matches(_Lcode, _Lmodifiers)) { \r\n          this.hotkeys[i].handler(); \r\n          e.returnValue = false; \r\n          if(e \u0026\u0026 e.preventDefault) {\r\n            e.preventDefault(); \r\n          }\r\n          e.cancelBubble = true; \r\n          return false; \r\n        }\r\n      }\r\n      return true;\r\n    }.bind(this);  \r\n  }\r\n}","namespace com.keyman {\r\n\r\n  export class UIState {\r\n    [\u0027activated\u0027]: boolean;\r\n    [\u0027activationPending\u0027]: boolean;\r\n\r\n    constructor(pending: boolean, activated: boolean) {\r\n      this[\u0027activationPending\u0027] = pending;\r\n      this[\u0027activated\u0027] = activated;\r\n    }\r\n  }\r\n\r\n  export class UIManager {\r\n    keyman: KeymanBase;\r\n\r\n    isActivating: boolean = false;    // ActivatingKeymanWebUI - is the KeymanWeb DIV in process of being clicked on?\r\n    justActivated: boolean = false;   // JustActivatedKeymanWebUI - focussing back to control after KeymanWeb UI interaction\r\n\r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n    }\r\n\r\n    /**\r\n     * Function     getUIState\r\n     * Scope        Public   \r\n     * @return      {Object.\u003cstring,boolean\u003e}\r\n     * Description  Return object with activation state of UI:\r\n     *                activationPending (bool):   KMW being activated\r\n     *                activated         (bool):   KMW active    \r\n     */    \r\n    getUIState(): UIState {\r\n      return new UIState(this.isActivating, this.justActivated);\r\n    }\r\n\r\n    /**\r\n     * Set or clear the IsActivatingKeymanWebUI flag (exposed function)\r\n     * \r\n     * @param       {(boolean|number)}  state  Activate (true,false)\r\n     */\r\n    setActivatingUI(state: boolean|number) {\r\n      this.isActivating = state ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Function     doLoad\r\n     * Scope        Private\r\n     * @return      {boolean}   \r\n     * Description  Execute UI initialization code after loading the UI\r\n     *              // Appears to be unused; could be eliminated?  Though, doUnload IS used.\r\n     */       \r\n    doLoad() {\r\n      var p={};\r\n      return this.keyman.util.callEvent(\u0027kmw.loaduserinterface\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Function     doUnload\r\n     * Scope        Private\r\n     * @return      {boolean}   \r\n     * Description  Execute UI cleanup code before unloading the UI (may not be required?)\r\n     */       \r\n    doUnload = function() {\r\n      var p={};\r\n      return this.keyman.util.callEvent(\u0027kmw.unloaduserinterface\u0027,p);\r\n    }\r\n  }\r\n}","namespace com.keyman.osk {\r\n  // Manages the language selection UI for touch-form factors, which is triggered by an OSK key.\r\n  // Used by \u0027native\u0027-mode KMW only - the Android and iOS embedding apps implement their own menus.\r\n  export class LanguageMenu {\r\n    keyman: KeymanBase;\r\n\r\n    private lgList: HTMLDivElement;\r\n    private shim: HTMLDivElement;\r\n\r\n    private scrolling: boolean;\r\n    private activeLgNo: number;\r\n    private y0: number;\r\n\r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n      this.scrolling = false;\r\n\r\n      this.shim = this.constructShim();\r\n    }\r\n\r\n    constructShim(): HTMLDivElement {\r\n      let languageMenu = this;\r\n      let shim = this.keyman.util._CreateElement(\u0027div\u0027);\r\n      let osk = this.keyman.osk;\r\n\r\n      shim.id=\u0027kmw-language-menu-background\u0027;\r\n      shim.addEventListener(\u0027touchstart\u0027, function(e) {\r\n        e.preventDefault();\r\n        languageMenu.hide();\r\n\r\n        // Display build only if touching menu, space *and* one other point on screen (build 369)\r\n        if(e.touches.length \u003e 2) {\r\n          var sX=e.touches[1].pageX,sY=e.touches[1].pageY;\r\n          let spaceBar = osk.vkbd.spaceBar;\r\n          if(sX \u003e spaceBar.offsetLeft \u0026\u0026 sX \u003c spaceBar.offsetLeft+spaceBar.offsetWidth \u0026\u0026\r\n            sY \u003e spaceBar.offsetTop \u0026\u0026 sY \u003c spaceBar.offsetTop+spaceBar.offsetHeight) {\r\n              osk.showBuild();\r\n            }\r\n        }\r\n      },false);\r\n\r\n      return shim;\r\n    }\r\n\r\n    /**\r\n     * Display list of installed keyboards in pop-up menu\r\n     **/\r\n    show() {\r\n      var n=0, kbdList=this.keyman.keyboardManager.keyboardStubs, nKbds=kbdList.length;\r\n      let util = this.keyman.util;\r\n      if(nKbds \u003c 1) {\r\n        return;\r\n      }\r\n\r\n      // Create the menu list container element\r\n      var menu=this.lgList=util._CreateElement(\u0027div\u0027),ss;\r\n      this.lgList.id=\u0027kmw-language-menu\u0027;\r\n\r\n      // Insert a transparent overlay to prevent anything else happening during keyboard selection,\r\n      // but allow the menu to be closed if anywhere else on screen is touched\r\n\r\n      let osk = this.keyman.osk;\r\n      let languageMenu = this;\r\n\r\n      document.body.appendChild(this.shim);\r\n\r\n      // Add two nested DIVs to properly support iOS scrolling with momentum\r\n      //  c.f. https://github.com/joelambert/ScrollFix/issues/2\r\n      var m2=util._CreateElement(\u0027div\u0027),s2=m2.style,\r\n          m3=util._CreateElement(\u0027div\u0027),s3=m3.style;\r\n      m2.id=\u0027kmw-menu-scroll-container\u0027; m3.id=\u0027kmw-menu-scroller\u0027;\r\n\r\n      // Support momentum scrolling on iOS\r\n      if(\u0027WebkitOverflowScrolling\u0027 in s2) {\r\n        s2.WebkitOverflowScrolling=\u0027touch\u0027;\r\n      }\r\n\r\n      m2.appendChild(m3);\r\n      menu.appendChild(m2);\r\n\r\n      // Add menu index strip\r\n      var i,x,mx=util._CreateElement(\u0027div\u0027);\r\n      mx.id=\u0027kmw-menu-index\u0027;\r\n      for(i=1; i\u003c=26; i++) {\r\n        x=util._CreateElement(\u0027p\u0027);\r\n        x.innerHTML=String.fromCharCode(i+64);\r\n        mx.appendChild(x);\r\n      }\r\n\r\n      // Add index selection (for a large menu)\r\n      mx.addEventListener(\u0027touchstart\u0027,function(e){\r\n        languageMenu.scrollToLanguage(e, m2, m3);\r\n      }, false);\r\n      mx.addEventListener(\u0027touchend\u0027,function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }, false);\r\n      menu.appendChild(mx);\r\n\r\n      //TODO: not sure if either of these two handlers ar actually needed.  touchmove handler may be doing all that is necessary.\r\n      // Add scroll end event handling to override body scroll\r\n      menu.addEventListener(\u0027scroll\u0027,function(e){\r\n        languageMenu.scrolling=true;\r\n      },false);\r\n      m2.addEventListener(\u0027scroll\u0027,function(e){\r\n        //this.lgList.scrolling=true;\r\n        if(m2.scrollTop \u003c 1) {\r\n          m2.scrollTop=1;\r\n        }\r\n        if(m2.scrollTop \u003e m2.scrollHeight-m2.offsetHeight-1) {\r\n          m2.scrollTop=m2.scrollHeight-m2.offsetHeight-1;\r\n        }\r\n      },false);\r\n\r\n      // Add a list of keyboards to the innermost DIV\r\n      this.activeLgNo=this.addLanguages(m3,kbdList);\r\n\r\n      // Get number of visible (language) selectors\r\n      var nLgs=m3.childNodes.length-1;\r\n\r\n      // Do not display until sizes have been calculated\r\n      this.lgList.style.visibility=\u0027hidden\u0027;\r\n\r\n      // Append menu to document body, not to OSK\r\n      document.body.appendChild(this.lgList);\r\n\r\n      // Adjust size for viewport scaling (probably not needed for iOS, but check!)\r\n      if(util.device.OS == \u0027Android\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n        this.lgList.style.fontSize=(2/window.devicePixelRatio)+\u0027em\u0027;\r\n      }\r\n\r\n\r\n      // Adjust width for pixel scaling on Android tablets\r\n      if(util.device.OS == \u0027Android\u0027 \u0026\u0026 util.device.formFactor == \u0027tablet\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n        var w=parseInt(util.getStyleValue(menu,\u0027width\u0027),10),\r\n        ms=menu.style;\r\n        if(!isNaN(w)) {\r\n          ms.width=ms.maxWidth=(2*w/window.devicePixelRatio)+\u0027px\u0027;\r\n        }\r\n        w=parseInt(util.getStyleValue(m2,\u0027width\u0027),10);\r\n        ms=m2.style;\r\n        if(!isNaN(w)) {\r\n          ms.width=ms.maxWidth=(2*w/window.devicePixelRatio)+\u0027px\u0027;\r\n        }\r\n        w=parseInt(util.getStyleValue(m3,\u0027width\u0027),10);\r\n        ms=m3.style;\r\n        if(!isNaN(w)) {\r\n          ms.width=ms.maxWidth=(2*w/window.devicePixelRatio)+\u0027px\u0027;\r\n        }\r\n      }\r\n\r\n      // Adjust initial top and height of menu\r\n      this.adjust(0);\r\n\r\n      // Adjust the index font size and line height\r\n      var dy=(\u003cHTMLElement\u003emx.childNodes[1]).offsetTop-(\u003cHTMLElement\u003emx.childNodes[0]).offsetTop,\r\n          lineHeight=Math.floor(menu.offsetHeight/26.0),\r\n          scale=Math.round(100.0*lineHeight/dy)/100.0,\r\n          factor=(scale \u003e 0.6 ? 1 : 2);\r\n\r\n      if(scale \u003e 1.25) {\r\n        scale=1.25;\r\n      }\r\n\r\n      for(i=0;i\u003c26;i++) {\r\n        var qs=(\u003cHTMLElement\u003emx.childNodes[i]).style;\r\n        if(factor == 2 \u0026\u0026 (i%2) == 1) {\r\n          qs.display=\u0027none\u0027;\r\n        } else {\r\n          qs.fontSize=(scale*factor)+\u0027em\u0027;\r\n          qs.lineHeight=(lineHeight*factor)+\u0027px\u0027;\r\n        }\r\n      }\r\n\r\n      // Increase width of outer menu DIV by index, else hide index\r\n      var menuWidth=m2.offsetWidth;\r\n      if(m2.scrollHeight \u003e m2.offsetHeight+3) {\r\n        menuWidth = menuWidth+mx.offsetWidth;\r\n      } else {\r\n        mx.style.display=\u0027none\u0027;\r\n      }\r\n\r\n      menu.style.width=menuWidth+\u0027px\u0027;\r\n\r\n      // Now display the menu\r\n      this.lgList.style.visibility=\u0027\u0027;\r\n\r\n      // Set initial scroll to show current language (but never less than 1, to avoid dragging body)\r\n      var top=(\u003cHTMLElement\u003em3.firstChild).offsetHeight*this.activeLgNo+1;\r\n      m2.scrollTop=top;\r\n\r\n      // The scrollTop value is limited by the device, and must be limited to avoid dragging the document body\r\n      if(m2.scrollTop \u003c top) {\r\n        m2.scrollTop=m2.scrollHeight-m2.offsetHeight;\r\n      }\r\n\r\n      if(m2.scrollTop \u003e m2.scrollHeight-m2.offsetHeight-1) {\r\n        m2.scrollTop=m2.scrollHeight-m2.offsetHeight-1;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Adjust top and height of language menu\r\n     *\r\n     * @param   {number}  nKbds number of displayed keyboards to add to number of languages\r\n     **/\r\n    adjust(nKbds: number) {\r\n      let osk = this.keyman.osk;\r\n      let util = this.keyman.util;\r\n      let device = util.device;\r\n\r\n      var menu=this.lgList, m2=\u003cHTMLElement\u003emenu.firstChild, m3=\u003cHTMLElement\u003em2.firstChild,\r\n        barWidth=0,s=menu.style,mx=\u003cHTMLElement\u003emenu.childNodes[1],\r\n        maxHeight=window.innerHeight-osk.vkbd.lgKey.offsetHeight-16,\r\n        nItems=m3.childNodes.length+nKbds-1,      // Number of (visible) keyboard selectors\r\n        itemHeight=(\u003cHTMLElement\u003em3.firstChild.firstChild).offsetHeight,\r\n        menuHeight=nItems*itemHeight;\r\n\r\n      // Correct maxheight for viewport scaling (iPhone/iPod only) and internal position corrections\r\n      if(device.OS == \u0027iOS\u0027) {\r\n        if(device.formFactor == \u0027phone\u0027) {\r\n          barWidth=(util.landscapeView() ? 36 : 0);\r\n          maxHeight=(window.innerHeight-barWidth-16)*util.getViewportScale();\r\n        } else if(device.formFactor == \u0027tablet\u0027) {\r\n          barWidth=(util.landscapeView() ? 16 : 0);\r\n          maxHeight=(maxHeight-barWidth);\r\n        }\r\n      }\r\n\r\n      // Explicitly set position and height\r\n      s.left=dom.Utils.getAbsoluteX(osk.vkbd.lgKey)+\u0027px\u0027;\r\n      if(menuHeight \u003e maxHeight) {\r\n        menuHeight=maxHeight;\r\n      }\r\n      s.height=menuHeight+\u0027px\u0027;\r\n\r\n      // Position menu at bottom of screen using the same positioning model as the OSK.\r\n      s.bottom=\u00270px\u0027;\r\n\r\n      // Explicitly set the scroller and index heights to the container height\r\n      mx.style.height=m2.style.height=s.height;\r\n    }\r\n\r\n    /**\r\n     * Add an index to the language menu\r\n     *\r\n     *  @param  {Object}  e         touch start event from index\r\n     *  @param  {Object}  m2        menu scroller DIV\r\n     *  @param  {Object}  menu      DIV with list of languages\r\n     */\r\n    scrollToLanguage(e: TouchEvent, m2: HTMLDivElement, menu: HTMLDivElement) {\r\n      e.stopImmediatePropagation();\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      let target = \u003cHTMLElement\u003e e.touches[0].target;\r\n\r\n      // Will return \u0027P\u0027, not \u0027p\u0027.\r\n      if(target.nodeName != \u0027P\u0027) {\r\n        return;\r\n      }\r\n\r\n      var i,t,top=0,initial=target.innerHTML.charCodeAt(0),nn=menu.childNodes;\r\n      try {\r\n        for(i=0; i\u003cnn.length-1; i++) {\r\n          t=(\u003cHTMLElement\u003enn[i].firstChild).innerHTML.toUpperCase().charCodeAt(0);\r\n          if(t \u003e= initial) {\r\n            break;\r\n          }\r\n        }\r\n      } catch(ex){}\r\n\r\n      try {\r\n        top=(\u003cHTMLElement\u003emenu.firstChild).offsetHeight*i+1;\r\n        m2.scrollTop=top;\r\n      } catch(ex) {\r\n        top=0;\r\n      }\r\n\r\n      try {\r\n        if(m2.scrollTop \u003c top) {\r\n          m2.scrollTop=m2.scrollHeight-m2.offsetHeight;\r\n        }\r\n        if(m2.scrollTop \u003e m2.scrollHeight-m2.offsetHeight-1) {\r\n          m2.scrollTop=m2.scrollHeight-m2.offsetHeight-1;\r\n        }\r\n      } catch(ex){}\r\n    }\r\n\r\n    /**\r\n     * Display all languages for installed keyboards in scrollable list\r\n     *\r\n     *    @param    {Object}    menu      DIV to which language selectors will be added\r\n     *    @param    {Object}    kbdList   array of keyboard stub objects\r\n     *    @return   {number}              index of currently active language\r\n     **/\r\n    addLanguages(menu: HTMLDivElement, kbdList): number {\r\n      var nStubs=kbdList.length;\r\n      let util = this.keyman.util\r\n      let device = util.device;\r\n\r\n      // Create and sort a list of languages\r\n      var k,n,lg,langs=[];\r\n      for(n=0; n\u003cnStubs; n++) {\r\n        lg=kbdList[n][\u0027KL\u0027];\r\n        if(langs.indexOf(lg) == -1) {\r\n          langs.push(lg);\r\n        }\r\n      }\r\n      langs.sort();\r\n\r\n      // Get current scale factor (reciprocal of viewport scale)\r\n      var scale=Math.round(100/util.getViewportScale())/100;\r\n\r\n      var dx,lgBar,i,kb,activeLanguageIndex=-1;\r\n      for(k=0; k\u003clangs.length; k++) {\r\n        dx=util._CreateElement(\u0027div\u0027);\r\n        dx.className=\u0027kbd-list-closed\u0027;\r\n        lgBar=util._CreateElement(\u0027p\u0027);\r\n        lgBar.kList=[];\r\n\r\n        for(n=0; n\u003cnStubs; n++) {\r\n          if(kbdList[n][\u0027KL\u0027] == langs[k]) {\r\n            lgBar.kList.push(kbdList[n]);\r\n          }\r\n        }\r\n\r\n        // Adjust bar size for current viewport scaling (iOS only!)\r\n        if(device.OS == \u0027iOS\u0027) {\r\n          lgBar.style.fontSize=scale+\u0027em\u0027;\r\n        }\r\n\r\n        // Add to menu\r\n        dx.appendChild(lgBar);\r\n        menu.appendChild(dx);\r\n\r\n        if(langs[k] == this.keyman.keyboardManager.activeStub[\u0027KL\u0027]) {\r\n          activeLanguageIndex=k;\r\n        }\r\n\r\n        let languageMenu = this;\r\n        // Several keyboards for this language\r\n        if(lgBar.kList.length \u003e 1) {\r\n          lgBar.className=\u0027kbd-list\u0027;\r\n          lgBar.innerHTML=langs[k]+\u0027...\u0027;\r\n          lgBar.scrolled=false;\r\n          lgBar.ontouchend=function(e) {\r\n            e.preventDefault();e.stopPropagation();\r\n            if(e.target.scrolled)\r\n              e.target.scrolled=false;\r\n            else\r\n              this.parentNode.className=(this.parentNode.className==\u0027kbd-list-closed\u0027?\u0027kbd-list-open\u0027:\u0027kbd-list-closed\u0027);\r\n\r\n            // Adjust top of menu to allow for expanded list\r\n            languageMenu.adjust(this.parentNode.className==\u0027kbd-list-closed\u0027?0:this.kList.length);\r\n          }\r\n          lgBar.addEventListener(\u0027touchstart\u0027,function(e){e.stopPropagation();},false);\r\n          lgBar.addEventListener(\u0027touchmove\u0027,function(e){e.target.scrolled=true;e.stopPropagation();},false);\r\n\r\n          for(i=0; i\u003clgBar.kList.length; i++) {\r\n            kb=util._CreateElement(\u0027p\u0027);\r\n            kb.className=\u0027kbd-list-entry\u0027;\r\n            if(device.OS == \u0027iOS\u0027) {\r\n              kb.style.fontSize=scale+\u0027em\u0027;\r\n            }\r\n            this.addKeyboard(lgBar.kList[i],kb,false);\r\n            dx.appendChild(kb);\r\n          }\r\n          // Only one keyboard for this language\r\n        } else {\r\n          lgBar.innerHTML=langs[k];\r\n          lgBar.className=\u0027kbd-single-entry\u0027;\r\n          this.addKeyboard(lgBar.kList[0],lgBar,true);\r\n        }\r\n\r\n        if(k == activeLanguageIndex) {\r\n          lgBar.className=lgBar.className+\u0027 current\u0027;\r\n        }\r\n      }\r\n\r\n      // Add a non-selectable bottom bar so to allow scrolling to the last language\r\n      var padLast=util._CreateElement(\u0027div\u0027);\r\n      padLast.id=\u0027kmw-menu-footer\u0027;\r\n      var cancelTouch=function(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      };\r\n      padLast.addEventListener(\u0027touchstart\u0027,cancelTouch,false);\r\n      padLast.addEventListener(\u0027touchmove\u0027,cancelTouch,false);\r\n      padLast.addEventListener(\u0027touchend\u0027,cancelTouch,false);\r\n      menu.appendChild(padLast);\r\n\r\n      return activeLanguageIndex;\r\n    }\r\n\r\n    /**\r\n     * Add a keyboard entry to the language menu *\r\n     *\r\n     * @param   {Object}    kbd     keyboard object\r\n     * @param   {Object}    kb      element being added and styled\r\n     * @param   {boolean}   unique  is this the only keyboard for the language?\r\n     */\r\n    addKeyboard(kbd, kb, unique: boolean) {\r\n      kb.kn=kbd[\u0027KI\u0027];        // InternalName;\r\n      kb.kc=kbd[\u0027KLC\u0027];       // LanguageCode;\r\n      kb.innerHTML=unique?kbd[\u0027KL\u0027]:kbd[\u0027KN\u0027].replace(\u0027 Keyboard\u0027,\u0027\u0027); // Name\r\n\r\n      // We\u0027re setting up a few events - this alias helps avoid scoping issues.\r\n      let languageMenu = this;\r\n\r\n      // Touchstart (or mspointerdown) event highlights the touched list item\r\n      var touchStart=function(e) {\r\n        e.stopPropagation();\r\n        if(this.className.indexOf(\u0027selected\u0027) \u003c= 0) {\r\n          this.className=this.className+\u0027 selected\u0027;\r\n        }\r\n        languageMenu.scrolling=false;\r\n        languageMenu.y0=e.touches[0].pageY;//osk.lgList.childNodes[0].scrollTop;\r\n        return true;\r\n      };\r\n\r\n      //TODO: Still drags Android background sometimes (not consistently)\r\n      // Touchmove drags the list and prevents release from selecting the language\r\n      var touchMove=function(e: TouchEvent) {\r\n        e.stopImmediatePropagation();\r\n        var scroller=\u003cHTMLElement\u003elanguageMenu.lgList.childNodes[0],\r\n            yMax=scroller.scrollHeight-scroller.offsetHeight,\r\n        y, dy;\r\n\r\n        if(\"undefined\" != typeof e.pageY) {\r\n          y = e.pageY;\r\n        } else if(\"undefined\" != typeof e.touches) {\r\n          y = e.touches[0].pageY;\r\n        } else {\r\n          return;\r\n        }\r\n\r\n        dy=y-languageMenu.y0;\r\n\r\n        // Scroll up (show later listed languages)\r\n        if(dy \u003c 0) {\r\n          if(scroller.scrollTop \u003e= yMax-1) {\r\n            e.preventDefault();\r\n            languageMenu.y0=y;\r\n          }\r\n          // Scroll down (show earlier listed languages)\r\n        } else if(dy \u003e 0) {\r\n          if(scroller.scrollTop \u003c 2) {\r\n            e.preventDefault();\r\n            languageMenu.y0=y;\r\n          }\r\n          // Dont\u0027 scroll - can happen if changing scroll direction\r\n        } else {\r\n          return;\r\n        }\r\n\r\n        // Disable selected language if drag more than 5px\r\n        if(dy \u003c -5 || dy \u003e 5) {\r\n          languageMenu.scrolling=true;\r\n          this.className=this.className.replace(/\\s*selected/,\u0027\u0027);\r\n          languageMenu.y0=y;\r\n        }\r\n        return true;\r\n      };\r\n\r\n      // Touch release (click) event selects touched list item\r\n      var touchEnd=function(e: TouchEvent) {\r\n        e.preventDefault();\r\n        if(typeof(e.stopImmediatePropagation) != \u0027undefined\u0027) {\r\n          e.stopImmediatePropagation();\r\n        } else {\r\n          e.stopPropagation();\r\n        }\r\n\r\n        if(languageMenu.scrolling) {\r\n          this.className=this.className.replace(/\\s*selected/,\u0027\u0027);\r\n        } else {\r\n          com.keyman.dom.DOMEventHandlers.states.setFocusTimer();\r\n\r\n          languageMenu.lgList.style.display=\u0027none\u0027; //still allows blank menu momentarily on selection\r\n          languageMenu.keyman.keyboardManager._SetActiveKeyboard(this.kn,this.kc,true);\r\n          languageMenu.keyman.keyboardManager.doKeyboardChange(this.kn,this.kc);\r\n          languageMenu.keyman.domManager.focusLastActiveElement();\r\n          languageMenu.hide();\r\n\r\n          // Update the OSK with the new keyboard\r\n          languageMenu.keyman.osk._Show();\r\n        }\r\n        return true;\r\n      };\r\n\r\n      kb.onmspointerdown=touchStart;\r\n      kb.addEventListener(\u0027touchstart\u0027,touchStart,false);\r\n      kb.onmspointermove=touchMove;\r\n      kb.addEventListener(\u0027touchmove\u0027,touchMove,false);\r\n      kb.onmspointerout=touchEnd;\r\n      kb.addEventListener(\u0027touchend\u0027,touchEnd,false);\r\n    }\r\n\r\n    /**\r\n     * Remove the language menu again\r\n     **/\r\n    hide() {\r\n      let osk = this.keyman.osk;\r\n\r\n      let languageMenu = this;\r\n      if(this.lgList) {\r\n        osk.vkbd.highlightKey(osk.vkbd.lgKey,false);\r\n        this.lgList.style.visibility=\u0027hidden\u0027;\r\n\r\n        window.setTimeout(function(){\r\n          // In case of extremely rapid keyboard swaps, this event may trigger more than once - \r\n          // the shim\u0027s on-touch event can trigger after a keyboard has been selected!\r\n          if(languageMenu.shim.parentElement) {\r\n            document.body.removeChild(languageMenu.shim);\r\n            document.body.removeChild(languageMenu.lgList);\r\n          }\r\n        },500);\r\n      }\r\n    }\r\n  }\r\n}","namespace com.keyman.osk {\r\n  export class PreProcessor {\r\n    static _GetClickEventProperties(e: keyboards.ActiveKey, Lelem: HTMLElement): text.KeyEvent {\r\n      let keyman = com.keyman.singleton;\r\n      let core = keyman.core;\r\n\r\n      // Start:  mirrors _GetKeyEventProperties\r\n\r\n      // First check the virtual key, and process shift, control, alt or function keys\r\n      let Lkc = e.constructKeyEvent(core.keyboardProcessor, keyman.util.device.coreSpec);\r\n\r\n      // If it\u0027s actually a state key modifier, trigger its effects immediately, as KeyboardEvents would do the same.\r\n      switch(Lkc.kName) {\r\n        case \u0027K_CAPS\u0027:\r\n        case \u0027K_NUMLOCK\u0027:\r\n        case \u0027K_SCROLL\u0027:\r\n          core.keyboardProcessor.stateKeys[Lkc.kName] = ! core.keyboardProcessor.stateKeys[Lkc.kName];\r\n      }\r\n\r\n      // End - mirrors _GetKeyEventProperties\r\n      return Lkc;\r\n    }\r\n\r\n    /**\r\n     * Simulate a keystroke according to the touched keyboard button element\r\n     *\r\n     * Note that the test-case oriented \u0027recorder\u0027 stubs this method to facilitate OSK-based input\r\n     * recording for use in test cases.  If changing this function, please ensure the recorder is\r\n     * not affected.\r\n     * \r\n     * @param       {Object}      e      element touched (or clicked)\r\n     */\r\n    static clickKey(e: osk.KeyElement, touch?: Touch, layerId?: string, keyDistribution?: text.KeyDistribution) {\r\n      let keyman = com.keyman.singleton;\r\n      var Lelem = keyman.domManager.getLastActiveElement();\r\n\r\n      if(Lelem != null) {\r\n        // Handle any DOM state management related to click inputs.\r\n        let outputTarget = dom.Utils.getOutputTarget(Lelem);\r\n        keyman.domManager.initActiveElement(Lelem);\r\n  \r\n        // Turn off key highlighting (or preview)\r\n        keyman[\u0027osk\u0027].vkbd.highlightKey(e,false);\r\n        \r\n        // Clear any cached codepoint data; we can rebuild it if it\u0027s unchanged.\r\n        outputTarget.invalidateSelection();\r\n        // Deadkey matching continues to be troublesome.\r\n        // Deleting matched deadkeys here seems to correct some of the issues.   (JD 6/6/14)\r\n        outputTarget.deadkeys().deleteMatched();      // Delete any matched deadkeys before continuing\r\n\r\n        // Future note:  we need to refactor osk.OSKKeySpec to instead be a \u0027tag field\u0027 for\r\n        // keyboards.ActiveKey.  (Prob with generics, allowing the Web-only parts to\r\n        // be fully specified within the tag.)  \r\n        //\r\n        // Would avoid the type shenanigans needed here because of our current type-abuse setup \r\n        // for key spec tracking.\r\n        let keySpec = (e[\u0027key\u0027] ? e[\u0027key\u0027].spec : null) as unknown as keyboards.ActiveKey;\r\n        if(!keySpec) {\r\n          console.error(\"OSK key with ID \u0027\" + e.id + \"\u0027, keyID \u0027\" + e.keyId + \"\u0027 missing needed specification\");\r\n          return true;\r\n        }\r\n\r\n        let Lkc = PreProcessor._GetClickEventProperties(keySpec, Lelem);\r\n        if(keyman.core.languageProcessor.isActive) {\r\n          Lkc.source = touch;\r\n          Lkc.keyDistribution = keyDistribution;\r\n        }\r\n\r\n        if(!keyman.isEmbedded) {\r\n          keyman.uiManager.setActivatingUI(true);\r\n          com.keyman.dom.DOMEventHandlers.states._IgnoreNextSelChange = 100;\r\n          keyman.domManager.focusLastActiveElement();\r\n          com.keyman.dom.DOMEventHandlers.states._IgnoreNextSelChange = 0;\r\n        }\r\n\r\n        let retVal = PreProcessor.handleClick(Lkc, outputTarget, e);\r\n\r\n        // Now that processing is done, we can do a bit of post-processing, too.\r\n        keyman.uiManager.setActivatingUI(false);\t// I2498 - KeymanWeb OSK does not accept clicks in FF when using automatic UI\r\n        return retVal;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // Serves to hold DOM-dependent code that affects both \u0027native\u0027 and \u0027embedded\u0027 mode OSK use \r\n    // after the KeyEvent object has been properly instantiated.  This should help catch any \r\n    // mutual last-minute DOM-side interactions before passing control to the processor... such as\r\n    // the UI-control command keys as seen below.\r\n    static handleClick(Lkc: text.KeyEvent, outputTarget: text.OutputTarget, e: KeyElement) {\r\n      let keyman = com.keyman.singleton;\r\n        // Exclude menu and OSK hide keys from normal click processing\r\n      if(Lkc.kName == \u0027K_LOPT\u0027 || Lkc.kName == \u0027K_ROPT\u0027) {\r\n        keyman[\u0027osk\u0027].vkbd.optionKey(e, Lkc.kName, true);\r\n        return true;\r\n      }\r\n\r\n      let retVal = (keyman.core.processKeyEvent(Lkc, outputTarget) != null);\r\n\r\n      return retVal;\r\n    }\r\n  }\r\n}","/// \u003creference path=\"preProcessor.ts\" /\u003e\r\n\r\nnamespace com.keyman.osk {\r\n  let Codes = com.keyman.text.Codes;\r\n  //#region Definition of the KeyElement merger type\r\n  class KeyData {\r\n    [\u0027key\u0027]: OSKKey;\r\n    [\u0027keyId\u0027]: string;\r\n    [\u0027subKeys\u0027]?: OSKKeySpec[];\r\n\r\n    constructor(keyData: OSKKey, keyId: string) {\r\n      this[\u0027key\u0027] = keyData;\r\n      this[\u0027keyId\u0027] = keyId;\r\n    }\r\n  }\r\n\r\n  export type KeyElement = HTMLDivElement \u0026 KeyData;\r\n\r\n  // Many thanks to https://www.typescriptlang.org/docs/handbook/advanced-types.html for this.\r\n  function link(elem: HTMLDivElement, data: KeyData): KeyElement {\r\n    let e = \u003cKeyElement\u003e elem;\r\n\r\n    // Merges all properties and methods of KeyData onto the underlying HTMLDivElement, creating a merged class.\r\n    for(let id in data) {\r\n      if(!e.hasOwnProperty(id)) {\r\n        (\u003cany\u003ee)[id] = (\u003cany\u003edata)[id];\r\n      }\r\n    }\r\n\r\n    return e;\r\n  }\r\n\r\n  export function isKey(elem: Node): boolean {\r\n    return elem \u0026\u0026 (\u0027key\u0027 in elem) \u0026\u0026 ((\u003cany\u003e elem[\u0027key\u0027]) instanceof OSKKey);\r\n  }\r\n\r\n  export function getKeyFrom(elem: Node): KeyElement {\r\n    if(isKey(elem)) {\r\n      return \u003cKeyElement\u003e elem;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  //#region OSK key objects and construction\r\n  export class OSKKeySpec implements keyboards.LayoutKey {\r\n    id: string;\r\n\r\n    // Only set (within @keymanapp/keyboard-processor) for keys actually specified in a loaded layout\r\n    baseKeyID?: string;\r\n    coreID?: string;\r\n    elementID?: string;\r\n\r\n    text?: string;\r\n    sp?: number | keyboards.ButtonClass;\r\n    width: string;\r\n    layer?: string; // The key will derive its base modifiers from this property - may not equal the layer on which it is displayed.\r\n    nextlayer?: string;\r\n    pad?: string;\r\n    widthpc?: number; // Added during OSK construction.\r\n    padpc?: number; // Added during OSK construction.\r\n    sk?: OSKKeySpec[];\r\n\r\n    constructor(id: string, text?: string, width?: string, sp?: number | keyboards.ButtonClass, nextlayer?: string, pad?: string) {\r\n      this.id = id;\r\n      this.text = text;\r\n      this.width = width ? width : \"50\";\r\n      this.sp = sp;\r\n      this.nextlayer = nextlayer;\r\n      this.pad = pad;\r\n    }\r\n  }\r\n\r\n  export abstract class OSKKey {\r\n    spec: OSKKeySpec;\r\n    formFactor: string;\r\n\r\n    /**\r\n     * The layer of the OSK on which the key is displayed.\r\n     */\r\n    readonly layer: string;\r\n\r\n    constructor(spec: OSKKeySpec, layer: string, formFactor: string) {\r\n      this.spec = spec;\r\n      this.layer = layer;\r\n      this.formFactor = formFactor;\r\n    }\r\n\r\n    abstract getId(osk: VisualKeyboard): string;\r\n\r\n    /**\r\n     * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\r\n     *\r\n     * @param {String} text The text to be rendered.\r\n     * @param {String} style The CSSStyleDeclaration for an element to measure against, without modification.\r\n     *\r\n     * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\r\n     * This version has been substantially modified to work for this particular application.\r\n     */\r\n    static getTextMetrics(osk: VisualKeyboard, text: string, style: {fontFamily?: string, fontSize: string}): TextMetrics {\r\n      // A final fallback - having the right font selected makes a world of difference.\r\n      if(!style.fontFamily) {\r\n        style.fontFamily = getComputedStyle(document.body).fontFamily;\r\n      }\r\n\r\n      if(!style.fontSize || style.fontSize == \"\") {\r\n        style.fontSize = \u00271em\u0027;\r\n      }\r\n\r\n      let fontFamily = style.fontFamily;\r\n\r\n      // Use of `getComputedStyle` is ideal, but in many of our use cases its preconditions are not met.\r\n      // The following allows us to calculate the font size in those situations.\r\n      let emScale = osk.getKeyEmFontSize();\r\n      let fontSpec = (\u003cKeymanBase\u003e window[\u0027keyman\u0027]).util.getFontSizeStyle(style.fontSize);\r\n\r\n      var fontSize: string;\r\n      if(fontSpec.absolute) {\r\n        // We\u0027ve already got an exact size - use it!\r\n        fontSize = fontSpec.val + \u0027px\u0027;\r\n      } else {\r\n        fontSize = fontSpec.val * emScale + \u0027px\u0027;\r\n      }\r\n\r\n      // re-use canvas object for better performance\r\n      var canvas: HTMLCanvasElement = OSKKey.getTextMetrics[\u0027canvas\u0027] || \r\n                                     (OSKKey.getTextMetrics[\u0027canvas\u0027] = document.createElement(\"canvas\"));\r\n      var context = canvas.getContext(\"2d\");\r\n      context.font = fontSize + \" \" + fontFamily;\r\n      var metrics = context.measureText(text);\r\n\r\n      return metrics;\r\n    }\r\n\r\n    getIdealFontSize(osk: VisualKeyboard, style: {height?: string, fontFamily?: string, fontSize: string}): string {\r\n      // Recompute the new width for use in autoscaling calculations below, just in case.\r\n      let util = com.keyman.singleton.util;\r\n      let metrics = OSKKey.getTextMetrics(osk, this.spec.text, style);\r\n\r\n      let fontSpec = util.getFontSizeStyle(style.fontSize);\r\n      let keyWidth = this.getKeyWidth(osk);\r\n      const MAX_X_PROPORTION = 0.90;\r\n      const MAX_Y_PROPORTION = 0.90;\r\n      const X_PADDING = 2;\r\n      const Y_PADDING = 2;\r\n\r\n      var fontHeight: number, keyHeight: number;\r\n      if(metrics.fontBoundingBoxAscent) {\r\n        fontHeight = metrics.fontBoundingBoxAscent + metrics.fontBoundingBoxDescent;\r\n      }\r\n\r\n      let textHeight = fontHeight ? fontHeight + Y_PADDING : 0;\r\n      if(style.height \u0026\u0026 style.height.indexOf(\u0027px\u0027) != -1) {\r\n        keyHeight = Number.parseFloat(style.height.substring(0, style.height.indexOf(\u0027px\u0027)));\r\n      }\r\n\r\n      let xProportion = (keyWidth * MAX_X_PROPORTION) / (metrics.width + X_PADDING); // How much of the key does the text want to take?\r\n      let yProportion = textHeight \u0026\u0026 keyHeight ? (keyHeight * MAX_Y_PROPORTION) / textHeight : undefined;\r\n\r\n      var proportion: number = xProportion;\r\n      if(yProportion \u0026\u0026 yProportion \u003c xProportion) {\r\n        proportion = yProportion;\r\n      }\r\n\r\n      // Never upscale keys past the default - only downscale them.\r\n      // Proportion \u003c 1:  ratio of key width to (padded [loosely speaking]) text width\r\n      //                  maxProportion determines the \u0027padding\u0027 involved.\r\n      if(proportion \u003c 1) {\r\n        if(fontSpec.absolute) {\r\n          return proportion * fontSpec.val + \u0027px\u0027;\r\n        } else {\r\n          return proportion * fontSpec.val + \u0027em\u0027;\r\n        }\r\n      }\r\n    }\r\n\r\n    getKeyWidth(osk: VisualKeyboard): number {\r\n      let units = this.objectUnits(osk.isStatic);\r\n\r\n      if(units == \u0027px\u0027) {\r\n        // For mobile devices, we presently specify width directly in pixels.  Just use that!\r\n        return this.spec[\u0027widthpc\u0027];\r\n      } else if(units == \u0027%\u0027) {\r\n        // For desktop devices, each key is given a %age of the total OSK width.  We\u0027ll need to compute an\r\n        // approximation for that.  `this.kbdDiv` is the element controlling the OSK\u0027s width, set in px.\r\n\r\n        // This is an approximation that tends to be a bit too large, but it\u0027s close enough to be useful.\r\n        return Math.floor(osk.width * this.spec[\u0027widthpc\u0027] / 100);\r\n      }\r\n    }\r\n\r\n    objectUnits(isStatic: boolean): string {\r\n      // Returns a unit string corresponding to how the width for each key is specified.\r\n      if(this.formFactor == \u0027desktop\u0027 || isStatic) {\r\n        return \u0027%\u0027;\r\n      } else {\r\n        return \u0027px\u0027;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Replace default key names by special font codes for modifier keys\r\n     *\r\n     *  @param  {string}  oldText\r\n     *  @return {string}\r\n     **/\r\n    protected renameSpecialKey(oldText: string, osk: VisualKeyboard): string {\r\n      let keyman = (\u003cKeymanBase\u003ewindow[\u0027keyman\u0027])\r\n      // If a \u0027special key\u0027 mapping exists for the text, replace it with its corresponding special OSK character.\r\n      switch(oldText) {\r\n        case \u0027*ZWNJ*\u0027:\r\n          // Default ZWNJ symbol comes from iOS.  We\u0027d rather match the system defaults where\r\n          // possible / available though, and there\u0027s a different standard symbol on Android.\r\n          oldText = keyman.util.device.coreSpec.OS == com.keyman.utils.OperatingSystem.Android ?\r\n            \u0027*ZWNJAndroid*\u0027 :\r\n            \u0027*ZWNJiOS*\u0027;\r\n          break;\r\n        case \u0027*Enter*\u0027:\r\n          oldText = osk.isRTL ? \u0027*RTLEnter*\u0027 : \u0027*LTREnter*\u0027;\r\n          break;\r\n        case \u0027*BkSp*\u0027:\r\n          oldText = osk.isRTL ? \u0027*RTLBkSp*\u0027 : \u0027*LTRBkSp*\u0027;\r\n          break;\r\n        default:\r\n          // do nothing.\r\n      }\r\n\r\n      let specialCodePUA = 0XE000 + VisualKeyboard.specialCharacters[oldText];\r\n\r\n      return VisualKeyboard.specialCharacters[oldText] ?\r\n        String.fromCharCode(specialCodePUA) :\r\n        oldText;\r\n    }\r\n\r\n    // Produces a HTMLSpanElement with the key\u0027s actual text.\r\n    protected generateKeyText(osk: VisualKeyboard): HTMLSpanElement {\r\n      let util = (\u003cKeymanBase\u003ewindow[\u0027keyman\u0027]).util;\r\n      let spec = this.spec;\r\n\r\n      // Add OSK key labels\r\n      var keyText;\r\n      var t=util._CreateElement(\u0027span\u0027), ts=t.style;\r\n      if(spec[\u0027text\u0027] == null || spec[\u0027text\u0027] == \u0027\u0027) {\r\n        keyText=\u0027\\xa0\u0027;  // default:  nbsp.\r\n        if(typeof spec[\u0027id\u0027] == \u0027string\u0027) {\r\n          // If the ID\u0027s Unicode-based, just use that code.\r\n          if(/^U_[0-9A-F]{4}$/i.test(spec[\u0027id\u0027])) {\r\n            keyText=String.fromCharCode(parseInt(spec[\u0027id\u0027].substr(2),16));\r\n          }\r\n        }\r\n      } else {\r\n        keyText=spec[\u0027text\u0027];\r\n\r\n        // Unique layer-based transformation:  SHIFT-TAB uses a different glyph.\r\n        if(keyText == \u0027*Tab*\u0027 \u0026\u0026 this.layer == \u0027shift\u0027) {\r\n          keyText = \u0027*TabLeft*\u0027;\r\n        }\r\n      }\r\n\r\n      t.className=\u0027kmw-key-text\u0027;\r\n\r\n      let specialText = this.renameSpecialKey(keyText, osk);\r\n      if(specialText != keyText) {\r\n        // The keyboard wants to use the code for a special glyph defined by the SpecialOSK font.\r\n        keyText = specialText;\r\n        spec[\u0027font\u0027] = \"SpecialOSK\";\r\n      }\r\n\r\n      // Grab our default for the key\u0027s font and font size.\r\n      ts.fontSize=osk.fontSize;     //Build 344, KMEW-90\r\n\r\n      //Override font spec if set for this key in the layout\r\n      if(typeof spec[\u0027font\u0027] == \u0027string\u0027 \u0026\u0026 spec[\u0027font\u0027] != \u0027\u0027) {\r\n        ts.fontFamily=spec[\u0027font\u0027];\r\n      }\r\n\r\n      if(typeof spec[\u0027fontsize\u0027] == \u0027string\u0027 \u0026\u0026 spec[\u0027fontsize\u0027] != \u0027\u0027) {\r\n        ts.fontSize=spec[\u0027fontsize\u0027];\r\n      }\r\n\r\n      // For some reason, fonts will sometimes \u0027bug out\u0027 for the embedded iOS page if we\r\n      // instead assign fontFamily to the existing style \u0027ts\u0027.  (Occurs in iOS 12.)\r\n      let styleSpec: {fontFamily?: string, fontSize: string} = {fontSize: ts.fontSize};\r\n\r\n      if(ts.fontFamily) {\r\n        styleSpec.fontFamily = ts.fontFamily;\r\n      } else {\r\n        styleSpec.fontFamily = osk.fontFamily; // Helps with style sheet calculations.\r\n      }\r\n\r\n      // Check the key\u0027s display width - does the key visualize well?\r\n      var width: number = OSKKey.getTextMetrics(osk, keyText, styleSpec).width;\r\n      if(width == 0 \u0026\u0026 keyText != \u0027\u0027 \u0026\u0026 keyText != \u0027\\xa0\u0027) {\r\n        // Add the Unicode \u0027empty circle\u0027 as a base support for needy diacritics.\r\n\r\n        // Disabled by mcdurdin 2020-10-19; dotted circle display is inconsistent on iOS/Safari\r\n        // at least and doesn\u0027t combine with diacritic marks. For consistent display, it may be\r\n        // necessary to build a custom font that does not depend on renderer choices for base\r\n        // mark display -- e.g. create marks with custom base included, potentially even on PUA\r\n        // code points and use those in rendering the OSK. See #3039 for more details.\r\n        // keyText = \u0027\\u25cc\u0027 + keyText;\r\n\r\n        if(osk.isRTL) {\r\n          // Add the RTL marker to ensure it displays properly.\r\n          keyText = \u0027\\u200f\u0027 + keyText;\r\n        }\r\n      }\r\n\r\n      ts.fontSize = this.getIdealFontSize(osk, styleSpec);\r\n\r\n      // Finalize the key\u0027s text.\r\n      t.innerHTML = keyText;\r\n\r\n      return t;\r\n    }\r\n  }\r\n\r\n  export class OSKBaseKey extends OSKKey {\r\n    constructor(spec: OSKKeySpec, layer: string, formFactor: string) {\r\n      super(spec, layer, formFactor);\r\n    }\r\n\r\n    getId(osk: VisualKeyboard): string {\r\n      // Define each key element id by layer id and key id (duplicate possible for SHIFT - does it matter?)\r\n      return this.spec.elementID;\r\n    }\r\n\r\n    // Produces a small reference label for the corresponding physical key on a US keyboard.\r\n    private generateKeyCapLabel(): HTMLDivElement {\r\n      // Create the default key cap labels (letter keys, etc.)\r\n      var x = Codes.keyCodes[this.spec.baseKeyID];\r\n      switch(x) {\r\n        // Converts the keyman key id code for common symbol keys into its representative ASCII code.\r\n        // K_COLON -\u003e K_BKQUOTE\r\n        case 186: x=59; break;\r\n        case 187: x=61; break;\r\n        case 188: x=44; break;\r\n        case 189: x=45; break;\r\n        case 190: x=46; break;\r\n        case 191: x=47; break;\r\n        case 192: x=96; break;\r\n        // K_LBRKT -\u003e K_QUOTE\r\n        case 219: x=91; break;\r\n        case 220: x=92; break;\r\n        case 221: x=93; break;\r\n        case 222: x=39; break;\r\n        default:\r\n          // No other symbol character represents a base key on the standard QWERTY English layout.\r\n          if(x \u003c 48 || x \u003e 90) {\r\n            x=0;\r\n          }\r\n      }\r\n\r\n      if(x \u003e 0) {\r\n        let q = (\u003cKeymanBase\u003ewindow[\u0027keyman\u0027]).util._CreateElement(\u0027div\u0027);\r\n        q.className=\u0027kmw-key-label\u0027;\r\n        q.innerHTML=String.fromCharCode(x);\r\n        return q;\r\n      } else {\r\n        // Keyman-only virtual keys have no corresponding physical key.\r\n        return null;\r\n      }\r\n    }\r\n\r\n    private processSubkeys(btn: KeyElement, osk: VisualKeyboard) {\r\n      // Add reference to subkey array if defined\r\n      var bsn: number, bsk=btn[\u0027subKeys\u0027] = this.spec[\u0027sk\u0027];\r\n      // Transform any special keys into their PUA representations.\r\n      for(bsn=0; bsn\u003cbsk.length; bsn++) {\r\n        if(bsk[bsn][\u0027sp\u0027] == \u00271\u0027 || bsk[bsn][\u0027sp\u0027] == \u00272\u0027) {\r\n          var oldText=bsk[bsn][\u0027text\u0027];\r\n          bsk[bsn][\u0027text\u0027]=this.renameSpecialKey(oldText, osk);\r\n        }\r\n\r\n        // If a subkey doesn\u0027t have a defined layer property, copy it from the base key\u0027s layer by default.\r\n        if(!bsk[bsn].layer) {\r\n          bsk[bsn].layer = btn.key.layer\r\n        }\r\n      }\r\n\r\n      // If a subkey array is defined, add an icon\r\n      var skIcon=(\u003cKeymanBase\u003ewindow[\u0027keyman\u0027]).util._CreateElement(\u0027div\u0027);\r\n      skIcon.className=\u0027kmw-key-popup-icon\u0027;\r\n      //kDiv.appendChild(skIcon);\r\n      btn.appendChild(skIcon);\r\n    }\r\n\r\n    construct(osk: VisualKeyboard, layout: keyboards.LayoutFormFactor, rowStyle: CSSStyleDeclaration, totalPercent: number): {element: HTMLDivElement, percent: number} {\r\n      let util = com.keyman.singleton.util;\r\n      let spec = this.spec;\r\n      let isDesktop = this.formFactor == \"desktop\"\r\n\r\n      let kDiv=util._CreateElement(\u0027div\u0027);\r\n      kDiv.className=\u0027kmw-key-square\u0027;\r\n\r\n      let ks=kDiv.style;\r\n      ks.width=this.objectGeometry(spec[\u0027widthpc\u0027], osk.isStatic);\r\n\r\n      let originalPercent = totalPercent;\r\n\r\n      let btnEle=util._CreateElement(\u0027div\u0027);\r\n      let btn = link(btnEle, new KeyData(this, spec[\u0027id\u0027]));\r\n\r\n      // Set button class\r\n      osk.setButtonClass(spec,btn,layout);\r\n\r\n      // Set key and button positioning properties.\r\n      if(!isDesktop) {\r\n        // Regularize interkey spacing by rounding key width and padding (Build 390)\r\n        ks.left=this.objectGeometry(totalPercent+spec[\u0027padpc\u0027], osk.isStatic);\r\n        if(!osk.isStatic) {\r\n          ks.bottom=rowStyle.bottom;\r\n        }\r\n        ks.height=rowStyle.height;  // must be specified in px for rest of layout to work correctly\r\n\r\n        if(!osk.isStatic) {\r\n          // Set distinct phone and tablet button position properties\r\n          btn.style.left=ks.left;\r\n          btn.style.width=ks.width;\r\n        }\r\n      } else {\r\n        ks.marginLeft=this.objectGeometry(spec[\u0027padpc\u0027], osk.isStatic);\r\n      }\r\n\r\n      totalPercent=totalPercent+spec[\u0027padpc\u0027]+spec[\u0027widthpc\u0027];\r\n\r\n      // Add the (US English) keycap label for layouts requesting display of underlying keys\r\n      if(layout[\"displayUnderlying\"]) {\r\n        let keyCap = this.generateKeyCapLabel();\r\n\r\n        if(keyCap) {\r\n          btn.appendChild(keyCap);\r\n        }\r\n      }\r\n\r\n      // Define each key element id by layer id and key id (duplicate possible for SHIFT - does it matter?)\r\n      btn.id=this.getId(osk);\r\n\r\n      // Define callbacks to handle key touches: iOS and Android tablets and phones\r\n      // TODO: replace inline function calls??\r\n      if(!osk.isStatic \u0026\u0026 !osk.device.touchable) {\r\n        // Highlight key while mouse down or if moving back over originally selected key\r\n        btn.onmouseover=btn.onmousedown=osk.mouseOverMouseDownHandler; // Build 360\r\n\r\n        // Remove highlighting when key released or moving off selected element\r\n        btn.onmouseup=btn.onmouseout=osk.mouseUpMouseOutHandler; //Build 360\r\n      }\r\n\r\n      // Make sure the key text is the element\u0027s first child - processSubkeys()\r\n      // will add an extra element if subkeys exist, which can interfere with\r\n      // keyboard/language name display on the space bar!\r\n      btn.appendChild(this.generateKeyText(osk));\r\n\r\n      // Handle subkey-related tasks.\r\n      if(typeof(spec[\u0027sk\u0027]) != \u0027undefined\u0027 \u0026\u0026 spec[\u0027sk\u0027] != null) {\r\n        this.processSubkeys(btn, osk);\r\n      } else {\r\n        btn[\u0027subKeys\u0027]=null;\r\n      }\r\n\r\n      // Add text to button and button to placeholder div\r\n      kDiv.appendChild(btn);\r\n\r\n      // Prevent user selection of key captions\r\n      //t.style.webkitUserSelect=\u0027none\u0027;\r\n\r\n      // The \u0027return value\u0027 of this process.\r\n      return {element: kDiv, percent: totalPercent - originalPercent};\r\n    }\r\n\r\n    objectGeometry(v: number, isStatic: boolean): string {\r\n      let unit = this.objectUnits(isStatic);\r\n      if(unit == \u0027%\u0027) {\r\n        return v + unit;\r\n      } else { // unit == \u0027px\u0027\r\n        return (Math.round(v*100)/100)+unit; // round to 2 decimal places, making css more readable\r\n      }\r\n    }\r\n  }\r\n\r\n  export class OSKSubKey extends OSKKey {\r\n    constructor(spec: OSKKeySpec, layer: string, formFactor: string) {\r\n      super(spec, layer, formFactor);\r\n    }\r\n\r\n    getId(osk: VisualKeyboard): string {\r\n      let spec = this.spec;\r\n      let core = com.keyman.singleton.core;\r\n      // Create (temporarily) unique ID by prefixing \u0027popup-\u0027 to actual key ID\r\n      if(typeof(this.layer) == \u0027string\u0027 \u0026\u0026 this.layer != \u0027\u0027) {\r\n        return \u0027popup-\u0027+this.layer+\u0027-\u0027+spec[\u0027id\u0027];\r\n      } else {\r\n        // We only create subkeys when they\u0027re needed - the currently-active layer should be fine.\r\n        return \u0027popup-\u0027 + core.keyboardProcessor.layerId + \u0027-\u0027+spec[\u0027id\u0027];\r\n      }\r\n    }\r\n\r\n    construct(osk: VisualKeyboard, baseKey: KeyElement, topMargin: boolean): HTMLDivElement {\r\n      let spec = this.spec;\r\n\r\n      let kDiv=document.createElement(\u0027div\u0027);\r\n      let tKey = osk.getDefaultKeyObject();\r\n      let ks=kDiv.style;\r\n\r\n      for(var tp in tKey) {\r\n        if(typeof spec[tp] != \u0027string\u0027) {\r\n          spec[tp]=tKey[tp];\r\n        }\r\n      }\r\n\r\n      kDiv.className=\u0027kmw-key-square-ex\u0027;\r\n      if(topMargin) {\r\n        ks.marginTop=\u00275px\u0027;\r\n      }\r\n\r\n      if(typeof spec[\u0027width\u0027] != \u0027undefined\u0027) {\r\n        ks.width=(parseInt(spec[\u0027width\u0027],10)*baseKey.offsetWidth/100)+\u0027px\u0027;\r\n      } else {\r\n        ks.width=baseKey.offsetWidth+\u0027px\u0027;\r\n      }\r\n      ks.height=baseKey.offsetHeight+\u0027px\u0027;\r\n\r\n      let btnEle=document.createElement(\u0027div\u0027);\r\n      let btn = link(btnEle, new KeyData(this, spec[\u0027id\u0027]));\r\n\r\n      osk.setButtonClass(spec,btn);\r\n      btn.id = this.getId(osk);\r\n\r\n      // Must set button size (in px) dynamically, not from CSS\r\n      let bs=btn.style;\r\n      bs.height=ks.height;\r\n      bs.lineHeight=baseKey.style.lineHeight;\r\n      bs.width=ks.width;\r\n\r\n      // Must set position explicitly, at least for Android\r\n      bs.position=\u0027absolute\u0027;\r\n\r\n      btn.appendChild(this.generateKeyText(osk));\r\n      kDiv.appendChild(btn);\r\n\r\n      return kDiv;\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n\r\n  export class VisualKeyboard {\r\n    // Defines the PUA code mapping for the various \u0027special\u0027 modifier/control keys on keyboards.\r\n    // `specialCharacters` must be kept in sync with the same variable in builder.js. See also CompileKeymanWeb.pas: CSpecialText10\r\n    static specialCharacters = {\r\n      \u0027*Shift*\u0027:    8,\r\n      \u0027*Enter*\u0027:    5,\r\n      \u0027*Tab*\u0027:      6,\r\n      \u0027*BkSp*\u0027:     4,\r\n      \u0027*Menu*\u0027:     11,\r\n      \u0027*Hide*\u0027:     10,\r\n      \u0027*Alt*\u0027:      25,\r\n      \u0027*Ctrl*\u0027:     1,\r\n      \u0027*Caps*\u0027:     3,\r\n      \u0027*ABC*\u0027:      16,\r\n      \u0027*abc*\u0027:      17,\r\n      \u0027*123*\u0027:      19,\r\n      \u0027*Symbol*\u0027:   21,\r\n      \u0027*Currency*\u0027: 20,\r\n      \u0027*Shifted*\u0027:  8, // set SHIFTED-\u003e9 for filled arrow icon\r\n      \u0027*AltGr*\u0027:    2,\r\n      \u0027*TabLeft*\u0027:  7,\r\n      \u0027*LAlt*\u0027:     0x56,\r\n      \u0027*RAlt*\u0027:     0x57,\r\n      \u0027*LCtrl*\u0027:    0x58,\r\n      \u0027*RCtrl*\u0027:    0x59,\r\n      \u0027*LAltCtrl*\u0027:       0x60,\r\n      \u0027*RAltCtrl*\u0027:       0x61,\r\n      \u0027*LAltCtrlShift*\u0027:  0x62,\r\n      \u0027*RAltCtrlShift*\u0027:  0x63,\r\n      \u0027*AltShift*\u0027:       0x64,\r\n      \u0027*CtrlShift*\u0027:      0x65,\r\n      \u0027*AltCtrlShift*\u0027:   0x66,\r\n      \u0027*LAltShift*\u0027:      0x67,\r\n      \u0027*RAltShift*\u0027:      0x68,\r\n      \u0027*LCtrlShift*\u0027:     0x69,\r\n      \u0027*RCtrlShift*\u0027:     0x70,\r\n      // Added in Keyman 14.0.\r\n      \u0027*LTREnter*\u0027:       0x05, // Default alias of \u0027*Enter*\u0027.\r\n      \u0027*LTRBkSp*\u0027:        0x04, // Default alias of \u0027*BkSp*\u0027.\r\n      \u0027*RTLEnter*\u0027:       0x71,\r\n      \u0027*RTLBkSp*\u0027:        0x72,\r\n      \u0027*ShiftLock*\u0027:      0x73,\r\n      \u0027*ShiftedLock*\u0027:    0x74,\r\n      \u0027*ZWNJ*\u0027:           0x75, // If this one is specified, auto-detection will kick in.\r\n      \u0027*ZWNJiOS*\u0027:        0x75, // The iOS version will be used by default, but the\r\n      \u0027*ZWNJAndroid*\u0027:    0x76, // Android platform has its own default glyph.\r\n    };\r\n\r\n    /**\r\n     * Contains layout properties corresponding to the OSK\u0027s layout.  Needs to be public\r\n     * so that its geometry may be updated on rotations and keyboard resize events, as\r\n     * said geometry needs to be accurate for fat-finger probability calculations.\r\n     */\r\n    layout: keyboards.ActiveLayout;\r\n    layers: keyboards.LayoutLayer[];\r\n    private layerId: string = \"default\";\r\n    readonly isRTL: boolean;\r\n    layerIndex: number;\r\n\r\n    device: Device;\r\n    isStatic: boolean = false;\r\n\r\n    // Stores the base element for this instance of the visual keyboard.\r\n    // Formerly known as osk._DivVKbd\r\n    kbdDiv: HTMLDivElement;\r\n    kbdHelpDiv: HTMLDivElement;\r\n    styleSheet: HTMLStyleElement;\r\n\r\n    _width: number;\r\n    _height: number;\r\n\r\n    // Style-related properties\r\n    fontFamily: string;\r\n    fontSize: string;\r\n\r\n    // State-related properties\r\n    ddOSK: boolean = false;\r\n    popupVisible: boolean;\r\n    keyPending: KeyElement;\r\n    touchPending: Touch;\r\n    deleteKey: KeyElement;\r\n    deleting: number; // Tracks a timer id for repeated deletions.\r\n    nextLayer: string;\r\n    currentKey: string;\r\n\r\n    // Special keys (for the currently-visible layer)\r\n    lgKey: KeyElement;\r\n    hkKey: KeyElement; // hide keyboard key\r\n    spaceBar: KeyElement;\r\n\r\n    // Touch-tracking properties\r\n    touchX: number;\r\n    touchY: number;\r\n    touchCount: number;\r\n    currentTarget: KeyElement;\r\n\r\n    // Popup key management\r\n    popupBaseKey: KeyElement;\r\n    popupPending: boolean = false;\r\n    subkeyDelayTimer: number;\r\n    popupDelay: number = 500;\r\n    menuEvent: KeyElement; // Used by embedded-mode.\r\n    keytip: {key: KeyElement, state: boolean, element?: HTMLDivElement};\r\n    popupCallout: HTMLDivElement;\r\n\r\n    //#region OSK constructor and helpers\r\n\r\n    /**\r\n     * @param       {Object}      PVK         Visual keyboard name\r\n     * @param       {Object}      Lhelp       true if OSK defined for this keyboard\r\n     * @param       {Object}      layout0\r\n     * @param       {Number}      kbdBitmask  Keyboard modifier bitmask\r\n     * Description  Generates the base visual keyboard element, prepping for attachment to KMW\r\n     */\r\n    constructor(keyboard: keyboards.Keyboard, device?: Device, isStatic?: boolean) {\r\n      let keyman = com.keyman.singleton;\r\n      // Ensure the OSK\u0027s current layer is kept up to date.\r\n      keyman.core.keyboardProcessor.layerStore.handler = this.layerChangeHandler;\r\n\r\n      let util = keyman.util;\r\n      this.device = device = device || util.device;\r\n      if(isStatic) {\r\n        this.isStatic = isStatic;\r\n      }\r\n\r\n      // Create the collection of HTML elements from the device-dependent layout object\r\n      var Lkbd=util._CreateElement(\u0027div\u0027);\r\n      let layout: keyboards.ActiveLayout;\r\n      if(keyboard) {\r\n        layout = this.layout = keyboard.layout(device.formFactor as utils.FormFactor);\r\n        this.isRTL = keyboard.isRTL;\r\n      } else {\r\n        // This COULD be called with no backing keyboard; KMW will try to force-show the OSK even without\r\n        // a backing keyboard on mobile, using the most generic default layout as the OSK\u0027s base.\r\n        //\r\n        // In KMW\u0027s current state, it\u0027d take a major break, though - Processor always has an activeKeyboard,\r\n        // even if it\u0027s \"hollow\".\r\n        let rawLayout = keyboards.Layouts.buildDefaultLayout(null, null, device.formFactor);\r\n        layout = this.layout = keyboards.ActiveLayout.polyfill(rawLayout, null, device.formFactor as utils.FormFactor);\r\n        this.isRTL = false;\r\n      }\r\n      this.layers=layout[\u0027layer\u0027];\r\n\r\n      // Override font if specified by keyboard\r\n      if(\u0027font\u0027 in layout) {\r\n        this.fontFamily=layout[\u0027font\u0027];\r\n      } else {\r\n        this.fontFamily=\u0027\u0027;\r\n      }\r\n\r\n      let divLayerContainer = this.deviceDependentLayout(keyboard, device.formFactor as utils.FormFactor);\r\n\r\n      this.ddOSK = true;\r\n\r\n      // Append the OSK layer group container element to the containing element\r\n      //osk.keyMap = divLayerContainer;\r\n      Lkbd.appendChild(divLayerContainer);\r\n\r\n      // Set base class - OS and keyboard added for Build 360\r\n      this.kbdHelpDiv = this.kbdDiv = Lkbd;\r\n\r\n      if(this.isStatic) {\r\n        // The \u0027documentation\u0027 format uses the base element\u0027s child as the actual display base.\r\n        (Lkbd.childNodes[0] as HTMLDivElement).className = device.formFactor + \u0027-static kmw-osk-inner-frame\u0027;\r\n      } else {\r\n        Lkbd.className = device.formFactor + \u0027 kmw-osk-inner-frame\u0027;\r\n      }\r\n    }\r\n\r\n    get width(): number {\r\n      if(this._width) {\r\n        return this._width;\r\n      } else {\r\n        this.loadSizeFromCookie();\r\n        return this.width;\r\n      }\r\n    }\r\n\r\n    get height(): number {\r\n      if(this._height) {\r\n        return this._height;\r\n      } else {\r\n        this.loadSizeFromCookie();\r\n        return this.height;\r\n      }\r\n    }\r\n\r\n    protected loadSizeFromCookie() {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      // If no prior cookie exists, it merely returns an empty object / cookie.\r\n      var c = util.loadCookie(\u0027KeymanWeb_OnScreenKeyboard\u0027);\r\n      var newWidth: number, newHeight: number;\r\n\r\n      // Restore OSK size - font size now fixed in relation to OSK height, unless overridden (in em) by keyboard\r\n      newWidth=util.toNumber(c[\u0027width\u0027], 0.333 * screen.width); // Default - 1/3rd of screen\u0027s width.\r\n\r\n      if(newWidth \u003c 0.2*screen.width) {\r\n        newWidth = 0.2*screen.width;\r\n      } else if(newWidth \u003e 0.9*screen.width) {\r\n        newWidth=0.9*screen.width;\r\n      }\r\n  \r\n      // Default height decision made here: \r\n      // https://github.com/keymanapp/keyman/pull/4279#discussion_r560453929\r\n      newHeight=util.toNumber(c[\u0027height\u0027], 0.333 * newWidth);\r\n\r\n      if(newHeight \u003c 0.15*screen.height) {\r\n        newHeight = 0.15 * screen.height;\r\n      } else if(newHeight \u003e 0.5*screen.height) {\r\n        newHeight=0.5*screen.height;\r\n      }\r\n\r\n      this.setSize(newWidth, newHeight);\r\n    }\r\n\r\n    /**\r\n     * Sets \u0026 tracks the size of the VisualKeyboard\u0027s primary element.\r\n     * @param width \r\n     * @param height \r\n     * @param pending Set to `true` if called during a resizing interaction\r\n     */\r\n    public setSize(width: number, height: number, pending?: boolean) {\r\n      this._width = width;\r\n      this._height = height;\r\n\r\n      if(!pending \u0026\u0026 this.kbdDiv) {\r\n        this.kbdDiv.style.width=this._width+\u0027px\u0027;\r\n        this.kbdDiv.style.height=this._height+\u0027px\u0027;\r\n        this.kbdDiv.style.fontSize=(this._height/8)+\u0027px\u0027;\r\n      }\r\n    }\r\n\r\n    public defaultFontSize(): number {\r\n      return this.height / 8;\r\n    }\r\n\r\n    /**\r\n     * Called by OSKManager after resize operations in order to determine the final\r\n     * size actually used by the visual keyboard.\r\n     */\r\n    public refit() {\r\n      this._width=this.kbdDiv.offsetWidth;\r\n      this._height=this.kbdDiv.offsetHeight;\r\n    }\r\n\r\n    /**\r\n     * Returns the default properties for a key object, used to construct\r\n     * both a base keyboard key and popup keys\r\n     *\r\n     * @return    {Object}    An object that contains default key properties\r\n     */\r\n    getDefaultKeyObject(): OSKKeySpec {\r\n      return new OSKKeySpec(undefined, \u0027\u0027, keyboards.ActiveKey.DEFAULT_KEY.width, keyboards.ActiveKey.DEFAULT_KEY.sp as keyboards.ButtonClass,\r\n          null, keyboards.ActiveKey.DEFAULT_KEY.pad);\r\n    };\r\n\r\n    /**\r\n     * Create the OSK for a particular keyboard and device\r\n     *\r\n     * @param       {Object}              layout      OSK layout definition\r\n     * @param       {string}              formFactor  layout form factor\r\n     * @return      {Object}                          fully formatted OSK object\r\n     */\r\n    deviceDependentLayout(keyboard: keyboards.Keyboard, formFactor: utils.FormFactor): HTMLDivElement {\r\n      if(!keyboard) {\r\n        // May occasionally be null in embedded contexts; have seen this when iOS engine sets\r\n        // keyboard height during change of keyboards.\r\n        keyboard = new keyboards.Keyboard(null);\r\n      }\r\n      let layout = keyboard.layout(formFactor);\r\n      let util = com.keyman.singleton.util;\r\n      let oskManager = com.keyman.singleton.osk;\r\n      let rowsPercent = 100;\r\n\r\n      var lDiv=util._CreateElement(\u0027div\u0027), ls=lDiv.style, totalHeight=0;\r\n\r\n      // Set OSK box default style\r\n      lDiv.className=\u0027kmw-key-layer-group\u0027;\r\n\r\n      // Adjust OSK height for mobile and tablet devices TODO move outside this function???\r\n      switch(formFactor) {\r\n        case \u0027phone\u0027:\r\n        case \u0027tablet\u0027:\r\n          totalHeight=oskManager.getHeight();\r\n          ls.height=totalHeight+\u0027px\u0027;\r\n          rowsPercent = Math.round(100*oskManager.getKeyboardHeight()/totalHeight );\r\n          break;\r\n      }\r\n\r\n      // Return empty DIV if no layout defined\r\n      if(layout == null) {\r\n        return lDiv;\r\n      }\r\n\r\n      // Set default OSK font size (Build 344, KMEW-90)\r\n      let layoutFS = layout[\u0027fontsize\u0027];\r\n      if(typeof layoutFS == \u0027undefined\u0027 || layoutFS == null || layoutFS == \u0027\u0027) {\r\n        ls.fontSize=\u00271em\u0027;\r\n      } else {\r\n        ls.fontSize=layout[\u0027fontsize\u0027];\r\n      }\r\n\r\n      this.fontSize=ls.fontSize;       //TODO: move outside function*********\r\n\r\n      // Create a separate OSK div for each OSK layer, only one of which will ever be visible\r\n      var n: number, i: number, j: number;\r\n      var layers: keyboards.LayoutLayer[], gDiv: HTMLDivElement;\r\n      var rowHeight: number, rDiv: HTMLDivElement;\r\n      var keys: keyboards.LayoutKey[], key: keyboards.LayoutKey, rs: CSSStyleDeclaration, gs: CSSStyleDeclaration;\r\n\r\n      layers=layout[\u0027layer\u0027];\r\n\r\n      // Set key default attributes (must use exportable names!)\r\n      var tKey=this.getDefaultKeyObject();\r\n      tKey[\u0027fontsize\u0027]=ls.fontSize;\r\n\r\n      // Identify key labels (e.g. *Shift*) that require the special OSK font\r\n      var specialLabel=/\\*\\w+\\*/;\r\n\r\n      // ***Delete any empty rows at the end added by compiler bug...\r\n      for(n=0; n\u003clayers.length; n++) {\r\n        let layer=layers[n];\r\n        let rows=layer[\u0027row\u0027];\r\n        for(i=rows.length; i\u003e0; i--) {\r\n          if(rows[i-1][\u0027key\u0027].length \u003e 0) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        if(i \u003c rows.length) {\r\n          rows.splice(i-rows.length,rows.length-i);\r\n        }\r\n      }\r\n      // ...remove to here when compiler bug fixed ***\r\n\r\n      // Set the OSK row height, **assuming all layers have the same number of rows**\r\n\r\n      // Calculate default row height\r\n      rowHeight = rowsPercent/layers[0].row.length;\r\n\r\n      // For desktop OSK, use a percentage of the OSK height\r\n      if(formFactor == \u0027desktop\u0027) {\r\n        rowHeight = rowsPercent/layers[0].row.length;\r\n      }\r\n\r\n      // Get the actual available document width and scale factor according to device type\r\n      var objectWidth : number;\r\n      if(formFactor == \u0027desktop\u0027 || this.isStatic) {\r\n        objectWidth = 100;\r\n      } else {\r\n        objectWidth = oskManager.getWidth();\r\n      }\r\n\r\n      if(!this.isStatic \u0026\u0026 this.device.touchable) { //  /*\u0026\u0026 (\u0027ontouchstart\u0027 in window)*/ // Except Chrome emulation doesn\u0027t set this.\r\n                                                                        // Not to mention, it\u0027s rather redundant.\r\n        lDiv.addEventListener(\u0027touchstart\u0027, this.touch, true);\r\n        // The listener below fails to capture when performing automated testing checks in Chrome emulation unless \u0027true\u0027.\r\n        lDiv.addEventListener(\u0027touchend\u0027, this.release,true);\r\n        lDiv.addEventListener(\u0027touchmove\u0027, this.moveOver,false);\r\n        //lDiv.addEventListener(\u0027touchcancel\u0027, osk.cancel,false); //event never generated by iOS\r\n      }\r\n\r\n      let precalibrated = (keyboard.getLayoutState(formFactor) == keyboards.LayoutState.CALIBRATED);\r\n\r\n      for(n=0; n\u003clayers.length; n++) {\r\n        let layer=layers[n] as keyboards.ActiveLayer;\r\n        gDiv=util._CreateElement(\u0027div\u0027), gs=gDiv.style;\r\n        gDiv.className=\u0027kmw-key-layer\u0027;\r\n\r\n        // Always make the first layer visible\r\n        gs.display=(n==0?\u0027block\u0027:\u0027none\u0027);\r\n        gs.height=ls.height;\r\n\r\n        // Set font for layer if defined in layout\r\n        if(\u0027font\u0027 in layout) gs.fontFamily=layout[\u0027font\u0027]; else gs.fontFamily=\u0027\u0027;\r\n\r\n        gDiv[\u0027layer\u0027]=gDiv[\u0027nextLayer\u0027]=layer[\u0027id\u0027];\r\n        if(typeof layer[\u0027nextlayer\u0027] == \u0027string\u0027) gDiv[\u0027nextLayer\u0027]=layer[\u0027nextlayer\u0027];\r\n\r\n        // Create a DIV for each row of the group\r\n        let rows=layer[\u0027row\u0027];\r\n\r\n        for(i=0; i\u003crows.length; i++) {\r\n          rDiv=util._CreateElement(\u0027div\u0027);\r\n          rDiv.className=\u0027kmw-key-row\u0027;\r\n          // The following event trap is needed to prevent loss of focus in IE9 when clicking on a key gap.\r\n          // Unclear why normal _CreateElement prevention of loss of focus does not seem to work here.\r\n          // Appending handler to event handler chain does not work (other event handling remains active).\r\n          rDiv.onmousedown=util.mouseDownPreventDefaultHandler; // Build 360\r\n          //util.attachDOMEvent(rDiv,\u0027mousedown\u0027,function(e){if(e)e.preventDefault();\r\n\r\n          let row=rows[i];\r\n          rs=rDiv.style;\r\n\r\n          // Set row height. (Phone and tablet heights are later recalculated\r\n          // and set in px, allowing for viewport scaling.)\r\n          rs.maxHeight=rs.height=rowHeight+\u0027%\u0027;\r\n\r\n          // Apply defaults, setting the width and other undefined properties for each key\r\n          keys=row[\u0027key\u0027];\r\n\r\n          if(!precalibrated || this.isStatic) {\r\n            // Calculate actual key widths by multiplying by the OSK\u0027s width and rounding appropriately,\r\n            // adjusting the width of the last key to make the total exactly 100%.\r\n            // Overwrite the previously-computed percent.\r\n            // NB: the \u0027percent\u0027 suffix is historical, units are percent on desktop devices, but pixels on touch devices\r\n            // All key widths and paddings are rounded for uniformity\r\n            var keyPercent: number, padPercent: number, totalPercent=0;\r\n            for(j=0; j\u003ckeys.length-1; j++) {\r\n              keyPercent = keys[j][\u0027widthpc\u0027] * objectWidth;\r\n              keys[j][\u0027widthpc\u0027]=keyPercent;\r\n              padPercent = keys[j][\u0027padpc\u0027] * objectWidth;\r\n              keys[j][\u0027padpc\u0027]=padPercent;\r\n\r\n              // Recompute center\u0027s x-coord with exact, in-browser values.\r\n              (\u003ckeyboards.ActiveKey\u003e keys[j]).proportionalX = (totalPercent + padPercent + (keyPercent/2))/objectWidth;\r\n              (\u003ckeyboards.ActiveKey\u003e keys[j]).proportionalWidth = keyPercent / objectWidth;\r\n\r\n              totalPercent += padPercent+keyPercent;\r\n            }\r\n\r\n            // Allow for right OSK margin (15 layout units)\r\n            let rightMargin = keyboards.ActiveKey.DEFAULT_RIGHT_MARGIN*objectWidth/layer.totalWidth;\r\n            totalPercent += rightMargin;\r\n\r\n            // If a single key, and padding is negative, add padding to right align the key\r\n            if(keys.length == 1 \u0026\u0026 parseInt(keys[0][\u0027pad\u0027],10) \u003c 0) {\r\n              keyPercent = keys[0][\u0027widthpc\u0027] * objectWidth;\r\n              keys[0][\u0027widthpc\u0027]=keyPercent;\r\n              totalPercent += keyPercent;\r\n              keys[0][\u0027padpc\u0027]=(objectWidth-totalPercent);\r\n\r\n              // Recompute center\u0027s x-coord with exact, in-browser values.\r\n              (\u003ckeyboards.ActiveKey\u003e keys[0]).proportionalX = (totalPercent - rightMargin - keyPercent/2)/objectWidth;\r\n              (\u003ckeyboards.ActiveKey\u003e keys[0]).proportionalWidth = keyPercent / objectWidth;\r\n            } else if(keys.length \u003e 0) {\r\n              j=keys.length-1;\r\n              padPercent = keys[j][\u0027padpc\u0027] * objectWidth;\r\n              keys[j][\u0027padpc\u0027]=padPercent;\r\n              totalPercent += padPercent;\r\n              keys[j][\u0027widthpc\u0027]= keyPercent = (objectWidth-totalPercent);\r\n\r\n              // Recompute center\u0027s x-coord with exact, in-browser values.\r\n              (\u003ckeyboards.ActiveKey\u003e keys[j]).proportionalX = (objectWidth - rightMargin - keyPercent/2)/objectWidth;\r\n              (\u003ckeyboards.ActiveKey\u003e keys[j]).proportionalWidth = keyPercent / objectWidth;\r\n            }\r\n          }\r\n\r\n          //Create the key square (an outer DIV) for each key element with padding, and an inner DIV for the button (btn)\r\n          totalPercent=0;\r\n          for(j=0; j\u003ckeys.length; j++) {\r\n            key=keys[j];\r\n\r\n            var keyGenerator = new OSKBaseKey(key as OSKKeySpec, layer[\u0027id\u0027], formFactor);\r\n            var keyTuple = keyGenerator.construct(this, layout, rs, totalPercent);\r\n\r\n            rDiv.appendChild(keyTuple.element);\r\n            totalPercent += keyTuple.percent;\r\n          }\r\n          // Add row to layer\r\n          gDiv.appendChild(rDiv);\r\n        }\r\n        // Add layer to group\r\n        lDiv.appendChild(gDiv);\r\n      }\r\n\r\n      // Now that we\u0027ve properly processed the keyboard\u0027s layout, mark it as calibrated.\r\n      keyboard.markLayoutCalibrated(formFactor);\r\n      return lDiv;\r\n    }\r\n    //#endregion\r\n\r\n    layerChangeHandler: text.SystemStoreMutationHandler = function(this: VisualKeyboard,\r\n                                                                   source: text.MutableSystemStore,\r\n                                                                   newValue: string) {\r\n      if(source.value != newValue) {\r\n        this.layerId = newValue;\r\n        let keyman = com.keyman.singleton;\r\n        keyman.osk._Show();\r\n      }\r\n    }.bind(this);\r\n\r\n    //#region OSK touch handlers\r\n    getTouchCoordinatesOnKeyboard(touch: Touch) {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      // We need to compute the \u0027local\u0027, keyboard-based coordinates for the touch.\r\n      let kbdCoords = keyman.util.getAbsolute(this.kbdDiv.firstChild as HTMLElement);\r\n      let offsetCoords = {x: touch.pageX - kbdCoords.x, y: touch.pageY - kbdCoords.y};\r\n\r\n      let layerGroup = this.kbdDiv.firstChild as HTMLDivElement;  // Always has proper dimensions, unlike kbdDiv itself.\r\n      offsetCoords.x /= layerGroup.offsetWidth;\r\n      offsetCoords.y /= layerGroup.offsetHeight;\r\n\r\n      return offsetCoords;\r\n    }\r\n\r\n    getTouchProbabilities(touch: Touch): text.KeyDistribution {\r\n      let keyman = com.keyman.singleton;\r\n      if(!keyman.core.languageProcessor.mayCorrect) {\r\n        return null;\r\n      }\r\n\r\n      // Note:  if subkeys are active, they will still be displayed at this time.\r\n      // TODO:  In such cases, we should build an ActiveLayout (of sorts) for subkey displays,\r\n      //        update their geometries to the actual display values, and use the results here.\r\n      let touchKbdPos = this.getTouchCoordinatesOnKeyboard(touch);\r\n      let layerGroup = this.kbdDiv.firstChild as HTMLDivElement;  // Always has proper dimensions, unlike kbdDiv itself.\r\n      let width = layerGroup.offsetWidth, height = layerGroup.offsetHeight;\r\n      // Prevent NaN breakages.\r\n      if(!width || !height) {\r\n        return null;\r\n      }\r\n      let baseKeyProbabilities = this.layout.getLayer(this.layerId).getTouchProbabilities(touchKbdPos, layerGroup.offsetWidth / layerGroup.offsetHeight);\r\n\r\n      if(!this.popupBaseKey || !this.popupBaseKey.key) {\r\n        return baseKeyProbabilities;\r\n      } else {\r\n        // A temp-hack, as this was noted just before 14.0\u0027s release.\r\n        // Since a more... comprehensive solution would be way too complex this late in the game,\r\n        // this provides a half-decent stopgap measure.\r\n        //\r\n        // Will not correct to nearby subkeys; only includes the selected subkey and its base keys.\r\n        // Still, better than ignoring them both for whatever base key is beneath the final cursor location.\r\n        let baseMass = 1.0;\r\n\r\n        let baseKeyMass = 1.0;\r\n        let baseKeyID = this.popupBaseKey.key.spec.coreID;\r\n\r\n        let popupKeyMass = 0.0;\r\n        let popupKeyID: string = null;\r\n\r\n        // Note:  when embedded on Android (as of 14.0, at least), we don\u0027t get access to this.\r\n        // Just the base key.\r\n        if(this.keyPending \u0026\u0026 this.keyPending.key) {\r\n          popupKeyMass = 3.0;\r\n          popupKeyID = this.keyPending.key.spec.coreID;\r\n        }\r\n\r\n        // If the base key appears in the subkey array and was selected, merge the probability masses.\r\n        if(popupKeyID == baseKeyID) {\r\n          baseKeyMass += popupKeyMass;\r\n          popupKeyMass = 0;\r\n        } else {\r\n          // We namespace it so that lookup operations know to find it via its base key.\r\n          popupKeyID = `${baseKeyID}::${popupKeyID}`;\r\n        }\r\n\r\n        // Compute the normalization factor\r\n        let totalMass = baseMass + baseKeyMass + popupKeyMass;\r\n        let scalar = 1.0 / totalMass;\r\n\r\n        // Prevent duplicate entries in the final map \u0026 normalize the remaining entries!\r\n        for(let i=0; i \u003c baseKeyProbabilities.length; i++) {\r\n          let entry = baseKeyProbabilities[i];\r\n          if(entry.keyId == baseKeyID) {\r\n            baseKeyMass += entry.p * scalar;\r\n            baseKeyProbabilities.splice(i, 1);\r\n            i--;\r\n          } else if(entry.keyId == popupKeyID) {\r\n            popupKeyMass =+ entry.p * scalar;\r\n            baseKeyProbabilities.splice(i, 1);\r\n            i--;\r\n          } else {\r\n            entry.p *= scalar;\r\n          }\r\n        }\r\n\r\n        let finalArray: {keyId: string, p: number}[] = [];\r\n\r\n        if(popupKeyMass \u003e 0) {\r\n          finalArray.push({keyId: popupKeyID, p: popupKeyMass * scalar});\r\n        }\r\n\r\n        finalArray.push({keyId: baseKeyID, p: baseKeyMass * scalar});\r\n\r\n        finalArray = finalArray.concat(baseKeyProbabilities);\r\n        return finalArray;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * The main OSK touch start event handler\r\n     *\r\n     *  @param  {Event} e   touch start event object\r\n     *\r\n     */\r\n    touch: (e: TouchEvent) =\u003e void = function(this: VisualKeyboard, e: TouchEvent) {\r\n      // Identify the key touched\r\n      var t = \u003cHTMLElement\u003e e.changedTouches[0].target, key = this.keyTarget(t);\r\n\r\n      // Save the touch point\r\n      this.touchX = e.changedTouches[0].pageX;\r\n\r\n      // Set the key for the new touch point to be current target, if defined\r\n      this.currentTarget = key;\r\n\r\n      // Clear repeated backspace if active, preventing \u0027sticky\u0027 behavior.\r\n      this.cancelDelete();\r\n\r\n      // Prevent multi-touch if popup displayed\r\n      var sk = document.getElementById(\u0027kmw-popup-keys\u0027);\r\n      if((sk \u0026\u0026 sk.style.visibility == \u0027visible\u0027) || this.popupVisible) {\r\n        return;\r\n      }\r\n\r\n      // Keep track of number of active (unreleased) touch points\r\n      this.touchCount = e.touches.length;\r\n\r\n      // Get nearest key if touching a hidden key or the end of a key row\r\n      if((key \u0026\u0026 ((key.className.indexOf(\u0027key-hidden\u0027) \u003e= 0) || (key.className.indexOf(\u0027key-blank\u0027) \u003e= 0)))\r\n        || t.className.indexOf(\u0027kmw-key-row\u0027) \u003e= 0) {\r\n        key = this.findNearestKey(e,t);\r\n      }\r\n      // Do not do anything if no key identified!\r\n      if(key == null) {\r\n        return;\r\n      }\r\n\r\n      // Get key name (K_...) from element ID\r\n      let keyName = key[\u0027keyId\u0027];\r\n\r\n      // Highlight the touched key\r\n      this.highlightKey(key,true);\r\n\r\n      // Special function keys need immediate action\r\n      if(keyName == \u0027K_LOPT\u0027 || keyName == \u0027K_ROPT\u0027)      {\r\n        window.setTimeout(function(this: VisualKeyboard){\r\n          PreProcessor.clickKey(key);\r\n          // Because we immediately process the key, we need to re-highlight it after the click.\r\n          this.highlightKey(key, true);\r\n          // Highlighting\u0027ll be cleared automatically later.\r\n        }.bind(this),0);\r\n        this.keyPending = null;\r\n        this.touchPending = null;\r\n\r\n        // Also backspace, to allow delete to repeat while key held\r\n      } else if(keyName == \u0027K_BKSP\u0027) {\r\n        let touchProbabilities = this.getTouchProbabilities(e.changedTouches[0]);\r\n        // While we could inline the execution of the delete key here, we lose the ability to\r\n        // record the backspace key if we do so.\r\n        PreProcessor.clickKey(key, e.changedTouches[0], this.layerId, touchProbabilities);\r\n        this.deleteKey = key;\r\n        this.deleting = window.setTimeout(this.repeatDelete,500);\r\n        this.keyPending = null;\r\n        this.touchPending = null;\r\n      } else {\r\n        if(this.keyPending) {\r\n          this.highlightKey(this.keyPending, false);\r\n          let touchProbabilities = this.getTouchProbabilities(this.touchPending);\r\n          PreProcessor.clickKey(this.keyPending, this.touchPending, this.layerId, touchProbabilities);\r\n          this.clearPopup();\r\n          // Decrement the number of unreleased touch points to prevent\r\n          // sending the keystroke again when the key is actually released\r\n          this.touchCount--;\r\n        } else {\r\n          // If this key has subkey, start timer to display subkeys after delay, set up release\r\n          this.touchHold(key);\r\n        }\r\n        this.keyPending = key;\r\n        this.touchPending = e.changedTouches[0];\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * OSK touch release event handler\r\n     *\r\n     *  @param  {Event} e   touch release event object\r\n     *\r\n     **/\r\n    release: (e: TouchEvent) =\u003e void = function(this: VisualKeyboard, e: TouchEvent) {\r\n      // Prevent incorrect multi-touch behaviour if native or device popup visible\r\n      var sk = document.getElementById(\u0027kmw-popup-keys\u0027), t = this.currentTarget;\r\n\r\n      // Clear repeated backspace if active, preventing \u0027sticky\u0027 behavior.\r\n      this.cancelDelete();\r\n\r\n      if((sk \u0026\u0026 sk.style.visibility == \u0027visible\u0027)) {\r\n        // Ignore release if a multiple touch\r\n        if(e.touches.length \u003e 0) {\r\n          return;\r\n        }\r\n\r\n        // Cancel (but do not execute) pending key if neither a popup key or the base key\r\n        if((t == null) || ((t.id.indexOf(\u0027popup\u0027) \u003c 0) \u0026\u0026 (t.id != this.popupBaseKey.id))) {\r\n          this.highlightKey(this.keyPending,false);\r\n          this.clearPopup();\r\n          this.keyPending = null;\r\n          this.touchPending = null;\r\n        }\r\n      }\r\n\r\n      // Only set when embedded in our Android/iOS app.  Signals that the device is handling\r\n      // subkeys, so we shouldn\u0027t allow output for the base key.\r\n      //\r\n      // Note that on iOS (at least), this.release() will trigger before kmwembedded.ts\u0027s\r\n      // executePopupKey() function.\r\n      if(this.popupVisible) {\r\n        return;\r\n      }\r\n\r\n      // Handle menu key release event\r\n      if(t \u0026\u0026 t.id) {\r\n        this.optionKey(t, t.id, false);\r\n      }\r\n\r\n      // Test if moved off screen (effective release point must be corrected for touch point horizontal speed)\r\n      // This is not completely effective and needs some tweaking, especially on Android\r\n      var x = e.changedTouches[0].pageX;\r\n      var beyondEdge = ((x \u003c 2 \u0026\u0026 this.touchX \u003e 5) || (x \u003e window.innerWidth - 2 \u0026\u0026 this.touchX \u003c window.innerWidth - 5));\r\n\r\n      // Save then decrement current touch count\r\n      var tc=this.touchCount;\r\n      if(this.touchCount \u003e 0) {\r\n        this.touchCount--;\r\n      }\r\n\r\n      // Process and clear highlighting of pending target\r\n      if(this.keyPending) {\r\n        this.highlightKey(this.keyPending,false);\r\n\r\n        // Output character unless moved off key\r\n        if(this.keyPending.className.indexOf(\u0027hidden\u0027) \u003c 0 \u0026\u0026 tc \u003e 0 \u0026\u0026 !beyondEdge) {\r\n          let touchProbabilities = this.getTouchProbabilities(e.changedTouches[0]);\r\n          PreProcessor.clickKey(this.keyPending, e.changedTouches[0], this.layerId, touchProbabilities);\r\n        }\r\n        this.clearPopup();\r\n        this.keyPending = null;\r\n        this.touchPending = null;\r\n        // Always clear highlighting of current target on release (multi-touch)\r\n      } else {\r\n        var tt = e.changedTouches[0];\r\n        t = this.keyTarget(tt.target);\r\n        if(!t) {\r\n          var t1 = document.elementFromPoint(tt.clientX,tt.clientY);\r\n          t = this.findNearestKey(e, \u003cHTMLElement\u003e t1);\r\n        }\r\n\r\n        this.highlightKey(t,false);\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * OSK touch move event handler\r\n     *\r\n     *  @param  {Event} e   touch move event object\r\n     *\r\n     **/\r\n    moveOver: (e: TouchEvent) =\u003e void = function(this: VisualKeyboard, e: TouchEvent) {\r\n      let util = com.keyman.singleton.util;\r\n      e.preventDefault();\r\n      e.cancelBubble=true;\r\n\r\n      if(typeof e.stopImmediatePropagation == \u0027function\u0027) {\r\n        e.stopImmediatePropagation();\r\n      } else if(typeof e.stopPropagation == \u0027function\u0027) {\r\n        e.stopPropagation();\r\n      }\r\n\r\n      // Shouldn\u0027t be possible, but just in case.\r\n      if(this.touchCount == 0) {\r\n        this.cancelDelete();\r\n        return;\r\n      }\r\n\r\n      // Get touch position\r\n      var x=typeof e.touches == \u0027object\u0027 ? e.touches[0].clientX : e.clientX,\r\n          y=typeof e.touches == \u0027object\u0027 ? e.touches[0].clientY : e.clientY;\r\n\r\n      // Move target key and highlighting\r\n      var t = this.touchPending = e.changedTouches[0],\r\n          t1 = \u003cHTMLElement\u003e document.elementFromPoint(x,y),\r\n          key0 = this.keyPending,\r\n          key1 = this.keyTarget(t1); // Not only gets base keys, but also gets popup keys!\r\n\r\n      // Find the nearest key to the touch point if not on a visible key\r\n      if((key1 \u0026\u0026 key1.className.indexOf(\u0027key-hidden\u0027) \u003e= 0) ||\r\n        (t1 \u0026\u0026 (!key1) \u0026\u0026 t1.className.indexOf(\u0027key-row\u0027) \u003e= 0)) {\r\n          key1 = this.findNearestKey(e,t1);\r\n      }\r\n\r\n      // Stop repeat if no longer on BKSP key\r\n      if(key1 \u0026\u0026 (typeof key1.id == \u0027string\u0027) \u0026\u0026 (key1.id.indexOf(\u0027-K_BKSP\u0027) \u003c 0)) {\r\n        this.cancelDelete();\r\n      }\r\n\r\n      // Do not attempt to support reselection of target key for overlapped keystrokes.\r\n      // Perform _after_ ensuring possible sticky keys have been cancelled.\r\n      if(e.touches.length \u003e 1) {\r\n        return;\r\n      }\r\n\r\n      // Do not move over keys if device popup visible\r\n      if(this.popupVisible) {\r\n        if(key1 == null) {\r\n          if(key0) {\r\n            this.highlightKey(key0,false);\r\n          }\r\n          this.keyPending=null;\r\n          this.touchPending=null;\r\n        } else {\r\n          if(key1 == this.popupBaseKey) {\r\n            if(!util.hasClass(key1,\u0027kmw-key-touched\u0027)) {\r\n              this.highlightKey(key1,true);\r\n            }\r\n            this.keyPending = key1;\r\n            this.touchPending = e.touches[0];\r\n          } else {\r\n            if(key0) {\r\n              this.highlightKey(key0,false);\r\n            }\r\n            this.keyPending = null;\r\n            this.touchPending = null;\r\n          }\r\n        }\r\n        return;\r\n      }\r\n\r\n      var sk=document.getElementById(\u0027kmw-popup-keys\u0027);\r\n\r\n      // Use the popup duplicate of the base key if a phone with a visible popup array\r\n      if(sk \u0026\u0026 sk.style.visibility == \u0027visible\u0027 \u0026\u0026 this.device.formFactor == \u0027phone\u0027 \u0026\u0026 key1 == this.popupBaseKey) {\r\n        key1 = \u003cKeyElement\u003e sk.childNodes[0].firstChild;\r\n      }\r\n\r\n      // Identify current touch position (to manage off-key release)\r\n      this.currentTarget = key1;\r\n\r\n      // Clear previous key highlighting\r\n      if(key0 \u0026\u0026 key1 \u0026\u0026 key1 !== key0) {\r\n        this.highlightKey(key0,false);\r\n      }\r\n\r\n      // If popup is visible, need to move over popup, not over main keyboard\r\n      this.highlightSubKeys(key1,x,y);\r\n\r\n      if(sk \u0026\u0026 sk.style.visibility == \u0027visible\u0027) {\r\n        // Once a subkey array is displayed, do not allow changing the base key.\r\n        // Keep that array visible and accept no other options until the touch ends.\r\n        if(key1 \u0026\u0026 key1.id.indexOf(\u0027popup\u0027) \u003c 0 \u0026\u0026 key1 != this.popupBaseKey) {\r\n          return;\r\n        }\r\n\r\n        // Highlight the base key on devices that do not append it to the subkey array.\r\n        if(key1 \u0026\u0026 key1 == this.popupBaseKey \u0026\u0026 key1.className.indexOf(\u0027kmw-key-touched\u0027) \u003c 0) {\r\n          this.highlightKey(key1,true);\r\n        }\r\n        // Cancel touch if moved up and off keyboard, unless popup keys visible\r\n      } else {\r\n        // _Box has (most of) the useful client values.\r\n        let keyman = com.keyman.singleton;\r\n        let _Box = this.kbdDiv.parentElement ? this.kbdDiv.parentElement : keyman.osk._Box;\r\n        let height = (this.kbdDiv.firstChild as HTMLElement).offsetHeight; // firstChild == layer-group, has height info.\r\n        // We need to adjust the offset properties by any offsets related to the active banner.\r\n\r\n        var yMin = (this.kbdDiv \u0026\u0026 _Box) ? Math.max(5, this.kbdDiv.offsetTop + _Box.offsetTop - 0.25*height) : 5;\r\n        if(key0 \u0026\u0026 e.touches[0].pageY \u003c yMin) {\r\n          this.highlightKey(key0,false);\r\n          this.showKeyTip(null,false);\r\n          this.keyPending = null;\r\n          this.touchPending = null;\r\n        }\r\n      }\r\n\r\n      // Replace the target key, if any, by the new target key\r\n      // Do not replace a null target, as that indicates the key has already been released\r\n      if(key1 \u0026\u0026 this.keyPending) {\r\n        this.keyPending = key1;\r\n        this.touchPending = e.touches[0];\r\n      }\r\n\r\n      if(this.keyPending) {\r\n        if(key0 != key1 || key1.className.indexOf(\u0027kmw-key-touched\u0027) \u003c 0) {\r\n          this.highlightKey(key1,true);\r\n        }\r\n      }\r\n\r\n      if(key0 \u0026\u0026 key1 \u0026\u0026 (key1 != key0) \u0026\u0026 (key1.id != \u0027\u0027)) {\r\n        //  Display the touch-hold keys (after a pause)\r\n        this.touchHold(key1);\r\n        /*\r\n        // Clear and restart the popup timer\r\n        if(this.subkeyDelayTimer)\r\n        {\r\n          window.clearTimeout(this.subkeyDelayTimer);\r\n          this.subkeyDelayTimer = null;\r\n        }\r\n        if(key1.subKeys != null)\r\n        {\r\n          this.subkeyDelayTimer = window.setTimeout(\r\n            function()\r\n            {\r\n              this.clearPopup();\r\n              this.showSubKeys(key1);\r\n            }.bind(this),\r\n            this.popupDelay);\r\n        }\r\n        */\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Get the current key target from the touch point element within the key\r\n     *\r\n     * @param   {Object}  t   element at touch point\r\n     * @return  {Object}      the key element (or null)\r\n     **/\r\n    keyTarget(target: HTMLElement | EventTarget): KeyElement {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n      let t = \u003cHTMLElement\u003e target;\r\n\r\n      try {\r\n        if(t) {\r\n          if(util.hasClass(t,\u0027kmw-key\u0027)) {\r\n            return getKeyFrom(t);\r\n          }\r\n          if(t.parentNode \u0026\u0026 util.hasClass(\u003cHTMLElement\u003e t.parentNode,\u0027kmw-key\u0027)) {\r\n            return getKeyFrom(t.parentNode);\r\n          }\r\n          if(t.firstChild \u0026\u0026 util.hasClass(\u003cHTMLElement\u003e t.firstChild,\u0027kmw-key\u0027)) {\r\n            return getKeyFrom(t.firstChild);\r\n          }\r\n        }\r\n      } catch(ex) {}\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * Identify the key nearest to the touch point if at the end of a key row,\r\n     * but return null more than about 0.6 key width from the nearest key.\r\n     *\r\n     *  @param  {Event}   e   touch event\r\n     *  @param  {Object}  t   HTML object at touch point\r\n     *  @return {Object}      nearest key to touch point\r\n     *\r\n     **/\r\n    findNearestKey(e: TouchEvent, t: HTMLElement): KeyElement {\r\n      if((!e) || (typeof e.changedTouches == \u0027undefined\u0027)\r\n        || (e.changedTouches.length == 0)) {\r\n        return null;\r\n      }\r\n\r\n      // Get touch point on screen\r\n      var x = e.changedTouches[0].pageX;\r\n\r\n      // Get key-row beneath touch point\r\n      while(t \u0026\u0026 t.className !== undefined \u0026\u0026 t.className.indexOf(\u0027key-row\u0027) \u003c 0) {\r\n        t = \u003cHTMLElement\u003e t.parentNode;\r\n      }\r\n      if(!t) {\r\n        return null;\r\n      }\r\n\r\n      // Find minimum distance from any key\r\n      var k, k0=0, dx, dxMax=24, dxMin=100000, x1, x2;\r\n      for(k = 0; k \u003c t.childNodes.length; k++) {\r\n        let keySquare = t.childNodes[k] as HTMLElement; // gets the .kmw-key-square containing a key\r\n        // Find the actual key element.\r\n        let childNode = keySquare.firstChild ? keySquare.firstChild as HTMLElement: keySquare;\r\n\r\n        if(childNode.className !== undefined\r\n            \u0026\u0026 (childNode.className.indexOf(\u0027key-hidden\u0027) \u003e= 0\r\n             || childNode.className.indexOf(\u0027key-blank\u0027) \u003e= 0)) {\r\n          continue;\r\n        }\r\n        x1 = keySquare.offsetLeft;\r\n        x2 = x1 + keySquare.offsetWidth;\r\n        if(x \u003e= x1 \u0026\u0026 x \u003c= x2) {\r\n          // Within the key square\r\n          return \u003cKeyElement\u003e childNode;\r\n        }\r\n        dx = x1 - x;\r\n        if(dx \u003e= 0 \u0026\u0026 dx \u003c dxMin) {\r\n          // To right of key\r\n          k0 = k; dxMin = dx;\r\n        }\r\n        dx = x - x2;\r\n        if(dx \u003e= 0 \u0026\u0026 dx \u003c dxMin) {\r\n          // To left of key\r\n          k0 = k; dxMin = dx;\r\n        }\r\n      }\r\n\r\n      if(dxMin \u003c 100000) {\r\n        t = \u003cHTMLElement\u003e t.childNodes[k0];\r\n        x1 = t.offsetLeft;\r\n        x2 = x1 + t.offsetWidth;\r\n\r\n        // Limit extended touch area to the larger of 0.6 of key width and 24 px\r\n        if(t.offsetWidth \u003e 40) {\r\n          dxMax = 0.6 * t.offsetWidth;\r\n        }\r\n\r\n        if(((x1 - x) \u003e= 0 \u0026\u0026 (x1 - x) \u003c dxMax) || ((x - x2) \u003e= 0 \u0026\u0026 (x - x2) \u003c dxMax)) {\r\n          return \u003cKeyElement\u003e t.firstChild;\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     *  Repeat backspace as long as the backspace key is held down\r\n     **/\r\n    repeatDelete: () =\u003e void = function(this: VisualKeyboard) {\r\n      if(this.deleting) {\r\n        PreProcessor.clickKey(this.deleteKey);\r\n        this.deleting = window.setTimeout(this.repeatDelete,100);\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Cancels any active repeatDelete() timeouts, ensuring that\r\n     * repeating backspace operations are properly terminated.\r\n     */\r\n    cancelDelete() {\r\n      // Clears the delete-repeating timeout.\r\n      if(this.deleting) {\r\n        window.clearTimeout(this.deleting);\r\n      }\r\n      this.deleting = 0;\r\n    }\r\n    //#endregion\r\n\r\n    // cancel = function(e) {} //cancel event is never generated by iOS\r\n\r\n    /**\r\n     * Function     findKeyElement\r\n     * Scope        Private\r\n     * @param       {string}   layerId\r\n     * @param       {string}   keyId\r\n     * Description  Finds the DOM element associated with the specified key, if it exists.\r\n     */\r\n    findKeyElement(layerId: string, keyId: string) {\r\n      let layerGroup = this.kbdDiv.firstChild as HTMLDivElement;\r\n\r\n      for(let i = 0; i \u003c layerGroup.childElementCount; i++) {\r\n        // TODO:  At some point, our OSK construction should \u0027link\u0027 a TS metadata type to this,\r\n        // like with OSKKey / KeyElement for keys.\r\n        let layer = layerGroup.childNodes[i] as HTMLDivElement;\r\n        // row -\u003e key-square -\u003e actual KeyElement.\r\n        let currentLayerId = (layer.firstChild.firstChild.firstChild as KeyElement).key.layer\r\n        if(currentLayerId == layerId) {\r\n          // Layer identified!  Now to find the key.  First - iterate over rows.\r\n          for(let r = 0; r \u003c layer.childElementCount; r++) {\r\n            let row = layer.childNodes[r] as HTMLDivElement;\r\n            for(let k = 0; k \u003c row.childElementCount; k++) {\r\n              let key = row.childNodes[k].firstChild as KeyElement;\r\n              if(key.keyId == keyId) {\r\n                return key;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * Function     _UpdateVKShiftStyle\r\n     * Scope        Private\r\n     * @param       {string=}   layerId\r\n     * Description  Updates the OSK\u0027s visual style for any toggled state keys\r\n     */\r\n    _UpdateVKShiftStyle(layerId?: string) {\r\n      var i, n, layer=null, layerElement=null;\r\n      let core = com.keyman.singleton.core;\r\n\r\n      if(layerId) {\r\n        for(n=0; n\u003cthis.layers.length; n++) {\r\n          if(this.layers[n][\u0027id\u0027] == this.layerId) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        return;  // Failed to find the requested layer.\r\n      } else {\r\n        n=this.layerIndex;\r\n        layerId=this.layers[n][\u0027id\u0027];\r\n      }\r\n\r\n      layer=this.layers[n];\r\n\r\n      // Set the on/off state of any visible state keys.\r\n      var states = [\u0027K_CAPS\u0027,      \u0027K_NUMLOCK\u0027,  \u0027K_SCROLL\u0027];\r\n      var keys   = [layer.capsKey, layer.numKey, layer.scrollKey];\r\n\r\n      for(i=0; i \u003c keys.length; i++) {\r\n        // Skip any keys not in the OSK!\r\n        if(keys[i] == null) {\r\n          continue;\r\n        }\r\n\r\n        keys[i][\u0027sp\u0027] = core.keyboardProcessor.stateKeys[states[i]] ? keyboards.Layouts.buttonClasses[\u0027SHIFT-ON\u0027] : keyboards.Layouts.buttonClasses[\u0027SHIFT\u0027];\r\n        let keyId = layerId+\u0027-\u0027+states[i]\r\n        var btn = document.getElementById(keyId);\r\n\r\n        if(btn == null) {\r\n          //This can happen when using BuildDocumentationKeyboard, as the OSK isn\u0027t yet in the\r\n          //document hierarchy.  Sometimes.  (It\u0027s weird.)\r\n          btn = this.findKeyElement(layerId, states[i]);\r\n        }\r\n\r\n        if(btn != null) {\r\n          this.setButtonClass(keys[i], btn, this.layout);\r\n        } else {\r\n          console.warn(\"Could not find key to apply style: \\\"\" + keyId + \"\\\"\");\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Attach appropriate class to each key button, according to the layout\r\n     *\r\n     * @param       {Object}    key     key object\r\n     * @param       {Object}    btn     button object\r\n     * @param       {Object=}   layout  source layout description (optional, sometimes)\r\n     */\r\n    setButtonClass(key, btn, layout?) {\r\n      let keyman = com.keyman.singleton;\r\n      var n=0, keyTypes=[\u0027default\u0027,\u0027shift\u0027,\u0027shift-on\u0027,\u0027special\u0027,\u0027special-on\u0027,\u0027\u0027,\u0027\u0027,\u0027\u0027,\u0027deadkey\u0027,\u0027blank\u0027,\u0027hidden\u0027];\r\n      if(typeof key[\u0027dk\u0027] == \u0027string\u0027 \u0026\u0026 key[\u0027dk\u0027] == \u00271\u0027) {\r\n        n=8;\r\n      }\r\n\r\n      if(typeof key[\u0027sp\u0027] == \u0027string\u0027) {\r\n        n=parseInt(key[\u0027sp\u0027],10);\r\n      }\r\n\r\n      if(n \u003c 0 || n \u003e 10) {\r\n        n=0;\r\n      }\r\n\r\n      layout = layout || this.layout;\r\n\r\n      // Apply an overriding class for 5-row layouts\r\n      var nRows=layout[\u0027layer\u0027][0][\u0027row\u0027].length;\r\n      if(nRows \u003e 4 \u0026\u0026 this.device.formFactor == \u0027phone\u0027) {\r\n        btn.className=\u0027kmw-key kmw-5rows kmw-key-\u0027+keyTypes[n];\r\n      } else {\r\n        btn.className=\u0027kmw-key kmw-key-\u0027+keyTypes[n];\r\n      }\r\n    }\r\n\r\n    clearPopup() {\r\n      let oskManager = com.keyman.singleton.osk;\r\n      // Remove the displayed subkey array, if any, and cancel popup request\r\n      var sk=document.getElementById(\u0027kmw-popup-keys\u0027);\r\n      if(sk != null) {\r\n        if(sk.shim) {\r\n          oskManager._Box.removeChild(sk.shim);\r\n        }\r\n        sk.parentNode.removeChild(sk);\r\n      }\r\n\r\n      if(this.popupCallout) {\r\n        oskManager._Box.removeChild(this.popupCallout);\r\n      }\r\n      this.popupCallout = null;\r\n\r\n      if(this.subkeyDelayTimer) {\r\n          window.clearTimeout(this.subkeyDelayTimer);\r\n          this.subkeyDelayTimer = null;\r\n      }\r\n      this.popupBaseKey = null;\r\n    }\r\n\r\n    //#region \u0027native\u0027-mode subkey handling\r\n    /**\r\n     * Display touch-hold array of \u0027sub-keys\u0027 above the currently touched key\r\n     * @param       {Object}    e      primary key element\r\n     */\r\n    showSubKeys(e: KeyElement) {\r\n      // Do not show subkeys if key already released\r\n      if(this.keyPending == null) {\r\n        return;\r\n      }\r\n\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n      let device = this.device;\r\n\r\n      // A tag we directly set on a key element during its construction.\r\n      let subKeySpec: OSKKeySpec[] = e[\u0027subKeys\u0027];\r\n\r\n      // Create holder DIV for subkey array, and set styles.\r\n      // A subkey array for Shift will only appear if extra layers exist\r\n\r\n      // The holder is position:fixed, but the keys do not need to be, as no scrolling\r\n      // is possible while the array is visible.  So it is simplest to let the keys have\r\n      // position:static and display:inline-block\r\n      var subKeys=document.createElement(\u0027DIV\u0027),i;\r\n\r\n      var tKey = this.getDefaultKeyObject();\r\n\r\n      subKeys.id=\u0027kmw-popup-keys\u0027;\r\n      this.popupBaseKey = e;\r\n\r\n      // #3718: No longer prepend base key to popup array\r\n\r\n      // Must set position dynamically, not in CSS\r\n      var ss=subKeys.style;\r\n      ss.bottom=(parseInt(e.style.bottom,10)+parseInt(e.style.height,10)+4)+\u0027px\u0027;\r\n\r\n      // Set key font according to layout, or defaulting to OSK font\r\n      // (copied, not inherited, since OSK is not a parent of popup keys)\r\n      ss.fontFamily=this.fontFamily;\r\n\r\n      // Copy the font size from the parent key, allowing for style inheritance\r\n      ss.fontSize=keyman.util.getStyleValue(e,\u0027font-size\u0027);\r\n      ss.visibility=\u0027hidden\u0027;\r\n\r\n      var nKeys=subKeySpec.length,nRow,nRows,nCols;\r\n      nRows=Math.min(Math.ceil(nKeys/9),2);\r\n      nCols=Math.ceil(nKeys/nRows);\r\n      if(nRows \u003e 1) {\r\n        ss.width=(nCols*e.offsetWidth+nCols*5)+\u0027px\u0027;\r\n      }\r\n\r\n      // Add nested button elements for each sub-key\r\n      for(i=0; i\u003cnKeys; i++) {\r\n        var needsTopMargin = false;\r\n        let nRow=Math.floor(i/nCols);\r\n        if(nRows \u003e 1 \u0026\u0026 nRow \u003e 0) {\r\n          needsTopMargin = true;\r\n        }\r\n\r\n        let keyGenerator = new com.keyman.osk.OSKSubKey(subKeySpec[i], e[\u0027key\u0027].layer, device.formFactor);\r\n        let kDiv = keyGenerator.construct(this, \u003cKeyElement\u003e e, needsTopMargin);\r\n\r\n        subKeys.appendChild(kDiv);\r\n      }\r\n\r\n      // Clear key preview if any\r\n      this.showKeyTip(null,false);\r\n\r\n      // Otherwise append the touch-hold (subkey) array to the OSK\r\n      keyman.osk._Box.appendChild(subKeys);\r\n\r\n      // And correct its position with respect to that element\r\n      ss=subKeys.style;\r\n      var x = dom.Utils.getAbsoluteX(e)+0.5*(e.offsetWidth-subKeys.offsetWidth);\r\n      var xMax = keyman.osk.getWidth() - subKeys.offsetWidth;\r\n\r\n      if(x \u003e xMax) {\r\n        x=xMax;\r\n      }\r\n      if(x \u003c 0) {\r\n        x=0;\r\n      }\r\n      ss.left=x+\u0027px\u0027;\r\n\r\n      // Make the popup keys visible\r\n      ss.visibility=\u0027visible\u0027;\r\n\r\n      // For now, should only be true (in production) when keyman.isEmbedded == true.\r\n      let constrainPopup = keyman.isEmbedded;\r\n\r\n      let cs = getComputedStyle(subKeys);\r\n      let oskHeight = keyman.osk.getHeight();\r\n      let bottomY = parseInt(cs.bottom, 10);\r\n      let popupHeight = parseInt(cs.height, 10);\r\n\r\n      let delta = 0;\r\n      if(popupHeight + bottomY \u003e oskHeight \u0026\u0026 constrainPopup) {\r\n        delta = popupHeight + bottomY - oskHeight;\r\n        ss.bottom = (bottomY - delta) + \u0027px\u0027;\r\n      }\r\n\r\n      // Add the callout\r\n      this.popupCallout = this.addCallout(e, delta);\r\n\r\n      // And add a filter to fade main keyboard\r\n      subKeys.shim = document.createElement(\u0027DIV\u0027);\r\n      subKeys.shim.id = \u0027kmw-popup-shim\u0027;\r\n      keyman.osk._Box.appendChild(subKeys.shim);\r\n\r\n      // Highlight the duplicated base key or ideal subkey (if a phone)\r\n      if(device.formFactor == \u0027phone\u0027) {\r\n        this.selectDefaultSubkey(e, subKeySpec, subKeys);\r\n      }\r\n    }\r\n\r\n    selectDefaultSubkey(baseKey: KeyElement, subkeys: OSKKeySpec[], popupBase: HTMLElement) {\r\n      var bk: KeyElement;\r\n      for(let i=0; i \u003c subkeys.length; i++) {\r\n        let skSpec = subkeys[i];\r\n        let skElement = \u003cKeyElement\u003e popupBase.childNodes[i].firstChild;\r\n\r\n        // Preference order:\r\n        // #1:  if a default subkey has been specified, select it.  (pending, for 15.0+)\r\n        // #2:  if no default subkey is specified, default to a subkey with the same \r\n        //      key ID and layer / modifier spec.\r\n        //if(skSpec.isDefault) { TODO for 15.0\r\n        //  bk = skElement;\r\n        //  break;\r\n        //} else\r\n        if(!baseKey.key || !baseKey.key.spec) {\r\n          continue;\r\n        }\r\n\r\n        if(skSpec.elementID == baseKey.key.spec.elementID) {\r\n          bk = skElement;\r\n          break; // Best possible match has been found.  (Disable \u0027break\u0027 once above block is implemented.)\r\n        }\r\n      }\r\n\r\n      if(bk) {\r\n        this.keyPending = bk;\r\n        this.highlightKey(bk,true);//bk.className = bk.className+\u0027 kmw-key-touched\u0027;\r\n      }\r\n    }\r\n\r\n\r\n    //#endregion\r\n\r\n    /**\r\n     * Indicate the current language and keyboard on the space bar\r\n     **/\r\n    showLanguage() {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      var lgName=\u0027\u0027,kbdName=\u0027\u0027;\r\n      var activeStub = keyman.keyboardManager.activeStub;\r\n\r\n      if(activeStub) {\r\n        lgName=activeStub[\u0027KL\u0027];\r\n        kbdName=activeStub[\u0027KN\u0027];\r\n      } else if(keyman.getActiveLanguage(true)) {\r\n        lgName=keyman.getActiveLanguage(true);\r\n      } else {\r\n        lgName=\u0027(System keyboard)\u0027;\r\n      }\r\n\r\n      try {\r\n        var t=\u003cHTMLElement\u003e this.spaceBar.firstChild;\r\n        let tParent = \u003cHTMLElement\u003e t.parentNode;\r\n        if(typeof(tParent.className) == \u0027undefined\u0027 || tParent.className == \u0027\u0027) {\r\n          tParent.className=\u0027kmw-spacebar\u0027;\r\n        } else if(tParent.className.indexOf(\u0027kmw-spacebar\u0027) == -1) {\r\n          tParent.className +=\u0027 kmw-spacebar\u0027;\r\n        }\r\n\r\n        t.className=\u0027kmw-spacebar-caption\u0027;\r\n        kbdName=kbdName.replace(/\\s*keyboard\\s*/i,\u0027\u0027);\r\n\r\n        // We use a separate variable here to keep down on MutationObserver messages in keymanweb.js code.\r\n        var keyboardName = \"\";\r\n        if(kbdName == lgName) {\r\n          keyboardName=lgName;\r\n        } else {\r\n          keyboardName=lgName+\u0027 (\u0027+kbdName+\u0027)\u0027;\r\n        }\r\n        // It sounds redundant, but this dramatically cuts down on browser DOM processing.\r\n        if(t.innerHTML != keyboardName) {\r\n          t.innerHTML = keyboardName;\r\n        }\r\n      }\r\n      catch(ex){}\r\n    }\r\n\r\n    /**\r\n     *  Add or remove a class from a keyboard key (when touched or clicked)\r\n     *  or add a key preview for phone devices\r\n     *\r\n     *  @param    {Object}    key   key affected\r\n     *  @param    {boolean}   on    add or remove highlighting\r\n     **/\r\n    highlightKey(key: KeyElement, on: boolean) {\r\n      // Do not change element class unless a key\r\n      if(!key || (key.className == \u0027\u0027) || (key.className.indexOf(\u0027kmw-key-row\u0027) \u003e= 0)) return;\r\n\r\n      var classes=key.className, cs = \u0027 kmw-key-touched\u0027;\r\n\r\n      // For phones, use key preview rather than highlighting the key,\r\n      var usePreview = ((this.keytip != null) \u0026\u0026 (key.id.indexOf(\u0027popup\u0027) \u003c 0 ));\r\n\r\n      if(usePreview) {\r\n        // Previews are not permitted for keys using any of the following CSS styles.\r\n        var excludedClasses = [\u0027kmw-key-shift\u0027,      // special keys\r\n                               \u0027kmw-key-shift-on\u0027,   // active special keys (shift, when in shift layer\r\n                               \u0027kmw-key-special\u0027,    // special keys that require the keyboard\u0027s OSK font\r\n                               \u0027kmw-key-special-on\u0027, // active special keys requiring the keyboard\u0027s OSK font\r\n                               \u0027kmw-spacebar\u0027,       // space\r\n                               \u0027kmw-key-blank\u0027,      // Keys that are only used for layout control\r\n                               \u0027kmw-key-hidden\u0027];\r\n\r\n        for(let c=0; c \u003c excludedClasses.length; c++) {\r\n          usePreview = usePreview \u0026\u0026 (classes.indexOf(excludedClasses[c]) \u003c 0);\r\n        }\r\n      }\r\n\r\n      if(usePreview) {\r\n        this.showKeyTip(key,on);\r\n      } else {\r\n        if(on \u0026\u0026 classes.indexOf(cs) \u003c 0) {\r\n          key.className=classes+cs;\r\n          this.showKeyTip(null,false);     // Moved here by Serkan\r\n        } else {\r\n          key.className=classes.replace(cs,\u0027\u0027);\r\n        }\r\n      }\r\n    }\r\n\r\n    //#region Mouse-event handling\r\n    /**\r\n     * Mouse down/mouse over event handler (desktop only)\r\n     *\r\n     * @param   {Event}  e  mouse over/mouse down event object\r\n     */\r\n    mouseOverMouseDownHandler = function(this: VisualKeyboard, e: MouseEvent) {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      var t = \u003cHTMLElement\u003e util.eventTarget(e);\r\n      if(t === null || this.device.formFactor != \u0027desktop\u0027) {\r\n        return;\r\n      }\r\n\r\n      if(t.nodeName == \u0027SPAN\u0027) {\r\n        t = \u003cHTMLElement\u003e t.parentNode;\r\n      }\r\n\r\n      let key = this.keyTarget(t);\r\n\r\n      if(util.eventType(e) == \u0027mousedown\u0027) {\r\n        this.currentKey=key.id;\r\n        util._CancelMouse(e);\r\n        this.highlightKey(key, true);\r\n      } else if(key.id == this.currentKey) {\r\n        this.highlightKey(key, true);\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Mouse up/mouse out event handler (desktop only)\r\n     *\r\n     * @param   {Event}  e  mouse up/out event object\r\n     */\r\n    mouseUpMouseOutHandler = function(this: VisualKeyboard, e: MouseEvent) {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      var t=\u003cHTMLElement\u003e util.eventTarget(e);\r\n      if(t === null || this.device.formFactor != \u0027desktop\u0027) {\r\n        return;\r\n      }\r\n\r\n      if(t.nodeName == \u0027SPAN\u0027) {\r\n        t = \u003cHTMLElement\u003e t.parentNode;\r\n      }\r\n\r\n      let key = this.keyTarget(t);\r\n      this.highlightKey(key, false);\r\n\r\n      // Process as click if mouse button released anywhere over key\r\n      if(util.eventType(e) == \u0027mouseup\u0027) {\r\n        if(key.id == this.currentKey) {\r\n          PreProcessor.clickKey(key);\r\n        }\r\n        this.currentKey=\u0027\u0027;\r\n      }\r\n    }.bind(this);\r\n    //#endregion\r\n\r\n    getKeyEmFontSize() {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      if(this.device.formFactor == \u0027desktop\u0027) {\r\n        let kbdFontSize = this.defaultFontSize();\r\n        let keySquareScale = 0.8; // Set in kmwosk.css, is relative.\r\n        return kbdFontSize * keySquareScale;\r\n      } else {\r\n        let emSizeStr = getComputedStyle(document.body).fontSize;\r\n        let emSize = util.getFontSizeStyle(emSizeStr).val;\r\n\r\n        var emScale = 1;\r\n        if(!this.isStatic) {\r\n          // Reading this requires the OSK to be active, so we filter out\r\n          // BuildVisualKeyboard calls here.\r\n          let boxFontStyle = util.getFontSizeStyle(keyman.osk._Box);\r\n\r\n          // Double-check against the font scaling applied to the _Box element.\r\n          if(boxFontStyle.absolute) {\r\n            return boxFontStyle.val;\r\n          } else {\r\n            emScale = boxFontStyle.val;\r\n          }\r\n        }\r\n        return emSize * emScale;\r\n      }\r\n    }\r\n\r\n        /**\r\n     *  Set the reference to a special function key for the\r\n     *  currently visible OSK layer\r\n     *\r\n     *  @param    {number}  nLayer  Index of visible layer\r\n     *  @param    {string}  keyId   key identifier\r\n     *  @return   {Object}          Reference to key\r\n     */\r\n    getSpecialKey(nLayer: number, keyId: string): KeyElement {\r\n      let layers = this.kbdDiv.childNodes[0].childNodes;\r\n\r\n      if(nLayer \u003e= 0 \u0026\u0026 nLayer \u003c layers.length) {\r\n        // Special function keys will always be in bottom row (must modify code if not)\r\n        let rows = layers[nLayer].childNodes;\r\n        let keys = rows[rows.length-1].childNodes;\r\n        for(var k=0; k\u003ckeys.length; k++) {\r\n          let key = getKeyFrom(keys[k].firstChild);\r\n          if(key \u0026\u0026 key[\u0027keyId\u0027] == keyId) {\r\n            return key;\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    show() {\r\n      let device = this.device;\r\n      var n,nLayer=-1, b = this.kbdDiv.childNodes[0].childNodes;\r\n\r\n      for(n=0; n \u003c b.length; n++) {\r\n        let layerElement = \u003cHTMLDivElement\u003e b[n];\r\n        if(layerElement[\u0027layer\u0027] == this.layerId) {\r\n          layerElement.style.display=\u0027block\u0027;\r\n          //b[n].style.visibility=\u0027visible\u0027;\r\n          this.nextLayer=this.layerId;\r\n          this.layerIndex=nLayer=n;\r\n          if(typeof this.layers[n][\u0027nextlayer\u0027] == \u0027string\u0027) {\r\n            this.nextLayer=this.layers[n][\u0027nextlayer\u0027];\r\n          }\r\n\r\n          // If osk._Show has been called, there\u0027s probably been a change in modifier or state key state.  Keep it updated!\r\n          this._UpdateVKShiftStyle();\r\n        } else {\r\n          layerElement.style.display=\u0027none\u0027;\r\n          //layerElement.style.visibility=\u0027hidden\u0027;\r\n        }\r\n      }\r\n\r\n      if(device.touchable) {\r\n        // Identify and save references to the language key, hide keyboard key, and space bar\r\n        this.lgKey=this.getSpecialKey(nLayer,\u0027K_LOPT\u0027);     //TODO: should be saved with layer\r\n        this.hkKey=this.getSpecialKey(nLayer,\u0027K_ROPT\u0027);\r\n\r\n        // Always adjust screen height if iPhone or iPod, to take account of viewport changes\r\n        // Do NOT condition upon form-factor; this line prevents a bug with displaying\r\n        // the predictive-text banner on the initial keyboard load.  (Issue #2907)\r\n        if(device.OS == \u0027iOS\u0027) {\r\n          this.adjustHeights();\r\n        }\r\n      }\r\n\r\n      // Define for both desktop and touchable OSK\r\n      this.spaceBar=this.getSpecialKey(nLayer,\u0027K_SPACE\u0027); //TODO: should be saved with layer\r\n    }\r\n\r\n    /**\r\n     * Adjust the absolute height of each keyboard element after a rotation\r\n     *\r\n     **/\r\n    adjustHeights() {\r\n      let keyman = com.keyman.singleton;\r\n      let _Box = keyman.osk._Box;\r\n      let device = this.device;\r\n\r\n      if(!_Box || !this.kbdDiv || !this.kbdDiv.firstChild || !this.kbdDiv.firstChild.firstChild.childNodes) {\r\n        return false;\r\n      }\r\n\r\n      var fs=1.0;\r\n      // TODO: Logically, this should be needed for Android, too - may need to be changed for the next version!\r\n      if(device.OS == \u0027iOS\u0027 \u0026\u0026 !keyman.isEmbedded) {\r\n        fs=fs/keyman.util.getViewportScale();\r\n      }\r\n\r\n      let oskHeight = this.computedAdjustedOskHeight();\r\n\r\n      var b: HTMLElement = _Box, bs=b.style;\r\n      bs.height=bs.maxHeight=oskHeight+\u0027px\u0027;\r\n\r\n      b = this.kbdDiv.firstChild as HTMLElement;\r\n      bs=b.style;\r\n      // Sets the layer group to the correct height.\r\n      bs.height=bs.maxHeight=oskHeight+\u0027px\u0027;\r\n      bs.fontSize=fs+\u0027em\u0027;\r\n\r\n      this.adjustLayerHeights(oskHeight);\r\n\r\n      return true;\r\n    }\r\n\r\n    private computedAdjustedOskHeight(): number {\r\n      let oskManager = com.keyman.singleton.osk;\r\n      let device = this.device;\r\n\r\n      var layers=this.kbdDiv.firstChild.childNodes;\r\n      let kbdHeight = oskManager.getKeyboardHeight();\r\n      let oskHeight = 0;\r\n\r\n      // In case the keyboard\u0027s layers have differing row counts, we check them all for the maximum needed oskHeight.\r\n      for(let i = 0; i \u003c layers.length; i++) {\r\n        let nRows = layers[i].childNodes.length;\r\n        let rowHeight = Math.floor(kbdHeight/(nRows == 0 ? 1 : nRows));\r\n        let layerHeight = nRows * rowHeight;\r\n\r\n        if(layerHeight \u003e oskHeight) {\r\n          oskHeight = layerHeight;\r\n        }\r\n      }\r\n\r\n      // This isn\u0027t set anywhere else; it\u0027s a legacy part of the original methods.\r\n      const oskPad = 0;\r\n      let oskPaddedHeight = oskHeight + oskPad;\r\n\r\n      if(device.OS == \u0027Android\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n        oskPaddedHeight /= window.devicePixelRatio;\r\n      }\r\n\r\n      return oskPaddedHeight;\r\n    }\r\n\r\n    private adjustLayerHeights(oskHeight: number) {\r\n      let oskManager = com.keyman.singleton.osk;\r\n      let device = this.device;\r\n      let layers = this.kbdDiv.firstChild.childNodes;\r\n\r\n      for(let nLayer=0;nLayer\u003clayers.length; nLayer++) {\r\n        // Check the heights of each row, in case different layers have different row counts.\r\n        let layer = layers[nLayer] as HTMLElement;\r\n        let nRows=layers[nLayer].childNodes.length;\r\n        (\u003cHTMLElement\u003e layers[nLayer]).style.height=(oskHeight)+\u0027px\u0027;\r\n\r\n        let rowHeight = Math.floor(oskManager.getKeyboardHeight()/(nRows == 0 ? 1 : nRows));\r\n\r\n        if(device.OS == \u0027Android\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n          layer.style.height = layer.style.maxHeight = oskHeight + \u0027px\u0027;\r\n          rowHeight /= window.devicePixelRatio;\r\n        }\r\n\r\n        // Sets the layers to the correct height\r\n        let rowPad = Math.round(0.15*rowHeight);\r\n\r\n        for(let nRow=0; nRow\u003cnRows; nRow++) {\r\n          let rs=(\u003cHTMLElement\u003e layers[nLayer].childNodes[nRow]).style;\r\n          let bottom = (nRows-nRow-1)*rowHeight+1;\r\n          if(!this.isStatic) {\r\n            rs.bottom=bottom+\u0027px\u0027;\r\n          }\r\n          rs.maxHeight=rs.lineHeight=rs.height=rowHeight+\u0027px\u0027;\r\n\r\n          // Calculate the exact vertical coordinate of the row\u0027s center.\r\n          this.layout.layer[nLayer].row[nRow].proportionalY = ((oskHeight - bottom) - rowHeight/2) / oskHeight;\r\n\r\n          let keys=layers[nLayer].childNodes[nRow].childNodes as NodeListOf\u003cHTMLElement\u003e;\r\n          this.adjustRowHeights(keys, rowHeight, bottom, rowPad);\r\n        }\r\n      }\r\n    }\r\n\r\n    private adjustRowHeights(keys: NodeListOf\u003cHTMLElement\u003e, rowHeight: number, bottom: number, pad: number) {\r\n      let util = com.keyman.singleton.util;\r\n      let device = this.device;\r\n\r\n      let resizeLabels = (device.OS == \u0027iOS\u0027 \u0026\u0026 device.formFactor == \u0027phone\u0027 \u0026\u0026 util.landscapeView());\r\n\r\n      let nKeys=keys.length;\r\n      for(let nKey=0;nKey\u003cnKeys;nKey++) {\r\n        let keySquare=keys[nKey] as HTMLElement;\r\n        //key.style.marginTop = (device.formFactor == \u0027phone\u0027 ? pad : 4)+\u0027px\u0027;\r\n        //**no longer needed if base key label and popup icon are within btn, not container**\r\n\r\n        // Must set the height of the btn DIV, not the label (if any)\r\n        var j;\r\n        for(j=0; j\u003ckeySquare.childNodes.length; j++) {\r\n          if(util.hasClass(keySquare.childNodes[j] as HTMLElement,\u0027kmw-key\u0027)) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        // Set the kmw-key-square position\r\n        let ks=keySquare.style;\r\n        if(!this.isStatic) {\r\n          ks.bottom=(bottom-pad/2)+\u0027px\u0027;\r\n        }\r\n        ks.height=ks.minHeight=(rowHeight)+\u0027px\u0027;\r\n\r\n        // Set the kmw-key position\r\n        let keyElement = keySquare.childNodes[j] as KeyElement;\r\n        ks=keyElement.style;\r\n        if(!this.isStatic) {\r\n          ks.bottom=bottom+\u0027px\u0027;\r\n        }\r\n        ks.height=ks.lineHeight=ks.minHeight=(rowHeight-pad)+\u0027px\u0027;\r\n\r\n        // Get the kmw-key-text element \u0026 style.\r\n        for(j=0; j\u003ckeyElement.childNodes.length; j++) {\r\n          if(util.hasClass(keyElement.childNodes[j] as HTMLElement,\u0027kmw-key-text\u0027)) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        let keyTextSpan = keyElement.childNodes[j] as HTMLElement;\r\n        if(keyElement.key \u0026\u0026 keyTextSpan) { // space bar may not define the text span!\r\n          keyTextSpan.style.fontSize = keyElement.key.getIdealFontSize(this, ks);\r\n        }\r\n\r\n        // Rescale keycap labels on iPhone (iOS 7)\r\n        if(resizeLabels \u0026\u0026 (j \u003e 0)) {\r\n          (keySquare.childNodes[0] as HTMLElement).style.fontSize=\u00276px\u0027;\r\n        }\r\n      }\r\n    }\r\n\r\n    // /**\r\n    //  * Function     _VKeyGetTarget\r\n    //  * Scope        Private\r\n    //  * @param       {Object}    e     OSK event\r\n    //  * @return      {Object}          Target element for key in OSK\r\n    //  * Description  Identify the OSK key clicked\r\n    //  */\r\n    // _VKeyGetTarget(e: Event) {\r\n    //   var Ltarg;\r\n    //   e = keymanweb._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n    //   Ltarg = util.eventTarget(e);\r\n    //   if (Ltarg == null) {\r\n    //     return null;\r\n    //   }\r\n    //   if (Ltarg.nodeType == 3) { // defeat Safari bug\r\n    //     Ltarg = Ltarg.parentNode;\r\n    //   }\r\n    //   if (Ltarg.tagName == \u0027SPAN\u0027) {\r\n    //     Ltarg = Ltarg.parentNode;\r\n    //   }\r\n    //   return Ltarg;\r\n    // }\r\n\r\n    /**\r\n     *  Append a style sheet for the current keyboard if needed for specifying an embedded font\r\n     *  or to re-apply the default element font\r\n     *\r\n     **/\r\n    appendStyleSheet() {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      var activeKeyboard = keymanweb.core.activeKeyboard;\r\n      var activeStub: com.keyman.keyboards.KeyboardStub = keymanweb.keyboardManager.activeStub;\r\n\r\n      // Do not do anything if a null stub\r\n      if(activeStub == null) {\r\n        return;\r\n      }\r\n\r\n      // First remove any existing keyboard style sheet\r\n      if(this.styleSheet) {\r\n        util.removeStyleSheet(this.styleSheet);\r\n      }\r\n\r\n      var i, kfd=activeStub[\u0027KFont\u0027], ofd=activeStub[\u0027KOskFont\u0027];\r\n\r\n      // Add style sheets for embedded fonts if necessary (each font-face style will only be added once)\r\n      util.addFontFaceStyleSheet(kfd);\r\n      util.addFontFaceStyleSheet(ofd);\r\n\r\n      // Temporarily hide duplicated elements on non-desktop browsers\r\n      keymanweb.hideInputs();\r\n\r\n      // Build the style string and append (or replace) the font style sheet\r\n      // Note: Some browsers do not download the font-face font until it is applied,\r\n      //       so must apply style before testing for font availability\r\n      // Extended to allow keyboard-specific custom styles for Build 360\r\n      var customStyle=this.addFontStyle(kfd,ofd);\r\n      if( activeKeyboard != null \u0026\u0026 typeof(activeKeyboard.oskStyling) == \u0027string\u0027)  // KMEW-129\r\n        customStyle=customStyle+activeKeyboard.oskStyling;\r\n\r\n      this.styleSheet = util.addStyleSheet(customStyle); //Build 360\r\n\r\n      // Wait until font is loaded then align duplicated input elements with page elements\r\n      if(this.waitForFonts(kfd,ofd)) {\r\n        keymanweb.alignInputs();\r\n      }\r\n    }\r\n\r\n    /**\r\n     *  Add or replace the style sheet used to set the font for input elements and OSK\r\n     *\r\n     *  @param  {Object}  kfd   KFont font descriptor\r\n     *  @param  {Object}  ofd   OSK font descriptor (if any)\r\n     *  @return {string}\r\n     *\r\n     **/\r\n    addFontStyle(kfd, ofd): string {\r\n      let keymanweb = com.keyman.singleton;\r\n\r\n      // Get name of font to be applied\r\n      var fn=keymanweb.baseFont;\r\n      if(typeof(kfd) != \u0027undefined\u0027 \u0026\u0026 typeof(kfd[\u0027family\u0027]) != \u0027undefined\u0027) {\r\n        fn=kfd[\u0027family\u0027];\r\n      }\r\n\r\n      // Unquote font name in base font (if quoted)\r\n      fn = fn.replace(/\\u0022/g,\u0027\u0027);\r\n\r\n      // Set font family chain for mapped elements and remove any double quotes\r\n      var rx=new RegExp(\u0027\\\\s?\u0027+fn+\u0027,?\u0027), ff=keymanweb.appliedFont.replace(/\\u0022/g,\u0027\u0027);\r\n\r\n      // Remove base font name from chain if present\r\n      ff = ff.replace(rx,\u0027\u0027);\r\n      ff = ff.replace(/,$/,\u0027\u0027);\r\n\r\n      // Then replace it at the head of the chain\r\n      if(ff == \u0027\u0027) {\r\n        ff=fn;\r\n      } else {\r\n        ff=fn+\u0027,\u0027+ff;\r\n      }\r\n\r\n      // Re-insert quotes around individual font names\r\n      ff = \u0027\"\u0027 + ff.replace(/\\,\\s?/g,\u0027\",\"\u0027) + \u0027\"\u0027;\r\n\r\n      // Add to the stylesheet, quoted, and with !important to override any explicit style\r\n      var s=\u0027.keymanweb-font{\\nfont-family:\u0027 + ff + \u0027 !important;\\n}\\n\u0027;\r\n\r\n      // Set font family for OSK text\r\n      if(typeof(ofd) != \u0027undefined\u0027) {\r\n        s=s+\u0027.kmw-key-text{\\nfont-family:\"\u0027+ofd[\u0027family\u0027].replace(/\\u0022/g,\u0027\u0027).replace(/,/g,\u0027\",\"\u0027)+\u0027\";\\n}\\n\u0027;\r\n      } else if(typeof(kfd) != \u0027undefined\u0027) {\r\n        s=s+\u0027.kmw-key-text{\\nfont-family:\"\u0027+kfd[\u0027family\u0027].replace(/\\u0022/g,\u0027\u0027).replace(/,/g,\u0027\",\"\u0027)+\u0027\";\\n}\\n\u0027;\r\n      }\r\n\r\n      // Store the current font chain (with quote-delimited font names)\r\n      keymanweb.appliedFont = ff;\r\n\r\n      // Return the style string\r\n      return s;\r\n    }\r\n\r\n    /**\r\n     * Create copy of the OSK that can be used for embedding in documentation or help\r\n     * The currently active keyboard will be returned if PInternalName is null\r\n     *\r\n     *  @param  {string}          PInternalName   internal name of keyboard, with or without Keyboard_ prefix\r\n     *  @param  {number}          Pstatic         static keyboard flag  (unselectable elements)\r\n     *  @param  {string=}         argFormFactor   layout form factor, defaulting to \u0027desktop\u0027\r\n     *  @param  {(string|number)=}  argLayerId    name or index of layer to show, defaulting to \u0027default\u0027\r\n     *  @return {Object}                          DIV object with filled keyboard layer content\r\n     */\r\n    static buildDocumentationKeyboard(PInternalName,Pstatic,argFormFactor,argLayerId): HTMLElement { // I777\r\n      let keymanweb = com.keyman.singleton;\r\n      var PKbd=keymanweb.core.activeKeyboard,Ln,\r\n          formFactor=(typeof(argFormFactor) == \u0027undefined\u0027 ? \u0027desktop\u0027 : argFormFactor),\r\n          layerId=(typeof(argLayerId) == \u0027undefined\u0027 ? \u0027default\u0027 : argLayerId),\r\n          device = new Device();\r\n\r\n      // Device emulation for target documentation.\r\n      device.formFactor = formFactor;\r\n      if(formFactor != \u0027desktop\u0027) {\r\n        device.OS = \u0027iOS\u0027;\r\n      }\r\n\r\n      var keyboardsList = keymanweb.keyboardManager.keyboards;\r\n\r\n      if(PInternalName != null) {\r\n        var p=PInternalName.toLowerCase().replace(\u0027keyboard_\u0027,\u0027\u0027);\r\n\r\n        for(Ln=0; Ln\u003ckeyboardsList.length; Ln++) {\r\n          if(p == keyboardsList[Ln][\u0027KI\u0027].toLowerCase().replace(\u0027keyboard_\u0027,\u0027\u0027)) {\r\n            // Requires the Keyboard wrapping object now.\r\n            PKbd = new com.keyman.keyboards.Keyboard(keyboardsList[Ln]);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if(!PKbd) {\r\n        return null;\r\n      }\r\n\r\n      let layout = PKbd.layout(formFactor);\r\n\r\n      let kbdObj = new VisualKeyboard(PKbd, device, true);\r\n      let kbd = kbdObj.kbdDiv.childNodes[0] as HTMLDivElement; // Gets the layer group.\r\n\r\n      // Select the layer to display, and adjust sizes\r\n      if(layout != null) {\r\n        kbdObj.layerId = layerId;\r\n        kbdObj.show();\r\n        kbdObj.adjustHeights(); // Necessary for the row heights to be properly set!\r\n        // Relocates the font size definition from the main VisualKeyboard wrapper, since we don\u0027t return the whole thing.\r\n        kbd.style.fontSize = kbdObj.kbdDiv.style.fontSize;\r\n      } else {\r\n        kbd.innerHTML=\"\u003cp style=\u0027color:#c40; font-size:0.5em;margin:10px;\u0027\u003eNo \"+formFactor+\" layout is defined for \"+PKbd.name+\".\u003c/p\u003e\";\r\n      }\r\n      // Add a faint border\r\n      kbd.style.border=\u00271px solid #ccc\u0027;\r\n      return kbd;\r\n    }\r\n\r\n    onHide() {\r\n      // Remove highlighting from hide keyboard key, if applied\r\n      if(this.hkKey) {\r\n        this.highlightKey(this.hkKey,false);\r\n      }\r\n    }\r\n\r\n    /**\r\n   * Touch hold key display management\r\n   *\r\n   * @param   {Object}  key   base key object\r\n   */\r\n  touchHold(key: KeyElement) {\r\n    // Clear and restart the popup timer\r\n    if(this.subkeyDelayTimer) {\r\n      window.clearTimeout(this.subkeyDelayTimer);\r\n      this.subkeyDelayTimer = null;\r\n    }\r\n\r\n    if(typeof key[\u0027subKeys\u0027] != \u0027undefined\u0027 \u0026\u0026 key[\u0027subKeys\u0027] != null) {\r\n      this.subkeyDelayTimer = window.setTimeout(\r\n        function(this: VisualKeyboard) {\r\n          this.clearPopup();\r\n          this.showSubKeys(key);\r\n        }.bind(this), this.popupDelay);\r\n    }\r\n  };\r\n\r\n  optionKey(e: KeyElement, keyName: string, keyDown: boolean) {\r\n    let keyman = com.keyman.singleton;\r\n    let oskManager = keyman.osk;\r\n    if(keyDown) {\r\n      if(keyName.indexOf(\u0027K_LOPT\u0027) \u003e= 0) {\r\n        oskManager.showLanguageMenu();\r\n      } else if(keyName.indexOf(\u0027K_ROPT\u0027) \u003e= 0) {\r\n        keyman.uiManager.setActivatingUI(false);\r\n        oskManager._Hide(true);\r\n        let active = keyman.domManager.getActiveElement();\r\n        if(dom.Utils.instanceof(active, \"TouchAliasElement\")) {\r\n          (active as dom.TouchAliasElement).hideCaret();\r\n        }\r\n        keyman.domManager.clearLastActiveElement();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Manage popup key highlighting\r\n  highlightSubKeys(k: KeyElement, x: number, y: number) {\r\n    let util = com.keyman.singleton.util;\r\n\r\n    // Test for subkey array, return if none\r\n    // (JH 2/4/19) So, if a subkey is passed in, we return immediately?\r\n    if(k == null || k[\u0027subKeys\u0027] == null) {\r\n      return;\r\n    }\r\n\r\n    // Highlight key at touch position (and clear other highlighting)\r\n    var i,sk,x0,y0,x1,y1,onKey,skBox=document.getElementById(\u0027kmw-popup-keys\u0027);\r\n\r\n    //#region This section fills a different role than the method name would suggest.\r\n    // Might correspond better to a \u0027checkInstantSubkeys\u0027 or something.\r\n\r\n    // Show popup keys immediately if touch moved up towards key array (KMEW-100, Build 353)\r\n    if((this.touchY-y \u003e 5) \u0026\u0026 skBox == null) {\r\n      if(this.subkeyDelayTimer) {\r\n        window.clearTimeout(this.subkeyDelayTimer);\r\n      }\r\n      this.showSubKeys(k);\r\n      skBox=document.getElementById(\u0027kmw-popup-keys\u0027);\r\n    }\r\n    //#endregion\r\n\r\n    /* (JH 2/4/19) Because of that earlier note, in KMW 12 alpha (and probably 11),\r\n     * the following code is effectively impotent and could be deleted with no effect.\r\n     * Note that this probably results from VisualKeyboard.keyTarget finding the\r\n     * subkey first... which is necessary anyway to support subkey output.\r\n     */\r\n    for(i=0; i \u003c k[\u0027subKeys\u0027].length; i++) {\r\n      try {\r\n        sk=\u003cHTMLElement\u003e skBox.childNodes[i].firstChild;\r\n        x0=dom.Utils.getAbsoluteX(sk); y0=dom.Utils.getAbsoluteY(sk);//-document.body.scrollTop;\r\n        x1=x0+sk.offsetWidth; y1=y0+sk.offsetHeight;\r\n        onKey=(x \u003e x0 \u0026\u0026 x \u003c x1 \u0026\u0026 y \u003e y0 \u0026\u0026 y \u003c y1);\r\n        this.highlightKey(sk, onKey);\r\n        if(onKey) {\r\n          this.highlightKey(k, false);\r\n        }\r\n      } catch(ex){}\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Add (or remove) the keytip preview (if KeymanWeb on a phone device)\r\n   *\r\n   * @param   {Object}  key   HTML key element\r\n   * @param   {boolean} on    show or hide\r\n   */\r\n  showKeyTip(key: KeyElement, on: boolean) {\r\n    let keyman = com.keyman.singleton;\r\n    let util = keyman.util;\r\n    let oskManager = keyman.osk;\r\n\r\n    var tip=this.keytip;\r\n\r\n    // Do not change the key preview unless key or state has changed\r\n    if(tip == null || (key == tip.key \u0026\u0026 on == tip.state)) {\r\n      return;\r\n    }\r\n\r\n    var sk=document.getElementById(\u0027kmw-popup-keys\u0027),\r\n        popup = (sk \u0026\u0026 sk.style.visibility == \u0027visible\u0027)\r\n\r\n    // Create and display the preview\r\n    if(on \u0026\u0026 !popup) {\r\n      var y0 = dom.Utils.getAbsoluteY(oskManager._Box),\r\n          h0 = oskManager._Box.offsetHeight,\r\n          xLeft = dom.Utils.getAbsoluteX(key),\r\n          xTop = dom.Utils.getAbsoluteY(key),\r\n          xWidth = key.offsetWidth,\r\n          xHeight = key.offsetHeight,\r\n          kc = \u003cHTMLElement\u003e key.firstChild,\r\n          kcs = kc.style,\r\n          kts = tip.element.style,\r\n          ktLabel = \u003cHTMLElement\u003e tip.element.childNodes[1],\r\n          ktls = ktLabel.style,\r\n          edge = 0,\r\n          canvas = \u003cHTMLCanvasElement\u003e tip.element.firstChild,\r\n          previewFontScale = 1.8;\r\n\r\n      // Find key text element\r\n      for(var i=0; i\u003ckey.childNodes.length; i++) {\r\n        kc = \u003cHTMLElement\u003e key.childNodes[i];\r\n        if(util.hasClass(kc,\u0027kmw-key-text\u0027)) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Canvas dimensions must be set explicitly to prevent clipping\r\n      canvas.width = 1.6 * xWidth;\r\n      canvas.height = 2.3 * xHeight;\r\n\r\n      kts.top = \u0027auto\u0027;\r\n      // Matches how the subkey positioning is set.\r\n      kts.bottom = (parseInt(key.style.bottom, 10))+\u0027px\u0027;\r\n      kts.textAlign = \u0027center\u0027;   kts.overflow = \u0027visible\u0027;\r\n      kts.fontFamily = util.getStyleValue(kc,\u0027font-family\u0027);\r\n      kts.width = canvas.width+\u0027px\u0027;\r\n      kts.height = canvas.height+\u0027px\u0027;\r\n\r\n      var px=util.getStyleInt(kc, \u0027font-size\u0027);\r\n      if(px != 0) {\r\n        let popupFS = previewFontScale * px;\r\n        let scaleStyle = {\r\n          fontFamily: kts.fontFamily,\r\n          fontSize: popupFS + \u0027px\u0027,\r\n          height: 1.6 * xHeight + \u0027px\u0027 // as opposed to the canvas height of 2.3 * xHeight.\r\n        };\r\n\r\n        kts.fontSize = key.key.getIdealFontSize(this, scaleStyle);\r\n      }\r\n\r\n      ktLabel.textContent = kc.textContent;\r\n      ktls.display = \u0027block\u0027;\r\n      ktls.position = \u0027absolute\u0027;\r\n      ktls.textAlign = \u0027center\u0027;\r\n      ktls.width=\u0027100%\u0027;\r\n      ktls.top = \u00272%\u0027;\r\n      ktls.bottom = \u0027auto\u0027;\r\n\r\n      // Adjust canvas shape if at edges\r\n      var xOverflow = (canvas.width - xWidth) / 2;\r\n      if(xLeft \u003c xOverflow) {\r\n        edge = -1;\r\n        xLeft += xOverflow;\r\n      } else if(xLeft \u003e window.innerWidth - xWidth - xOverflow) {\r\n        edge = 1;\r\n        xLeft -= xOverflow;\r\n      }\r\n\r\n      // For now, should only be true (in production) when keyman.isEmbedded == true.\r\n      let constrainPopup = keyman.isEmbedded;\r\n\r\n      let cs = getComputedStyle(tip.element);\r\n      let oskHeight = keyman.osk.getHeight();\r\n      let bottomY = parseInt(cs.bottom, 10);\r\n      let tipHeight = parseInt(cs.height, 10);\r\n\r\n      let delta = 0;\r\n      if(tipHeight + bottomY \u003e oskHeight \u0026\u0026 constrainPopup) {\r\n        delta = tipHeight + bottomY - oskHeight;\r\n        canvas.height = canvas.height - delta;\r\n        kts.height = canvas.height + \u0027px\u0027;\r\n      }\r\n\r\n      this.drawPreview(canvas, xWidth, xHeight, edge, delta);\r\n\r\n      kts.left=(xLeft - xOverflow) + \u0027px\u0027;\r\n      kts.display = \u0027block\u0027;\r\n    } else { // Hide the key preview\r\n      tip.element.style.display = \u0027none\u0027;\r\n    }\r\n\r\n    // Save the key preview state\r\n    tip.key = key;\r\n    tip.state = on;\r\n  };\r\n\r\n  /**\r\n   * Draw key preview in element using CANVAS\r\n   *  @param  {Object}  canvas CANVAS element\r\n   *  @param  {number}  w width of touched key, px\r\n   *  @param  {number}  h height of touched key, px\r\n   *  @param  {number}  edge  -1 left edge, 1 right edge, else 0\r\n   */\r\n  drawPreview(canvas: HTMLCanvasElement, w: number, h: number, edge: number, delta?: number) {\r\n    let util = com.keyman.singleton.util;\r\n    let device = util.device;\r\n\r\n    delta = delta || 0;\r\n\r\n    var ctx = canvas.getContext(\u00272d\u0027), dx = (canvas.width - w)/2, hMax = canvas.height + delta,\r\n        w0 = 0, w1 = dx, w2 = w + dx, w3 = w + 2 * dx,\r\n        h1 = 0.5 * hMax, h2 = 0.6 * hMax, h3 = hMax, r = 8;\r\n\r\n    let hBoundedMax = canvas.height;\r\n\r\n    h2 = h2 \u003e hBoundedMax ? hBoundedMax : h2;\r\n    h3 = hMax \u003e hBoundedMax ? hBoundedMax : h3;\r\n\r\n    if(device.OS == \u0027Android\u0027) {\r\n      r = 3;\r\n    }\r\n\r\n    // Adjust the preview shape at the edge of the keyboard\r\n    switch(edge) {\r\n      case -1:\r\n        w1 -= dx;\r\n        w2 -= dx;\r\n        break;\r\n      case 1:\r\n        w1 += dx;\r\n        w2 += dx;\r\n        break;\r\n    }\r\n\r\n    // Clear the canvas\r\n    ctx.clearRect(0,0,canvas.width,canvas.height);\r\n\r\n    // Define appearance of preview (cannot be done directly in CSS)\r\n    if(device.OS == \u0027Android\u0027) {\r\n      var wx=(w1+w2)/2;\r\n      w1 = w2 = wx;\r\n    }\r\n    ctx.fillStyle = device.styles.popupCanvasBackgroundColor;\r\n    ctx.lineWidth = 1;\r\n    ctx.strokeStyle = \u0027#cccccc\u0027;\r\n\r\n    // Draw outline\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w0+r,0);\r\n    ctx.arcTo(w3,0,w3,r,r);\r\n    if(device.OS == \u0027Android\u0027) {\r\n      ctx.arcTo(w3,h1,w2,h2,r);\r\n      ctx.arcTo(w2,h2,w1,h2,r);\r\n    } else {\r\n      let lowerR = 0;\r\n      if(h3 \u003e h2) {\r\n        lowerR = h3-h2 \u003e r ? r : h3-h2;\r\n      }\r\n      ctx.arcTo(w3,h1,w2,h2,r);\r\n      ctx.arcTo(w2,h2,w2-lowerR,h3,lowerR);\r\n      ctx.arcTo(w2,h3,w1,h3,lowerR);\r\n      ctx.arcTo(w1,h3,w1,h2-lowerR,lowerR);\r\n    }\r\n    ctx.arcTo(w1,h2,w0,h1-r,r);\r\n    ctx.arcTo(w0,h1,w0,r,r);\r\n    ctx.arcTo(w0,0,w0+r,0,r);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    ctx.restore();\r\n  };\r\n\r\n    /**\r\n     *  Create a key preview element for phone devices\r\n     */\r\n    createKeyTip() {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      if(keyman.util.device.formFactor == \u0027phone\u0027) {\r\n        if(this.keytip == null) {\r\n          this.keytip = {\r\n            key: null,\r\n            state: false\r\n          }\r\n          let tipElement = this.keytip.element=util._CreateElement(\u0027div\u0027);\r\n          tipElement.className=\u0027kmw-keytip\u0027;\r\n          tipElement.id = \u0027kmw-keytip\u0027;\r\n\r\n          // The following style is critical, so do not rely on external CSS\r\n          tipElement.style.pointerEvents=\u0027none\u0027;\r\n\r\n          // Add CANVAS element for outline and SPAN for key label\r\n          tipElement.appendChild(util._CreateElement(\u0027canvas\u0027));\r\n          tipElement.appendChild(util._CreateElement(\u0027span\u0027));\r\n        }\r\n\r\n        // Always append to _Box (since cleared during OSK Load)\r\n        keyman.osk._Box.appendChild(this.keytip.element);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Add a callout for popup keys (if KeymanWeb on a phone device)\r\n     *\r\n     * @param   {Object}  key   HTML key element\r\n     * @return  {Object}        callout object\r\n     */\r\n    addCallout(key: KeyElement, delta?: number): HTMLDivElement {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      if(util.device.formFactor != \u0027phone\u0027 || util.device.OS != \u0027iOS\u0027) {\r\n        return null;\r\n      }\r\n\r\n      delta = delta || 0;\r\n\r\n      let calloutHeight = key.offsetHeight - delta;\r\n\r\n      if(calloutHeight \u003e 0) {\r\n        var cc = util._CreateElement(\u0027div\u0027), ccs = cc.style;\r\n        cc.id = \u0027kmw-popup-callout\u0027;\r\n        keyman.osk._Box.appendChild(cc);\r\n\r\n        // Create the callout\r\n        var xLeft = key.offsetLeft,\r\n            xTop = key.offsetTop + delta,\r\n            xWidth = key.offsetWidth,\r\n            xHeight = calloutHeight;\r\n\r\n        // Set position and style\r\n        ccs.top = (xTop-6)+\u0027px\u0027; ccs.left = xLeft+\u0027px\u0027;\r\n        ccs.width = xWidth+\u0027px\u0027; ccs.height = (xHeight+6)+\u0027px\u0027;\r\n\r\n        // Return callout element, to allow removal later\r\n        return cc;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Wait until font is loaded before applying stylesheet - test each 100 ms\r\n     * @param   {Object}  kfd   main font descriptor\r\n     * @param   {Object}  ofd   secondary font descriptor (OSK only)\r\n     * @return  {boolean}\r\n     */\r\n    waitForFonts(kfd, ofd) {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      let fontDefined = !!(kfd \u0026\u0026 kfd[\u0027files\u0027]);\r\n      kfd = fontDefined ? kfd : undefined;\r\n\r\n      let oskFontDefined = !!(ofd \u0026\u0026 ofd[\u0027files\u0027]);\r\n      ofd = oskFontDefined ? ofd : undefined;\r\n\r\n      // Automatically \u0027ready\u0027 if the descriptor is explicitly `undefined`.\r\n      // Thus, also covers the case where both are undefined.\r\n      var kReady=util.checkFontDescriptor(kfd), oReady=util.checkFontDescriptor(ofd);\r\n      if(kReady \u0026\u0026 oReady) {\r\n        return true;\r\n      }\r\n\r\n      keymanweb.fontCheckTimer=window.setInterval(function() {\r\n        if(util.checkFontDescriptor(kfd) \u0026\u0026 util.checkFontDescriptor(ofd)) {\r\n          window.clearInterval(keymanweb.fontCheckTimer);\r\n          keymanweb.fontCheckTimer=null;\r\n          keymanweb.alignInputs();\r\n        }\r\n      }, 100);\r\n\r\n      // Align anyway as best as can if font appears to remain uninstalled after 5 seconds\r\n      window.setTimeout(function() {\r\n        if(keymanweb.fontCheckTimer)\r\n        {\r\n          window.clearInterval(keymanweb.fontCheckTimer);\r\n          keymanweb.fontCheckTimer=null;\r\n          keymanweb.alignInputs();\r\n          // Don\u0027t notify - this is a management issue, not anything the user needs to deal with\r\n          // TODO: Consider having an icon in the OSK with a bubble that indicates missing font\r\n          //util.alert(\u0027Unable to download the font normally used with \u0027+ks[\u0027KN\u0027]+\u0027.\u0027);\r\n        }\r\n      }, 5000);\r\n      return false;\r\n    };\r\n\r\n    shutdown() {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      // Prevents style-sheet pollution from multiple keyboard swaps.\r\n      if(this.styleSheet) {\r\n        keyman.util.removeStyleSheet(this.styleSheet);\r\n      }\r\n    }\r\n  }\r\n}\r\n","namespace com.keyman.dom {\r\n  /**\r\n   * This class was added to facilitate scroll handling for overflow-x elements, though it could\r\n   * be extended in the future to accept overflow-y if needed.\r\n   * \r\n   * This is necessary because of the OSK\u0027s need to use `.preventDefault()` for stability; that \r\n   * same method blocks native handling of overflow scrolling for touch browsers.\r\n   */\r\n  class ScrollState {\r\n    // While we don\u0027t currently track y-coordinates here, the class is designed\r\n    // to permit tracking them with minimal extra effort if we ever decide to do so.\r\n    x: number;\r\n    totalLength = 0;\r\n\r\n    // The amount of coordinate \u0027noise\u0027 allowed during a scroll-enabled touch allowed\r\n    // before interpreting the currently-ongoing touch command as having scrolled.\r\n    static readonly HAS_SCROLLED_FUDGE_FACTOR = 10;\r\n\r\n    constructor(touch: Touch) {\r\n      this.x = touch.pageX;\r\n\r\n      this.totalLength = 0;\r\n    }\r\n\r\n    updateTo(touch: Touch): {deltaX: number} {\r\n      let x = this.x;\r\n      this.x = touch.pageX;\r\n\r\n      let deltas = {deltaX: this.x - x};\r\n      this.totalLength += Math.abs(deltas.deltaX);\r\n\r\n      return deltas;\r\n    }\r\n\r\n    public get hasScrolled(): boolean {\r\n      // Allow an accidental fudge-factor for overflow element noise during a touch, but not much.\r\n      return this.totalLength \u003e ScrollState.HAS_SCROLLED_FUDGE_FACTOR;\r\n    }\r\n  }\r\n\r\n  export abstract class UITouchHandlerBase\u003cTarget extends HTMLElement\u003e {\r\n    private rowClassMatch: string;\r\n    private selectedTargetMatch: string;\r\n    private baseElement: HTMLElement;\r\n\r\n    private touchX: number;\r\n    private touchY: number;\r\n    private touchCount: number;\r\n\r\n    private currentTarget: Target;\r\n\r\n    private scrollTouchState: ScrollState;\r\n    private pendingTarget: Target;\r\n    private popupBaseTarget: Target;\r\n\r\n    constructor(baseElement: HTMLElement, rowClassMatch: string, selectedTargetMatch: string) {\r\n      this.baseElement = baseElement;\r\n      this.rowClassMatch = rowClassMatch;\r\n      this.selectedTargetMatch = selectedTargetMatch;\r\n    }\r\n\r\n    /**\r\n     * Finds the internally-preferred target element or submenu target element.\r\n     * @param e The DOM element that actually received the touch event.\r\n     * May be parent, child, or the actually-desired element itself.\r\n     */\r\n    abstract findTargetFrom(e: HTMLElement): Target;\r\n\r\n    /**\r\n     * Highlights the target element as visual feedback representing\r\n     * a pending touch.\r\n     * @param t The `Target` to highlight\r\n     * @param state `true` to apply highlighting, `false` to remove it.\r\n     */\r\n    protected abstract highlight(t: Target, state: boolean): void;\r\n\r\n    /**\r\n     * Called whenever the touch-handling analysis determines that the Target has been selected\r\n     * @param t The `Target` to activate/execute.\r\n     */\r\n    protected abstract select(t: Target): void;\r\n\r\n    /**\r\n     * Requests info on whether or not the indicated `Target` has subkeys or a submenu.\r\n     * @param t A `Target`.\r\n     */\r\n    protected abstract hasSubmenu(t: Target): boolean;\r\n\r\n    /**\r\n     * Indicates that the user is maintaining a `Touch` on the specified `Target`. \r\n     * Popups and-or longpress menus may be appropriate.\r\n     * @param t The `Target` being held.\r\n     */\r\n    protected abstract hold(t: Target): void;\r\n\r\n    /**\r\n     * Signals that any popup elements (previews, subkey views, etc) should be cancelled.\r\n     */\r\n    protected abstract clearHolds(): void;\r\n\r\n    /**\r\n     * Requests a boolean indicating whether or not the UI is currently displaying any input-blocking popup elements.\r\n     * Embedded mode should return `true` when the app is displaying popup menus.\r\n     */\r\n    protected abstract hasModalPopup(): boolean;\r\n\r\n    /**\r\n     * Designed to support highlighting of prepended base keys on phone form-factor subkey menus.\r\n     * @param target The base element with a potential subkey menu alias.\r\n     * @returns The aliased submenu version of the `Target`, or the original `Target` if no alias exists.\r\n     */\r\n    protected abstract dealiasSubTarget(target: Target): Target;\r\n\r\n    /**\r\n     * Should return true whenever a \u0027native\u0027-mode submenu (or subkey) display is active.\r\n     */\r\n    protected abstract isSubmenuActive(): boolean;\r\n\r\n    /**\r\n     * For \u0027native\u0027 mode - requests that the submenu for the indicated `Target` be instantly displayed.\r\n     * @param target The base element with a potential submenu\r\n     */\r\n    protected abstract displaySubmenuFor(target: Target);\r\n\r\n    /**\r\n     * Identify the key nearest to (but NOT under) the touch point if at the end of a key row,\r\n     * but return null more than about 0.6 key width from the nearest key.\r\n     *\r\n     *  @param  {Event}   e   touch event\r\n     *  @param  {Object}  t   HTML object at touch point\r\n     *  @param  {boolean} omitCurrent  Omits any target directly under the touch point.\r\n     *  @return {Object}      nearest key to touch point\r\n     *\r\n     **/\r\n    private findTargetFromTouch(e: TouchEvent, t: HTMLElement, forMove: boolean): Target {\r\n      let touchList = forMove ? e.touches : e.changedTouches;\r\n\r\n      if((!e) || (typeof touchList == \u0027undefined\u0027)\r\n        || (touchList.length == 0)) {\r\n        return null;\r\n      }\r\n\r\n      // Get touch point on screen\r\n      var x = touchList[0].pageX;\r\n\r\n      // Get the UI row beneath touch point (SuggestionBanner div, \u0027kmw-key-row\u0027 if OSK, ...)\r\n      while(t \u0026\u0026 t.className !== undefined \u0026\u0026 t.className.indexOf(this.rowClassMatch) \u003c 0) {\r\n        t = \u003cHTMLElement\u003e t.parentNode;\r\n      }\r\n      if(!t) {\r\n        return null;\r\n      }\r\n\r\n      // Find minimum distance from any key\r\n      var k: number, bestMatch=0, dxMax=24, dxMin=100000, x1: number, x2: number;\r\n      for(k = 0; k \u003c t.childNodes.length; k++) {\r\n        let childNode = t.childNodes[k] as HTMLElement;\r\n\r\n        if(this.isInvalidTarget(this.findTargetFrom(childNode))) {\r\n          continue;\r\n        }\r\n        \r\n        x1 = childNode.offsetLeft;\r\n        x2 = x1 + childNode.offsetWidth;\r\n\r\n        // If it lies completely to the right and is the closest so far\r\n        let dxRight = x1 - x;\r\n        if(dxRight \u003e= 0 \u0026\u0026 dxRight \u003c dxMin) {\r\n          bestMatch = k;\r\n          dxMin = dxRight;\r\n        }\r\n\r\n        // If it lies completely to the left and is the closest so far\r\n        let dxLeft = x - x2;\r\n        if(dxLeft \u003e= 0 \u0026\u0026 dxLeft \u003c dxMin) {\r\n          bestMatch = k;\r\n          dxMin = dxLeft;\r\n        }\r\n\r\n        // If it is neither completely to the left nor completely to the right,\r\n        // it\u0027s under the cursor.  Stop the search!\r\n        if(dxLeft \u003c 0 \u0026\u0026 dxRight \u003c 0) {\r\n          return this.findTargetFrom(childNode);\r\n        }\r\n      }\r\n\r\n      if(dxMin \u003c 100000) {\r\n        t = \u003cHTMLElement\u003e t.childNodes[bestMatch];\r\n        x1 = t.offsetLeft;\r\n        x2 = x1 + t.offsetWidth;\r\n\r\n        // Limit extended touch area to the larger of 0.6 of the potential target\u0027s width and 24 px\r\n        if(t.offsetWidth \u003e 40) {\r\n          dxMax = 0.6 * t.offsetWidth;\r\n        }\r\n\r\n        if(((x1 - x) \u003e= 0 \u0026\u0026 (x1 - x) \u003c dxMax) || ((x - x2) \u003e= 0 \u0026\u0026 (x - x2) \u003c dxMax)) {\r\n          return this.findTargetFrom(t);\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    findBestTarget(e: TouchEvent, forMove?: boolean) {\r\n      var eventTarget: HTMLElement;\r\n\r\n      if(forMove) {\r\n        eventTarget = document.elementFromPoint(e.touches[0].clientX, e.touches[0].clientY) as HTMLElement;\r\n      } else {\r\n        eventTarget = e.changedTouches[0].target as HTMLElement;\r\n      }\r\n\r\n      let target = this.findTargetFrom(eventTarget);\r\n\r\n      // Should refactor this multi-check a bit for more overall reliability.\r\n      if(!target) {\r\n        // We didn\u0027t find a direct target, so we should look for the closest possible one.\r\n        // Filters out invalid targets.\r\n        target = this.findTargetFromTouch(e, eventTarget, forMove);\r\n      }\r\n\r\n      return target;\r\n    }\r\n\r\n    /**\r\n     * Reports whether or not a `Target` should be considered invalid.  Needed by the OSK for\r\n     * hidden keys.\r\n     * @param target A `Target` element to be validated.\r\n     */\r\n    protected isInvalidTarget(target: Target): boolean {\r\n      return false;\r\n    }\r\n\r\n    touchStart(e: TouchEvent) {\r\n      // Determine the selected Target, manage state.\r\n      //this.currentTarget = this.findTargetFrom(e.changedTouches[0].target as HTMLElement);\r\n      this.currentTarget = this.findBestTarget(e);\r\n      this.touchX = e.changedTouches[0].pageX;\r\n      this.touchY = e.changedTouches[0].pageY;\r\n\r\n      // If popup stuff, immediately return. \r\n      \r\n      this.touchCount = e.touches.length;\r\n\r\n      if(!this.currentTarget) {\r\n        return;\r\n      }\r\n\r\n      // Establish scroll tracking.\r\n      let shouldScroll = (this.currentTarget.clientWidth \u003c this.currentTarget.scrollWidth);\r\n      this.scrollTouchState = shouldScroll ? new ScrollState(e.changedTouches[0]) : null;\r\n\r\n      // Alright, Target acquired!  Now to use it:\r\n\r\n      // Highlight the touched key\r\n      this.highlight(this.currentTarget,true);\r\n\r\n      // If used by the OSK, the special function keys need immediate action\r\n      // Add a `checkForImmediates()` to facilitate this.\r\n      if(this.pendingTarget) {\r\n        this.highlight(this.pendingTarget, false);\r\n        this.select(this.pendingTarget);\r\n        this.clearHolds();\r\n        // Decrement the number of unreleased touch points to prevent\r\n        // sending the keystroke again when the key is actually released\r\n        this.touchCount--;\r\n      } else {\r\n        // If this key has subkey, start timer to display subkeys after delay, set up release\r\n        this.hold(this.currentTarget);\r\n      }\r\n      this.pendingTarget = this.currentTarget;\r\n    }\r\n\r\n    touchEnd(e: TouchEvent): void {\r\n      // Prevent incorrect multi-touch behaviour if native or device popup visible\r\n      let t = this.currentTarget;\r\n\r\n      if(this.isSubmenuActive() || this.hasModalPopup()) {\r\n        // Ignore release if a multiple touch\r\n        if(e.touches.length \u003e 0) {\r\n          return;\r\n        }\r\n\r\n        // Cancel (but do not execute) pending key if neither a popup key or the base key\r\n        if((t == null) || ((t.id.indexOf(\u0027popup\u0027) \u003c 0) \u0026\u0026 (t.id != this.popupBaseTarget.id))) {\r\n          this.highlight(this.pendingTarget,false);\r\n          this.clearHolds();\r\n          this.pendingTarget = null;\r\n        }\r\n      }\r\n\r\n      // Test if moved off screen (effective release point must be corrected for touch point horizontal speed)\r\n      // This is not completely effective and needs some tweaking, especially on Android\r\n      var x = e.changedTouches[0].pageX;\r\n      var beyondEdge = ((x \u003c 2 \u0026\u0026 this.touchX \u003e 5) || (x \u003e window.innerWidth - 2 \u0026\u0026 this.touchX \u003c window.innerWidth - 5));\r\n\r\n      if(this.scrollTouchState) {\r\n        beyondEdge = beyondEdge || this.scrollTouchState.hasScrolled;\r\n      }\r\n\r\n      // Save then decrement current touch count\r\n      var tc=this.touchCount;\r\n      if(this.touchCount \u003e 0) {\r\n        this.touchCount--;\r\n      }\r\n\r\n      // Process and clear highlighting of pending target\r\n      if(this.pendingTarget) {\r\n        this.highlight(this.pendingTarget,false);\r\n\r\n        // Output character unless moved off key\r\n        if(this.pendingTarget.className.indexOf(\u0027hidden\u0027) \u003c 0 \u0026\u0026 tc \u003e 0 \u0026\u0026 !beyondEdge) {\r\n          this.select(this.pendingTarget);\r\n        }\r\n        this.clearHolds();\r\n        this.pendingTarget = null;\r\n        // Always clear highlighting of current target on release (multi-touch)\r\n      } else {\r\n        t = this.findBestTarget(e);\r\n\r\n        if(t) {\r\n          this.highlight(t,false);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * OSK touch move event handler\r\n     *\r\n     *  @param  {Event} e   touch move event object\r\n     *\r\n     **/\r\n    touchMove(e: TouchEvent): void {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      e.preventDefault();\r\n      e.cancelBubble=true;\r\n\r\n      if(typeof e.stopImmediatePropagation == \u0027function\u0027) {\r\n        e.stopImmediatePropagation();\r\n      } else if(typeof e.stopPropagation == \u0027function\u0027) {\r\n        e.stopPropagation();\r\n      }\r\n\r\n      // Do not attempt to support reselection of target key for overlapped keystrokes\r\n      if(e.touches.length \u003e 1 || this.touchCount == 0) {\r\n        return;\r\n      }\r\n\r\n      if(this.currentTarget \u0026\u0026 this.scrollTouchState != null) {\r\n        let deltaX = this.scrollTouchState.updateTo(e.changedTouches[0]).deltaX;\r\n        this.currentTarget.scrollLeft -= window.devicePixelRatio * deltaX;\r\n\r\n        return;\r\n      }\r\n\r\n      // Get touch position\r\n      var y=typeof e.touches == \u0027object\u0027 ? e.touches[0].clientY : e.clientY;\r\n\r\n      // Move target key and highlighting\r\n      var key0 = this.pendingTarget,\r\n          key1 = this.findBestTarget(e, true);  // For the OSK, this ALSO gets subkeys.\r\n\r\n      // If option should not be selectable, how do we re-target?\r\n\r\n\r\n      // Do not move over keys if device popup visible\r\n      if(this.hasModalPopup()) {\r\n        if(key1 == null) {\r\n          if(key0) {\r\n            this.highlight(key0,false);\r\n          }\r\n          this.pendingTarget=null;\r\n        } else {\r\n          if(key1 == this.popupBaseTarget) {\r\n            if(!util.hasClass(key1, this.selectedTargetMatch)) {\r\n              this.highlight(key1,true);\r\n            }\r\n            this.pendingTarget = key1;\r\n          } else {\r\n            if(key0) {\r\n              this.highlight(key0,false);\r\n            }\r\n            this.pendingTarget = null;\r\n          }\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Use the popup duplicate of the base key if a phone with a visible popup array\r\n      key1 = this.dealiasSubTarget(key1);\r\n\r\n      // Identify current touch position (to manage off-key release)\r\n      this.currentTarget = key1;\r\n\r\n      // Clear previous key highlighting\r\n      if(key0 \u0026\u0026 key1 \u0026\u0026 key1 !== key0) {\r\n        this.highlight(key0,false);\r\n      }\r\n\r\n      // Code below directly related to subkeys should only be triggered within \u0027native\u0027 mode.\r\n      // The embedded version instead passes info to the apps to produce their own subkeys in-app.\r\n\r\n      // If popup is visible, need to move over popup, not over main keyboard\r\n      if(key1 \u0026\u0026 this.hasSubmenu(key1)) {\r\n        //this.highlightSubKeys(key1,x,y);\r\n\r\n        // Native-mode: show popup keys immediately if touch moved up towards key array (KMEW-100, Build 353)\r\n        if(!keyman.isEmbedded \u0026\u0026 (this.touchY-y \u003e 5) \u0026\u0026 !this.isSubmenuActive()) {\r\n          // Instantly show the submenu.\r\n          this.displaySubmenuFor(key1);\r\n        }\r\n\r\n        // Once a subkey array is displayed, do not allow changing the base key.\r\n        // Keep that array visible and accept no other options until the touch ends.\r\n        if(key1 \u0026\u0026 key1.id.indexOf(\u0027popup\u0027) \u003c 0 \u0026\u0026 key1 != this.popupBaseTarget) { // TODO:  reliant on \u0027popup\u0027 in .id\r\n          return;\r\n        }\r\n\r\n        // Highlight the base key on devices that do not append it to the subkey array.\r\n        if(key1 \u0026\u0026 key1 == this.popupBaseTarget \u0026\u0026 key1.className.indexOf(this.selectedTargetMatch) \u003c 0) {\r\n          this.highlight(key1,true);\r\n        }\r\n        // Cancel touch if moved up and off keyboard, unless popup keys visible\r\n      } else {\r\n        let base = this.baseElement;\r\n        let parent = base.parentElement; // parentElement is _Box\r\n        let top = base.offsetTop;\r\n        if(parent) {\r\n          top += parent.offsetTop;\r\n        }\r\n        let height = base.offsetHeight;\r\n        let yMin = Math.max(5, top - 0.25 * height);\r\n        let yMax = (top + height) + 0.25 * height;\r\n        if(key0 \u0026\u0026 (e.touches[0].pageY \u003c yMin || e.touches[0].pageY \u003e yMax)) {\r\n          this.highlight(key0,false);\r\n          this.clearHolds();\r\n          this.pendingTarget = null;\r\n        }\r\n      }\r\n\r\n      // Replace the target key, if any, by the new target key\r\n      // Do not replace a null target, as that indicates the key has already been released\r\n      if(key1 \u0026\u0026 this.pendingTarget) {\r\n        this.pendingTarget = key1;\r\n      }\r\n\r\n      if(this.pendingTarget) {\r\n        if(key1 \u0026\u0026 (key0 != key1 || key1.className.indexOf(this.selectedTargetMatch) \u003c 0)) {\r\n          this.highlight(key1,true);\r\n        }\r\n      }\r\n\r\n      if(key0 \u0026\u0026 key1 \u0026\u0026 (key1 != key0) \u0026\u0026 (key1.id != \u0027\u0027)) {\r\n        //  Display the touch-hold keys (after a pause)\r\n        this.hold(key1);\r\n      }\r\n    }\r\n  }\r\n}\r\n","///\u003creference path=\"visualKeyboard.ts\" /\u003e\r\n///\u003creference path=\"../dom/uiTouchHandlerBase.ts\" /\u003e\r\n\r\nnamespace com.keyman.osk {\r\n  // Base class for a banner above the keyboard in the OSK\r\n\r\n  export abstract class Banner {\r\n    private _height: number; // pixels\r\n    private div: HTMLDivElement;\r\n\r\n    public static DEFAULT_HEIGHT: number = 37; // pixels; embedded apps can modify\r\n\r\n    public static readonly BANNER_CLASS: string = \u0027kmw-banner-bar\u0027;\r\n    public static readonly BANNER_ID: string = \u0027kmw-banner-bar\u0027;\r\n\r\n    /**\r\n     * Function     height\r\n     * Scope        Public\r\n     * @returns     {number} height in pixels\r\n     * Description  Returns the height of the banner in pixels\r\n     */\r\n    public get height(): number {\r\n      return this._height;\r\n    }\r\n\r\n    /**\r\n     * Function     height\r\n     * Scope        Public\r\n     * @param       {number} height   the height in pixels\r\n     * Description  Sets the height of the banner in pixels. If a negative \r\n     *              height is given, set height to 0 pixels.\r\n     *              Also updates the banner styling.\r\n     */\r\n    public set height(height: number) {\r\n      this._height = (height \u003e 0) ?  height : 0;\r\n      this.update();\r\n    }\r\n\r\n    /**\r\n     * Function      update\r\n     * @return       {boolean}   true if the banner styling changed\r\n     * Description   Update the height and display styling of the banner\r\n     */\r\n    private update() : boolean {\r\n      let ds = this.div.style;\r\n      let currentHeightStyle = ds.height;\r\n      let currentDisplayStyle = ds.display;\r\n\r\n      if (this._height \u003e 0) {\r\n        ds.height = this._height + \u0027px\u0027;\r\n        ds.display = \u0027block\u0027;\r\n      } else {\r\n        ds.height = \u00270px\u0027;\r\n        ds.display = \u0027none\u0027;\r\n      }\r\n\r\n      return (!(currentHeightStyle === ds.height) || \r\n        !(currentDisplayStyle === ds.display));\r\n    }\r\n\r\n    public constructor(height?: number) {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      let d = util._CreateElement(\u0027div\u0027);\r\n      d.id = Banner.BANNER_ID;\r\n      d.className = Banner.BANNER_CLASS;\r\n      this.div = d;\r\n\r\n      this.height = height;\r\n      this.update();\r\n    }\r\n\r\n    public appendStyleSheet() {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      // TODO: add stylesheets\r\n    }\r\n\r\n    /**\r\n     * Function     getDiv\r\n     * Scope        Public\r\n     * @returns     {HTMLElement} Base element of the banner\r\n     * Description  Returns the HTMLElelemnt of the banner\r\n     */\r\n    public getDiv(): HTMLElement {\r\n      return this.div;\r\n    }\r\n\r\n    /**\r\n     * Function     activate\r\n     * Scope        Public\r\n     * Description  Adds any relevant event listeners needed by this banner type.\r\n     */\r\n    public activate() {\r\n      // Default implementation - no listeners.\r\n    }\r\n\r\n    /**\r\n     * Function     activate\r\n     * Scope        Public\r\n     * Description  Removes any relevant event listeners previously added by this banner.\r\n     */\r\n    public deactivate() {\r\n      // Default implementation - no listeners.\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Function       BlankBanner\r\n   * Description    A banner of height 0 that should not be shown\r\n   */\r\n  export class BlankBanner extends Banner {\r\n\r\n    constructor() {\r\n      super(0);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Function       ImageBanner\r\n   * @param         {string}        imagePath   Path of image to display in the banner\r\n   * @param         {number}        height      If provided, the height of the banner in pixels\r\n   * Description    Display an image in the banner\r\n   */\r\n  export class ImageBanner extends Banner {\r\n    private img: HTMLElement;\r\n\r\n    constructor(imagePath: string, height?: number) {\r\n      if (imagePath.length \u003e 0) {\r\n        super();\r\n        if (height) {\r\n          this.height = height;\r\n        }\r\n      } else {\r\n        super(0);\r\n      }\r\n\r\n      if(imagePath.indexOf(\u0027base64\u0027) \u003e=0) {\r\n        console.log(\"Loading img from base64 data\");\r\n      } else {\r\n        console.log(\"Loading img with src \u0027\" + imagePath + \"\u0027\");\r\n      }\r\n      this.img = document.createElement(\u0027img\u0027);\r\n      this.img.setAttribute(\u0027src\u0027, imagePath);\r\n      let ds = this.img.style;\r\n      ds.width = \u0027100%\u0027;\r\n      ds.height = \u0027100%\u0027;\r\n      this.getDiv().appendChild(this.img);\r\n      console.log(\"Image loaded.\");\r\n    }\r\n\r\n    /**\r\n     * Function     setImagePath\r\n     * Scope        Public\r\n     * @param       {string}     imagePath   Path of image to display in the banner\r\n     * Description  Update the image in the banner\r\n     */\r\n    public setImagePath(imagePath: string) {\r\n      if (this.img) {\r\n        this.img.setAttribute(\u0027src\u0027, imagePath);\r\n      }\r\n    }\r\n  }\r\n\r\n  export class BannerSuggestion {\r\n    div: HTMLDivElement;\r\n    private display: HTMLSpanElement;\r\n    private fontFamily?: string;\r\n\r\n    private _suggestion: Suggestion;\r\n\r\n    private index: number;\r\n\r\n    static readonly BASE_ID = \u0027kmw-suggestion-\u0027;\r\n\r\n    constructor(index: number) {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      this.index = index;\r\n\r\n      this.constructRoot();\r\n\r\n      // Provides an empty, base SPAN for text display.  We\u0027ll swap these out regularly;\r\n      // `Suggestion`s will have varying length and may need different styling.\r\n      let display = this.display = keyman.util._CreateElement(\u0027span\u0027);\r\n      this.div.appendChild(display);\r\n    }\r\n\r\n    private constructRoot() {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      // Add OSK suggestion labels\r\n      let div = this.div = keyman.util._CreateElement(\u0027div\u0027), ds=div.style;\r\n      div.className = \"kmw-suggest-option\";\r\n      div.id = BannerSuggestion.BASE_ID + this.index;\r\n\r\n      let kbdDetails = keyman.keyboardManager.activeStub;\r\n      if(kbdDetails) {  \r\n        if (kbdDetails[\u0027KLC\u0027]) {\r\n          div.lang = kbdDetails[\u0027KLC\u0027];\r\n        }\r\n\r\n        // Establish base font settings\r\n        let font = kbdDetails[\u0027KFont\u0027];\r\n        if(font \u0026\u0026 font.family \u0026\u0026 font.family != \u0027\u0027) {\r\n          ds.fontFamily = this.fontFamily = font.family;\r\n        }\r\n      }\r\n\r\n      // Ensures that a reasonable width % is set.\r\n      let usableWidth = 100 - SuggestionBanner.MARGIN * (SuggestionBanner.SUGGESTION_LIMIT - 1);\r\n      let widthpc = usableWidth / SuggestionBanner.SUGGESTION_LIMIT;\r\n\r\n      ds.width = widthpc + \u0027%\u0027;\r\n\r\n      this.div[\u0027suggestion\u0027] = this;\r\n    }\r\n\r\n    get suggestion(): Suggestion {\r\n      return this._suggestion;\r\n    }\r\n\r\n    /**\r\n     * Function update\r\n     * @param {string}     id           Element ID for the suggestion span\r\n     * @param {Suggestion} suggestion   Suggestion from the lexical model\r\n     * Description  Update the ID and text of the BannerSuggestionSpec\r\n     */\r\n    public update(suggestion: Suggestion) {\r\n      this._suggestion = suggestion;\r\n      this.updateText();\r\n    }\r\n\r\n    private updateText() {\r\n      let display = this.generateSuggestionText();\r\n      this.div.replaceChild(display, this.display);\r\n      this.display = display;\r\n    }\r\n\r\n    /**\r\n     * Function apply\r\n     * @param target (Optional) The OutputTarget to which the `Suggestion` ought be applied.\r\n     * Description  Applies the predictive `Suggestion` represented by this `BannerSuggestion`.\r\n     */\r\n    public apply(target?: text.OutputTarget): Promise\u003cReversion\u003e {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      if(this.isEmpty()) {\r\n        return null;\r\n      }\r\n      \r\n      if(!target) {\r\n        /* Assume it\u0027s the currently-active `OutputTarget`.  We should probably invalidate \r\n          * everything if/when the active `OutputTarget` changes, though we haven\u0027t gotten that \r\n          * far in implementation yet.\r\n          */\r\n        target = dom.Utils.getOutputTarget();\r\n      }\r\n\r\n      if(this._suggestion.tag == \u0027revert\u0027) {\r\n        keyman.core.languageProcessor.applyReversion(this._suggestion as Reversion, target);\r\n        return null;\r\n      } else {\r\n        return keyman.core.languageProcessor.applySuggestion(this.suggestion, target);\r\n      }\r\n    }\r\n\r\n    public isEmpty(): boolean {\r\n      return !this._suggestion;\r\n    }\r\n\r\n    /**\r\n     * Function generateSuggestionText\r\n     * @return {HTMLSpanElement}  Span element of the suggestion\r\n     * Description   Produces a HTMLSpanElement with the key\u0027s actual text.\r\n     */\r\n    //\r\n    public generateSuggestionText(): HTMLSpanElement {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      let suggestion = this._suggestion;\r\n      var suggestionText: string;\r\n\r\n      var s=util._CreateElement(\u0027span\u0027);\r\n      s.className = \u0027kmw-suggestion-text\u0027;\r\n\r\n      if(suggestion == null) {\r\n        return s;\r\n      }\r\n\r\n      if(suggestion.displayAs == null || suggestion.displayAs == \u0027\u0027) {\r\n        suggestionText = \u0027\\xa0\u0027;  // default:  nbsp.\r\n      } else {\r\n        // Default the LTR ordering to match that of the active keyboard.\r\n        let activeKeyboard = keyman.core.activeKeyboard;\r\n        let rtl = activeKeyboard \u0026\u0026 activeKeyboard.isRTL;\r\n        let orderCode = rtl ? 0x202e /* RTL */ : 0x202d /* LTR */;\r\n        suggestionText = String.fromCharCode(orderCode) + suggestion.displayAs;\r\n      }\r\n\r\n      // TODO:  Dynamic suggestion text resizing.  (Refer to OSKKey.getTextWidth in visualKeyboard.ts.)\r\n\r\n      // Finalize the suggestion text\r\n      s.innerHTML = suggestionText;\r\n      return s;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Function     SuggestionBanner\r\n   * Scope        Public\r\n   * @param {number} height - If provided, the height of the banner in pixels\r\n   * Description  Display lexical model suggestions in the banner\r\n   */\r\n  export class SuggestionBanner extends Banner {\r\n    public static readonly SUGGESTION_LIMIT: number = 3;\r\n    public static readonly MARGIN = 1;\r\n\r\n    private options : BannerSuggestion[];\r\n\r\n    private manager: SuggestionManager;\r\n\r\n    static readonly TOUCHED_CLASS: string = \u0027kmw-suggest-touched\u0027;\r\n    static readonly BANNER_CLASS: string = \u0027kmw-suggest-banner\u0027;\r\n\r\n    constructor(height?: number) {\r\n      super(height || Banner.DEFAULT_HEIGHT);\r\n\r\n      this.getDiv().className = this.getDiv().className + \u0027 \u0027 + SuggestionBanner.BANNER_CLASS;\r\n\r\n      this.options = new Array();\r\n      for (var i=0; i\u003cSuggestionBanner.SUGGESTION_LIMIT; i++) {\r\n        let d = new BannerSuggestion(i);\r\n        this.options[i] = d;\r\n      }\r\n\r\n      /* LTR behavior:  the default (index 0) suggestion should be at the left\r\n       * RTL behavior:  the default (index 0) suggestion should be at the right\r\n       *\r\n       * The cleanest way to make it work - simply invert the order in which\r\n       * the elements are inserted for RTL.  This allows the banner to be RTL\r\n       * for visuals/UI while still being internally LTR.\r\n       */\r\n      let activeKeyboard = com.keyman.singleton.core.activeKeyboard;\r\n      let rtl = activeKeyboard \u0026\u0026 activeKeyboard.isRTL;\r\n      for (var i=0; i\u003cSuggestionBanner.SUGGESTION_LIMIT; i++) {\r\n        let indexToInsert = rtl ? SuggestionBanner.SUGGESTION_LIMIT - i -1 : i;\r\n        this.getDiv().appendChild(this.options[indexToInsert].div);\r\n\r\n        if(i != SuggestionBanner.SUGGESTION_LIMIT) {\r\n          // Adds a \u0027separator\u0027 div element for UI purposes.\r\n          let separatorDiv = com.keyman.singleton.util._CreateElement(\u0027div\u0027);\r\n          separatorDiv.className = \u0027kmw-banner-separator\u0027;\r\n\r\n          let ds = separatorDiv.style;\r\n          ds.marginLeft = (SuggestionBanner.MARGIN / 2) + \u0027%\u0027;\r\n          ds.marginRight = (SuggestionBanner.MARGIN / 2) + \u0027%\u0027;\r\n\r\n          this.getDiv().appendChild(separatorDiv);\r\n        }\r\n      }\r\n\r\n      this.manager = new SuggestionManager(this.getDiv(), this.options);\r\n\r\n      this.setupTouchHandling();\r\n    }\r\n\r\n    private setupTouchHandling() {\r\n      let keyman = com.keyman.singleton;\r\n      let div = this.getDiv();\r\n\r\n      let th = this.manager;\r\n\r\n      if(keyman.util.device.touchable) { //  /*\u0026\u0026 (\u0027ontouchstart\u0027 in window)*/ // Except Chrome emulation doesn\u0027t set this.\r\n        // Not to mention, it\u0027s rather redundant.\r\n        div.addEventListener(\u0027touchstart\u0027, function(e: TouchEvent) {\r\n          th.touchStart(e);\r\n        }, true);\r\n        // The listener below fails to capture when performing automated testing checks in Chrome emulation unless \u0027true\u0027.\r\n        div.addEventListener(\u0027touchend\u0027, function(e: TouchEvent) {\r\n          th.touchEnd(e);\r\n        }, true); \r\n        div.addEventListener(\u0027touchmove\u0027, function(e: TouchEvent) {\r\n          th.touchMove(e);\r\n        }, false);\r\n        //lDiv.addEventListener(\u0027touchcancel\u0027, osk.cancel,false); //event never generated by iOS\r\n      }\r\n    }\r\n\r\n    activate() {\r\n      let keyman = com.keyman.singleton;\r\n      let manager = this.manager;\r\n\r\n      keyman.core.languageProcessor.addListener(\u0027invalidatesuggestions\u0027, manager.invalidateSuggestions);\r\n      keyman.core.languageProcessor.addListener(\u0027suggestionsready\u0027, manager.updateSuggestions);\r\n      keyman.core.languageProcessor.addListener(\u0027tryaccept\u0027, manager.tryAccept);\r\n      keyman.core.languageProcessor.addListener(\u0027tryrevert\u0027, manager.tryRevert);\r\n    }\r\n\r\n    postConfigure() {\r\n      let keyman = com.keyman.singleton;\r\n      // Trigger a null-based initial prediction to kick things off.\r\n      keyman.core.languageProcessor.predictFromTarget(dom.Utils.getOutputTarget());\r\n    }\r\n\r\n    deactivate() {\r\n      let keyman = com.keyman.singleton;\r\n      let manager = this.manager;\r\n\r\n      keyman.core.languageProcessor.removeListener(\u0027invalidatesuggestions\u0027, manager.invalidateSuggestions);\r\n      keyman.core.languageProcessor.removeListener(\u0027suggestionsready\u0027, manager.updateSuggestions);\r\n      keyman.core.languageProcessor.removeListener(\u0027tryaccept\u0027, manager.tryAccept);\r\n      keyman.core.languageProcessor.removeListener(\u0027tryrevert\u0027, manager.tryRevert);\r\n    }\r\n  }\r\n\r\n  export class SuggestionManager extends dom.UITouchHandlerBase\u003cHTMLDivElement\u003e {\r\n    private selected: BannerSuggestion;\r\n\r\n    platformHold: (suggestion: BannerSuggestion, isCustom: boolean) =\u003e void;\r\n\r\n    //#region Touch handling implementation\r\n    findTargetFrom(e: HTMLElement): HTMLDivElement {\r\n      let keyman = com.keyman.singleton;\r\n      let util = keyman.util;\r\n\r\n      try {\r\n        if(e) {\r\n          if(util.hasClass(e,\u0027kmw-suggest-option\u0027)) {\r\n            return e as HTMLDivElement;\r\n          }\r\n          if(e.parentNode \u0026\u0026 util.hasClass(\u003cHTMLElement\u003e e.parentNode,\u0027kmw-suggest-option\u0027)) {\r\n            return e.parentNode as HTMLDivElement;\r\n          }\r\n          // if(e.firstChild \u0026\u0026 util.hasClass(\u003cHTMLElement\u003e e.firstChild,\u0027kmw-suggest-option\u0027)) {\r\n          //   return e.firstChild as HTMLDivElement;\r\n          // }\r\n        }\r\n      } catch(ex) {}\r\n      return null;\r\n    }\r\n\r\n    protected highlight(t: HTMLDivElement, on: boolean): void {\r\n      let classes = t.className;\r\n      let cs = \u0027 \u0027 + SuggestionBanner.TOUCHED_CLASS;\r\n\r\n      if(t.id.indexOf(BannerSuggestion.BASE_ID) == -1) {\r\n        console.warn(\"Cannot find BannerSuggestion object for element to highlight!\");\r\n      } else {\r\n        // Never highlight an empty suggestion button.\r\n        let suggestion = this.selected = t[\u0027suggestion\u0027] as BannerSuggestion;\r\n        if(suggestion.isEmpty()) {\r\n          on = false;\r\n          this.selected = null;\r\n        }\r\n      }\r\n\r\n      if(on \u0026\u0026 classes.indexOf(cs) \u003c 0) {\r\n        t.className=classes+cs;\r\n      } else {\r\n        t.className=classes.replace(cs,\u0027\u0027);\r\n      }\r\n    }\r\n\r\n    protected select(t: HTMLDivElement): void {\r\n      this.doAccept(t[\u0027suggestion\u0027] as BannerSuggestion);\r\n    }\r\n\r\n    //#region Long-press support\r\n    protected hold(t: HTMLDivElement): void {\r\n      let suggestionObj = t[\u0027suggestion\u0027] as BannerSuggestion;\r\n\r\n      // Is this the \u003ckeep\u003e suggestion?  It\u0027s never in this.currentSuggestions, so check against that.\r\n      let isCustom = this.currentSuggestions.indexOf(suggestionObj.suggestion) == -1;\r\n\r\n      if(this.platformHold) {\r\n        // Implemented separately for native + embedded mode branches.\r\n        // Embedded mode should pass any info needed to show a submenu IMMEDIATELY.\r\n        this.platformHold(suggestionObj, isCustom); // No implementation yet for native.\r\n      }\r\n    }\r\n    protected clearHolds(): void {\r\n      // Temp, pending implementation of suggestion longpress submenus\r\n      // - nothing to clear without them -\r\n\r\n      // only really used in native-KMW\r\n    }\r\n    \r\n    protected hasModalPopup(): boolean {\r\n      // Utilized by the mobile apps; allows them to \u0027take over\u0027 touch handling,\r\n      // blocking it within KMW when the apps are already managing an ongoing touch-hold.\r\n      let keyman = com.keyman.singleton;\r\n      return keyman[\u0027osk\u0027].vkbd.popupVisible;\r\n    }\r\n\r\n    protected dealiasSubTarget(target: HTMLDivElement): HTMLDivElement {\r\n      return target;\r\n    }\r\n\r\n    protected hasSubmenu(t: HTMLDivElement): boolean {\r\n      // Temp, pending implementation of suggestion longpress submenus\r\n\r\n      // Only really used by native-KMW - see kmwnative\u0027s highlightSubKeys func.\r\n      return false;\r\n    }\r\n\r\n    protected isSubmenuActive(): boolean {\r\n      // Temp, pending implementation of suggestion longpress submenus\r\n\r\n      // Utilized only by native-KMW - it parallels hasModalPopup() in purpose.\r\n      return false;\r\n    }\r\n\r\n    protected displaySubmenuFor(target: HTMLDivElement) {\r\n      // Utilized only by native-KMW to show submenus.\r\n      throw new Error(\"Method not implemented.\");\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n\r\n    private options: BannerSuggestion[];\r\n\r\n    private initNewContext: boolean = true;\r\n\r\n    private currentSuggestions: Suggestion[] = [];\r\n    private keepSuggestion: Keep;\r\n    private revertSuggestion: Reversion;\r\n\r\n    private recentAccept: boolean = false;\r\n    private revertAcceptancePromise: Promise\u003cReversion\u003e;\r\n\r\n    private swallowPrediction: boolean = false;\r\n\r\n    private doRevert: boolean = false;\r\n    private recentRevert: boolean = false;\r\n\r\n    constructor(div: HTMLElement, options: BannerSuggestion[]) {\r\n      // TODO:  Determine appropriate CSS styling names, etc.\r\n      super(div, Banner.BANNER_CLASS, SuggestionBanner.TOUCHED_CLASS);\r\n      this.options = options;\r\n    }\r\n\r\n    private doAccept(suggestion: BannerSuggestion) {\r\n      let _this = this;\r\n\r\n      this.revertAcceptancePromise = suggestion.apply();\r\n      if(!this.revertAcceptancePromise) {\r\n        // We get here either if suggestion acceptance fails or if it was a reversion.\r\n        if(suggestion.suggestion \u0026\u0026 suggestion.suggestion.tag == \u0027revert\u0027) {\r\n          // Reversion state management\r\n          this.recentAccept = false;\r\n          this.doRevert = false;\r\n          this.recentRevert = true;\r\n\r\n          this.doUpdate();\r\n        }\r\n        return;\r\n      }\r\n\r\n      this.revertAcceptancePromise.then(function(suggestion) {\r\n        // Always null-check!\r\n        if(suggestion) {\r\n          _this.revertSuggestion = suggestion;\r\n        }\r\n      });\r\n      \r\n      this.selected = null;\r\n      this.recentAccept = true;\r\n      this.doRevert = false;\r\n      this.recentRevert = false;\r\n\r\n      this.swallowPrediction = true;\r\n      this.doUpdate();\r\n    }\r\n\r\n    private showRevert() {\r\n      // Construct a \u0027revert suggestion\u0027 to facilitate a reversion UI component.\r\n      this.doRevert = true;\r\n      this.doUpdate();\r\n    }\r\n\r\n    /**\r\n     * Receives messages from the keyboard that the \u0027accept\u0027 keystroke has been entered.\r\n     * Should return \u0027false\u0027 if the current state allows accepting a suggestion and act accordingly.\r\n     * Otherwise, return true.\r\n     */\r\n    tryAccept: (source: string) =\u003e boolean = function(this: SuggestionManager, source: string, returnObj: {shouldSwallow: boolean}) {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      if(!this.recentAccept \u0026\u0026 this.selected) {\r\n        this.doAccept(this.selected);\r\n        returnObj.shouldSwallow = true;\r\n      } else if(this.recentAccept \u0026\u0026 source == \u0027space\u0027) {\r\n        this.recentAccept = false;\r\n        // If the model doesn\u0027t insert wordbreaks, don\u0027t swallow the space.  If it does, \r\n        // we consider that insertion to be the results of the first post-accept space.\r\n        returnObj.shouldSwallow = !!keyman.core.languageProcessor.wordbreaksAfterSuggestions;\r\n      } else {\r\n        returnObj.shouldSwallow = false;\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Receives messages from the keyboard that the \u0027revert\u0027 keystroke has been entered.\r\n     * Should return \u0027false\u0027 if the current state allows reverting a recently-applied suggestion and act accordingly.\r\n     * Otherwise, return true.\r\n     */\r\n    tryRevert: () =\u003e boolean = function(this: SuggestionManager, returnObj: {shouldSwallow: boolean}) {\r\n      // Has the revert keystroke (BKSP) already been sent once since the last accept?\r\n      if(this.doRevert) {\r\n        // If so, clear the \u0027revert\u0027 option and start doing normal predictions again.\r\n        this.doRevert = false;\r\n        this.recentAccept = false;\r\n        // Otherwise, did we just accept something before the revert signal was received?\r\n      } else if(this.recentAccept) {\r\n        this.showRevert();\r\n        this.swallowPrediction = true;\r\n      }\r\n\r\n      // We don\u0027t yet actually do key-based reversions.\r\n      returnObj.shouldSwallow = false;\r\n      return;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function invalidateSuggestions\r\n     * Scope        Public\r\n     * Description  Clears the suggestions in the suggestion banner\r\n     */\r\n    public invalidateSuggestions: (this: SuggestionManager, source: text.prediction.InvalidateSourceEnum) =\u003e boolean = \r\n        function(this: SuggestionManager, source: string) {\r\n      \r\n      // By default, we assume that the context is the same until we notice otherwise.\r\n      this.initNewContext = false;\r\n\r\n      if(!this.swallowPrediction || source == \u0027context\u0027) {\r\n        this.recentAccept = false;\r\n        this.doRevert = false;\r\n        this.recentRevert = false;\r\n\r\n        if(source == \u0027context\u0027) {\r\n          this.swallowPrediction = false;\r\n          this.initNewContext = true;\r\n        }\r\n      }\r\n\r\n      this.options.forEach((option: BannerSuggestion) =\u003e {\r\n        option.update(null);\r\n      });\r\n    }.bind(this);\r\n\r\n    public activateKeep(): boolean {\r\n      return !this.recentAccept \u0026\u0026 !this.recentRevert \u0026\u0026 !this.initNewContext;\r\n    }\r\n\r\n    private doUpdate() {\r\n      let suggestions = [];\r\n      // Insert \u0027current text\u0027 if/when valid as the leading option.\r\n      // Since we don\u0027t yet do auto-corrections, we only show \u0027keep\u0027 whenever it\u0027s\r\n      // a valid word (according to the model).\r\n      if(this.activateKeep() \u0026\u0026 this.keepSuggestion \u0026\u0026 this.keepSuggestion.matchesModel) {\r\n        suggestions.push(this.keepSuggestion);\r\n      } else if(this.doRevert) {\r\n        suggestions.push(this.revertSuggestion);\r\n      }\r\n\r\n      suggestions = suggestions.concat(this.currentSuggestions);\r\n\r\n      this.options.forEach((option: BannerSuggestion, i: number) =\u003e {\r\n        if(i \u003c suggestions.length) {\r\n          option.update(suggestions[i]);\r\n        } else {\r\n          option.update(null);\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Function updateSuggestions\r\n     * Scope       Public\r\n     * @param {Suggestion[]}  suggestions   Array of suggestions from the lexical model.\r\n     * Description    Update the displayed suggestions in the SuggestionBanner\r\n     */\r\n    public updateSuggestions: (this: SuggestionManager, prediction: text.prediction.ReadySuggestions) =\u003e boolean =\r\n        function(this: SuggestionManager, prediction: text.prediction.ReadySuggestions) {\r\n      \r\n      let suggestions = prediction.suggestions;\r\n\r\n      this.currentSuggestions = suggestions;\r\n\r\n      // Do we have a keep suggestion?  If so, remove it from the list so that we can control its display position\r\n      // and prevent it from being hidden after reversion operations.\r\n      this.keepSuggestion = null;\r\n      for(let s of suggestions) {\r\n        if(s.tag == \u0027keep\u0027) {\r\n          this.keepSuggestion = s as Keep;\r\n        }\r\n      }\r\n\r\n      if(this.keepSuggestion) {\r\n        this.currentSuggestions.splice(this.currentSuggestions.indexOf(this.keepSuggestion), 1);\r\n      }\r\n\r\n      // If we\u0027ve gotten an update request like this, it\u0027s almost always user-triggered and means the context has shifted.\r\n      if(!this.swallowPrediction) {\r\n        this.recentAccept = false;\r\n        this.doRevert = false;\r\n        this.recentRevert = false;\r\n      } else { // This prediction was triggered by a recent \u0027accept.\u0027  Now that it\u0027s fulfilled, we clear the flag.\r\n        this.swallowPrediction = false;\r\n      }\r\n\r\n      // The rest is the same, whether from input or from \"self-updating\" after a reversion to provide new suggestions.\r\n      this.doUpdate();\r\n    }.bind(this);\r\n  }\r\n}\r\n","/// \u003creference path=\"banner.ts\" /\u003e\r\n\r\nnamespace com.keyman.osk {\r\n  /**\r\n   * This object is used to specify options by both `BannerManager.getOptions`\r\n   * and `BannerManager.setOptions`.  Refer to the latter for specification of\r\n   * each field.\r\n   */\r\n  export interface BannerOptions {\r\n    alwaysShow?: boolean;\r\n    mayPredict?: boolean;\r\n    mayCorrect?: boolean;\r\n    imagePath?: string;\r\n  }\r\n\r\n  export type BannerType = \"blank\" | \"image\" | \"suggestion\";\r\n\r\n  /**\r\n   * The `BannerManager` module is designed to serve as a manager for the\r\n   * different `Banner` types.\r\n   * To facilitate this, it will provide a root element property that serves\r\n   * as a container for any active `Banner`, helping KMW to avoid needless\r\n   * DOM element shuffling.\r\n   *\r\n   * Goals for the `BannerManager`:\r\n   *\r\n   * * It will be exposed as `keyman.osk.banner` and will provide the following API:\r\n   *   * `getOptions`, `setOptions` - refer to the `BannerOptions` class for details.\r\n   *   * This provides a persistent point that the web page designers and our \r\n   *     model apps can utilize and can communicate with.\r\n   *   * These API functions are designed for live use and will allow \r\n   *     _hot-swapping_ the `Banner` instance; they\u0027re not initialization-only.\r\n   * * Disabling the `Banner` (even for suggestions) outright with \r\n   *   `enablePredictions == false` will auto-unload any loaded predictive model \r\n   *   from `ModelManager` and setting it to `true` will revert this.\r\n   *   * This should help to avoid wasting computational resources.\r\n   * * It will listen to ModelManager events and automatically swap Banner \r\n   *   instances as appropriate:\r\n   *   * The option `persistentBanner == true` is designed to replicate current \r\n   *     iOS system keyboard behavior.\r\n   *     * When true, an `ImageBanner` will be displayed.\r\n   *     * If false, it will be replaced with a `BlankBanner` of zero height, \r\n   *       corresponding to our current default lack of banner.\r\n   *   * It will not automatically set `persistentBanner == true`; \r\n   *     this must be set by the iOS app, and only under the following conditions:\r\n   *     * `keyman.isEmbedded == true`\r\n   *     * `device.OS == \u0027ios\u0027`\r\n   *     * Keyman is being used as the system keyboard within an app that \r\n   *       needs to reserve this space (i.e: Keyman for iOS),\r\n   *       rather than as its standalone app.\r\n   */\r\n  export class BannerManager {\r\n    private _activeType: BannerType;\r\n    private _options: BannerOptions = {};\r\n    private bannerContainer: HTMLDivElement;\r\n    private activeBanner: Banner;\r\n    private alwaysShow: boolean;\r\n    private imagePath?: string = \"\";\r\n\r\n    public static readonly DEFAULT_OPTIONS: BannerOptions = {\r\n      alwaysShow: false,\r\n      mayPredict: true,\r\n      mayCorrect: true,\r\n      imagePath: \"\"\r\n    }\r\n\r\n    constructor() {\r\n      // Step 1 - establish the container element.  Must come before this.setOptions.\r\n      this.constructContainer();\r\n\r\n      // Initialize with the default options - \r\n      // any \u0027manually set\u0027 options come post-construction.\r\n      // This will also automatically set the default banner in place.\r\n      this.setOptions(BannerManager.DEFAULT_OPTIONS);\r\n\r\n      // Register a listener for model change events so that we can hot-swap the banner as needed.\r\n      let keyman = com.keyman.singleton;\r\n      keyman.core.languageProcessor.on(\u0027statechange\u0027, this.selectBanner.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Constructs the \u003cdiv\u003e element used to contain hot-swapped `Banner` instances.\r\n     */\r\n    private constructContainer(): HTMLDivElement {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n      let d = util._CreateElement(\u0027div\u0027);\r\n      d.id = \"keymanweb_banner_container\";\r\n      d.className = \"kmw-banner-container\";\r\n      return this.bannerContainer = d;\r\n    }\r\n\r\n    /**\r\n     * Returns the `Banner`-containing div element used to facilitate hot-swapping.\r\n     */\r\n    public get element(): HTMLDivElement {\r\n      return this.bannerContainer;\r\n    }\r\n\r\n    /**\r\n     * This function corresponds to `keyman.osk.banner.getOptions`.\r\n     * \r\n     * Gets the current control settings in use by `BannerManager`.\r\n     */\r\n    public getOptions(): BannerOptions {\r\n      let retObj = {};\r\n\r\n      for(let key in this._options) {\r\n        retObj[key] = this._options[key];\r\n      }\r\n\r\n      return retObj;\r\n    }\r\n\r\n    /**\r\n     * This function corresponds to `keyman.osk.banner.setOptions`.\r\n     * \r\n     * Sets options used to tweak the automatic `Banner` \r\n     * control logic used by `BannerManager`.\r\n     * @param optionSpec An object specifying one or more of the following options:\r\n     * * `persistentBanner` (boolean) When `true`, ensures that a `Banner` \r\n     *   is always displayed, even when no predictive model exists \r\n     *   for the active language.\r\n     *\r\n     *   Default: `false`\r\n     * * `imagePath` (URL string) Specifies the file path to use for an \r\n     *   `ImageBanner` when `persistentBanner` is `true` and no predictive model exists.\r\n     * \r\n     *   Default: `\u0027\u0027`.\r\n     * * `enablePredictions` (boolean) Turns KMW predictions \r\n     *   on (when `true`) and off (when `false`).\r\n     * \r\n     *   Default:  `true`.\r\n     */\r\n    public setOptions(optionSpec: BannerOptions) {\r\n      let keyman = com.keyman.singleton;\r\n\r\n      for(let key in optionSpec) {\r\n        switch(key) {\r\n          // Each defined option may require specialized handling.\r\n          case \u0027alwaysShow\u0027:\r\n            // Determines the banner type to activate.\r\n            this.alwaysShow = optionSpec[key];\r\n            break;\r\n          case \u0027mayPredict\u0027:\r\n            // If this toggles our internal flag, it will generate events\r\n            // that reconfigures the banner (and internal engine state) appropriately.\r\n            keyman.core.languageProcessor.mayPredict = optionSpec[key]\r\n            break;\r\n          case \u0027mayCorrect\u0027:\r\n            keyman.core.languageProcessor.mayCorrect = optionSpec[key];\r\n            break;\r\n          case \u0027imagePath\u0027:\r\n            // Determines the image file to use for ImageBanners.\r\n            this.imagePath = optionSpec[key];\r\n            break;\r\n          default:\r\n            // Invalid option specified!\r\n        }\r\n        this._options[key] = optionSpec[key];\r\n\r\n        // If no banner instance exists yet, go with a safe, blank initialization.\r\n        if(!this.activeBanner) {\r\n          this.selectBanner(\u0027inactive\u0027);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Applies any stylesheets needed by specific `Banner` instances.\r\n     */\r\n    public appendStyles() {\r\n      if(this.activeBanner) {\r\n        this.activeBanner.appendStyleSheet();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Sets the active `Banner` to the specified type, regardless of \r\n     * existing management logic settings.\r\n     * \r\n     * @param type `\u0027blank\u0027 | \u0027image\u0027 | \u0027suggestion\u0027` - A plain-text string \r\n     *        representing the type of `Banner` to set active.\r\n     * @param height - Optional banner height in pixels.\r\n     */\r\n    public setBanner(type: BannerType, height?: number) {\r\n      var banner: Banner;\r\n\r\n      switch(type) {\r\n        case \u0027blank\u0027:\r\n          banner = new BlankBanner();\r\n          break;\r\n        case \u0027image\u0027:\r\n          banner = new ImageBanner(this.imagePath, Banner.DEFAULT_HEIGHT);\r\n          break;\r\n        case \u0027suggestion\u0027:\r\n          banner = new SuggestionBanner(height);\r\n          break;\r\n        default:\r\n          throw new Error(\"Invalid type specified for the banner!\");\r\n      }\r\n\r\n      this._activeType = type;\r\n      \r\n      if(banner) {\r\n        this._setBanner(banner);\r\n        banner.activate();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Handles `LanguageProcessor`\u0027s `\u0027statechange\u0027` events, \r\n     * allowing logic to automatically hot-swap `Banner`s as needed.\r\n     * @param state \r\n     */\r\n    private selectBanner(state: text.prediction.StateChangeEnum) {\r\n      // Only display a SuggestionBanner when LanguageProcessor states it is active.s\r\n      if(state == \u0027active\u0027) {\r\n        this.setBanner(\u0027suggestion\u0027);\r\n      } else if(state == \u0027inactive\u0027) {\r\n        if(this.alwaysShow) {\r\n          this.setBanner(\u0027image\u0027);\r\n        } else {\r\n          this.setBanner(\u0027blank\u0027);\r\n        }\r\n      } else if(state == \u0027configured\u0027) {\r\n        let suggestionBanner = this.activeBanner as SuggestionBanner;\r\n        if(suggestionBanner.postConfigure) {\r\n          // Triggers the initially-displayed suggestions.s\r\n          suggestionBanner.postConfigure();\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Internal method used by the public API `setBanner`.  `setBanner` \r\n     * translates the string parameter into a new instance consumed by this method.\r\n     * @param banner The `Banner` instance to set as active.\r\n     */\r\n    private _setBanner(banner: Banner) {\r\n      if(this.activeBanner) {\r\n        if(banner == this.activeBanner) {\r\n          return;\r\n        } else {\r\n          let prevBanner = this.activeBanner;\r\n          prevBanner.deactivate();\r\n          this.bannerContainer.replaceChild(banner.getDiv(), prevBanner.getDiv());\r\n        }\r\n      }\r\n\r\n      this.activeBanner = banner;\r\n      this.bannerContainer.appendChild(banner.getDiv());\r\n\r\n      // Don\u0027t forget to adjust the OSK in case we\u0027re now using a blank Banner!\r\n      let keyman = com.keyman.singleton;\r\n      keyman[\u0027osk\u0027]._Show();\r\n    }\r\n\r\n    public get activeType(): BannerType {\r\n      return this._activeType;\r\n    }\r\n\r\n    /**\r\n     * Gets the height (in pixels) of the active `Banner` instance.\r\n     */\r\n    public get height(): number {\r\n      if(this.activeBanner) {\r\n        return this.activeBanner.height;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Sets the height (in pixels) of the active \u0027Banner\u0027 instance.\r\n     */\r\n    public set height(h: number) {\r\n      if (this.activeBanner) {\r\n        this.activeBanner.height = h;\r\n      }\r\n    }\r\n  }\r\n}\r\n","/// \u003creference path=\"../kmwexthtml.ts\" /\u003e  // Includes KMW-added property declaration extensions for HTML elements.\r\n// Includes the touch-mode language picker UI.\r\n/// \u003creference path=\"languageMenu.ts\" /\u003e\r\n// Includes the banner\r\n/// \u003creference path=\"./bannerManager.ts\" /\u003e\r\n// Generates the visual keyboard specific to each keyboard.  (class=\"kmw-osk-inner-frame\")\r\n/// \u003creference path=\"visualKeyboard.ts\" /\u003e\r\n\r\n/***\r\n   KeymanWeb 10.0\r\n   Copyright 2017 SIL International\r\n***/\r\n\r\nnamespace com.keyman.osk {\r\n  type MouseHandler = (this: GlobalEventHandlers, ev: MouseEvent) =\u003e any;\r\n  type OSKRect = {\u0027left\u0027?: number, \u0027top\u0027?: number, \u0027width\u0027?: number, \u0027height\u0027?: number,\r\n    \u0027nosize\u0027?: boolean, \u0027nomove\u0027?: boolean};\r\n  type OSKPos = {\u0027left\u0027?: number, \u0027top\u0027?: number};\r\n\r\n  export class OSKManager {\r\n    // Important OSK elements (and container classes)\r\n    _Box: HTMLDivElement;\r\n    banner: BannerManager;\r\n    vkbd: VisualKeyboard;\r\n    resizeIcon: HTMLDivElement;\r\n    closeButton: HTMLDivElement;\r\n    helpImg: HTMLDivElement;\r\n    configImg: HTMLDivElement;\r\n    pinImg: HTMLDivElement;\r\n\r\n    ready: boolean = false;\r\n    loadRetry: number = 0;\r\n\r\n    // OSK state fields\r\n    _Visible: boolean = false;\r\n    _Enabled: boolean = true;\r\n    vpScale: number = 1;\r\n\r\n    // OSK positioning fields\r\n    userPositioned: boolean = false;\r\n    x: number;\r\n    y: number;\r\n    noDrag: boolean = false;\r\n    dfltX: string;\r\n    dfltY: string;\r\n\r\n    // Fields used to store target OSK size when no keyboard has been loaded\r\n    // If a keyboard has been loaded, the VisualKeyboard values override these.\r\n    _baseWidth: number;\r\n    _baseHeight: number;\r\n\r\n    // OSK resizing-event state fields\r\n    resizing: boolean;\r\n    _VMoveX: number;\r\n    _VMoveY: number;\r\n    _ResizeMouseX: number;\r\n    _ResizeMouseY: number;\r\n    _VOriginalWidth: number;\r\n    _VOriginalHeight: number;\r\n\r\n    // Resize-event temporary storage\r\n    _VPreviousMouseMove: MouseHandler;\r\n    _VPreviousMouseUp: MouseHandler;\r\n    _VPreviousCursor: string;\r\n    _VPreviousMouseButton: number;\r\n\r\n    // Key code definition aliases for legacy keyboards  (They expect window[\u0027keyman\u0027][\u0027osk\u0027].___)\r\n    modifierCodes = text.Codes.modifierCodes;\r\n    modifierBitmasks = text.Codes.modifierBitmasks;\r\n    stateBitmasks = text.Codes.stateBitmasks;\r\n    keyCodes = text.Codes.keyCodes;\r\n\r\n    // First time initialization of OSK\r\n    prepare() {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      // Defer loading the OSK until KMW code initialization complete\r\n      if(!keymanweb[\u0027initialized\u0027]) {\r\n        window.setTimeout(this.prepare.bind(this), 200);\r\n        return;\r\n      }\r\n\r\n      // OSK initialization - create DIV and set default styles\r\n      if(!this.ready) {\r\n        this._Box = util._CreateElement(\u0027div\u0027);   // Container for OSK (Help DIV, displayed when user clicks Help icon)\r\n        document.body.appendChild(this._Box);\r\n\r\n        // Install the default OSK stylesheet\r\n        util.linkStyleSheet(keymanweb.getStyleSheetPath(\u0027kmwosk.css\u0027));\r\n\r\n        // For mouse click to prevent loss of focus\r\n        util.attachDOMEvent(this._Box, \u0027mousedown\u0027, function(obj){\r\n          keymanweb.uiManager.setActivatingUI(true);\r\n          return false;\r\n        });\r\n\r\n        // And to prevent touch event default behaviour on mobile devices\r\n        // TODO: are these needed, or do they interfere with other OSK event handling ????\r\n        if(util.device.touchable) { // I3363 (Build 301)\r\n          var cancelEventFunc = function(e) {\r\n            if(e.cancelable) {\r\n              e.preventDefault();\r\n            }\r\n            e.stopPropagation();\r\n            return false;\r\n          };\r\n\r\n          util.attachDOMEvent(this._Box, \u0027touchstart\u0027, function(e) {\r\n            keymanweb.uiManager.setActivatingUI(true);\r\n            return cancelEventFunc(e);\r\n          });\r\n\r\n          util.attachDOMEvent(this._Box, \u0027touchend\u0027, cancelEventFunc);\r\n          util.attachDOMEvent(this._Box, \u0027touchmove\u0027, cancelEventFunc);\r\n          util.attachDOMEvent(this._Box, \u0027touchcancel\u0027, cancelEventFunc);\r\n\r\n          // Can only get (initial) viewport scale factor after page is fully loaded!\r\n          this.vpScale=util.getViewportScale();\r\n        }\r\n      }\r\n      this.loadCookie();\r\n      this.banner = new BannerManager();\r\n      this.ready=true;\r\n    }\r\n\r\n    /**\r\n     * Function     _Unload\r\n     * Scope        Private\r\n     * Description  Clears OSK variables prior to exit (JMD 1.9.1 - relocation of local variables 3/9/10)\r\n     */\r\n    _Unload() {\r\n      this.vkbd = null;\r\n      this.banner = null;\r\n      this._Box = null;\r\n    }\r\n\r\n    /**\r\n     * Function     _Load\r\n     * Scope        Private\r\n     * Description  OSK initialization when keyboard selected\r\n     */\r\n    _Load() { // Load Help\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n      let device = util.device;\r\n\r\n      var activeKeyboard = keymanweb.core.activeKeyboard;\r\n\r\n      // If _Load called before OSK is ready, must wait and call again\r\n      if(this._Box == null) {\r\n        if(this.loadRetry \u003e= 99) {\r\n          return; // fail silently, but should not happen\r\n        }\r\n        window.setTimeout(this._Load.bind(this), 100);\r\n        this.loadRetry++;\r\n        return;\r\n      }\r\n\r\n      this.loadRetry = 0;\r\n\r\n      if(keymanweb._TitleElement) {\r\n        keymanweb._TitleElement.innerHTML = \u0027KeymanWeb\u0027; // I1972\r\n      }\r\n\r\n\r\n      this._Visible = false;  // I3363 (Build 301)\r\n      var s = this._Box.style;\r\n      s.zIndex=\u00279999\u0027; s.display=\u0027none\u0027; s.width= device.touchable ? \u0027100%\u0027 : \u0027auto\u0027;\r\n      s.position = (device.formFactor == \u0027desktop\u0027 ? \u0027absolute\u0027 : \u0027fixed\u0027);\r\n\r\n      // Use smaller base font size for mobile devices\r\n      //if(screen.availHeight \u003c 500) s.fontSize=\u002710pt\u0027;\r\n      //else if(screen.availHeight \u003c 800) s.fontSize=\u002711pt\u0027;\r\n      //else s.fontSize=\u002712pt\u0027;\r\n\r\n      // Set scaling for mobile devices here.\r\n      if(device.touchable) {\r\n        var fontScale: number = 1;\r\n        if(device.formFactor == \u0027phone\u0027) {\r\n          fontScale = 1.6 * (keymanweb.isEmbedded ? 0.65 : 0.6) * 1.2;  // Combines original scaling factor with one previously applied to the layer group.\r\n        } else {\r\n          // The following is a *temporary* fix for small format tablets, e.g. PendoPad\r\n          var pixelRatio = 1;\r\n          if(device.OS == \u0027Android\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n            pixelRatio = window.devicePixelRatio;\r\n          }\r\n\r\n          if(device.OS == \u0027Android\u0027 \u0026\u0026 device.formFactor == \u0027tablet\u0027 \u0026\u0026 this.getHeight() \u003c 300 * pixelRatio) {\r\n            fontScale *= 1.2;\r\n          } else {\r\n            fontScale *= 2; //\u00272.5em\u0027;\r\n          }\r\n        }\r\n\r\n        // Finalize the font size parameter.\r\n        s.fontSize = fontScale + \u0027em\u0027;\r\n      }\r\n\r\n      if(this.vkbd) {\r\n        this.vkbd.shutdown();\r\n      }\r\n      this.vkbd = null;\r\n\r\n      // Instantly resets the OSK container, erasing / delinking the previously-loaded keyboard.\r\n      this._Box.innerHTML = \u0027\u0027;\r\n\r\n      this._Box.onmouseover = this._VKbdMouseOver;\r\n      this._Box.onmouseout = this._VKbdMouseOut;\r\n\r\n      // TODO: find out and document why this should not be done for touch devices!!\r\n      // (Probably to avoid having a null keyboard. But maybe that *is* an option, if there remains a way to get the language menu,\r\n      //  such as a minimized menu button?)\r\n      if(activeKeyboard == null \u0026\u0026 !device.touchable) {\r\n        var Ldiv=util._CreateElement(\u0027div\u0027);\r\n        Ldiv.className = \"kmw-title-bar\";\r\n        Ldiv.appendChild(this._TitleBarInterior());\r\n        Ldiv.onmousedown = this._VMoveMouseDown;\r\n        this._Box.appendChild(Ldiv);\r\n\r\n        Ldiv = util._CreateElement(\u0027div\u0027);\r\n        Ldiv.className=\u0027kmw-osk-none\u0027;\r\n        this._Box.appendChild(Ldiv);\r\n      } else {\r\n        var Lhelp=\u0027\u0027;\r\n        this._Box.className = \"\";\r\n        if(activeKeyboard != null) {\r\n          // Note:  must exist in order for insertHelpHTML to be used!\r\n          Lhelp=activeKeyboard.helpText;\r\n        }\r\n\r\n        // Generate a visual keyboard from the layout (or layout default)\r\n        // Condition is false if no key definitions exist, formFactor == desktop, AND help text exists.  All three.\r\n        if(activeKeyboard \u0026\u0026 activeKeyboard.layout(device.formFactor as utils.FormFactor)) {\r\n          this._GenerateVisualKeyboard(activeKeyboard);\r\n        } else if(!activeKeyboard) {\r\n          this._GenerateVisualKeyboard(null);\r\n        } else { //The following code applies only to preformatted \u0027help\u0027 such as SIL EuroLatin\r\n          //osk.ddOSK = false;\r\n          Ldiv=util._CreateElement(\u0027div\u0027);\r\n          Ldiv.className = \"kmw-title-bar\";\r\n          Ldiv.appendChild(this._TitleBarInterior());\r\n          Ldiv.onmousedown = this._VMoveMouseDown;\r\n          this._Box.appendChild(Ldiv);\r\n\r\n          //Add content\r\n          var Ldiv = util._CreateElement(\u0027div\u0027);\r\n          Ldiv.className=\u0027kmw-osk-static\u0027;\r\n          Ldiv.innerHTML = Lhelp;\r\n          this._Box.appendChild(Ldiv);\r\n          if(activeKeyboard.hasHelpHTML) {\r\n            activeKeyboard.insertHelpHTML(this._Box);\r\n          }\r\n        }\r\n        if(keymanweb._TitleElement)\r\n        {\r\n          keymanweb._TitleElement.innerHTML = \"\u003cspan style=\u0027font-weight:bold\u0027\u003e\"\r\n            + activeKeyboard.name + \u0027\u003c/span\u003e - \u0027 + keymanweb._TitleElement.innerHTML; // I1972  // I2186\r\n          keymanweb._TitleElement.className=\u0027\u0027; keymanweb._TitleElement.style.color=\u0027#fff\u0027;\r\n        }\r\n      }\r\n\r\n      // Correct the classname for the (inner) OSK frame (Build 360)\r\n      var kbdID: string = (activeKeyboard ? activeKeyboard.id.replace(\u0027Keyboard_\u0027,\u0027\u0027) : \u0027\u0027);\r\n      if(keymanweb.isEmbedded \u0026\u0026 kbdID.indexOf(\u0027::\u0027) != -1) {\r\n        // De-namespaces the ID for use with CSS classes.\r\n        // Assumes that keyboard IDs may not contain the \u0027:\u0027 symbol.\r\n        kbdID = kbdID.substring(kbdID.indexOf(\u0027::\u0027) + 2);\r\n      }\r\n      var innerFrame=\u003cHTMLDivElement\u003e this._Box.firstChild,\r\n        kbdClass = \u0027 kmw-keyboard-\u0027 + kbdID;\r\n      if(innerFrame.id == \u0027keymanweb_title_bar\u0027) {\r\n        // Desktop order is title_bar, banner_container, inner-frame\r\n        innerFrame=\u003cHTMLDivElement\u003e innerFrame.nextSibling.nextSibling;\r\n      } else if (innerFrame.id == \u0027keymanweb_banner_container\u0027) {\r\n        innerFrame=\u003cHTMLDivElement\u003e innerFrame.nextSibling;\r\n      }\r\n      innerFrame.className = \u0027kmw-osk-inner-frame\u0027 + kbdClass;\r\n\r\n      this.banner.appendStyles();\r\n\r\n      if(this.vkbd) {\r\n        // Create the key preview (for phones)\r\n        this.vkbd.createKeyTip();\r\n\r\n        // Append a stylesheet for this keyboard for keyboard specific styles\r\n        // or if needed to specify an embedded font\r\n        this.vkbd.appendStyleSheet();\r\n      }\r\n\r\n      if(this._Enabled) {\r\n        this._Show();\r\n      }\r\n    }\r\n\r\n    private get width(): number {\r\n      if(this.vkbd) {\r\n        return this.vkbd.width;\r\n      } else {\r\n        return this._baseWidth;\r\n      }\r\n    }\r\n\r\n    private get height(): number {\r\n      if(this.vkbd) {\r\n        return this.vkbd.height;\r\n      } else {\r\n        return this._baseHeight;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     _GenerateVisualKeyboard\r\n     * Scope        Private\r\n     * @param       {Object}      PVK         Visual keyboard name\r\n     * @param       {Object}      Lhelp       true if OSK defined for this keyboard\r\n     * @param       {Object}      layout0\r\n     * @param       {Number}      kbdBitmask  Keyboard modifier bitmask\r\n     * Description  Generates the visual keyboard element and attaches it to KMW\r\n     */\r\n    private _GenerateVisualKeyboard(keyboard: keyboards.Keyboard) {\r\n      if(this.vkbd) {\r\n        this.vkbd.shutdown();\r\n      }\r\n      this.vkbd = new com.keyman.osk.VisualKeyboard(keyboard);\r\n      let util = com.keyman.singleton.util;\r\n\r\n      // Set box class - OS and keyboard added for Build 360\r\n      this._Box.className=util.device.formFactor+\u0027 \u0027+ util.device.OS.toLowerCase() + \u0027 kmw-osk-frame\u0027;\r\n\r\n      // Add header element to OSK only for desktop browsers\r\n      if(util.device.formFactor == \u0027desktop\u0027) {\r\n        this._Box.appendChild(this.controlBar());\r\n      }\r\n\r\n      // Add suggestion banner bar to OSK\r\n      if (this.banner) {\r\n        this._Box.appendChild(this.banner.element);\r\n      }\r\n\r\n      // Add primary keyboard element to OSK\r\n      this._Box.appendChild(this.vkbd.kbdDiv);\r\n\r\n      // Add footer element to OSK only for desktop browsers\r\n      if(util.device.formFactor == \u0027desktop\u0027) {\r\n        this._Box.appendChild(this.resizeBar());\r\n        // For other devices, adjust the object heights, allowing for viewport scaling\r\n      } else {\r\n        this.vkbd.adjustHeights();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Create a control bar with title and buttons for the desktop OSK\r\n     */\r\n    controlBar(): HTMLDivElement {\r\n      // TODO: merge with _TitleBarInterior?\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      var bar=util._CreateElement(\u0027div\u0027),title=\u0027\u0027;\r\n      bar.id=\u0027keymanweb_title_bar\u0027;\r\n      bar.className=\u0027kmw-title-bar\u0027;\r\n      bar.onmousedown=this._VMoveMouseDown;\r\n\r\n      if(keymanweb.core.activeKeyboard) {\r\n        title=keymanweb.core.activeKeyboard.name;\r\n      }\r\n      var Ltitle=util._CreateElement(\u0027span\u0027);\r\n      Ltitle.className=\u0027kmw-title-bar-caption\u0027;\r\n      Ltitle.innerHTML=title;\r\n      bar.appendChild(Ltitle);\r\n\r\n      var Limg = this.closeButton = util._CreateElement(\u0027div\u0027);\r\n      Limg.id=\u0027kmw-close-button\u0027;\r\n      Limg.className=\u0027kmw-title-bar-image\u0027;\r\n      Limg.onmousedown=util._CancelMouse;\r\n      Limg.onclick=function(this: OSKManager) {\r\n        this._Hide(true);\r\n      }.bind(this);\r\n      bar.appendChild(Limg);\r\n\r\n      Limg = this.helpImg = util._CreateElement(\u0027div\u0027);\r\n      Limg.id=\u0027kmw-help-image\u0027;\r\n      Limg.className=\u0027kmw-title-bar-image\u0027;\r\n      Limg.title=\u0027KeymanWeb Help\u0027;\r\n      Limg.onclick=function() {\r\n        var p={};\r\n        util.callEvent(\u0027osk.helpclick\u0027,p);\r\n        if(window.event) {\r\n          window.event.returnValue=false;\r\n        }\r\n        return false;\r\n      }\r\n      Limg.onmousedown=util._CancelMouse;\r\n      bar.appendChild(Limg);\r\n\r\n      Limg = this.configImg = util._CreateElement(\u0027div\u0027);\r\n      Limg.id=\u0027kmw-config-image\u0027;\r\n      Limg.className=\u0027kmw-title-bar-image\u0027;\r\n      Limg.title=\u0027KeymanWeb Configuration Options\u0027;\r\n      Limg.onclick=function() {\r\n        var p={};\r\n        util.callEvent(\u0027osk.configclick\u0027,p);\r\n        if(window.event) {\r\n          window.event.returnValue=false;\r\n        }\r\n        return false;\r\n      }\r\n      Limg.onmousedown=util._CancelMouse;\r\n      bar.appendChild(Limg);\r\n\r\n      Limg = this.pinImg = util._CreateElement(\u0027div\u0027);  //I2186\r\n      Limg.id=\u0027kmw-pin-image\u0027;\r\n      Limg.className=\u0027kmw-title-bar-image\u0027;\r\n      Limg.title=\u0027Pin the On Screen Keyboard to its default location on the active text box\u0027;\r\n      Limg.onclick=this.handlePinClick;\r\n      Limg.onmousedown=util._CancelMouse;\r\n      bar.appendChild(Limg);\r\n\r\n      return bar;\r\n    }\r\n\r\n    /**\r\n     * Create a bottom bar with a resizing icon for the desktop OSK\r\n     */\r\n    resizeBar(): HTMLDivElement {\r\n      let util = com.keyman.singleton.util;\r\n\r\n      var bar=util._CreateElement(\u0027div\u0027);\r\n      bar.className=\u0027kmw-footer\u0027;\r\n      bar.onmousedown=util._CancelMouse;\r\n\r\n      // Add caption\r\n      var Ltitle=util._CreateElement(\u0027div\u0027);\r\n      Ltitle.className=\u0027kmw-footer-caption\u0027;\r\n      Ltitle.innerHTML=\u0027\u003ca href=\"https://keyman.com/developer/keymanweb/\"\u003eKeymanWeb\u003c/a\u003e\u0027;\r\n      Ltitle.id=\u0027keymanweb-osk-footer-caption\u0027;\r\n\r\n      // Display build number on shift+double click\r\n      util.attachDOMEvent(Ltitle,\u0027dblclick\u0027, function(e) {\r\n        if(e \u0026\u0026 e.shiftKey) {\r\n          this.showBuild();\r\n        }\r\n        return false;\r\n      }.bind(this),false);\r\n\r\n      // Prevent selection of caption (IE - set by class for other browsers)\r\n      if(\u0027onselectstart\u0027 in Ltitle) Ltitle.onselectstart= util.selectStartHandler; //IE (Build 360)\r\n\r\n      bar.appendChild(Ltitle);\r\n\r\n      var Limg = util._CreateElement(\u0027div\u0027);\r\n      Limg.className=\u0027kmw-footer-resize\u0027;\r\n      Limg.onmousedown=this._VResizeMouseDown;\r\n      Limg.onmouseover=Limg.onmouseout=this._VResizeMouseOut;\r\n      bar.appendChild(Limg);\r\n      this.resizeIcon=Limg;\r\n      //TODO: the image never appears in IE8, have no idea why!\r\n      return bar;\r\n    }\r\n\r\n    /**\r\n     * Display build number\r\n     */\r\n    showBuild() {\r\n      let keymanweb = com.keyman.singleton;\r\n      keymanweb.util.alert(\u0027KeymanWeb Version \u0027+keymanweb[\u0027version\u0027]+\u0027.\u0027+keymanweb[\u0027build\u0027]+\u0027\u003cbr /\u003e\u003cbr /\u003e\u0027\r\n        +\u0027\u003cspan style=\"font-size:0.8em\"\u003eCopyright \u0026copy; 2017 SIL International\u003c/span\u003e\u0027);\r\n    }\r\n\r\n    /**\r\n     * Function     restorePosition\r\n     * Scope        Public\r\n     * @param       {boolean?}      keepDefaultPosition  If true, does not reset the default x,y set by `setRect`.\r\n     *                                                   If false or omitted, resets the default x,y as well.\r\n     * Description  Move OSK back to default position, floating under active input element\r\n     */\r\n    [\u0027restorePosition\u0027]: (keepDefaultPosition?: boolean) =\u003e void = function(this: OSKManager, keepDefaultPosition?: boolean) {\r\n      let isVisible = this._Visible;\r\n      if(isVisible) {\r\n        com.keyman.singleton.domManager.focusLastActiveElement();  // I2036 - OSK does not unpin to correct location\r\n      }\r\n\r\n      this.loadCookie();\r\n      this.userPositioned=false;\r\n      if(!keepDefaultPosition) {\r\n        delete this.dfltX;\r\n        delete this.dfltY;\r\n      }\r\n      this.saveCookie();\r\n\r\n      if(isVisible) {\r\n        this._Show();\r\n      }\r\n\r\n      this.doResizeMove(); //allow the UI to respond to OSK movements\r\n      if(this.pinImg) {\r\n        this.pinImg.style.display=\u0027none\u0027;\r\n      }\r\n    }.bind(this);\r\n\r\n    private handlePinClick: (event: Event) =\u003e void = function(this: OSKManager, event: Event) {\r\n      this.restorePosition(true);\r\n      if(event) {\r\n        event.returnValue = false;\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _TitleBarInterior\r\n     * Scope        Private\r\n     * Description  Title bar interior formatting and element event handling\r\n     */\r\n    _TitleBarInterior() {\r\n      let keymanweb = com.keyman.singleton;\r\n      let util = keymanweb.util;\r\n\r\n      var Ldiv = util._CreateElement(\u0027div\u0027);\r\n      var Ls = Ldiv.style;\r\n      Ls.paddingLeft=\u00272px\u0027;\r\n      Ls.cursor=\u0027move\u0027;\r\n      Ls.background=\u0027#ad4a28\u0027;\r\n      Ls.font=\u00278pt Tahoma,Arial,sans-serif\u0027;  //I2186\r\n\r\n      // Add container for buttons, handle mousedown event\r\n      var LdivButtons = util._CreateElement(\u0027div\u0027);\r\n      LdivButtons.className = \u0027kmw-title-bar-actions\u0027;\r\n      LdivButtons.onmousedown=util._CancelMouse;\r\n\r\n      // Add close button, handle click and mousedown events\r\n      var Limg = util._CreateElement(\u0027div\u0027);\r\n      Limg.className=\u0027kmw-close-button\u0027;\r\n      Limg.onmousedown=util._CancelMouse;\r\n      Limg.onclick=function (this: OSKManager) {\r\n        this._Hide(true);\r\n      }.bind(this);\r\n      this.closeButton = Limg;\r\n      LdivButtons.appendChild(Limg);\r\n\r\n      // Add \u0027Unpin\u0027 button for restoring OSK to default location, handle mousedown and click events\r\n      Limg = this.pinImg = util._CreateElement(\u0027div\u0027);  //I2186\r\n      Limg.className=\u0027kmw-pin-image\u0027;\r\n      Limg.title=\u0027Pin the On Screen Keyboard to its default location on the active text box\u0027;\r\n      Limg.onclick=this.handlePinClick;\r\n      Limg.onmousedown=util._CancelMouse;\r\n      Limg.style.display=\u0027none\u0027;\r\n\r\n      // Do not use Unpin button on touch screens (OSK location fixed)\r\n      if(!util.device.touchable) {\r\n        LdivButtons.appendChild(Limg); // I3363 (Build 301)\r\n      }\r\n\r\n      // Attach button container to title bar\r\n      Ldiv.appendChild(LdivButtons);\r\n\r\n      // Add title bar caption\r\n      var Lcap=keymanweb._TitleElement=util._CreateElement(\u0027span\u0027);  // I1972\r\n      Lcap.className=\u0027kmw-title-bar-caption\u0027;\r\n      Lcap.innerHTML=\u0027KeymanWeb\u0027;\r\n      Ldiv.appendChild(Lcap);\r\n\r\n      return Ldiv;\r\n    }\r\n\r\n    // End of TitleBarInterior\r\n\r\n    /**\r\n     * Function     enabled\r\n     * Scope        Public\r\n     * @return      {boolean|number}    True if KMW OSK enabled\r\n     * Description  Test if KMW OSK is enabled\r\n     */\r\n    [\u0027isEnabled\u0027](): boolean {\r\n      return this._Enabled;\r\n    }\r\n\r\n    /**\r\n     * Function     isVisible\r\n     * Scope        Public\r\n     * @return      {boolean|number}    True if KMW OSK visible\r\n     * Description  Test if KMW OSK is actually visible\r\n     * Note that this will usually return false after any UI event that results in (temporary) loss of input focus\r\n     */\r\n    [\u0027isVisible\u0027](): boolean {\r\n      return this._Visible;\r\n    }\r\n\r\n    /**\r\n     * Function     _VKbdMouseOver\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Activate the KMW UI on mouse over\r\n     */\r\n    private _VKbdMouseOver = function(this: OSKManager, e) {\r\n      com.keyman.singleton.uiManager.setActivatingUI(true);\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _VKbdMouseOut\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Cancel activation of KMW UI on mouse out\r\n     */\r\n    private _VKbdMouseOut = function(this: OSKManager, e) {\r\n      com.keyman.singleton.uiManager.setActivatingUI(false);\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _VResizeMouseOver, _VResizeMouseOut\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Process end of resizing of KMW UI\r\n     */\r\n    private _VResizeMouseOut = function(this: OSKManager, e: Event) {\r\n      e = com.keyman.singleton._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return false;\r\n      }\r\n\r\n      if(e  \u0026\u0026  e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      var r=this.getRect();\r\n      this.setSize(r.width, r.height, true);\r\n      e.cancelBubble = true;\r\n      return false;\r\n    }.bind(this);\r\n\r\n    private _VResizeMouseOver = this._VResizeMouseOut;\r\n\r\n    /**\r\n     * Function     _VResizeMouseDown\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Process resizing of KMW UI\r\n     */\r\n    private _VResizeMouseDown = function(this: OSKManager, e: MouseEvent) {\r\n      let keymanweb = com.keyman.singleton;\r\n\r\n      keymanweb.uiManager.justActivated = true;\r\n      e = keymanweb._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return true;\r\n      }\r\n\r\n      this.resizing = true;\r\n      var Lposx,Lposy;\r\n      if (e.pageX) {\r\n        Lposx = e.pageX;\r\n        Lposy = e.pageY;\r\n      } else if(e.clientX) {\r\n        Lposx = e.clientX + document.body.scrollLeft;\r\n        Lposy = e.clientY + document.body.scrollTop;\r\n      }\r\n\r\n      this._ResizeMouseX = Lposx;\r\n      this._ResizeMouseY = Lposy;\r\n      if(document.onmousemove != this._VResizeMouseMove  \u0026\u0026  document.onmousemove != this._VMoveMouseMove) { // I1472 - Dragging off edge of browser window causes muckup\r\n        this._VPreviousMouseMove = document.onmousemove;\r\n        this._VPreviousMouseUp = document.onmouseup;\r\n      }\r\n      this._VPreviousCursor = document.body.style.cursor;\r\n      this._VPreviousMouseButton = (typeof(e.which)==\u0027undefined\u0027 ? e.button : e.which);\r\n\r\n      this._VOriginalWidth = this.vkbd.kbdDiv.offsetWidth;\r\n      this._VOriginalHeight = this.vkbd.kbdDiv.offsetHeight;\r\n      document.onmousemove = this._VResizeMouseMove;\r\n      document.onmouseup = this._VResizeMoveMouseUp;\r\n\r\n      if(document.body.style.cursor) {\r\n        document.body.style.cursor = \u0027se-resize\u0027;\r\n      }\r\n      if(e  \u0026\u0026  e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n      e.cancelBubble = true;\r\n      return false;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _VResizeMouseMove\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Process mouse movement during resizing of OSK\r\n     */\r\n    _VResizeMouseMove = function(this: OSKManager, e: MouseEvent) {\r\n      var Lposx,Lposy;\r\n      e = com.keyman.singleton._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return true;\r\n      }\r\n      this.resizing = true;\r\n\r\n      if(this._VPreviousMouseButton != (typeof(e.which)==\u0027undefined\u0027 ? e.button : e.which)) { // I1472 - Dragging off edge of browser window causes muckup\r\n        return this._VResizeMoveMouseUp(e);\r\n      } else {\r\n        if (e.pageX) {\r\n          Lposx = e.pageX;\r\n          Lposy=e.pageY;\r\n        } else if (e.clientX) {\r\n          Lposx = e.clientX + document.body.scrollLeft;\r\n          Lposy = e.clientY + document.body.scrollTop;\r\n        }\r\n\r\n        var newWidth=(this._VOriginalWidth + Lposx - this._ResizeMouseX),\r\n            newHeight=(this._VOriginalHeight + Lposy - this._ResizeMouseY);\r\n\r\n        // Set the smallest and largest OSK size\r\n        if(newWidth \u003c 0.2*screen.width) {\r\n          newWidth = 0.2*screen.width;\r\n        }\r\n        if(newHeight \u003c 0.1*screen.height) {\r\n          newHeight = 0.1*screen.height;\r\n        }\r\n        if(newWidth \u003e 0.9*screen.width) {\r\n          newWidth=0.9*screen.width;\r\n        }\r\n        if(newHeight \u003e 0.5*screen.height) {\r\n          newWidth=0.5*screen.height;\r\n        }\r\n\r\n        // Explicitly set OSK width, height,  and font size - cannot safely rely on scaling from font\r\n        this.setSize(newWidth, newHeight);\r\n\r\n        if(e  \u0026\u0026  e.preventDefault) {\r\n          e.preventDefault();\r\n        }\r\n        e.cancelBubble = true;\r\n        return false;\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _VMoveMouseDown\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Process mouse down on OSK\r\n     */\r\n    private _VMoveMouseDown = function(this: OSKManager, e: MouseEvent) {\r\n      let keymanweb = com.keyman.singleton;\r\n\r\n      var Lposx, Lposy;\r\n      keymanweb.uiManager.justActivated = true;\r\n      e = keymanweb._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return true;\r\n      }\r\n\r\n      this.resizing = true;\r\n      if (e.pageX) {\r\n        Lposx = e.pageX;\r\n        Lposy = e.pageY;\r\n      } else if (e.clientX) {\r\n        Lposx = e.clientX + document.body.scrollLeft;\r\n        Lposy = e.clientY + document.body.scrollTop;\r\n      }\r\n\r\n      if(document.onmousemove != this._VResizeMouseMove  \u0026\u0026  document.onmousemove != this._VMoveMouseMove) { // I1472 - Dragging off edge of browser window causes muckup\r\n        this._VPreviousMouseMove = document.onmousemove;\r\n        this._VPreviousMouseUp = document.onmouseup;\r\n      }\r\n\r\n      this._VPreviousCursor = document.body.style.cursor;\r\n      this._VPreviousMouseButton = (typeof(e.which)==\u0027undefined\u0027 ? e.button : e.which);\r\n\r\n      this._VMoveX = Lposx - this._Box.offsetLeft;\r\n      this._VMoveY = Lposy - this._Box.offsetTop;\r\n\r\n      if(keymanweb.isCJK()) {\r\n        this.pinImg.style.left=\u002715px\u0027;\r\n      }\r\n\r\n      document.onmousemove = this._VMoveMouseMove;\r\n      document.onmouseup = this._VResizeMoveMouseUp;\r\n      if(document.body.style.cursor) {\r\n        document.body.style.cursor = \u0027move\u0027;\r\n      }\r\n      if(e  \u0026\u0026  e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n      e.cancelBubble = true;\r\n      return false;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Process mouse drag on OSK\r\n     *\r\n     * @param       {Object}      e      event\r\n     */\r\n    private _VMoveMouseMove = function(this: OSKManager, e: MouseEvent) {\r\n      let keymanweb = com.keyman.singleton;\r\n\r\n      var Lposx, Lposy;\r\n      e = keymanweb._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return true;\r\n      }\r\n\r\n      if(this.noDrag) {\r\n        return true;\r\n      }\r\n\r\n      this.resizing = true;\r\n\r\n      this.userPositioned = true;\r\n      this.pinImg.style.display=\u0027block\u0027;\r\n\r\n      if(this._VPreviousMouseButton != (typeof(e.which)==\u0027undefined\u0027 ? e.button : e.which)) { // I1472 - Dragging off edge of browser window causes muckup\r\n        return this._VResizeMoveMouseUp(e);\r\n      } else {\r\n        if (e.pageX) {\r\n          Lposx = e.pageX;\r\n          Lposy = e.pageY;\r\n        } else if (e.clientX) {\r\n          Lposx = e.clientX + document.body.scrollLeft;\r\n          Lposy = e.clientY + document.body.scrollTop;\r\n        }\r\n\r\n        this._Box.style.left = (Lposx-this._VMoveX)+\u0027px\u0027;\r\n        this._Box.style.top = (Lposy-this._VMoveY)+\u0027px\u0027;\r\n\r\n        if(e  \u0026\u0026  e.preventDefault) {\r\n          e.preventDefault();\r\n        }\r\n\r\n        var r=this.getRect();\r\n        this.setSize(r.width, r.height, true);\r\n        this.x = r.left;\r\n        this.y = r.top;\r\n        e.cancelBubble = true;\r\n        return false;\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     _VResizeMoveMouseUp\r\n     * Scope        Private\r\n     * @param       {Object}      e      event\r\n     * Description  Process mouse up during resizing of KMW UI\r\n     */\r\n    private _VResizeMoveMouseUp = function(this: OSKManager, e: MouseEvent) {\r\n      let keymanweb = com.keyman.singleton;\r\n\r\n      e = keymanweb._GetEventObject(e);   // I2404 - Manage IE events in IFRAMEs\r\n      if(!e) {\r\n        return true;\r\n      }\r\n\r\n      this.resizing = false;\r\n      if(this.vkbd) {\r\n        this.vkbd.currentKey=null;\r\n      }\r\n\r\n      document.onmousemove = this._VPreviousMouseMove;\r\n      document.onmouseup = this._VPreviousMouseUp;\r\n\r\n      if(document.body.style.cursor) {\r\n        document.body.style.cursor = this._VPreviousCursor;\r\n      }\r\n\r\n      keymanweb.domManager.focusLastActiveElement();\r\n      if(e  \u0026\u0026  e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      keymanweb.uiManager.justActivated = false;\r\n      keymanweb.uiManager.setActivatingUI(false);\r\n\r\n      if(this.vkbd) {\r\n        this._VOriginalWidth = this.vkbd.kbdDiv.offsetWidth;\r\n        this._VOriginalHeight = this.vkbd.kbdDiv.offsetHeight;\r\n        }\r\n      this.doResizeMove();\r\n      e.cancelBubble = true;\r\n      this.saveCookie();\r\n      return false;\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Save size, position, font size and visibility of OSK\r\n     */\r\n    saveCookie() {\r\n      let util = com.keyman.singleton.util;\r\n\r\n      var c = util.loadCookie(\u0027KeymanWeb_OnScreenKeyboard\u0027);\r\n      var p = this.getPos();\r\n\r\n      c[\u0027visible\u0027] = this._Enabled ? 1 : 0;\r\n      c[\u0027userSet\u0027] = this.userPositioned ? 1 : 0;\r\n      c[\u0027left\u0027] = p.left;\r\n      c[\u0027top\u0027] = p.top;\r\n\r\n      if(this.vkbd) {\r\n        c[\u0027width\u0027] = this.width;\r\n        c[\u0027height\u0027] = this.height;\r\n      }\r\n\r\n      util.saveCookie(\u0027KeymanWeb_OnScreenKeyboard\u0027,c);\r\n    }\r\n\r\n    /**\r\n     * Restore size, position, font size and visibility of desktop OSK\r\n     *\r\n     *  @return {boolean}\r\n     */\r\n    loadCookie(): void {\r\n      let util = com.keyman.singleton.util;\r\n\r\n      var c = util.loadCookie(\u0027KeymanWeb_OnScreenKeyboard\u0027);\r\n\r\n      this._Enabled = util.toNumber(c[\u0027visible\u0027], 1) == 1;\r\n      this.userPositioned = util.toNumber(c[\u0027userSet\u0027], 0) == 1;\r\n      this.x = util.toNumber(c[\u0027left\u0027],-1);\r\n      this.y = util.toNumber(c[\u0027top\u0027],-1);\r\n\r\n      // Restore OSK size - font size now fixed in relation to OSK height, unless overridden (in em) by keyboard\r\n      var dfltWidth=0.3*screen.width;\r\n      //if(util.toNumber(c[\u0027width\u0027],0) == 0) dfltWidth=0.5*screen.width;\r\n      var newWidth=util.toNumber(c[\u0027width\u0027],dfltWidth),\r\n          newHeight=util.toNumber(c[\u0027height\u0027],0.15*screen.height);\r\n\r\n      // Limit the OSK dimensions to reasonable values\r\n      if(newWidth \u003c 0.2*screen.width) {\r\n        newWidth = 0.2*screen.width;\r\n      }\r\n      if(newHeight \u003c 0.1*screen.height) {\r\n        newHeight = 0.1*screen.height;\r\n      }\r\n      if(newWidth \u003e 0.9*screen.width) {\r\n        newWidth=0.9*screen.width;\r\n      }\r\n      if(newHeight \u003e 0.5*screen.height) {\r\n        newHeight=0.5*screen.height;\r\n      }\r\n\r\n      this.setSize(newWidth, newHeight);\r\n\r\n      // and OSK position if user located\r\n      if(this.x == -1 || this.y == -1 || (!this._Box)) {\r\n        this.userPositioned = false;\r\n      }\r\n\r\n      if(this.x \u003c window.pageXOffset-0.8*newWidth) {\r\n        this.x=window.pageXOffset-0.8*newWidth;\r\n      }\r\n      if(this.y \u003c 0) {\r\n        this.x=-1;\r\n        this.y=-1;\r\n        this.userPositioned=false;\r\n      }\r\n\r\n      if(this.userPositioned \u0026\u0026 this._Box) {\r\n        this.setPos({\u0027left\u0027: this.x, \u0027top\u0027: this.y});\r\n      }\r\n    }\r\n\r\n    private setSize(width?: number, height?: number, pending?: boolean) {\r\n      if(width \u0026\u0026 height) {\r\n        this._baseWidth = width;\r\n        this._baseHeight = height;\r\n      }\r\n\r\n      if(this.vkbd) {\r\n        this.vkbd.setSize(width, height, pending);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get the wanted height of the banner (does not include the keyboard)\r\n     *  @return   {number}    height in pixels\r\n     */\r\n    getBannerHeight(): number {\r\n      return (this.banner != null) ? this.banner.height : 0;\r\n    }\r\n\r\n    /**\r\n     * Get the wanted height of the OSK for touch devices (does not include banner height)\r\n     *  @return   {number}    height in pixels\r\n     **/\r\n    getKeyboardHeight(): number {\r\n      let keymanweb = com.keyman.singleton;\r\n      let device = keymanweb.util.device;\r\n\r\n      // KeymanTouch - get OSK height from device\r\n      if(typeof(keymanweb[\u0027getOskHeight\u0027]) == \u0027function\u0027) {\r\n        return keymanweb[\u0027getOskHeight\u0027]();\r\n      }\r\n\r\n      var oskHeightLandscapeView=Math.floor(Math.min(screen.availHeight,screen.availWidth)/2),\r\n          height=oskHeightLandscapeView;\r\n\r\n      if(device.formFactor == \u0027phone\u0027) {\r\n        var sx=Math.min(screen.height,screen.width),\r\n            sy=Math.max(screen.height,screen.width);\r\n\r\n        if(keymanweb.util.portraitView())\r\n          height=Math.floor(Math.max(screen.availHeight,screen.availWidth)/3);\r\n        else\r\n          height=height*(sy/sx)/1.6;  //adjust for aspect ratio, increase slightly for iPhone 5\r\n      }\r\n\r\n      // Correct for viewport scaling (iOS - Android 4.2 does not want this, at least on Galaxy Tab 3))\r\n      if(device.OS == \u0027iOS\u0027) {\r\n        height=height/keymanweb.util.getViewportScale();\r\n      }\r\n\r\n      // Correct for devicePixelratio - needed on Android 4.1.2 phones,\r\n      // for Opera, Chrome and Firefox, but not for native browser!   Exclude native browser for Build 344.\r\n      if(device.OS == \u0027Android\u0027 \u0026\u0026 device.formFactor == \u0027phone\u0027 \u0026\u0026 \u0027devicePixelRatio\u0027 in window) {\r\n        var bMatch=/Firefox|Chrome|OPR/;\r\n        if(bMatch.test(navigator.userAgent)) {\r\n          height = height*window.devicePixelRatio;\r\n        }\r\n      }\r\n\r\n      return height;\r\n    }\r\n\r\n    /**\r\n     * Get the wanted height of the OSK for touch devices (banner height + rows of keys)\r\n     *  @return   {number}    height in pixels\r\n     **/\r\n    getHeight(): number {\r\n      return this.getBannerHeight() + this.getKeyboardHeight();\r\n    }\r\n\r\n    /**\r\n     * Get the wanted width of the OSK for touch devices\r\n     *\r\n     *  @return   {number}    height in pixels\r\n     **/\r\n    getWidth(): number {\r\n      let keymanweb = com.keyman.singleton;\r\n      let device = keymanweb.util.device;\r\n\r\n      // KeymanTouch - get OSK height from device\r\n      if(typeof(keymanweb[\u0027getOskWidth\u0027]) == \u0027function\u0027) {\r\n        return keymanweb[\u0027getOskWidth\u0027]();\r\n      }\r\n\r\n      var width: number;\r\n      if(device.OS == \u0027iOS\u0027) {\r\n        // iOS does not interchange these values when the orientation changes!\r\n        //width = util.portraitView() ? screen.width : screen.height;\r\n        width = window.innerWidth;\r\n      } else if(device.OS == \u0027Android\u0027) {\r\n        try {\r\n          width=document.documentElement.clientWidth;\r\n        } catch(ex) {\r\n          width=screen.availWidth;\r\n        }\r\n      } else {\r\n        width=screen.width;\r\n      }\r\n\r\n      return width;\r\n    }\r\n\r\n    /**\r\n     * Allow UI to update OSK position and properties\r\n     *\r\n     * @param       {Object=}     p       object with coordinates and userdefined flag\r\n     *\r\n     */\r\n    doResizeMove(p?) {\r\n      return com.keyman.singleton.util.callEvent(\u0027osk.resizemove\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Function     getRect //TODO:  This is probably not correct, anyway!!!!!\r\n     * Scope        Public\r\n     * @return      {Object.\u003cstring,number\u003e}   Array object with position and size of OSK container\r\n     * Description  Get rectangle containing KMW Virtual Keyboard\r\n     */\r\n    [\u0027getRect\u0027](): OSKRect {\t\t// I2405\r\n      var p: OSKRect = {};\r\n\r\n      // Always return these based upon _Box; using this.vkbd will fail to account for banner and/or\r\n      // the desktop OSK border.\r\n      p[\u0027left\u0027] = p.left = dom.Utils.getAbsoluteX(this._Box);\r\n      p[\u0027top\u0027]  = p.top  = dom.Utils.getAbsoluteY(this._Box);\r\n\r\n      if(this.vkbd) {\r\n        p[\u0027width\u0027]  = p.width  = dom.Utils.getAbsoluteX(this.vkbd.kbdHelpDiv) -\r\n          dom.Utils.getAbsoluteX(this.vkbd.kbdDiv) + this.vkbd.kbdHelpDiv.offsetWidth;\r\n        p[\u0027height\u0027] = p.height = dom.Utils.getAbsoluteY(this.vkbd.kbdHelpDiv) -\r\n          dom.Utils.getAbsoluteY(this.vkbd.kbdDiv) + this.vkbd.kbdHelpDiv.offsetHeight;\r\n      } else {\r\n        p[\u0027width\u0027]  = p.width  = dom.Utils.getAbsoluteX(this._Box) + this._Box.offsetWidth;\r\n        p[\u0027height\u0027] = p.height = dom.Utils.getAbsoluteY(this._Box) + this._Box.offsetHeight;\r\n      }\r\n      return p;\r\n    }\r\n\r\n    /**\r\n     * Allow the UI or page to set the position and size of the OSK\r\n     * and (optionally) override user repositioning or sizing\r\n     *\r\n     * @param       {Object.\u003cstring,number\u003e}   p  Array object with position and size of OSK container\r\n    **/\r\n    [\u0027setRect\u0027](p: OSKRect) {\r\n      let util = com.keyman.singleton.util;\r\n      if(this._Box == null || util.device.formFactor != \u0027desktop\u0027) {\r\n        return;\r\n      }\r\n\r\n      var b = this._Box, bs = b.style;\r\n      if(\u0027left\u0027 in p) {\r\n        bs.left=(p[\u0027left\u0027]-dom.Utils.getAbsoluteX(b)+b.offsetLeft)+\u0027px\u0027;\r\n        this.dfltX=bs.left;\r\n      }\r\n\r\n      if(\u0027top\u0027 in p) {\r\n        bs.top=(p[\u0027top\u0027]-dom.Utils.getAbsoluteY(b)+b.offsetTop)+\u0027px\u0027;\r\n        this.dfltY=bs.top;\r\n      }\r\n\r\n      //Do not allow user resizing for non-standard keyboards (e.g. EuroLatin)\r\n      if(this.vkbd != null) {\r\n        var d=this.vkbd.kbdDiv, ds=d.style;\r\n\r\n        // Set width, but limit to reasonable value\r\n        if(\u0027width\u0027 in p) {\r\n          var w=(p[\u0027width\u0027]-(b.offsetWidth-d.offsetWidth));\r\n          if(w \u003c 0.2*screen.width) {\r\n            w=0.2*screen.width;\r\n          }\r\n          if(w \u003e 0.9*screen.width) {\r\n            w=0.9*screen.width;\r\n          }\r\n          ds.width=w+\u0027px\u0027;\r\n          this.setSize(w, this.height, true);\r\n        }\r\n\r\n        // Set height, but limit to reasonable value\r\n        // This sets the default font size for the OSK in px, but that\r\n        // can be modified at the key text level by setting\r\n        // the font size in em in the kmw-key-text class\r\n        if(\u0027height\u0027 in p) {\r\n          var h=(p[\u0027height\u0027]-(b.offsetHeight-d.offsetHeight));\r\n          if(h \u003c 0.1*screen.height) {\r\n            h=0.1*screen.height;\r\n          }\r\n          if(h \u003e 0.5*screen.height) {\r\n            h=0.5*screen.height;\r\n          }\r\n          ds.height=h+\u0027px\u0027; ds.fontSize=(h/8)+\u0027px\u0027;\r\n          this.setSize(this.width, h, true);\r\n        }\r\n\r\n        // Fix or release user resizing\r\n        if(\u0027nosize\u0027 in p) {\r\n          if(this.resizeIcon) {\r\n            this.resizeIcon.style.display=(p[\u0027nosize\u0027] ? \u0027none\u0027 : \u0027block\u0027);\r\n          }\r\n        }\r\n\r\n      }\r\n      // Fix or release user dragging\r\n      if(\u0027nomove\u0027 in p) {\r\n        this.noDrag=p[\u0027nomove\u0027];\r\n        if(this.pinImg) {\r\n          this.pinImg.style.display=(p[\u0027nomove\u0027] || !this.userPositioned) ? \u0027none\u0027 : \u0027block\u0027;\r\n        }\r\n      }\r\n      // Save the user-defined OSK size\r\n      this.saveCookie();\r\n    }\r\n\r\n    /**\r\n     * Get position of OSK window\r\n     *\r\n     * @return      {Object.\u003cstring,number\u003e}     Array object with OSK window position\r\n    **/\r\n    getPos(): OSKPos {\r\n      var Lkbd=this._Box, p={\r\n        left: this._Visible ? Lkbd.offsetLeft : this.x,\r\n        top: this._Visible ? Lkbd.offsetTop : this.y\r\n      };\r\n\r\n      return p;\r\n    }\r\n\r\n    /**\r\n     * Function     setPos\r\n     * Scope        Private\r\n     * @param       {Object.\u003cstring,number\u003e}    p     Array object with OSK left, top\r\n     * Description  Set position of OSK window, but limit to screen, and ignore if  a touch input device\r\n     */\r\n    [\u0027setPos\u0027](p: OSKPos) {\r\n      if(typeof(this._Box) == \u0027undefined\u0027 || com.keyman.singleton.util.device.touchable) {\r\n        return; // I3363 (Build 301)\r\n      }\r\n\r\n      if(this.userPositioned) {\r\n        var Px=p[\u0027left\u0027], Py=p[\u0027top\u0027];\r\n\r\n        if(typeof(Px) != \u0027undefined\u0027) {\r\n          if(Px \u003c -0.8*this._Box.offsetWidth) {\r\n            Px = -0.8*this._Box.offsetWidth;\r\n          }\r\n          if(this.userPositioned) {\r\n            this._Box.style.left=Px+\u0027px\u0027;\r\n            this.x = Px;\r\n          }\r\n        }\r\n        // May not be needed - vertical positioning is handled differently and defaults to input field if off screen\r\n        if(typeof(Py) != \u0027undefined\u0027) {\r\n          if(Py \u003c 0) {\r\n            Py = 0;\r\n          }\r\n\r\n          if(this.userPositioned) {\r\n            this._Box.style.top=Py+\u0027px\u0027;\r\n            this.y = Py;\r\n          }\r\n        }\r\n      }\r\n\r\n      if(this.pinImg) {\r\n        this.pinImg.style.display=(this.userPositioned ? \u0027block\u0027 : \u0027none\u0027);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Display KMW OSK at specified position (returns nothing)\r\n     *\r\n     * @param       {number=}     Px      x-coordinate for OSK rectangle\r\n     * @param       {number=}     Py      y-coordinate for OSK rectangle\r\n     */\r\n    _Show(Px?: number, Py?: number) {\r\n      let keymanweb = com.keyman.singleton;\r\n      let device = keymanweb.util.device;\r\n\r\n      // Do not try to display OSK if undefined, or no active element\r\n      if(this._Box == null || keymanweb.domManager.getActiveElement() == null) {\r\n        return;\r\n      }\r\n\r\n      // Never display the OSK for desktop browsers unless KMW element is focused, and a keyboard selected\r\n      if((!device.touchable) \u0026\u0026 (keymanweb.core.activeKeyboard == null || !this._Enabled)) {\r\n        return;\r\n      }\r\n\r\n      var Ls = this._Box.style;\r\n\r\n      // Do not display OSK until it has been positioned correctly\r\n      if(device.touchable \u0026\u0026 Ls.bottom == \u0027\u0027) {\r\n        Ls.visibility=\u0027hidden\u0027;\r\n      }\r\n\r\n      if(device.touchable) {\r\n        /* In case it\u0027s still \u00270\u0027 from a hide() operation.\r\n         * Happens when _Show is called before the transitionend events are processed,\r\n         * which can happen in bulk-rendering contexts.\r\n         *\r\n         * (Opacity is only modified when device.touchable = true, though a couple of extra\r\n         * conditions may apply.)\r\n         */\r\n        Ls.opacity=\u00271\u0027;\r\n      }\r\n\r\n      // TODO:  Move this into the VisualKeyboard class!\r\n      // The following code will always be executed except for externally created OSK such as EuroLatin\r\n      if(this.vkbd \u0026\u0026 this.vkbd.ddOSK) {\r\n        // Enable the currently active keyboard layer and update the default nextLayer member\r\n        this.vkbd.show();\r\n\r\n        // Extra style changes and overrides for touch-mode.\r\n        if(device.touchable) {\r\n          Ls.position=\u0027fixed\u0027;\r\n          Ls.left=Ls.bottom=\u00270px\u0027;\r\n          let vkbdHeight = (\u003cHTMLElement\u003e this.vkbd.kbdDiv.firstChild).style.height;\r\n          vkbdHeight = vkbdHeight.substr(0, vkbdHeight.indexOf(\u0027px\u0027));\r\n          Ls.height=Ls.maxHeight= (this.getBannerHeight() + parseInt(vkbdHeight, 10) + 5 /* kmw-banner-bar top in css */) + \u0027px\u0027;\r\n          Ls.border=\u0027none\u0027;\r\n          Ls.borderTop=\u00271px solid gray\u0027;\r\n\r\n          this._Enabled=true;\r\n          this._Visible=true; // I3363 (Build 301)\r\n        }\r\n      }\r\n\r\n      //TODO: may need to return here for touch devices??\r\n      Ls.display=\u0027block\u0027; //Ls.visibility=\u0027visible\u0027;\r\n\r\n      if(this.vkbd) {\r\n        this.vkbd.showLanguage();\r\n      }\r\n\r\n      if(device.formFactor == \u0027desktop\u0027) {\r\n        Ls.position=\u0027absolute\u0027; Ls.display=\u0027block\u0027; //Ls.visibility=\u0027visible\u0027;\r\n        Ls.left=\u00270px\u0027;\r\n        this.loadCookie();\r\n        if(Px \u003e= 0) { //probably never happens, legacy support only\r\n          Ls.left = Px + \u0027px\u0027; Ls.top = Py + \u0027px\u0027;\r\n        } else {\r\n          if(this.userPositioned) {\r\n            Ls.left=this.x+\u0027px\u0027;\r\n            Ls.top=this.y+\u0027px\u0027;\r\n          } else {\r\n            var el=keymanweb.domManager.getActiveElement();\r\n\r\n            // Special case - design mode iframes.  Don\u0027t use the active element (inside the design-mode doc);\r\n            // use its containing iframe from the doc itself.\r\n            let ownerDoc = el.ownerDocument;\r\n            if(ownerDoc.designMode == \u0027on\u0027 \u0026\u0026 ownerDoc.defaultView \u0026\u0026 ownerDoc.defaultView.frameElement) {\r\n              el = ownerDoc.defaultView.frameElement as HTMLElement;\r\n            }\r\n            if(this.dfltX) {\r\n              Ls.left=this.dfltX;\r\n            } else if(typeof el != \u0027undefined\u0027 \u0026\u0026 el != null) {\r\n              Ls.left=dom.Utils.getAbsoluteX(el) + \u0027px\u0027;\r\n            }\r\n\r\n            if(this.dfltY) {\r\n              Ls.top=this.dfltY;\r\n            } else if(typeof el != \u0027undefined\u0027 \u0026\u0026 el != null) {\r\n              Ls.top=(dom.Utils.getAbsoluteY(el) + el.offsetHeight)+\u0027px\u0027;\r\n            }\r\n          }\r\n        }\r\n        this._Enabled=true;\r\n        this._Visible=true;\r\n        if(this.vkbd) {\r\n          this.vkbd.refit();\r\n        }\r\n\r\n        this.saveCookie();\r\n\r\n        var pin=this.pinImg;\r\n        if(typeof pin != \u0027undefined\u0027 \u0026\u0026 pin != null)\r\n          pin.style.display=this.userPositioned?\u0027block\u0027:\u0027none\u0027;\r\n      }\r\n\r\n      // If OSK still hidden, make visible only after all calculation finished\r\n      if(Ls.visibility == \u0027hidden\u0027) {\r\n        window.setTimeout(function(){\r\n          this._Box.style.visibility=\u0027visible\u0027;\r\n        }.bind(this), 0);\r\n      }\r\n\r\n      // Allow desktop UI to execute code when showing the OSK\r\n      if(!device.touchable) {\r\n        var Lpos={};\r\n        Lpos[\u0027x\u0027]=this._Box.offsetLeft;\r\n        Lpos[\u0027y\u0027]=this._Box.offsetTop;\r\n        Lpos[\u0027userLocated\u0027]=this.userPositioned;\r\n        this.doShow(Lpos);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hide Keymanweb On Screen Keyboard\r\n     *\r\n     * @param       {boolean}   hiddenByUser    Distinguish between hiding on loss of focus and explicit hiding by user\r\n     */\r\n    _Hide(hiddenByUser: boolean) {\r\n      let keymanweb = com.keyman.singleton;\r\n      let device = keymanweb.util.device;\r\n      // The test for CJK languages is necessary to prevent a picklist (displayed in the OSK) from being hidden by the user\r\n      // Once picklist functionality is separated out, this will no longer be needed.\r\n      // Logic is: execute always if hidden on lost focus, but if requested by user, only if not CJK\r\n\r\n      if(keymanweb.isEmbedded) {\r\n        // We never hide the keyboard in embedded mode\r\n        return;\r\n      }\r\n\r\n      // Save current size if visible\r\n      if(this._Box \u0026\u0026 this._Box.style.display == \u0027block\u0027 \u0026\u0026 this.vkbd) {\r\n        this.vkbd.refit();\r\n      }\r\n\r\n      if(hiddenByUser) {\r\n        //osk.loadCookie(); // preserve current offset and userlocated state\r\n        this._Enabled = ((keymanweb.isCJK() || device.touchable)? true : false); // I3363 (Build 301)\r\n        this.saveCookie();  // Save current OSK state, size and position (desktop only)\r\n      } else if(device.formFactor == \u0027desktop\u0027) {\r\n        //Allow desktop OSK to remain visible on blur if body class set\r\n        if(document.body.className.indexOf(\u0027osk-always-visible\u0027) \u003e= 0) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      this._Visible = false;\r\n      if(this._Box \u0026\u0026 device.touchable \u0026\u0026 this._Box.offsetHeight \u003e 0) { // I3363 (Build 301)\r\n        var os=this._Box.style;\r\n        //Firefox doesn\u0027t transition opacity if start delay is explicitly set to 0!\r\n        if(typeof(os.MozBoxSizing) == \u0027string\u0027) {\r\n          os.transition=\u0027opacity 0.8s linear\u0027;\r\n        } else {\r\n          os.transition=os.msTransition=os.WebkitTransition=\u0027opacity 0.5s linear 0\u0027;\r\n        }\r\n\r\n        // Cannot hide the OSK smoothly using a transitioned drop, since for\r\n        // position:fixed elements transitioning is incompatible with translate3d(),\r\n        // and also does not work with top, bottom or height styles.\r\n        // Opacity can be transitioned and is probably the simplest alternative.\r\n        // We must condition on osk._Visible in case focus has since been moved to another\r\n        // input (in which case osk._Visible will be non-zero)\r\n        window.setTimeout(function(this: OSKManager) {\r\n          var os=this._Box.style;\r\n          if(this._Visible) {\r\n            // Leave opacity alone and clear transition if another element activated\r\n            os.transition=os.msTransition=os.MozTransition=os.WebkitTransition=\u0027\u0027;\r\n          } else {\r\n            // Set opacity to zero, should decrease smoothly\r\n            os.opacity=\u00270\u0027;\r\n\r\n            // Actually hide the OSK at the end of the transition\r\n            this._Box.addEventListener(\u0027transitionend\u0027, this.hideNow, false);\r\n            this._Box.addEventListener(\u0027webkitTransitionEnd\u0027, this.hideNow, false);\r\n          }\r\n        }.bind(this), 200);      // Wait a bit before starting, to allow for moving to another element\r\n      } else {\r\n        if(this._Box) {\r\n          this._Box.style.display = \u0027none\u0027;\r\n        }\r\n      }\r\n\r\n      // Allow UI to execute code when hiding the OSK\r\n      var p={};\r\n      p[\u0027HiddenByUser\u0027]=hiddenByUser;\r\n      this.doHide(p);\r\n\r\n      // If hidden by the UI, be sure to restore the focus\r\n      if(hiddenByUser) {\r\n        keymanweb.domManager.focusLastActiveElement();\r\n      }\r\n    }\r\n\r\n        /**\r\n     * Function     hideNow\r\n     * Scope        Private\r\n     * Description  Hide the OSK unconditionally and immediately, cancel any pending transition\r\n     */\r\n    hideNow: () =\u003e void = function(this: OSKManager) { // I3363 (Build 301)\r\n      this._Box.removeEventListener(\u0027transitionend\u0027, this.hideNow, false);\r\n      this._Box.removeEventListener(\u0027webkitTransitionEnd\u0027, this.hideNow, false);\r\n\r\n      if(document.body.className.indexOf(\u0027osk-always-visible\u0027) \u003e= 0) {\r\n        return;\r\n      }\r\n\r\n      var os=this._Box.style;\r\n      os.display=\u0027none\u0027;\r\n      os.opacity=\u00271\u0027;\r\n      this._Visible=false;\r\n      os.transition=os.msTransition=os.MozTransition=os.WebkitTransition=\u0027\u0027;\r\n\r\n      if(this.vkbd) {\r\n        this.vkbd.onHide();\r\n      }\r\n    }.bind(this);\r\n\r\n    /**\r\n     * Function     hide\r\n     * Scope        Public\r\n     * Description  Prevent display of OSK window on focus\r\n     */\r\n    [\u0027hide\u0027]() {\r\n      this._Enabled = false;\r\n      this._Hide(true);\r\n    }\r\n\r\n    /**\r\n     * Allow UI to respond to OSK being shown (passing position and properties)\r\n     *\r\n     * @param       {Object=}       p     object with coordinates and userdefined flag\r\n     * @return      {boolean}\r\n     *\r\n     */\r\n    doShow(p) {\r\n      return com.keyman.singleton.util.callEvent(\u0027osk.show\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Allow UI to update respond to OSK being hidden\r\n     *\r\n     * @param       {Object=}       p     object with coordinates and userdefined flag\r\n     * @return      {boolean}\r\n     *\r\n     */\r\n    doHide(p) {\r\n      return com.keyman.singleton.util.callEvent(\u0027osk.hide\u0027,p);\r\n    }\r\n\r\n    /**\r\n     * Display list of installed keyboards in pop-up menu\r\n     **/\r\n    showLanguageMenu() {\r\n      let menu = new LanguageMenu(com.keyman.singleton);\r\n      menu.show();\r\n    }\r\n\r\n    /**\r\n     * Function     userPositioned\r\n     * Scope        Public\r\n     * @return      {(boolean|number)}          true if user located\r\n     * Description  Test if OSK window has been repositioned by user\r\n     */\r\n    [\u0027userLocated\u0027]() {\r\n      return this.userPositioned;\r\n    }\r\n\r\n    /**\r\n     * Description  Display KMW OSK (at position set in callback to UI)\r\n     * Function     show\r\n     * Scope        Public\r\n     * @param       {(boolean|number)=}      bShow     True to display, False to hide, omitted to toggle\r\n     */\r\n    [\u0027show\u0027](bShow: boolean) {\r\n      if(arguments.length \u003e 0) {\r\n        this._Enabled=bShow;\r\n        if(bShow) {\r\n          this._Show();\r\n        } else {\r\n          this._Hide(true);\r\n        }\r\n      } else {\r\n        if(this._Visible) {\r\n          this._Hide(true);\r\n        } else {\r\n          this._Show();\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Function     addEventListener\r\n     * Scope        Public\r\n     * @param       {string}            event     event name\r\n     * @param       {function(Object)}  func      event handler\r\n     * @return      {boolean}\r\n     * Description  Wrapper function to add and identify OSK-specific event handlers\r\n     */\r\n    [\u0027addEventListener\u0027](event: string, func: (obj) =\u003e boolean) {\r\n      return com.keyman.singleton.util.addEventListener(\u0027osk.\u0027+event, func);\r\n    }\r\n\r\n    [\u0027shutdown\u0027]() {\r\n      // Remove the OSK\u0027s elements from the document, allowing them to be properly cleaned up.\r\n      // Necessary for clean engine testing.\r\n      var _box = this._Box;\r\n      if(_box.parentElement) {\r\n        _box.parentElement.removeChild(_box);\r\n      }\r\n    }\r\n  }\r\n}\r\n","// Defines the KeyboardManager and its related types.\r\n///\u003creference path=\"../../keyboards/kmwkeyboards.ts\" /\u003e\r\n\r\nnamespace com.keyman.text.prediction {\r\n  export class ModelManager {\r\n    // Tracks registered models by ID.\r\n    private registeredModels: {[id: string]: ModelSpec} = {};\r\n\r\n    // Allows for easy model lookup by language code; useful when switching keyboards.\r\n    languageModelMap: {[language:string]: ModelSpec} = {};\r\n    \r\n    init() {\r\n      let keyman = com.keyman.singleton;\r\n      \r\n      // Registers this module for keyboard (language) and model change events.\r\n      keyman[\u0027addEventListener\u0027](\u0027keyboardchange\u0027, this.onKeyboardChange.bind(this));\r\n    }\r\n\r\n    onKeyboardChange(kbdInfo?: keyboards.KeyboardChangeData | string) {\r\n      let keyman = com.keyman.singleton;\r\n      let core = keyman.core;\r\n\r\n      if(typeof kbdInfo == \u0027string\u0027) {  // This case refers to the active language code.\r\n        kbdInfo = {\r\n          [\u0027internalName\u0027]: keyman.keyboardManager.getActiveKeyboardName(),\r\n          [\u0027languageCode\u0027]: kbdInfo,\r\n          [\u0027indirect\u0027]: true\r\n        }\r\n      }\r\n\r\n      let lgCode = kbdInfo[\u0027languageCode\u0027];\r\n      let model = this.languageModelMap[lgCode];\r\n      var loadPromise: Promise\u003cvoid\u003e;\r\n\r\n      if(core.activeModel) {\r\n        core.languageProcessor.unloadModel();\r\n      }\r\n\r\n      if(model) {\r\n        loadPromise = core.languageProcessor.loadModel(model);\r\n      }\r\n    }\r\n\r\n    // Accessible publicly as keyman.modelManager.register(model: ModelSpec)\r\n    register(model: ModelSpec): void {\r\n      let keyman = com.keyman.singleton;\r\n      let activeLanguage = keyman.keyboardManager.getActiveLanguage();\r\n\r\n      this.registeredModels[model.id] = model;\r\n\r\n      // Register the model for each targeted language code variant.\r\n      let mm = this;\r\n      model.languages.forEach(function(code: string) {\r\n        mm.languageModelMap[code] = model;\r\n\r\n        // The model\u0027s for our active language!  Activate it!\r\n        if(code == activeLanguage) {\r\n          // Manually trigger our model-update event function.\r\n          mm.onKeyboardChange(code);\r\n        }\r\n      });\r\n    }\r\n\r\n    deregister(modelId: string): void {\r\n      let keyman = com.keyman.singleton;\r\n      let core = keyman.core;\r\n      let model: ModelSpec;\r\n\r\n      // Remove the model from the id-lookup associative array.\r\n      if(this.registeredModels[modelId]) {\r\n        model = this.registeredModels[modelId];\r\n        delete this.registeredModels[modelId];\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      // Is it the active model?\r\n      if(core.activeModel \u0026\u0026 core.activeModel.id == modelId) {\r\n        core.languageProcessor.unloadModel();\r\n      }\r\n\r\n      // Ensure the model is deregistered for each targeted language code variant.\r\n      let mm = this;\r\n      model.languages.forEach(function(code: string) {\r\n        if(mm.languageModelMap[code].id == modelId) {\r\n          delete mm.languageModelMap[code];\r\n        }\r\n      });\r\n    }\r\n\r\n    isRegistered(model: ModelSpec): boolean {\r\n      return !! this.registeredModels[model.id];\r\n    }\r\n  }\r\n}\r\n","// Includes KMW-added property declaration extensions for HTML elements.\r\n/// \u003creference path=\"kmwexthtml.ts\" /\u003e\r\n// Includes a promise polyfill (needed for IE)\r\n/// \u003creference path=\"../node_modules/es6-shim/es6-shim.min.js\" /\u003e\r\n// Defines the web-page interface object.\r\n/// \u003creference path=\"singleton.ts\" /\u003e\r\n// Defines the core text processor.\r\n/// \u003creference path=\"../node_modules/@keymanapp/input-processor/src/text/inputProcessor.ts\" /\u003e\r\n// Extends KeyboardInterface with DOM-oriented offerings.\r\n/// \u003creference path=\"text/domKbdInterface.ts\" /\u003e\r\n// Defines the web-page interface object.\r\n/// \u003creference path=\"dom/domManager.ts\" /\u003e\r\n// Includes KMW-added property declaration extensions for HTML elements.\r\n/// \u003creference path=\"kmwutils.ts\" /\u003e\r\n// Defines keyboard management classes.\r\n/// \u003creference path=\"keyboards/kmwkeyboards.ts\" /\u003e\r\n// Defines KMW\u0027s hotkey management object.\r\n/// \u003creference path=\"kmwhotkeys.ts\" /\u003e\r\n// Defines the ui management code that tracks UI activation and such.\r\n/// \u003creference path=\"kmwuimanager.ts\" /\u003e\r\n// Defines OSK management code.\r\n/// \u003creference path=\"osk/oskManager.ts\" /\u003e\r\n// Defines the model manager.\r\n/// \u003creference path=\"text/prediction/modelManager.ts\" /\u003e\r\n\r\n/***\r\n   KeymanWeb 11.0\r\n   Copyright 2017-2019 SIL International\r\n***/\r\nnamespace com.keyman {\r\n  export class KeymanBase {\r\n    _TitleElement = null;      // I1972 - KeymanWeb Titlebar should not be a link\r\n    _IE = 0;                   // browser version identification\r\n    _MasterDocument = null;    // Document with controller (to allow iframes to distinguish local/master control)\r\n    _HotKeys = [];             // Array of document-level hotkey objects\r\n    warned = false;            // Warning flag (to prevent multiple warnings)\r\n    baseFont = \u0027sans-serif\u0027;   // Default font for mapped input elements\r\n    appliedFont = \u0027\u0027;          // Chain of fonts to be applied to mapped input elements\r\n    fontCheckTimer = null;     // Timer for testing loading of embedded fonts\r\n    srcPath = \u0027\u0027;              // Path to folder containing executing keymanweb script\r\n    rootPath = \u0027\u0027;             // Path to server root\r\n    protocol = \u0027\u0027;             // Protocol used for the KMW script.\r\n    mustReloadKeyboard = false;// Force keyboard refreshing even if already loaded\r\n    globalKeyboard = null;     // Indicates the currently-active keyboard for controls without independent keyboard settings.\r\n    globalLanguageCode = null; // Indicates the language code corresponding to `globalKeyboard`.\r\n    isEmbedded = false;        // Indicates if the KeymanWeb instance is embedded within a mobile app.\r\n                               // Blocks full page initialization when set to `true`.\r\n    refocusTimer = 0;          // Tracks a timeout event that aids of OSK modifier/state key tracking when the document loses focus.\r\n\r\n    initialized: number;       // Signals the initialization state of the KeymanWeb system.\r\n    isHeadless = false;        // Indicates that KMW lacks any access to the DOM.  Nothing yet implemented for \u0027= true\u0027.\r\n    \u0027build\u0027 = 300;             // TS needs this to be defined within the class.\r\n    _BrowserIsSafari: boolean; // A legacy browser-check variable.\r\n\r\n    // Used as placeholders during initialization.\r\n    // The corresponding class properties should be dropped after a refactor;\r\n    // this is an intermediate solution while doing the big conversion.\r\n    static _srcPath: string;\r\n    static _rootPath: string;\r\n    static _protocol: string;\r\n\r\n    // Internal objects\r\n    [\u0027util\u0027]: Util;\r\n    [\u0027osk\u0027]: com.keyman.osk.OSKManager;\r\n    [\u0027ui\u0027]: any;\r\n    keyboardManager: keyboards.KeyboardManager;\r\n    domManager: dom.DOMManager;\r\n    hotkeyManager: HotkeyManager;\r\n    uiManager: UIManager;\r\n    core: text.InputProcessor;\r\n    modelManager: text.prediction.ModelManager;\r\n\r\n    touchAliasing: dom.DOMEventHandlers;\r\n\r\n    // Defines option-tracking object as a string map.\r\n    options: { [name: string]: string; } = {\r\n      \u0027root\u0027:\u0027\u0027,\r\n      \u0027resources\u0027:\u0027\u0027,\r\n      \u0027keyboards\u0027:\u0027\u0027,\r\n      \u0027fonts\u0027:\u0027\u0027,\r\n      \u0027attachType\u0027:\u0027\u0027,\r\n      \u0027ui\u0027:null,\r\n      \u0027setActiveOnRegister\u0027:\u0027true\u0027\r\n    };\r\n\r\n\r\n    // Stub functions (defined later in code only if required)\r\n    setDefaultDeviceOptions(opt){}\r\n    getStyleSheetPath(s){return s;}\r\n    getKeyboardPath(f, p?){return f;}\r\n    KC_(n, ln, Pelem){return \u0027\u0027;}\r\n    handleRotationEvents(){}\r\n    // Will serve as an API function for a workaround, in case of future touch-alignment issues.\r\n    [\u0027alignInputs\u0027](eleList?: HTMLElement[]){}\r\n    hideInputs() {};\r\n    namespaceID(Pstub) {};\r\n    preserveID(Pk) {};\r\n\r\n    setInitialized(val: number) {\r\n      this.initialized = this[\u0027initialized\u0027] = val;\r\n    }\r\n\r\n    refreshElementContent = null;\r\n\r\n    // -------------\r\n\r\n    constructor() {\r\n      // Allow internal minification of the public modules.\r\n      this.util = this[\u0027util\u0027] = new Util(this);\r\n      this.ui = this[\u0027ui\u0027] = {};\r\n\r\n      this.keyboardManager = new keyboards.KeyboardManager(this);\r\n      this.domManager = new dom.DOMManager(this);\r\n      this.hotkeyManager = new HotkeyManager(this);\r\n      this.uiManager = new UIManager(this);\r\n\r\n      // I732 START - Support for European underlying keyboards #1\r\n      var baseLayout: string;\r\n      if(typeof(window[\u0027KeymanWeb_BaseLayout\u0027]) !== \u0027undefined\u0027) {\r\n        baseLayout = window[\u0027KeymanWeb_BaseLayout\u0027];\r\n      } else {\r\n        baseLayout = \u0027us\u0027;\r\n      }\r\n      this._BrowserIsSafari = (navigator.userAgent.indexOf(\u0027AppleWebKit\u0027) \u003e= 0);  // I732 END - Support for European underlying keyboards #1\r\n\r\n      this.core = new text.InputProcessor({\r\n        baseLayout: baseLayout,\r\n        variableStoreSerializer: new dom.VariableStoreCookieSerializer()\r\n      });\r\n\r\n      // Used by the embedded apps.\r\n      this[\u0027interface\u0027] = this.core.keyboardInterface;\r\n\r\n      this.modelManager = new text.prediction.ModelManager();\r\n      this.osk = this[\u0027osk\u0027] = new com.keyman.osk.OSKManager();\r\n\r\n      // Load properties from their static variants.\r\n      this[\u0027build\u0027] = com.keyman.environment.BUILD;\r\n      this.srcPath = KeymanBase._srcPath;\r\n      this.rootPath = KeymanBase._rootPath;\r\n      this.protocol = KeymanBase._protocol;\r\n\r\n      this[\u0027version\u0027] = com.keyman.environment.VERSION;\r\n      this[\u0027helpURL\u0027] = \u0027http://help.keyman.com/go\u0027;\r\n      this.setInitialized(0);\r\n\r\n      // Signals that a KMW load has occurred in order to prevent double-loading.\r\n      this[\u0027loaded\u0027] = true;\r\n    }\r\n\r\n    delayedInit() {\r\n      // Track the selected Event-handling object.\r\n      this.touchAliasing = this.util.device.touchable ? this.domManager.touchHandlers : this.domManager.nonTouchHandlers;\r\n    }\r\n\r\n    /**\r\n     * Triggers a KeymanWeb engine shutdown to facilitate a full system reset.\r\n     * This function is designed for use with KMW unit-testing, which reloads KMW\r\n     * multiple times to test the different initialization paths.\r\n     */\r\n    [\u0027shutdown\u0027]() {\r\n      // Disable page focus/blur events, which can sometimes trigger and cause parallel KMW instances in testing.\r\n      this.util.detachDOMEvent(window, \u0027focus\u0027, this[\u0027pageFocusHandler\u0027], false);\r\n      this.util.detachDOMEvent(window, \u0027blur\u0027, this[\u0027pageFocusHandler\u0027], false);\r\n\r\n      this.domManager.shutdown();\r\n      this.osk.shutdown();\r\n      this.util.shutdown();\r\n      this.keyboardManager.shutdown();\r\n      this.core.languageProcessor.shutdown();\r\n\r\n      if(this.ui \u0026\u0026 this.ui.shutdown) {\r\n        this.ui.shutdown();\r\n      }\r\n\r\n      dom.DOMEventHandlers.states = new dom.CommonDOMStates();\r\n    }\r\n\r\n    /**\r\n     * Returns a generalized metadata object about the state of KMW for use with error reporting.\r\n     */\r\n    [\u0027getDebugInfo\u0027]() {\r\n      let metadata = {\r\n        attachType: this.options.attachType,\r\n        device: this.util.device,\r\n        initialized: this.initialized,\r\n        isEmbedded: this.isEmbedded,\r\n        ui: this.ui ? this.ui.name : null\r\n      }\r\n\r\n      if(this.util.device.touchable) {\r\n        metadata.ui = \u0027touch\u0027;\r\n      }\r\n\r\n      return metadata;\r\n    }\r\n\r\n    /**\r\n     * Expose font testing to allow checking that SpecialOSK or custom font has\r\n     * been correctly loaded by browser\r\n     *\r\n     *  @param  {string}  fName   font-family name\r\n     *  @return {boolean}         true if available\r\n     **/\r\n    [\u0027isFontAvailable\u0027](fName: string): boolean {\r\n      return this.util.checkFont({\u0027family\u0027:fName});\r\n    }\r\n\r\n    /**\r\n     * Function     addEventListener\r\n     * Scope        Public\r\n     * @param       {string}            event     event to handle\r\n     * @param       {function(Event)}   func      event handler function\r\n     * @return      {boolean}                     value returned by util.addEventListener\r\n     * Description  Wrapper function to add and identify KeymanWeb-specific event handlers\r\n     */\r\n    [\u0027addEventListener\u0027](event: string, func): boolean {\r\n      return this.util.addEventListener(\u0027kmw.\u0027+event, func);\r\n    }\r\n\r\n      /**\r\n     * Function     _GetEventObject\r\n     * Scope        Private\r\n     * @param       {Event=}     e     Event object if passed by browser\r\n     * @return      {Event|null}       Event object\r\n     * Description Gets the event object from the window when using Internet Explorer\r\n     *             and handles getting the event correctly in frames\r\n     */\r\n    _GetEventObject\u003cE extends Event\u003e(e: E) {  // I2404 - Attach to controls in IFRAMEs\r\n      if (!e) {\r\n        e = window.event as E;\r\n        if(!e) {\r\n          var elem: HTMLElement = this.domManager.getLastActiveElement();\r\n          if(elem) {\r\n            let doc = elem.ownerDocument;\r\n            var win: Window;\r\n            if(doc) {\r\n              win = doc.defaultView;\r\n            }\r\n            if(!win) {\r\n              return null;\r\n            }\r\n\r\n            e = win.event as E;\r\n          }\r\n        }\r\n      }\r\n\r\n      return e;\r\n    }\r\n\r\n    /**\r\n     * Function     _push\r\n     * Scope        Private\r\n     * @param       {Array}     Parray    Array\r\n     * @param       {*}         Pval      Value to be pushed or appended to array\r\n     * @return      {Array}               Returns extended array\r\n     * Description  Push (if possible) or append a value to an array\r\n     */\r\n    _push\u003cT\u003e(Parray: T[], Pval: T) {\r\n      if(Parray.push) {\r\n        Parray.push(Pval);\r\n      } else {\r\n        Parray=Parray.concat(Pval);\r\n      }\r\n      return Parray;\r\n    }\r\n\r\n    // Base object API definitions\r\n\r\n    /**\r\n     * Function     attachToControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem       Element to which KMW will be attached\r\n     * Description  Attaches KMW to control (or IFrame)\r\n     */\r\n    [\u0027attachToControl\u0027](Pelem: HTMLElement) {\r\n      this.domManager.attachToControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Function     detachFromControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem       Element from which KMW will detach\r\n     * Description  Detaches KMW from a control (or IFrame)\r\n     */\r\n    [\u0027detachFromControl\u0027](Pelem: HTMLElement) {\r\n      this.domManager.detachFromControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Exposed function to load keyboards by name. One or more arguments may be used\r\n     *\r\n     * @param {string|Object} x keyboard name string or keyboard metadata JSON object\r\n     *\r\n     */\r\n    [\u0027addKeyboards\u0027](x) {\r\n      if(arguments.length == 0) {\r\n        this.keyboardManager.keymanCloudRequest(\u0027\u0027,false);\r\n      } else {\r\n        this.keyboardManager.addKeyboardArray(arguments);\r\n      }\r\n    }\r\n\r\n    /**\r\n     *  Add default or all keyboards for a given language\r\n     *\r\n     *  @param  {string}   arg    Language name (multiple arguments allowed)\r\n     **/\r\n    [\u0027addKeyboardsForLanguage\u0027](arg) {\r\n      this.keyboardManager.addLanguageKeyboards(arguments);\r\n    }\r\n\r\n    /**\r\n     * Call back from cloud for adding keyboard metadata\r\n     *\r\n     * @param {Object}    x   metadata object\r\n     **/\r\n    [\u0027register\u0027](x) {\r\n      this.keyboardManager.register(x);\r\n    }\r\n\r\n    /**\r\n     * Build 362: removeKeyboards() remove keyboard from list of available keyboards\r\n     *\r\n     * @param {string}  x      keyboard name string\r\n     * @param {boolean} force  When true, also drops the cached keyboard object\r\n     *\r\n     */\r\n    [\u0027removeKeyboards\u0027](x, force?) {\r\n      return this.keyboardManager.removeKeyboards(x);\r\n    }\r\n\r\n    /**\r\n     * Allow to change active keyboard by (internal) keyboard name\r\n     *\r\n     * @param       {string}    PInternalName   Internal name\r\n     * @param       {string}    PLgCode         Language code\r\n     */\r\n    [\u0027setActiveKeyboard\u0027](PInternalName: string, PLgCode: string): Promise\u003cvoid\u003e {\r\n      return this.keyboardManager.setActiveKeyboard(PInternalName,PLgCode);\r\n    }\r\n\r\n    /**\r\n     * Function     getActiveKeyboard\r\n     * Scope        Public\r\n     * @return      {string}      Name of active keyboard\r\n     * Description  Return internal name of currently active keyboard\r\n     */\r\n    [\u0027getActiveKeyboard\u0027](): string {\r\n      return this.keyboardManager.getActiveKeyboardName();\r\n    }\r\n\r\n    /**\r\n     * Function    getActiveLanguage\r\n     * Scope       Public\r\n     * @param      {boolean=}        true to retrieve full language name, false/undefined to retrieve code.\r\n     * @return     {string}         language code\r\n     * Description Return language code for currently selected language\r\n     */\r\n    [\u0027getActiveLanguage\u0027](fullName?: boolean): string {\r\n      return this.keyboardManager.getActiveLanguage(fullName);\r\n    }\r\n\r\n    [\u0027isAttached\u0027](x: HTMLElement): boolean {\r\n      return this.domManager.isAttached(x);\r\n    }\r\n\r\n    /**\r\n     * Function    isCJK\r\n     * Scope       Public\r\n     * @param      {Object=}  k0\r\n     * @return     {boolean}\r\n     * Description Tests if active keyboard (or specified keyboard script object, as optional argument)\r\n     *             uses a pick list (Chinese, Japanese, Korean, etc.)\r\n     *             (This function accepts either keyboard structure.)\r\n     */\r\n    [\u0027isCJK\u0027](k0?) {\r\n      var kbd: keyboards.Keyboard;\r\n      if(k0) {\r\n        kbd = new keyboards.Keyboard(k0);\r\n      } else {\r\n        kbd = this.core.activeKeyboard;\r\n      }\r\n\r\n      return kbd \u0026\u0026 kbd.isCJK;\r\n    }\r\n\r\n    /**\r\n     * Function     isChiral\r\n     * Scope        Public\r\n     * @param       {string|Object=}   k0\r\n     * @return      {boolean}\r\n     * Description  Tests if the active keyboard (or optional argument) uses chiral modifiers.\r\n     */\r\n    [\u0027isChiral\u0027](k0?) {\r\n      var kbd: keyboards.Keyboard;\r\n      if(k0) {\r\n        kbd = new keyboards.Keyboard(k0);\r\n      } else {\r\n        kbd = this.core.activeKeyboard;\r\n      }\r\n      return kbd.isChiral;\r\n    }\r\n\r\n    /**\r\n     * Get keyboard meta data for the selected keyboard and language\r\n     *\r\n     * @param       {string}    PInternalName     Internal name of keyboard\r\n     * @param       {string=}   PlgCode           language code\r\n     * @return      {Object}                      Details of named keyboard\r\n     *\r\n     **/\r\n    [\u0027getKeyboard\u0027](PInternalName: string, PlgCode?: string) {\r\n      var Ln, Lrn;\r\n\r\n      var kbdList = this.keyboardManager.getDetailedKeyboards();\r\n\r\n      for(Ln=0; Ln \u003c kbdList.length; Ln++) {\r\n        Lrn = kbdList[Ln];\r\n\r\n        if(Lrn[\u0027InternalName\u0027] == PInternalName || Lrn[\u0027InternalName\u0027] == \"Keyboard_\" + PInternalName) {\r\n          if(arguments.length \u003c 2) {\r\n            return Lrn;\r\n          }\r\n\r\n          if(Lrn[\u0027LanguageCode\u0027] == PlgCode) {\r\n            return Lrn;\r\n          }\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * Get array of available keyboard stubs\r\n     *\r\n     * @return   {Array}     Array of available keyboards\r\n     *\r\n     */\r\n    [\u0027getKeyboards\u0027]() {\r\n      return this.keyboardManager.getDetailedKeyboards();\r\n    }\r\n\r\n    /**\r\n     * Gets the cookie for the name and language code of the most recently active keyboard\r\n     *\r\n     *  Defaults to US English, but this needs to be user-set in later revision (TODO)\r\n     *\r\n     * @return      {string}          InternalName:LanguageCode\r\n     */\r\n    [\u0027getSavedKeyboard\u0027]() {\r\n      return this.keyboardManager.getSavedKeyboard();\r\n    }\r\n\r\n    /**\r\n     * Function     Initialization\r\n     * Scope        Public\r\n     * @param       {Object}  arg     object array of user-defined properties\r\n     * Description  KMW window initialization\r\n     */\r\n    [\u0027init\u0027](arg): Promise\u003cany\u003e {\r\n      return this.domManager.init(arg);\r\n    }\r\n\r\n    /**\r\n     * Function     resetContext\r\n     * Scope        Public\r\n     * @param       {Object} e      The element whose context should be cleared.  If null, the currently-active element will be chosen.\r\n     * Description  Reverts the OSK to the default layer, clears any processing caches and modifier states,\r\n     *              and clears deadkeys and prediction-processing states on the active element (if it exists)\r\n     */\r\n    [\u0027resetContext\u0027](e?: HTMLElement) {\r\n      let elem = e;\r\n      if(!elem) {\r\n        elem = dom.DOMEventHandlers.states.activeElement;\r\n      }\r\n      let outputTarget = dom.Utils.getOutputTarget(elem);\r\n      if(outputTarget) {\r\n        outputTarget.resetContext();\r\n      }\r\n      this.core.resetContext(outputTarget);\r\n    };\r\n\r\n    /**\r\n     * Function     setNumericLayer\r\n     * Scope        Public\r\n     * Description  Set OSK to numeric layer if it exists\r\n     */\r\n    [\u0027setNumericLayer\u0027]() {\r\n      this.core.keyboardProcessor.setNumericLayer(this.util.device.coreSpec);\r\n    };\r\n\r\n    /**\r\n     * Function     disableControl\r\n     * Scope        Public\r\n     * @param       {Element}      Pelem       Element to be disabled\r\n     * Description  Disables a KMW control element\r\n     */\r\n    [\u0027disableControl\u0027](Pelem: HTMLElement) {\r\n      this.domManager.disableControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Function     enableControl\r\n     * Scope        Public\r\n     * @param       {Element}      Pelem       Element to be disabled\r\n     * Description  Disables a KMW control element\r\n     */\r\n    [\u0027enableControl\u0027](Pelem: HTMLMapElement) {\r\n      this.domManager.enableControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Function     setKeyboardForControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem    Control element\r\n     * @param       {string|null=}    Pkbd     Keyboard (Clears the set keyboard if set to null.)\r\n     * @param       {string|null=}     Plc      Language Code\r\n     * Description  Set default keyboard for the control\r\n     */\r\n    [\u0027setKeyboardForControl\u0027](Pelem: HTMLElement, Pkbd?: string, Plc?: string) {\r\n      this.domManager.setKeyboardForControl(Pelem, Pkbd, Plc);\r\n    }\r\n\r\n    /**\r\n     * Function     getKeyboardForControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem    Control element\r\n     * @return      {string|null}         The independently-managed keyboard for the control.\r\n     * Description  Returns the keyboard ID of the current independently-managed keyboard for this control.\r\n     *              If it is currently following the global keyboard setting, returns null instead.\r\n     */\r\n    [\u0027getKeyboardForControl\u0027](Pelem) {\r\n      this.domManager.getKeyboardForControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Function     getLanguageForControl\r\n     * Scope        Public\r\n     * @param       {Element}    Pelem    Control element\r\n     * @return      {string|null}         The independently-managed keyboard for the control.\r\n     * Description  Returns the language code used with the current independently-managed keyboard for this control.\r\n     *              If it is currently following the global keyboard setting, returns null instead.\r\n     */\r\n    [\u0027getLanguageForControl\u0027](Pelem) {\r\n      this.domManager.getLanguageForControl(Pelem);\r\n    }\r\n\r\n    /**\r\n     * Set focus to last active target element (browser-dependent)\r\n     */\r\n    [\u0027focusLastActiveElement\u0027]() {\r\n      this.domManager.focusLastActiveElement();\r\n    }\r\n\r\n    /**\r\n     * Get the last active target element *before* KMW activated (I1297)\r\n     *\r\n     * @return      {Object}\r\n     */\r\n    [\u0027getLastActiveElement\u0027]() {\r\n      return this.domManager.getLastActiveElement();\r\n    }\r\n\r\n    /**\r\n     *  Set the active input element directly optionally setting focus\r\n     *\r\n     *  @param  {Object|string} e         element id or element\r\n     *  @param  {boolean=}      setFocus  optionally set focus  (KMEW-123)\r\n     **/\r\n    [\u0027setActiveElement\u0027](e: string|HTMLElement, setFocus: boolean) {\r\n      return this.domManager.setActiveElement(e, setFocus);\r\n    }\r\n\r\n    /**\r\n     * Move focus to user-specified element\r\n     *\r\n     *  @param  {string|Object}   e   element or element id\r\n     *\r\n     **/\r\n    [\u0027moveToElement\u0027](e: string|HTMLElement) {\r\n      this.domManager.moveToElement(e);\r\n    }\r\n\r\n    /**\r\n     * Function     addHotkey\r\n     * Scope        Public\r\n     * @param       {number}            keyCode\r\n     * @param       {number}            shiftState\r\n     * @param       {function(Object)}  handler\r\n     * Description  Add hot key handler to array of document-level hotkeys triggered by key up event\r\n     */\r\n    [\u0027addHotKey\u0027](keyCode: number, shiftState: number, handler: () =\u003e void) {\r\n      this.hotkeyManager.addHotKey(keyCode, shiftState, handler);\r\n    }\r\n\r\n    /**\r\n     * Function     removeHotkey\r\n     * Scope        Public\r\n     * @param       {number}        keyCode\r\n     * @param       {number}        shiftState\r\n     * Description  Remove a hot key handler from array of document-level hotkeys triggered by key up event\r\n     */\r\n    [\u0027removeHotKey\u0027](keyCode: number, shiftState: number) {\r\n      this.hotkeyManager.removeHotkey(keyCode, shiftState);\r\n    }\r\n\r\n    /**\r\n     * Function     getUIState\r\n     * Scope        Public\r\n     * @return      {Object.\u003cstring,(boolean|number)\u003e}\r\n     * Description  Return object with activation state of UI:\r\n     *                activationPending (bool):   KMW being activated\r\n     *                activated         (bool):   KMW active\r\n     */\r\n    [\u0027getUIState\u0027](): UIState {\r\n      return this.uiManager.getUIState();\r\n    }\r\n\r\n    /**\r\n     * Set or clear the IsActivatingKeymanWebUI flag (exposed function)\r\n     *\r\n     * @param       {(boolean|number)}  state  Activate (true,false)\r\n     */\r\n    [\u0027activatingUI\u0027](state: boolean) {\r\n      this.uiManager.setActivatingUI(state);\r\n    }\r\n\r\n    // Functions that might be added later\r\n    [\u0027beepKeyboard\u0027]: () =\u003e void;\r\n    /**\r\n     * @param {number}  dn  Number of pre-caret characters to delete\r\n     * @param {string}  s   Text to insert\r\n     * @param {number=}  dr  Number of post-caret characters to delete\r\n     */\r\n    [\u0027oninserttext\u0027]: (dn: number, s: string, dr?: number) =\u003e void;\r\n\r\n    /**\r\n     * Create copy of the OSK that can be used for embedding in documentation or help\r\n     * The currently active keyboard will be returned if PInternalName is null\r\n     *\r\n     *  @param  {string}          PInternalName   internal name of keyboard, with or without Keyboard_ prefix\r\n     *  @param  {number}          Pstatic         static keyboard flag  (unselectable elements)\r\n     *  @param  {string=}         argFormFactor   layout form factor, defaulting to \u0027desktop\u0027\r\n     *  @param  {(string|number)=}  argLayerId    name or index of layer to show, defaulting to \u0027default\u0027\r\n     *  @return {Object}                          DIV object with filled keyboard layer content\r\n     */\r\n    [\u0027BuildVisualKeyboard\u0027](PInternalName, Pstatic, argFormFactor, argLayerId): HTMLElement {\r\n      return com.keyman.osk.VisualKeyboard.buildDocumentationKeyboard(PInternalName, Pstatic, argFormFactor, argLayerId);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Determine path and protocol of executing script, setting them as\r\n * construction defaults.\r\n *\r\n * This can only be done during load when the active script will be the\r\n * last script loaded.  Otherwise the script must be identified by name.\r\n*/\r\nvar scripts = document.getElementsByTagName(\u0027script\u0027);\r\nvar ss = scripts[scripts.length-1].src;\r\nvar sPath = ss.substr(0,ss.lastIndexOf(\u0027/\u0027)+1);\r\n\r\nimport KeymanBase = com.keyman.KeymanBase;\r\n\r\nKeymanBase._srcPath = sPath;\r\nKeymanBase._rootPath = sPath.replace(/(https?:\\/\\/)([^\\/]*)(.*)/,\u0027$1$2/\u0027);\r\nKeymanBase._protocol = sPath.replace(/(.{3,5}:)(.*)/,\u0027$1\u0027);\r\n\r\n/**\r\n * Base code: Declare major component namespaces, instances, and utility functions\r\n */\r\n\r\n// If a copy of the script is already loaded, detect this and prevent re-initialization / data reset.\r\nif(!window[\u0027keyman\u0027] || !window[\u0027keyman\u0027][\u0027loaded\u0027]) {\r\n\r\n  (function() {\r\n    /* The base object call may need to be moved into a separate, later file eventually.\r\n     * It will be necessary to override methods with kmwnative.ts and kmwembedded.ts before the\r\n     * affected objects are initialized.\r\n     *\r\n     * We only recreate the \u0027keyman\u0027 object if it\u0027s not been loaded.\r\n     * As this is the base object, not creating it prevents a KMW system reset.\r\n     */\r\n    window[\u0027keyman\u0027] = com.keyman[\u0027singleton\u0027] = com.keyman.singleton = new KeymanBase();\r\n\r\n    // TODO:  Eliminate the need for this.  Will require more refactoring \u0026 redesign to drop.\r\n    window[\u0027keyman\u0027].core.languageProcessor.init();\r\n  })();\r\n}","// Includes KMW-added property declaration extensions for HTML elements.\r\n/// \u003creference path=\"kmwexthtml.ts\" /\u003e\r\n// Includes type definitions for basic KMW types.\r\n/// \u003creference path=\"kmwtypedefs.ts\" /\u003e\r\n\r\n/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\n\r\n// If KMW is already initialized, the KMW script has been loaded more than once. We wish to prevent resetting the \r\n// KMW system, so we use the fact that \u0027initialized\u0027 is only 1 / true after all scripts are loaded for the initial\r\n// load of KMW.\r\nif(!window[\u0027keyman\u0027][\u0027initialized\u0027]) { \r\n\r\n  // Continued KeymanWeb initialization.\r\n  (function() \r\n  {\r\n\r\n    // Declare KeymanWeb, OnScreen Keyboard and Util object variables\r\n    var keymanweb=window[\u0027keyman\u0027],util=keymanweb[\u0027util\u0027];\r\n\r\n    /**\r\n     * Function     debug\r\n     * Scope        Private\r\n     * @param       {(string|Object)}     s   string (or object) to print\r\n     * Description  Simple debug display (upper right of screen)\r\n     *              Extended to support multiple arguments May 2015   \r\n     */       \r\n    keymanweb[\u0027debug\u0027]=keymanweb.debug=function(s){\r\n      var p;\r\n      if(keymanweb.debugElement == null)\r\n      {\r\n        var d=document.createElement(\u0027DIV\u0027),ds=d.style;\r\n        ds.position=\u0027absolute\u0027;ds.width=\u002730%\u0027;ds.maxHeight=\u002750%\u0027;ds.top=\u00270\u0027;ds.right=\u00270\u0027;\r\n        ds.minHeight=\u002750px\u0027; ds.border=\u00271px solid blue\u0027; ds.whiteSpace=\u0027pre-line\u0027;ds.overflowY=\u0027scroll\u0027;\r\n        p=document.createElement(\u0027P\u0027); p.id=\u0027debug_output\u0027;p.style.margin=\u00272px\u0027;\r\n        d.appendChild(p);\r\n        document.body.appendChild(d);   \r\n        keymanweb.debugElement=p;  \r\n      } \r\n      if((p=document.getElementById(\u0027debug_output\u0027)) == null) return; \r\n\r\n      if(arguments.length == 0)\r\n        if(typeof p.textContent != \u0027undefined\u0027) p.textContent=\u0027\u0027; else p.innerHTML=\u0027\u0027;\r\n      else\r\n      {\r\n        var ts=new Date().toTimeString().substr(3,5),t=ts+\u0027 \u0027,t1,k,m,sx;\r\n        for(k=0; k\u003carguments.length; k++)\r\n        {\r\n          if(k \u003e 0) t = t + \u0027; \u0027;\r\n          sx = arguments[k];\r\n          if(typeof sx == \u0027object\u0027)\r\n          {\r\n            if(sx == null)\r\n            {\r\n              t = t + \u0027null\u0027;\r\n            }\r\n            else\r\n            {\r\n              t1 = \u0027\u0027;\r\n              for(m in sx) \r\n              {\r\n                if(t1.length \u003e 0) t1 = t1 + \u0027, \u0027;\r\n                t1 = t1 + m + \u0027:\u0027;              \r\n                switch(typeof sx[m])\r\n                {\r\n                  case \u0027string\u0027:\r\n                  case \u0027number\u0027:\r\n                  case \u0027boolean\u0027:\r\n                    t1 = t1 + sx[m]; break;\r\n                  default:\r\n                    t1 = t1 + typeof sx[m]; break;\r\n                }\r\n                if(t1.length \u003e 1024) \r\n                {\r\n                  t1 = t1.substr(0,1000)+\u0027...\u0027; break;\r\n                }\r\n              }\r\n              if(t1.length \u003e 0) t = t + \u0027{\u0027 + t1 + \u0027}\u0027;\r\n            }\r\n          }\r\n          else\r\n          {\r\n            t = t + sx;\r\n          }\r\n        } \r\n        // Truncate if necessary to avoid memory problems\r\n        if(t.length \u003e 1500) t = t.substr(0,1500) + \u0027 (more)\u0027;  \r\n        \r\n        if(typeof p.textContent != \u0027undefined\u0027)\r\n          p.textContent=t+\u0027\\n\u0027+p.textContent;\r\n        else\r\n          p.innerHTML=t+\u0027\u003cbr /\u003e\u0027+p.innerHTML;\r\n        \r\n      }\r\n    }\r\n\r\n    /*\r\n     * The following code existed here as part of the original pre-conversion JavaScript source, performing some inline initialization.\r\n     * Ideally, this will be refactored once proper object-orientation of the codebase within TypeScript is complete.\r\n     */\r\n    keymanweb.debugElement=null;\r\n    var dbg=keymanweb.debug;\r\n        \r\n    keymanweb.delayedInit();\r\n\r\n  //TODO: find all references to next three routines and disambiguate!!\r\n    \r\n    // Complete page initialization only after the page is fully loaded, including any embedded fonts\r\n    // This avoids the need to use a timer to test for the fonts\r\n    \r\n    util.attachDOMEvent(window, \u0027load\u0027, keymanweb.domManager._WindowLoad,false);\r\n    util.attachDOMEvent(window, \u0027unload\u0027, keymanweb.domManager._WindowUnload,false);  // added fourth argument (default value)       \r\n    \r\n    // *** I3319 Supplementary Plane modifications - end new code\r\n\r\n    util.attachDOMEvent(document, \u0027keyup\u0027, keymanweb.hotkeyManager._Process, false);\r\n\r\n    /**\r\n     * Reset OSK shift states when entering or exiting the active element\r\n     **/    \r\n    function resetVKShift() {\r\n      let keyman = com.keyman.singleton;\r\n      if(!keyman.uiManager.isActivating \u0026\u0026 keyman.osk.vkbd) {\r\n        keyman.core.keyboardProcessor._UpdateVKShift(null, 15, 0);  //this should be enabled !!!!! TODO\r\n      }\r\n    }\r\n\r\n    // We need to track this handler, as it causes... interesting... interactions during testing in certain browsers.\r\n    keymanweb[\u0027pageFocusHandler\u0027] = resetVKShift;\r\n    util.attachDOMEvent(window, \u0027focus\u0027, keymanweb[\u0027pageFocusHandler\u0027], false);  // I775\r\n    util.attachDOMEvent(window, \u0027blur\u0027, keymanweb[\u0027pageFocusHandler\u0027], false);   // I775\r\n    \r\n    // Initialize supplementary plane string extensions\r\n    String.kmwEnableSupplementaryPlane(true);    \r\n\r\n  })();\r\n}","// References the base KMW object.\r\n/// \u003creference path=\"kmwbase.ts\" /\u003e\r\n\r\nnamespace com.keyman {\r\n  class RotationState {\r\n    innerWidth: number;\r\n    innerHeight: number;\r\n\r\n    constructor() {\r\n      this.innerWidth = window.innerWidth;\r\n      this.innerHeight = window.innerHeight;\r\n    }\r\n\r\n    equals(other: RotationState) {\r\n      return this.innerWidth == other.innerWidth \u0026\u0026 this.innerHeight == other.innerHeight;\r\n    }\r\n  }\r\n\r\n  // Please reference /testing/rotation-events/index.html and update it as necessary when maintaining this class.\r\n  export class RotationManager {\r\n    private keyman: KeymanBase;\r\n\r\n    // State variables used by rotations.\r\n    private oskVisible: boolean;\r\n    private isActive: boolean;\r\n\r\n    // iOS-oriented members \r\n    // --------------------\r\n    // We\u0027ll assume permutations are complete after this many \u0027update\u0027 iterations.\r\n    private static readonly IDLE_PERMUTATION_CAP = 15;\r\n    // Tracks the number of idle \u0027update\u0027 iterations since the last permutation.\r\n    private idlePermutationCounter: number = RotationManager.IDLE_PERMUTATION_CAP;\r\n    // Tracks the most recent rotation state snapshot.\r\n    private rotState: RotationState;\r\n    // Tracks the window.setTimeout id for rotation update checks.\r\n    private updateTimer: number;\r\n    private static readonly UPDATE_INTERVAL = 20; // 20 ms, that is.\r\n    // --------------------\r\n    \r\n    constructor(keyman: KeymanBase) {\r\n      this.keyman = keyman;\r\n    }\r\n\r\n    resolve() {\r\n      this.keyman.alignInputs();\r\n\r\n      var osk = this.keyman.osk;\r\n      // TODO:  Reattach later in the refactoring process!\r\n      //osk.hideLanguageList();\r\n      // Force a re-layout for the active keyboard\u0027s currently-utilized layout.\r\n      if(this.keyman.core.activeKeyboard) {\r\n        this.keyman.core.activeKeyboard.refreshLayouts();\r\n      }\r\n      \r\n      osk._Load();\r\n      if(this.oskVisible) {\r\n        osk._Show();\r\n      }\r\n\r\n      this.isActive = false;\r\n\r\n      // If we\u0027ve been using an update interval loop, we should clear the state information.\r\n      if(this.updateTimer) {\r\n        window.clearInterval(this.updateTimer);\r\n        this.rotState = null;\r\n      }\r\n    }\r\n\r\n    // Used by both Android and iOS.\r\n    initNewRotation() {\r\n      this.oskVisible = this.keyman.osk.isVisible();\r\n      this.keyman.osk.hideNow();\r\n      this.isActive = true;\r\n    }\r\n\r\n    /**\r\n     * Establishes rotation-oriented event handling for native-mode KeymanWeb.  At this time, tablet PCs are not directly supported.\r\n     */\r\n    init() {\r\n      // If we\u0027re in embedded mode, we really should NOT run this method.\r\n      if(this.keyman.isEmbedded) {\r\n        return;\r\n      }\r\n\r\n      // Note:  we use wrapper functions instead of `.bind(this)` in this method to facilitate stubbing for our rotation test page.\r\n      var os = this.keyman.util.device.OS;\r\n      var util = this.keyman.util;\r\n\r\n      var rotationManager = this;\r\n\r\n      if(os == \u0027iOS\u0027) {\r\n      /* iOS is rather inconsistent about these events, with changes to important window state information -\r\n       * especially to `window.innerWidth` - possible after the events trigger!  They don\u0027t always trigger\r\n       * the same amount or in a consistently predictable manner.\r\n       * \r\n       * The overall idea is to wait out all those changes so that we don\u0027t produce a bad keyboard layout.\r\n       */\r\n        util.attachDOMEvent(window, \u0027orientationchange\u0027, function() {\r\n          rotationManager.iOSEventHandler();\r\n          return false;\r\n        });\r\n        util.attachDOMEvent(window, \u0027resize\u0027, function() {\r\n          rotationManager.iOSEventHandler();\r\n          return false;\r\n        });\r\n      } else if(os == \u0027Android\u0027) {\r\n        // Android\u0027s far more consistent with its event generation than iOS.\r\n        if(\u0027onmozorientationchange\u0027 in screen) {\r\n          util.attachDOMEvent(screen, \u0027mozorientationchange\u0027, function() {\r\n            rotationManager.initNewRotation();\r\n            return false;\r\n          });\r\n        } else {\r\n          util.attachDOMEvent(window, \u0027orientationchange\u0027, function() {\r\n            rotationManager.initNewRotation();\r\n            return false;\r\n          });\r\n        }\r\n\r\n        util.attachDOMEvent(window, \u0027resize\u0027, function() {\r\n          rotationManager.resolve();\r\n          return false;\r\n        });\r\n      }\r\n    }\r\n    \r\n    iOSEventHandler() {\r\n      if(!this.isActive) {\r\n        this.initNewRotation();\r\n        this.rotState = new RotationState();\r\n\r\n        this.updateTimer = window.setInterval(this.iOSEventUpdate.bind(this), RotationManager.UPDATE_INTERVAL);\r\n      }\r\n\r\n      // If one of the rotation-oriented events just triggered, we should ALWAYS reset the counter.\r\n      this.idlePermutationCounter = 0;\r\n    }\r\n\r\n    iOSEventUpdate() {\r\n      var newState = new RotationState();\r\n\r\n      if(this.rotState.equals(newState)) {\r\n        if(++this.idlePermutationCounter == RotationManager.IDLE_PERMUTATION_CAP) {\r\n          this.resolve();\r\n        }\r\n      } else {\r\n        this.rotState = newState;\r\n        this.idlePermutationCounter = 0;\r\n      }\r\n    }\r\n  }\r\n}","// Contains event management for mobile device rotation events.\r\n/// \u003creference path=\"kmwrotation.ts\" /\u003e\r\n\r\n/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\n\r\n// If KMW is already initialized, the KMW script has been loaded more than once. We wish to prevent resetting the \r\n// KMW system, so we use the fact that \u0027initialized\u0027 is only 1 / true after all scripts are loaded for the initial\r\n// load of KMW.\r\nif(!window[\u0027keyman\u0027][\u0027initialized\u0027]) { \r\n  /*****************************************/\r\n  /*                                       */\r\n  /*   On-Screen (Visual) Keyboard Code    */\r\n  /*                                       */\r\n  /*****************************************/\r\n  (function() {\r\n    // Declare KeymanWeb object\r\n    var keymanweb=window[\u0027keyman\u0027],osk=keymanweb[\u0027osk\u0027],util=keymanweb[\u0027util\u0027],device=util.device;\r\n    var dbg=keymanweb.debug;\r\n    var dom = com.keyman.dom;\r\n\r\n    // Force full initialization\r\n    keymanweb.isEmbedded = false;\r\n\r\n    /**\r\n     * Set default device options\r\n     * @param {Object}  opt device options object\r\n     */\r\n    keymanweb.setDefaultDeviceOptions=function(opt) {\r\n      // Element attachment type\r\n      if(opt[\u0027attachType\u0027] == \u0027\u0027) opt[\u0027attachType\u0027] = (device.touchable ? \u0027manual\u0027 : \u0027auto\u0027);\r\n    }\r\n\r\n  /**\r\n     * Customized wait display\r\n     * \r\n     * @param   {string|boolean}   s       displayed text (or false)\r\n     */\r\n    util.wait = function(s) {\r\n      // Keyboards loaded with page are initialized before the page is ready,\r\n      // so cannot use the wait indicater (and don\u0027t need it, anyway)\r\n      // Do not display if a blocking cloud server error has occurred (to prevent multiple errors)\r\n      var bg=this.waiting;\r\n      if(typeof(bg) == \u0027undefined\u0027 || bg == null || keymanweb.warned) {\r\n        return;\r\n      }\r\n      \r\n      var nn=bg.firstChild.childNodes;\r\n      if(s) {\r\n        bg.pending=true;\r\n        window.setTimeout(function() {\r\n            if(bg.pending) {\r\n              window.scrollTo(0,0);\r\n              nn[0].style.display=\u0027none\u0027;\r\n              nn[1].className=\u0027kmw-wait-text\u0027; nn[1].innerHTML=s;\r\n              nn[2].style.display=\u0027block\u0027;\r\n              bg.style.display=\u0027block\u0027;\r\n            }\r\n          },1000);\r\n      } else {\r\n        if(bg.pending) {\r\n          nn[1].innerHTML=\u0027\u0027;\r\n          bg.pending=false; bg.style.display=\u0027none\u0027;\r\n        }\r\n      }\r\n    }\r\n      \r\n    // Get default style sheet path\r\n    keymanweb.getStyleSheetPath=function(ssName) {\r\n      var ssPath = util[\u0027getOption\u0027](\u0027resources\u0027)+\u0027osk/\u0027+ssName;\r\n      return ssPath;\r\n    }\r\n\r\n    /**\r\n     * Get keyboard path (relative or absolute)\r\n     * KeymanWeb 2 revised keyboard location specification:\r\n     *  (a) absolute URL (includes \u0027:\u0027) - load from specified URL\r\n     *  (b) relative URL (starts with /, ./, ../) - load with respect to current page\r\n     *  (c) filename only (anything else) - prepend keyboards option to URL \r\n     *      (e.g. default keyboards option will be set by Cloud)\r\n     *           \r\n     * @param {string}  Lfilename  keyboard file name with optional prefix                     \r\n     */   \r\n    keymanweb.getKeyboardPath=function(Lfilename) {           \r\n      var rx=RegExp(\u0027^(([\\\\.]/)|([\\\\.][\\\\.]/)|(/))|(:)\u0027);   \r\n      return (rx.test(Lfilename) ? \u0027\u0027 : keymanweb.options[\u0027keyboards\u0027]) + Lfilename;\r\n    }\r\n\r\n    /**\r\n     * Align input fields (should not be needed with KMEI, KMEA), making them visible if previously hidden.\r\n     * \r\n     *  @param  {object}   eleList    A list of specific elements to align.  If nil, selects all elements.\r\n     * \r\n     **/\r\n    keymanweb.alignInputs = function(eleList: HTMLElement[]) {\r\n      if(device.touchable) {\r\n        var domManager = keymanweb.domManager;\r\n        var processList: HTMLElement[] = [];\r\n\r\n        if(eleList) {\r\n          // Did the user specify the actual element or the touch-alias?\r\n          eleList.forEach(function(element: HTMLElement){\r\n            if(element.base) {\r\n              // It\u0027s a touch-alias element, which is what we wish to perform alignment on.\r\n              processList.push(element);\r\n            } else {\r\n              // This retrieves an element\u0027s touch-alias, should it exist.\r\n              let touchAlias = element[\u0027kmw_ip\u0027] as HTMLDivElement;\r\n              if(touchAlias) {\r\n                processList.push(element[\u0027kmw_ip\u0027]);\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          processList = domManager.inputList;\r\n        }\r\n\r\n        // Supported by IE 9 and all modern browsers.\r\n        processList.forEach(function(element: HTMLElement) {\r\n          if(dom.Utils.instanceof(element, \"TouchAliasElement\")) {\r\n            (element as com.keyman.dom.TouchAliasElement).updateInput();\r\n          }\r\n          element.style.visibility = \u0027visible\u0027;\r\n          if(element.base.textContent.length \u003e 0) {\r\n            element.base.style.visibility = \u0027hidden\u0027;\r\n          }\r\n        })      \r\n      }\r\n    }\r\n\r\n    /**\r\n     * Programatically hides all input fields with underlying elements.  Restore with .alignInputs.    \r\n     * \r\n     *  @param  {boolean}   align    align and make visible, else hide\r\n     * \r\n     **/\r\n    keymanweb.hideInputs = function() {\r\n      var domManager = keymanweb.domManager;\r\n      if(device.touchable) {\r\n        for(var i=0; i\u003cdomManager.inputList.length; i++) {\r\n          domManager.inputList[i].style.visibility=\u0027hidden\u0027;\r\n          domManager.inputList[i].base.style.visibility=\u0027visible\u0027;\r\n        }        \r\n      }\r\n    }\r\n\r\n    /**\r\n     * Test if caret position is determined from the active element, or \r\n     * from the synthesized overlay element (touch devices)\r\n     * \r\n     * @return  {boolean}\r\n     **/          \r\n    keymanweb.isPositionSynthesized = function() {\r\n      return device.touchable;\r\n    }\r\n\r\n    /**\r\n     * Use rotation events to adjust OSK and input element positions and scaling as necessary\r\n     */     \r\n    keymanweb.handleRotationEvents=function() {\r\n      var rotationManager = new com.keyman.RotationManager(keymanweb);\r\n\r\n      rotationManager.init();\r\n    }\r\n\r\n    /**\r\n     * Possible way to detect the start of a rotation and hide the OSK before it is adjusted in size\r\n     * \r\n     *  @param  {Object}    e   accelerometer rotation event      \r\n     *      \r\n    keymanweb.testRotation = function(e)\r\n    {\r\n      var r=e.rotationRate;\r\n      if(typeof(r) != \u0027undefined\u0027)\r\n      {\r\n        dbg(r.alpha+\u0027 \u0027+r.beta+\u0027 \u0027+r.gamma);\r\n      }\r\n    }\r\n    */ \r\n  })();\r\n}","/***\r\n   KeymanWeb 11.0\r\n   Copyright 2019 SIL International\r\n***/\r\n\r\n/********************************************************/\r\n/*                                                      */\r\n/* Automatically initialize keymanweb with defaults     */ \r\n/* after the page is fully loaded                       */ \r\n/*                                                      */\r\n/********************************************************/\r\n\r\n(function() {\r\n  // Declare KeymanWeb object\r\n  var keymanweb=window[\u0027keyman\u0027];\r\n\r\n  // We don\u0027t want to instantly init() in case this code is used via bookmarklet.\r\n  var readyStateCheckInterval = window.setInterval(function() {\r\n    if (document.readyState === \"complete\") {\r\n      window.clearInterval(readyStateCheckInterval);\r\n      keymanweb.init(null);\r\n    }\r\n  }, 10);\r\n  \r\n})();\r\n","/// \u003creference path=\"kmwbase.ts\" /\u003e\r\n/// \u003creference path=\"kmwutils.ts\" /\u003e\r\n\r\n/**\r\n * This file generates aliases linking renamed functions to some of our published developer API for KMW.\r\n * This won\u0027t enable Closure to do \"advanced minification\", but it\u0027s useful for ensuring we don\u0027t break\r\n * things people depended on in legacy versions.\r\n */\r\n\r\n// Util.ts\r\n(function() {\r\n  let prototype = com.keyman.Util.prototype;\r\n\r\n  var publishAPI = function(legacyName: string, name: string) {\r\n    prototype[legacyName] = prototype[name];\r\n  }\r\n\r\n  // These four were renamed, but we need to maintain their legacy names.\r\n  publishAPI(\"_GetAbsoluteX\", \u0027getAbsoluteX\u0027);\r\n  publishAPI(\"_GetAbsoluteY\", \"getAbsoluteY\");\r\n  publishAPI(\"_GetAbsolute\", \"getAbsolute\");\r\n  publishAPI(\"toNzString\", \"nzString\");\r\n}());\r\n\r\n(function() {\r\n  // DOM-aware KeymanWeb overwrites some of the API functions, so we\r\n  // re-publish the API so that the overwritten functions are accessible\r\n  // via their short-form equivalents found in actual keyboard code.\r\n  com.keyman.text.KeyboardInterface.__publishShorthandAPI();\r\n}());"],"names":["com","keyman","environment","VERSION","BUILD","ENVIRONMENT","SENTRY_RELEASE","utils","deepCopy","p","c0","c","i","constructor","Array","getGlobalObject","globalThis","window","self","global","Version","text","undefined","components","concat","DEVELOPER_VERSION_FALLBACK","isArray","length","Error","parts","split","componentArray","value","parseInt","isNaN","push","Object","defineProperty","prototype","get","enumerable","configurable","toString","Version.prototype.toString","join","toJSON","Version.prototype.toJSON","equals","Version.prototype.equals","other","compareTo","precedes","Version.prototype.precedes","Version.prototype.compareTo","isShorter","maxDepth","delta","longList","CURRENT","NO_DEFAULT_KEYCAPS","MAC_POSSIBLE_IPAD_ALIAS","String","kmwFromCharCode","String.kmwFromCharCode","cp0","chars","arguments","Number","isFinite","Math","floor","RangeError","fromCharCode","apply","kmwCharCodeAt","String.prototype.kmwCharCodeAt","codePointIndex","str","codeUnitIndex","NaN","kmwNextChar","first","charCodeAt","second","kmwIndexOf","String.prototype.kmwIndexOf","searchValue","fromIndex","indexOf","kmwLastIndexOf","String.prototype.kmwLastIndexOf","lastIndexOf","kmwLength","String.prototype.kmwLength","kmwSlice","String.prototype.kmwSlice","beginSlice","endSlice","beginSliceCodeUnit","kmwCodePointToCodeUnit","endSliceCodeUnit","slice","kmwSubstr","String.prototype.kmwSubstr","start","startCodeUnit","endCodeUnit","substring","kmwSubstring","String.prototype.kmwSubstring","indexA","indexB","indexACodeUnit","indexBCodeUnit","String.prototype.kmwNextChar","kmwPrevChar","String.prototype.kmwPrevChar","String.prototype.kmwCodePointToCodeUnit","kmwCodeUnitToCodePoint","String.prototype.kmwCodeUnitToCodePoint","substr","kmwCharAt","String.prototype.kmwCharAt","kmwBMPNextChar","String.prototype.kmwBMPNextChar","kmwBMPPrevChar","String.prototype.kmwBMPPrevChar","kmwBMPCodePointToCodeUnit","String.prototype.kmwBMPCodePointToCodeUnit","kmwBMPCodeUnitToCodePoint","String.prototype.kmwBMPCodeUnitToCodePoint","kmwBMPLength","String.prototype.kmwBMPLength","kmwBMPSubstr","String.prototype.kmwBMPSubstr","n","ln","kmwEnableSupplementaryPlane","String.kmwEnableSupplementaryPlane","bEnable","_kmwFromCharCode","_kmwCharAt","charAt","_kmwCharCodeAt","_kmwIndexOf","_kmwLastIndexOf","_kmwSlice","_kmwSubstring","_kmwSubstr","_kmwLength","_kmwNextChar","_kmwPrevChar","_kmwCodePointToCodeUnit","_kmwCodeUnitToCodePoint","Browser","OperatingSystem","FormFactor","DeviceSpec","browser","formFactor","OS","touchable","toLowerCase","Chrome","Edge","Firefox","Native","Opera","Safari","Other","Desktop","Phone","Tablet","Windows","macOS","Linux","Android","iOS","prediction","DefaultWorker","constructInstance","DefaultWorker.constructInstance","Worker","asBlobURI","LMLayerWorkerCode","DefaultWorker.asBlobURI","fn","code","LMLayer","unwrap","blob","Blob","type","URL","createObjectURL","AttachmentInfo","eleInterface","kbd","touch","interface","keyboard","touchEnabled","e","t","define","amd","exports","module","returnExports","Function","call","bind","r","keys","a","u","o","notThunk","f","s","foo","name","l","forEach","reduce","v","filter","y","some","h","writable","b","g","d","IsCallableSlow","IsCallableFast","m","getter","TypeError","proxy","getOwnPropertyDescriptor","getKey","set","setKey","redefine","defineByDescriptor","preserveToString","O","create","w","setPrototypeOf","Subclass","S","j","T","I","E","P","C","M","x","N","shift","A","max","R","min","_","k","abs","L","exp","F","log","D","sqrt","z","hasOwnProperty","W","G","Map","H","V","B","has","U","$","Symbol","J","species","X","K","Z","sign","Y","Infinity","Q","ee","callee","te","re","primitive","string","regex","symbol","ne","oe","ie","iterator","Set","Reflect","ae","ue","fe","document","all","se","isNullOrUndefined","isNullOrUndefinedAndNotDocumentAll","ce","Call","IsCallable","RequireObjectCoercible","TypeIsObject","ToObject","IsConstructor","ToInt32","ToNumber","ToUint32","ToInteger","ToLength","MAX_SAFE_INTEGER","SameValue","SameValueZero","IsIterable","GetIterator","q","GetMethod","IteratorComplete","done","IteratorClose","IteratorNext","next","IteratorStep","Construct","construct","SpeciesConstructor","CreateHTML","ToString","replace","IsRegExp","match","le","search","pe","ve","RegExp","ye","he","be","ge","de","me","Oe","we","je","Se","Te","Ie","Ee","getOwnPropertyNames","Pe","Ce","Me","Ne","Ae","fromCodePoint","Re","_e","raw","ke","repeat","Fe","startsWith","endsWith","includes","codePointAt","De","ze","qe","We","Ge","Ve","Be","$e","Je","Xe","Ke","Ze","_s","_i","Ze.prototype.next","Ye","from","of","array","kind","et","copyWithin","fill","find","findIndex","values","entries","unscopables","tt","getPrototypeOf","rt","nt","ot","it","at","pow","ut","ft","map","st","ct","lt","every","pt","vt","reduceRight","yt","ht","bt","gt","Ue","dt","mt","Ot","wt","test","jt","St","valueOf","Tt","It","Et","MAX_VALUE","MIN_VALUE","NEGATIVE_INFINITY","POSITIVE_INFINITY","Pt","MIN_SAFE_INTEGER","EPSILON","parseFloat","isInteger","isSafeInteger","Ct","propertyIsEnumerable","Mt","xt","Nt","assignToSource","At","getOwnPropertySymbols","Rt","assign","is","preventExtensions","kt","polyfill","Object.getPrototypeOf","Object.setPrototypeOf","Ft","Dt","zt","Wt","Gt","Vt","seal","Ut","isSealed","Jt","freeze","Kt","isFrozen","Yt","er","isExtensible","rr","or","ir","ar","ignoreCase","multiline","unicode","sticky","ur","fr","sr","source","cr","flags","lr","pr","vr","yr","hr","br","gr","$input","dr","input","lastMatch","lastParen","leftContext","rightContext","mr","wr","jr","Sr","Tr","Ir","LOG2E","Er","LOG10E","Pr","clz","Cr","acosh","asinh","atanh","cbrt","clz32","cosh","expm1","hypot","log2","log10","log1p","sinh","tanh","trunc","imul","fround","xr","Nr","round","Ar","kr","Lr","Fr","setTimeout","IsPromise","ce.IsPromise","_promise","resolve","reject","promise","postMessage","addEventListener","data","stopPropagation","Promise","then","setImmediate","process","nextTick","reactionLength","fulfillReactionHandler0","reactionCapability0","rejectReactions0","result","state","rejectReactionHandler0","count","race","catch","accept","defer","chain","Dr","zr","qr","Wr","Gr","Hr","BadResolverPromise_1","Vr","Br","Ur","$r","Jr","Xr","Kr","Zr","Yr","Qr","en","tn","add","rn","key","prev","isRemoved","r.prototype.isRemoved","_es6map","head","_head","isMapIterator","_map","_size","_storage","delete","clear","_es6set","size","isSetIterator","remove","items","on","S.Map","an","un","sn","cn","pn","Set.prototype.add","vn","Set.prototype.has","yn","hn","bn","gn","dn","mn","On","wn","S.Set","jn","Sn","Tn","In","En","deleteProperty","ownKeys","Cn","Mn","xn","En.getPrototypeOf","An","Rn","Date","_n","kn","Ln","anchor","big","blink","bold","fixed","fontcolor","fontsize","italics","link","small","strike","sub","sup","Fn","JSON","stringify","Dn","zn","prefix","Events","__proto__","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","EventEmitter.prototype.eventNames","names","events","listeners","EventEmitter.prototype.listeners","handlers","listenerCount","EventEmitter.prototype.listenerCount","emit","EventEmitter.prototype.emit","a1","a2","a3","a4","a5","len","args","removeListener","EventEmitter.prototype.on","EventEmitter.prototype.once","EventEmitter.prototype.removeListener","removeAllListeners","EventEmitter.prototype.removeAllListeners","off","prefixed","Codes","modifierCodes","modifierBitmasks","stateBitmasks","keyCodes","codesUS","Deadkey","pos","id","ordinalSeed","Deadkey.prototype.match","Deadkey.prototype.set","matched","reset","Deadkey.prototype.reset","before","Deadkey.prototype.before","clone","Deadkey.prototype.clone","dk","sortFunc","Deadkey.sortFunc","DeadkeyTracker","dks","toSortedArray","DeadkeyTracker.prototype.toSortedArray","sort","DeadkeyTracker.prototype.clone","dkt","isMatch","DeadkeyTracker.prototype.isMatch","caretPos","resetMatched","DeadkeyTracker.prototype.add","DeadkeyTracker.prototype.remove","index","splice","DeadkeyTracker.prototype.clear","DeadkeyTracker.prototype.resetMatched","_a","deleteMatched","DeadkeyTracker.prototype.deleteMatched","Li","adjustPositions","DeadkeyTracker.prototype.adjustPositions","Lstart","Ldelta","DeadkeyTracker.prototype.count","__extends","extendStatics","__","text_1","TextTransform","insert","deleteLeft","deleteRight","nil","Transcription","keystroke","transform","preInput","alternates","token","tokenSeed","alt","sample","OutputTarget","_dks","resetContext","OutputTarget.prototype.resetContext","deadkeys","OutputTarget.prototype.deadkeys","hasDeadkeyMatch","OutputTarget.prototype.hasDeadkeyMatch","getDeadkeyCaret","insertDeadkeyBeforeCaret","OutputTarget.prototype.insertDeadkeyBeforeCaret","adjustDeadkeys","OutputTarget.prototype.adjustDeadkeys","setDeadkeys","OutputTarget.prototype.setDeadkeys","buildTransformFrom","OutputTarget.prototype.buildTransformFrom","original","to","getText","fromCaret","toCaret","maxLeftMatch","maxSMPLeftMatch","end","mid","fromLeft","toLeft","potentialHigh","potentialFromLow","potentialToLow","newCaret","deletedLeft","undeletedRight","deletedRight","buildTranscriptionFrom","OutputTarget.prototype.buildTranscriptionFrom","keyEvent","Mock","restoreTo","OutputTarget.prototype.restoreTo","setTextBeforeCaret","getTextBeforeCaret","setTextAfterCaret","getTextAfterCaret","OutputTarget.prototype.apply","deleteCharsBeforeCaret","insertTextBeforeCaret","OutputTarget.prototype.setTextBeforeCaret","saveProperties","OutputTarget.prototype.saveProperties","restoreProperties","OutputTarget.prototype.restoreProperties","_super","_this","defaultLength","caretIndex","Mock.from","outputTarget","preText","clearSelection","Mock.prototype.clearSelection","invalidateSelection","Mock.prototype.invalidateSelection","hasSelection","Mock.prototype.hasSelection","Mock.prototype.getDeadkeyCaret","setDeadkeyCaret","Mock.prototype.setDeadkeyCaret","Mock.prototype.getTextBeforeCaret","Mock.prototype.getTextAfterCaret","Mock.prototype.getText","Mock.prototype.deleteCharsBeforeCaret","Mock.prototype.insertTextBeforeCaret","handleNewlineAtCaret","Mock.prototype.handleNewlineAtCaret","Mock.prototype.setTextAfterCaret","doInputEvent","Mock.prototype.doInputEvent","KeyEvent","isSynthetic","RuleBehavior","transcription","setStore","saveStore","triggersDefaultCommand","finalize","RuleBehavior.prototype.finalize","processor","beepHandler","beep","storeID","sysStore","keyboardInterface","systemStores","error","errorLogger","warningLogger","variableStoreSerializer","activeKeyboard","DefaultOutput","applyCommand","warningLog","errorLog","EmulationKeystrokes","codeForEvent","DefaultOutput.codeForEvent","Lkc","kName","Lcode","forAny","DefaultOutput.forAny","isMnemonic","ruleBehavior","char","forSpecialEmulation","forNumpadKeys","forUnicodeKeynames","forBaseKeys","isCommand","DefaultOutput.isCommand","DefaultOutput.applyCommand","DefaultOutput.forSpecialEmulation","Backspace","Enter","DefaultOutput.forNumpadKeys","ch","Lch","DefaultOutput.forUnicodeKeynames","keyName","codePoint","DefaultOutput.forBaseKeys","keyShiftState","Lmodifiers","keyboards","Layouts","buildDefaultLayout","Layouts.buildDefaultLayout","PVK","layoutType","dfltLayout","kbdBitmask","kbdDevVersion","modifierBitmask","compilerVersion","DEFAULT_RAW_SPEC","layout","layers","keyLabels","key102","rows","chiral","IS_CHIRAL","kmw10Plus","processLegacyDefinitions","validIdList","invalidIdList","emulatesAltGr","scriptObject","generateLayerIds","idList","shiftKey","layerID","specialChar","modifierSpecials","subkey","sp","nextlayer","console","warn","formatDefaultLayer","layer","scrollKey","numKey","capsKey","layerSpec","isShift","isDefault","kx","dfltCodes","dfltText","buttonClasses","getLayerId","Layouts.getLayerId","Layouts.generateLayerIds","layerCnt","offset","layerIds","Layouts.formatDefaultLayer","layerId","row","Layouts.processLegacyDefinitions","BK","KLS","arr","valid","ActiveKey","baseID","displayLayer","coreID","ActiveKey.polyfill","dummy","proto","prop","descriptor","sk","constructBaseKeyEvent","ActiveKey.prototype.constructBaseKeyEvent","toUpperCase","KeyboardProcessor","getModifierState","Lstates","LisVirtualKey","vkCode","kLayer","kbdLayer","kNextLayer","device","definesPositionalOrMnemonic","KeyMapping","_USKeyCodeToCharCode","constructKeyEvent","baseKeyEvent","ActiveKey.prototype.constructKeyEvent","keyboardProcessor","setMnemonicCode","stateKeys","setSyntheticEventDefaults","getSubkey","ActiveKey.prototype.getSubkey","DEFAULT_PAD","DEFAULT_RIGHT_MARGIN","DEFAULT_KEY_WIDTH","DEFAULT_KEY","width","pad","ActiveRow","ActiveRow.polyfill","totalWidth","proportionalY","tp","SPECIAL_LABEL","totalPercent","keyPercent","padPercent","proportionalX","proportionalWidth","rightMargin","populateKeyMap","ActiveRow.prototype.populateKeyMap","ActiveLayer","ActiveLayer.polyfill","aligned","kw","kp","rowCount","defaultKeyProportionalWidth","rowProportionalHeight","keyMap","constructKeyMap","ActiveLayer.prototype.constructKeyMap","getTouchProbabilities","ActiveLayer.prototype.getTouchProbabilities","touchCoords","kbdScaleRatio","distribution","simpleTouchDistribution","list","keyId","ActiveLayer.prototype.simpleTouchDistribution","keyDists","keyTouchDistances","keyProbs","totalMass","ActiveLayer.prototype.keyTouchDistances","baseKeyID","dx","dy","distX","distY","ActiveLayer.prototype.getKey","idComponents","baseKey","ActiveLayout","getLayer","ActiveLayout.prototype.getLayer","layerMap","ActiveLayout.polyfill","SystemStore","SystemStore.prototype.set","MutableSystemStore","defaultValue","handler","_value","matches","MutableSystemStore.prototype.matches","MutableSystemStore.prototype.set","PlatformSystemStore","KeyboardInterface","TSS_PLATFORM","kbdInterface","PlatformSystemStore.prototype.matches","constraints","activeDevice","constraint","KeyInformation","RuleDeadkey","ContextAny","RuleIndex","ContextEx","ContextNul","StoreBeep","CachedContext","CachedContext.prototype.reset","_cache","CachedContext.prototype.get","CachedContext.prototype.set","val","CachedContextEx","CachedContextEx.prototype.reset","CachedContextEx.prototype.get","CachedContextEx.prototype.set","CachedContextEx.prototype.clone","cachedContext","cachedContextEx","_AnyIndices","TSS_LAYER","saveFocus","KeyboardInterface.prototype.saveFocus","registerKeyboard","KeyboardInterface.prototype.registerKeyboard","Pk","Keyboard","KeyboardInterface.prototype.context","KC_","KeyboardInterface.prototype.KC_","tempContext","nul","KeyboardInterface.prototype.nul","cx","contextMatch","KeyboardInterface.prototype.contextMatch","_BuildExtendedContext","KeyboardInterface.prototype._BuildExtendedContext","cache","unmatchedDeadkeys","valContext","deadContext","deadPos","kc","subCache","fullContextMatch","KeyboardInterface.prototype.fullContextMatch","rule","fullContext","ruleContextEx","mismatch","any","lookup","NUL_CONTEXT","_Index","isKeypress","KeyboardInterface.prototype.isKeypress","keyMatch","KeyboardInterface.prototype.keyMatch","Lruleshift","Lrulekey","retVal","keyCode","bitmask","stateBitmask","stateMatch","activeTargetOutput","KeyboardInterface.prototype.stateMatch","Lstate","keyInformation","KeyboardInterface.prototype.keyInformation","ei","deadkeyMatch","KeyboardInterface.prototype.deadkeyMatch","KeyboardInterface.prototype.beep","resetContextCache","_ExplodeStore","KeyboardInterface.prototype._ExplodeStore","store","cachedStores","explodedStores","KeyboardInterface.prototype.any","Lix","KeyboardInterface.prototype._Index","Ps","Pn","indexOutput","KeyboardInterface.prototype.indexOutput","Pdn","indexChar","output","deadkeyOutput","deleteContext","KeyboardInterface.prototype.deleteContext","nulCount","contextLength","KeyboardInterface.prototype.output","contextExOutput","KeyboardInterface.prototype.contextExOutput","contextOffset","vc","KeyboardInterface.prototype.deadkeyOutput","Pd","ifStore","KeyboardInterface.prototype.ifStore","systemId","strValue","KeyboardInterface.prototype.setStore","loadStore","KeyboardInterface.prototype.loadStore","kbdName","storeName","dfltValue","cValue","KeyboardInterface.prototype.saveStore","optValue","valueObj","KeyboardInterface.prototype.resetContextCache","defaultBackspace","KeyboardInterface.prototype.defaultBackspace","processKeystroke","KeyboardInterface.prototype.processKeystroke","behavior","__publishShorthandAPI","KeyboardInterface.__publishShorthandAPI","exportKBCallback","miniName","longName","GLOBAL_NAME","CacheTag","stores","LayoutState","keyboardScript","DEFAULT_SCRIPT_OBJECT","layoutStates","Keyboard.prototype.process","insertHelpHTML","Keyboard.prototype.insertHelpHTML","lg","tag","cacheTag","isChiral","_legacyLayoutSpec","emulationMask","unshiftedEmulationLayer","shiftedEmulationLayer","usesDesktopLayoutOnDevice","Keyboard.prototype.usesDesktopLayoutOnDevice","notify","Keyboard.prototype.notify","_PCommand","_PTarget","_PData","findOrConstructLayout","Keyboard.prototype.findOrConstructLayout","_layouts","rawSpecifications","keyCaps","helpText","Keyboard.prototype.layout","rawLayout","NOT_LOADED","POLYFILLED","refreshLayouts","Keyboard.prototype.refreshLayouts","formFactors","form","markLayoutCalibrated","Keyboard.prototype.markLayoutCalibrated","CALIBRATED","getLayoutState","Keyboard.prototype.getLayoutState","gs","KeyMap","BrowserKeyMaps","FF","LanguageKeyMaps","_usCodeInit","KeyMapping._usCodeInit","s0","s1","_usCharCodes","KeyMapping._USKeyCodeToCharCode","Levent","usCharCodes","browserMap","languageMap","options","modStateFlags","DEFAULT_OPTIONS","baseLayout","installInterface","KeyboardProcessor.prototype.installInterface","layerStore","defaultRuleBehavior","KeyboardProcessor.prototype.defaultRuleBehavior","special","KeyboardProcessor.prototype.setSyntheticEventDefaults","getVKDictionaryCode","KeyboardProcessor.prototype.processKeystroke","matchBehavior","KeyboardProcessor.setMnemonicCode","shifted","capsActive","mappingEvent","mappedChar","isModifier","KeyboardProcessor.getModifierState","modifier","ctrlMatched","altMatched","KeyboardProcessor.prototype.getVKDictionaryCode","res","_UpdateVKShift","KeyboardProcessor.prototype._UpdateVKShift","lockNames","lockKeys","lockStates","KeyboardProcessor.prototype.getLayerId","selectLayer","KeyboardProcessor.prototype.selectLayer","fromNameOnly","nextLayer","updateLayer","KeyboardProcessor.prototype.updateLayer","activeLayer","idx","replacements","KeyboardProcessor.isModifier","doModifierPress","KeyboardProcessor.prototype.doModifierPress","isKeyDown","LmodifierChange","KeyboardProcessor.prototype.resetContext","setNumericLayer","KeyboardProcessor.prototype.setNumericLayer","ns","object","$defineProperty","position","stringLength","searchString","searchLength","relativeStart","relativeEnd","finalValue","toStr","isCallable","maxSafeInteger","arrayLike","mapFn","number","kValue","hasDontEnumBug","dontEnums","dontEnumsLength","obj","isEnumerable","Object.values","Object.entries","factory","defineProperties","symbolHiddenCounter","globalSymbolRegistry","ES6","objectToString","emptyFunction","simpleFunction","arg","Iterator","ArrayIterator","flag","_array","_flag","_nextIndex","StringIterator","_string","isObject","appendArray","array1","array2","length1","length2","simpleInheritance","child","parent","desc","_description","_isSymbol","_id","for","record","registryLength","keyFor","isSymbol","hasInstance","isConcatSpreadable","toStringTag","Symbol.prototype.toString","Symbol.prototype.valueOf","ArrayIterator.prototype.next","nextValue","StringIterator.prototype.next","stringObject","SpreadOperatorImpl","target","thisArg","_target","_values","_thisArg","spread","SpreadOperatorImpl.prototype.spread","iterable","forOf","SpreadOperatorImpl.prototype.add","SpreadOperatorImpl.prototype.call","new","SpreadOperatorImpl.prototype.new","temp","returnValue","SpreadOperatorImpl.prototype.array","instanceOf","hasInstanceSymbolProp","callback","iterationResult","spreadOperator","instance","targets","outputs","unshift","normalize","PARTIAL_NFD_LOOKUP","String.prototype.normalize","__values","models","DummyModel","_futureSuggestions","futureSuggestions","punctuation","configure","DummyModel.prototype.configure","capabilities","configuration","leftContextCodePoints","maxLeftContextCodePoints","rightContextCodePoints","maxRightContextCodePoints","predict","DummyModel.prototype.predict","injectedSuggestions","makeUniformDistribution","suggestions","suggestions_1","suggestions_1_1","e_1_1","e_1","return","currentSet","wordBreakers","ascii","phrase","matchWord","words","exec","RegExpDerivedSpan","WORD_BREAK_PROPERTY","__read","isNonSpace","chunk","property","wb","findBoundaries","positionAfter","isStartOfSurrogatePair","wordbreakPropertyAt","isAHLetter","boundaries","lookaheadPos","left","right","lookahead","nConsecutiveRegionalIndicators","rightPos","lookbehind","_b","_c","character","codeUnit","codepoint","searchForProperty","midpoint","candidate","nextRange","startOfNextRange","default_","spans","span","LazySpan","_source","placeholder","nextStart","utterance","isHighSurrogate","isLowSurrogate","SENTINEL_CODE_UNIT","applyTransform","fullLeftContext","lLen","lDel","fullRightContext","rLen","rDel","startOfBuffer","endOfBuffer","buildMergedTransform","mergedFirstInsert","mergedSecondDelete","firstLength","isSentinel","transformToSuggestion","suggestion","transformId","displayAs","defaultApplyCasing","casing","headUnitLength","PriorityQueue","comparator","initialEntries","heap","heapify","leftChildIndex","PriorityQueue.leftChildIndex","rightChildIndex","PriorityQueue.rightChildIndex","parentIndex","PriorityQueue.parentIndex","PriorityQueue.prototype.heapify","queuedIndices","lastParent","siftDown","peek","PriorityQueue.prototype.peek","enqueue","PriorityQueue.prototype.enqueue","element","enqueueAll","PriorityQueue.prototype.enqueueAll","elements","firstIndex","firstParent","dequeue","PriorityQueue.prototype.dequeue","root","tail","pop","PriorityQueue.prototype.siftDown","leftIndex","rightIndex","topMostIndex","toArray","PriorityQueue.prototype.toArray","tokenize","wordBreaker","leftSpans","rightSpans","tokenization","caretSplitsToken","leftTail","rightHead","rightPrefixWordbreak","getLastPreCaretToken","wordbreak","__generator","body","verb","step","op","label","ops","trys","sent","findPrefix","node","children","getSortedResults","limit","MAX_SUGGESTIONS","queue","weight","results","item","content","e_6_1","e_6","_loop_4","internal_1","state_1","defaultSearchTermToKey","wordform","TrieModel","trieData","languageUsesCasing","applyCasing","_trie","Trie","searchTermToKey","namespace","require","breakWords","TrieModel.prototype.configure","toKey","TrieModel.prototype.toKey","TrieModel.prototype.predict","makeDistribution","suggestions_2","suggestions_2_1","e_2_1","e_2","firstN","newContext","leftDelOffset","traverseFromRoot","TrieModel.prototype.traverseFromRoot","Traversal","class_1","class_1.prototype.children","_loop_1","this_1","entry","e_3_1","prefix_1","_loop_2","children_1","children_1_1","e_4_1","e_3","e_4","_d","entryNode","internalNode_1","_loop_3","lowSurrogate","e_5_1","fullText","prefix_2","prefix_3","e_5","traversal","nodeKey","prefix_4","matchingLeaf","totalWeight","wordform2key","Trie.prototype.lookup","searchKey","lowestCommonNode","Trie.prototype.firstN","QuoteBehavior","defaultTo","default","noQuotes","useQuotes","quotesForKeepSuggestion","open","close","correction","ClassicalDistanceCalculation","diagonalWidth","inputSequence","matchSequence","resolvedDistances","getTrueIndex","ClassicalDistanceCalculation.prototype.getTrueIndex","col","sparse","getCostAt","ClassicalDistanceCalculation.prototype.getCostAt","getFinalCost","ClassicalDistanceCalculation.prototype.getFinalCost","buffer","getHeuristicFinalCost","increaseMaxDistance","ClassicalDistanceCalculation.prototype.getHeuristicFinalCost","hasFinalCostWithin","ClassicalDistanceCalculation.prototype.hasFinalCostWithin","threshold","guaranteedBound","editPath","ClassicalDistanceCalculation.prototype.editPath","currentCost","insertParentCost","deleteParentCost","substitutionParentCost","getTransposeParent","lastInputIndex","lastMatchIndex","expectedCost","ClassicalDistanceCalculation.getTransposeParent","initialCostAt","ClassicalDistanceCalculation.initialCostAt","insertCost","deleteCost","baseSubstitutionCost","substitutionCost","insertionCost","deletionCost","transpositionCost","getSubset","ClassicalDistanceCalculation.prototype.getSubset","inputLength","matchLength","trimmedInstance","finalTrueIndex","diagonalIndex","newCount","keptEntries","newEntries","forDiagonalOfAxis","ClassicalDistanceCalculation.forDiagonalOfAxis","centerIndex","axisCap","closure","diagonalCap","startOffset","diagonalStart","addInputChar","ClassicalDistanceCalculation.prototype.addInputChar","returnBuffer","diagIndex","addMatchChar","ClassicalDistanceCalculation.prototype.addMatchChar","ClassicalDistanceCalculation.prototype.increaseMaxDistance","forPossibleTranspositionsInDiagonal","startPos","fixedChar","lookupString","_loop_5","leftCell","addedCost_1","insertionCost_1","propagateUpdateFrom","transposeRow_1","this_2","axisIndex","rightCell","addedCost_2","transposeCol_1","ClassicalDistanceCalculation.propagateUpdateFrom","internalRow","internalCol","updateCost","nextInputIndex","nextMatchIndex","inputString","matchString","computeDistance","ClassicalDistanceCalculation.computeDistance","bandSize","QUEUE_NODE_COMPARATOR","correction.QUEUE_NODE_COMPARATOR","arg1","arg2","SearchNode","rootTraversal","this.toKey","calculation","currentTraversal","priorInput","_inputCost","MIN_P_1","SearchSpace","MIN_KEYSTROKE_PROBABILITY","mass","previous","current","EDIT_DISTANCE_COST_SCALE","knownCost","inputSamplingCost","buildInsertionEdges","SearchNode.prototype.buildInsertionEdges","edges","lexicalChild","childCalc","matchToken","searchChild","e_7_1","e_7","buildDeletionEdges","SearchNode.prototype.buildDeletionEdges","inputDistribution","inputDistribution_1","inputDistribution_1_1","probMass","edgeCalc","inputPath","childEdge","e_8_1","e_8","buildSubstitutionEdges","SearchNode.prototype.buildSubstitutionEdges","e_10","intermediateEdges","intermediateEdges_1","intermediateEdges_1_1","edge","e_10_1","e_9_1","e_9","SearchSpaceTier","initialEdges","processed","correctionQueue","increaseMaxEditDistance","SearchSpaceTier.prototype.increaseMaxEditDistance","SearchResult","resultNode","model","tierOrdering","minInputCost","returnedValues","processedEdgeSet","buildQueueSpaceComparator","selectionQueue","QUEUE_SPACE_COMPARATOR","rootNode","completedPaths","baseTier","SearchSpace.prototype.buildQueueSpaceComparator","searchSpace","this.QUEUE_SPACE_COMPARATOR","space1","space2","node1","node2","index1","index2","tierMinCost","SearchSpace.prototype.increaseMaxEditDistance","tier","addInput","SearchSpace.prototype.addInput","newlyAvailableEdges","batches","deletions","substitutions","batch","removeLastInput","SearchSpace.prototype.removeLastInput","hasNextMatchEntry","SearchSpace.prototype.hasNextMatchEntry","topQueue","handleNextNode","SearchSpace.prototype.handleNextNode","bestTier","currentNode","unmatchedResult","cost","mapKey","substitutionsOnly","insertionEdges","finalNode","nextTier","inputIndex","deletionEdges","substitutionEdges","getBestMatches","SearchSpace.prototype.getBestMatches","waitMillis","currentReturns","timeStart","maxTime","BatchingAssistant","batcher","preprocessedQueue","batch_1","batch_2","timedOut","newResult","now","batch_3","DEFAULT_ALLOTTED_CORRECTION_TIME_INTERVAL","checkAndAdd","BatchingAssistant.prototype.checkAndAdd","tryFinalize","outputMapKey","BatchingAssistant.prototype.tryFinalize","textToCharTransforms","perCharTransforms","TrackedContextSuggestion","TrackedContextToken","transformDistributions","activeReplacementId","replacementText","replacementId","replacement","revert","TrackedContextToken.prototype.revert","TrackedContextState","tokens","copy","indexOffset","popHead","TrackedContextState.prototype.popHead","pushTail","TrackedContextState.prototype.pushTail","distrib","pushWhitespaceToTail","TrackedContextState.prototype.pushWhitespaceToTail","transformDistribution","whitespaceToken","replaceTailForBackspace","TrackedContextState.prototype.replaceTailForBackspace","tokenText","backspacedTokenContext","compactedToken","updateTail","TrackedContextState.prototype.updateTail","editedToken","space","toRawTokenization","TrackedContextState.prototype.toRawTokenization","sequence","currentText","e_11_1","e_11","ContextTracker","attemptMatchContext","ContextTracker.attemptMatchContext","tokenizedContext","matchState","matchContext","mapping","poppedHead","pushedTail","tailIndex","ignorePenultimateMatch","primaryInput","isBackspace","finalToken","emptyToken","modelContextState","ContextTracker.modelContextState","lexicalModel","baseTokens","analyzeState","ContextTracker.prototype.analyzeState","wordbreaker","resultState","taggedContext","CircularArray","DEFAULT_ARRAY_SIZE","currentTail","currentHead","circle","diff","CircularArray.prototype.enqueue","prevItem","nextHead","maxCount","CircularArray.prototype.dequeue","popNewest","CircularArray.prototype.popNewest","CircularArray.prototype.item","__assign","ModelCompositor","SUGGESTION_ID_SEED","contextTracker","determinePunctuationFromModel","isWhitespace","ModelCompositor.prototype.isWhitespace","whitespaceRemover","ModelCompositor.prototype.isBackspace","isEmpty","ModelCompositor.prototype.isEmpty","predictFromCorrections","ModelCompositor.prototype.predictFromCorrections","corrections","returnedPredictions","_loop_6","correction_1","predictionSet","this_3","predictions","pair","inputProb","corrections_1","corrections_1_1","e_12_1","e_12","ModelCompositor.prototype.predict","suggestionDistribution","inputTransform","allowSpace","allowBksp","postContext","keepOptionText","keepOption","rawPredictions","contextState","newEmptyToken_1","contextTokens","isNew","prefixTransform","bestCorrectionCost","predictionRoots","correctionTransform","totalCost","correctionCost","e_13_1","e_13","tuple","suggestionDistribMap","currentCasing","detectCurrentCasing","baseWord","rawPredictions_1","rawPredictions_1_1","displayText","baseTransform","keepTransform","intermediateKeep","toAnnotatedSuggestion","matchesModel","applySuggestionCasing","existingSuggestion","e_14_1","e_14","keepSuggestion","compositor","insertAfterWord","mergedTransform","tokenWidth","ModelCompositor.prototype.applySuggestionCasing","casingForm","unchangedLength","ModelCompositor.prototype.toAnnotatedSuggestion","annotationType","quoteBehavior","defaultQuoteBehavior","ModelCompositor.determinePunctuationFromModel","defaults","DEFAULT_PUNCTUATION","specifiedPunctuation","isRTL","acceptSuggestion","ModelCompositor.prototype.acceptSuggestion","postTransform","sourceTransform","deletedLeftChars","insertedLength","reversionTransform","postContextTokenization","revertedPrefix","firstConversion","reversion","newest","acceptedContext","applyReversion","ModelCompositor.prototype.applyReversion","fallbackSuggestions","revertedContext","contextMatchFound","trackedSuggestion","ModelCompositor.prototype.wordbreak","ModelCompositor.prototype.tokenize","ModelCompositor.prototype.resetContext","ModelCompositor.prototype.detectCurrentCasing","LMLayerWorker","importScripts","_postMessage","_importScripts","setupConfigState","LMLayerWorker.prototype.error","message","cast","stack","onMessage","LMLayerWorker.prototype.onMessage","im","duplicated","_currentModelSource","file","handleMessage","LMLayerWorker.prototype.cast","payload","loadModel","LMLayerWorker.prototype.loadModel","_platformCapabilities","leftContextCodeUnits","rightContextCodeUnits","transitionToReadyState","wordbreaksAfterSuggestions","err","loadModelFile","LMLayerWorker.prototype.loadModelFile","url","unloadModel","LMLayerWorker.prototype.unloadModel","transitionToLoadingState","LMLayerWorker.prototype.setupConfigState","_this_1","LMLayerWorker.prototype.transitionToLoadingState","code_1","evalInContext","eval","LMLayerWorker.prototype.transitionToReadyState","brokenWord","word","install","LMLayerWorker.install","scope","worker","onmessage","BadResolverPromise_2","PromiseStore","_promises","make","PromiseStore.prototype.make","keep","PromiseStore.prototype.keep","callbacks","break","PromiseStore.prototype.break","reason","_worker","_declareLMLayerReady","_predictPromises","_wordbreakPromises","_acceptPromises","_revertPromises","_nextToken","sendConfig","LMLayer.prototype.sendConfig","LMLayer.prototype.loadModel","modelSource","loadType","_reject","modelSourceSpec","LMLayer.prototype.unloadModel","LMLayer.prototype.predict","LMLayer.prototype.wordbreak","LMLayer.prototype.acceptSuggestion","revertSuggestion","LMLayer.prototype.revertSuggestion","LMLayer.prototype.resetContext","LMLayer.prototype.onMessage","shutdown","LMLayer.prototype.shutdown","terminate","LMLayer.unwrap","wrapper","prediction_1","TranscriptionContext","mock","config","ReadySuggestions","transcriptionID","LanguageProcessor","recentTranscriptions","_mayPredict","_mayCorrect","init","LanguageProcessor.prototype.init","supportsRightDeletions","canEnable","lmEngine","currentModel","LanguageProcessor.prototype.unloadModel","LanguageProcessor.prototype.loadModel","specType","path","lp","mayPredict","invalidateContext","LanguageProcessor.prototype.invalidateContext","isActive","predict_internal","LanguageProcessor.prototype.wordbreak","LanguageProcessor.prototype.predict","applySuggestion","LanguageProcessor.prototype.applySuggestion","getPredictionState","final","preApply","suggestionContext","reversionPromise","lp_1","mappedReversion","predictFromTarget","LanguageProcessor.prototype.applyReversion","currentPromise","LanguageProcessor.prototype.predictFromTarget","LanguageProcessor.prototype.predict_internal","recordTranscription","LanguageProcessor.prototype.recordTranscription","TRANSCRIPTION_BUFFER","LanguageProcessor.prototype.getPredictionState","LanguageProcessor.prototype.shutdown","activeModel","LanguageProcessor.prototype.canEnable","oldVal","tryAcceptSuggestion","LanguageProcessor.prototype.tryAcceptSuggestion","returnObj","shouldSwallow","tryRevertSuggestion","LanguageProcessor.prototype.tryRevertSuggestion","InputProcessor","kbdProcessor","lngProcessor","languageProcessor","processKeyEvent","InputProcessor.prototype.processKeyEvent","fromOSK","preInputMock","keyDistribution","activeLayout","totalMass_1","altKey","altEvent","alternateBehavior","predictionPromise","InputProcessor.prototype.resetContext","keyman_1","text.KeyboardInterface.prototype.registerKeyboard","singleton","keyboardManager","_registerKeyboard","registerStub","text.KeyboardInterface.prototype.registerStub","Pstub","_registerStub","insertText","text.KeyboardInterface.prototype.insertText","Ptext","PdeadKey","dom","Utils","getOutputTarget","uiManager","setActivatingUI","DOMEventHandlers","states","_IgnoreNextSelChange","domManager","focusLastActiveElement","text.KeyboardInterface.prototype.saveFocus","osk","_Hide","Px","Py","_Show","userPositioned","StyleConstants","popupCanvasBackgroundColor","colorScheme","Device","detected","dyLandscape","dyPortrait","version","orientation","getDPI","Device.prototype.getDPI","createElement","style","dpi","readyState","display","visibility","top","height","appendChild","devicePixelRatio","offsetWidth","removeChild","detect","Device.prototype.detect","IEVersion","_GetIEVersion","possMacSpoof","navigator","userAgent","agent","rx","ex","versionString","msMaxTouchPoints","screen","possibleChromeEmulation","platform","bMatch","aspectRatio","prefersDarkMode","Device._GetIEVersion","appVer","appVersion","compatMode","Device.prototype.prefersDarkMode","matchMedia","_styles","keyman_2","Utils.getOutputTarget","Lelem","keyman_3","getLastActiveElement","_kmwAttachment","getAbsoluteX","Utils.getAbsoluteX","Pobj","Lcurleft","offsetLeft","Lobj","offsetParent","Ldoc_1","ownerDocument","scrollingElement","scrollLeft","Ldoc","defaultView","frameElement","documentElement","getAbsoluteY","Utils.getAbsoluteY","Lcurtop","offsetTop","HTMLElement","Ldoc_2","scrollTop","instanceof","Utils.instanceof","Pelem","className","scopedClass","forceScroll","Utils.forceScroll","DOMEventHandlers_1","selectionStart","selectionEnd","_IgnoreBlurFocus","blur","focus","findTouchAliasTarget","scroller","parentNode","firstChild","parentElement","constructTouchAlias","base","div","TouchAliasData","initWithBase","__activeCaret","getDevice","TouchAliasData.getDevice","getOS","TouchAliasData.getOS","isMultiline","TouchAliasData.prototype.isMultiline","nodeName","initCaret","TouchAliasData.prototype.initCaret","__caretDiv","cs","backgroundColor","border","zIndex","__caretTimerId","setInterval","flashCaret","TouchAliasData.prototype.init","divThis","__scrollDiv","xs","overflow","borderRadius","sb","__scrollBar","sbs","__preCaret","__postCaret","__caretSpan","innerHTML","ds","preCaretStyle","postCaretStyle","styleCaret","marginLeft","marginRight","padding","tabIndex","msTouchAction","minWidth","TouchAliasData.prototype.initWithBase","disabled","baseStyle","getComputedStyle","scrollDivStyle","dir","fontFamily","lineHeight","whiteSpace","updateInput","color","fontSize","fontWeight","textDecoration","margin","webkitTapHighlightColor","HTMLTextAreaElement","paddingTop","paddingBottom","dh","calcRows","minHeight","xx","__resizeHandler","xx.__resizeHandler","setText","textValue","HTMLInputElement","textContent","TouchAliasData.prototype.setText","cp","t1","t2","tLen","updateBaseElement","TouchAliasData.prototype.getTextBeforeCaret","TouchAliasData.prototype.getTextAfterCaret","TouchAliasData.prototype.setTextBeforeCaret","scrollInput","getTextCaret","TouchAliasData.prototype.getTextCaret","setTextCaret","TouchAliasData.prototype.setTextCaret","showCaret","TouchAliasData.prototype.updateBaseElement","Ldv","TouchAliasData.prototype.flashCaret","TouchAliasData.prototype.showCaret","sp2","offsetHeight","scrollBody","setScrollBar","hideCaret","TouchAliasData.prototype.hideCaret","ss","TouchAliasData.prototype.getText","TouchAliasData.prototype.updateInput","mLeft","mTop","marginTop","x1","y1","MozBoxSizing","pLeft","paddingLeft","pRight","paddingRight","pTop","pBottom","bLeft","borderLeft","bRight","borderRight","bTop","borderTop","bBottom","borderBottom","boxSizing","TouchAliasData.prototype.scrollInput","s2","cy","ey","rowHeight","TouchAliasData.prototype.scrollBody","oskHeight","_Box","pageYOffset","innerHeight","scrollTo","TouchAliasData.prototype.setScrollBar","keyman_4","PreProcessor","_GetEventKeyCode","PreProcessor._GetEventKeyCode","which","_GetKeyEventProperties","PreProcessor._GetKeyEventProperties","keyState","core","_GetEventObject","cancelBubble","prevModState","ctrlEvent","curModState","location","altGrMask","CHIRAL","metaKey","util","physicalDevice","coreSpec","isEmbedded","charCode","Lbase","getEventOutputTarget","PreProcessor.getEventOutputTarget","eventTarget","nodeType","keyDown","PreProcessor.keyDown","swallowKeypress","LeventMatched","preventDefault","keyUp","PreProcessor.keyUp","keyPress","PreProcessor.keyPress","_BrowserIsSafari","keyman_5","CommonDOMStates","_DisableInput","_SelectionControl","_Selection","setFocusTimer","CommonDOMStates.prototype.setFocusTimer","focusing","focusTimer","setFocus","setBlur","_ControlFocus","Ltarg","designMode","isContentEditable","DOMTouchHandlers","activeElement","LfocusTarg","HTMLIFrameElement","_AttachToIframe","contentWindow","priorElement","lastActiveElement","justActivated","_BlurKeyboardSettings","_FocusKeyboardSettings","_CommonFocusHelper","_SetTargDir","doControlFocused","_Enabled","ready","isCJK","_ControlBlur","isActivating","doControlBlurred","doChangeEvent","_SelectionChange","_KeyDown","el","kmwInput","_KeyPress","_KeyUp","inputEle","getElement","ignore","submit","moveToNext","DOMEventHandlers.prototype.doControlFocused","_activeControl","callEvent","DOMEventHandlers.prototype.doControlBlurred","_event","_isActivating","DOMEventHandlers.prototype._BlurKeyboardSettings","PInternalName","PLgCode","keyboardID","langCode","getActiveLanguage","lastElem","languageCode","globalKeyboard","globalLanguageCode","DOMEventHandlers.prototype._FocusKeyboardSettings","blockGlobalChange","setActiveKeyboard","modelManager","DOMEventHandlers.prototype._CommonFocusHelper","_IsIEEditableIframe","_IsMozillaEditableIframe","DOMEventHandlers.prototype.doChangeEvent","changed","Event","createEvent","initEvent","dispatchEvent","tEvent","selectTouch","clientX","clientY","sortedInputs","setFocusWithTouch","relatedTarget","elem","cancelInput","dragInput","cancelable","screenX","screenY","firstTouch","x0","y0","yOffset","xOffset","xMin","xMax","DOMTouchHandlers.selectTouch","changedTouches","DOMTouchHandlers.prototype.setFocusWithTouch","touchX","touchY","tTarg","prevTarget","_Visible","nextSibling","iLoop","caret","childNodes","cpMin","cpMax","yRow","snapOrder","DOMTouchHandlers.prototype.cancelInput","hideNow","DOMTouchHandlers.prototype.setScrollBar","DOMTouchHandlers.prototype.scrollBody","coreIsCommand","coreApplyCommand","TouchAlias","keyman_6","keyman_6.text.prediction.LanguageProcessor.prototype.canEnable","getIEVersion","headlessRuleBehaviorFinalize","keyman_6.text.RuleBehavior.prototype.finalize","ruleTransform","refreshElementContent","keyman_7","dispatchInputEventOn","OutputTarget.prototype.dispatchInputEventOn","InputEvent","Input","ele","_cachedSelectionStart","Input.prototype.getElement","Input.prototype.clearSelection","getCaret","processedSelectionEnd","setCaret","Input.prototype.hasSelection","Input.prototype.invalidateSelection","Input.prototype.getCaret","processedSelectionStart","Input.prototype.getDeadkeyCaret","Input.prototype.setCaret","setSelection","Input.prototype.setSelection","domStart","domEnd","setSelectionRange","Input.prototype.getTextBeforeCaret","Input.prototype.setTextBeforeCaret","Input.prototype.setTextAfterCaret","Input.prototype.getTextAfterCaret","Input.prototype.getText","Input.prototype.deleteCharsBeforeCaret","curText","Input.prototype.insertTextBeforeCaret","front","back","Input.prototype.handleNewlineAtCaret","newlineHandler","Input.newlineHandler","Input.prototype.doInputEvent","TextArea","TextArea.prototype.getElement","TextArea.prototype.clearSelection","TextArea.prototype.hasSelection","TextArea.prototype.invalidateSelection","TextArea.prototype.getCaret","TextArea.prototype.getDeadkeyCaret","TextArea.prototype.setCaret","TextArea.prototype.setSelection","TextArea.prototype.getTextBeforeCaret","TextArea.prototype.setTextBeforeCaret","TextArea.prototype.setTextAfterCaret","TextArea.prototype.getTextAfterCaret","TextArea.prototype.getText","TextArea.prototype.deleteCharsBeforeCaret","TextArea.prototype.insertTextBeforeCaret","TextArea.prototype.handleNewlineAtCaret","TextArea.prototype.doInputEvent","SelectionCaret","SelectionRange","ContentEditable","ContentEditable.prototype.getElement","ContentEditable.prototype.hasSelection","Lsel","getSelection","ie11ParentChild","compareDocumentPosition","anchorNode","contains","focusNode","ContentEditable.prototype.clearSelection","isCollapsed","deleteFromDocument","ContentEditable.prototype.invalidateSelection","getCarets","ContentEditable.prototype.getCarets","anchorOffset","focus_1","focusOffset","ContentEditable.prototype.getDeadkeyCaret","ContentEditable.prototype.getTextBeforeCaret","ContentEditable.prototype.getTextAfterCaret","ContentEditable.prototype.getText","innerText","ContentEditable.prototype.deleteCharsBeforeCaret","range","createRange","dnOffset","nodeValue","setStart","setEnd","deleteContents","ContentEditable.prototype.insertTextBeforeCaret","finalCaret","textStart","insertData","createTextNode","collapse","insertNode","removeAllRanges","addRange","scrollIntoView","collapseToEnd","ContentEditable.prototype.handleNewlineAtCaret","ContentEditable.prototype.setTextAfterCaret","replaceData","ContentEditable.prototype.doInputEvent","StyleCommand","cmd","stateType","DesignIFrame","doc","docRoot","DesignIFrame.prototype.getElement","DesignIFrame.prototype.hasSelection","DesignIFrame.prototype.clearSelection","DesignIFrame.prototype.invalidateSelection","DesignIFrame.prototype.getCarets","focus_2","DesignIFrame.prototype.getDeadkeyCaret","DesignIFrame.prototype.getTextBeforeCaret","DesignIFrame.prototype.getTextAfterCaret","DesignIFrame.prototype.getText","DesignIFrame.prototype.deleteCharsBeforeCaret","DesignIFrame.prototype.insertTextBeforeCaret","DesignIFrame.prototype.handleNewlineAtCaret","DesignIFrame.prototype.setTextAfterCaret","DesignIFrame.prototype.saveProperties","_CacheableCommands","queryCommandValue","queryCommandState","commandCache","DesignIFrame.prototype.restoreProperties","_func","execCommand","DesignIFrame.prototype.doInputEvent","TouchAlias.prototype.getElement","TouchAlias.prototype.clearSelection","TouchAlias.prototype.invalidateSelection","TouchAlias.prototype.hasSelection","TouchAlias.prototype.getDeadkeyCaret","TouchAlias.prototype.getTextBeforeCaret","TouchAlias.prototype.getTextAfterCaret","TouchAlias.prototype.getText","TouchAlias.prototype.deleteCharsBeforeCaret","TouchAlias.prototype.insertTextBeforeCaret","TouchAlias.prototype.handleNewlineAtCaret","TouchAlias.prototype.setTextAfterCaret","TouchAlias.prototype.doInputEvent","wrapElement","VariableStoreCookieSerializer","VariableStoreCookieSerializer.prototype.loadStore","loadCookie","decodeURIComponent","VariableStoreCookieSerializer.prototype.saveStore","storeMap","cName","encodeURIComponent","saveCookie","keyman_8","BeepData","BeepData.prototype.reset","DOMManager","inputList","_BeepObjects","_BeepTimeout","nonKMWTouchHandler","clearTimeout","_EnablementMutationObserverCore","mutations","mutation","disabledBefore","oldValue","disabledAfter","_EnableControl","_DisableControl","attributeName","readonlyBefore","readonlyAfter","readOnly","_AutoAttachObserverCore","inputElementAdditions","inputElementRemovals","addedNodes","_GetDocumentEditables","removedNodes","isKMWInput","_MutationAdditionObserved","_MutationRemovalObserved","listInputs","this._MutationAdditionObserved","attachFunctor","attachToControl","this._MutationRemovalObserved","disableTouchElement","disableInputElement","clearElementAttachment","enableControl","this.enableControl","isAttached","tagIndex","trim","_WindowLoad","_WindowUnload","doUnload","_Unload","clearLastActiveElement","doBeep","fixPath","protocol","rootPath","srcPath","opt","setDefaultDeviceOptions","initialized","_MasterDocument","setInitialized","prepare","prepareWait","registerDeferredStubs","initializeUI","registerDeferredKeyboards","setDefaultKeyboard","appliedFont","baseFont","getBaseFont","handleRotationEvents","_SetupDocument","dTrailer","hideOskWhileScrolling","this.keyman.hideOskWhileScrolling","attachDOMEvent","conditionallyHideOsk","this.keyman.conditionallyHideOsk","hideOnRelease","hideOskIfOnBody","this.keyman.hideOskIfOnBody","touches","cancelHideIfScrolling","this.keyman.cancelHideIfScrolling","restoreCurrentKeyboard","MutationObserver","observationTarget","querySelector","observationConfig","childList","subtree","attachmentObserver","observe","attributes","attributeOldValue","attributeFilter","enablementObserver","suppressFocusCheck","touchHandlers","nonTouchHandlers","DOMManager.prototype.shutdown","disconnect","detachDOMEvent","DOMManager.prototype.doBeep","Lbo","_push","beepReset","DOMManager.prototype.beepReset","getHandlers","DOMManager.prototype.getHandlers","_attachObj","touchAliasing","enableTouchElement","DOMManager.prototype.enableTouchElement","tagName","isKMWDisabled","setupNonKMWTouchElement","removeEventListener","setupElementAttachment","enableInputElement","onmspointerdown","x.onmspointerdown","onmspointerup","x.onmspointerup","onmspointermove","onblur","DOMManager.prototype.disableTouchElement","_kmwResizeHandler","DOMManager.prototype.setupNonKMWTouchElement","DOMManager.prototype.enableInputElement","isAlias","baseElement","onkeypress","onkeydown","onkeyup","DOMManager.prototype.disableInputElement","_DetachFromIframe","cnIndex","DOMManager.prototype.isKMWDisabled","DOMManager.prototype.attachToControl","detachFromControl","DOMManager.prototype.detachFromControl","DOMManager.prototype.isAttached","DOMManager.prototype.isKMWInput","DOMManager.prototype.setupElementAttachment","DOMManager.prototype.clearElementAttachment","DOMManager.prototype._AttachToIframe","DOMManager.prototype._DetachFromIframe","_ClearDocument","DOMManager.prototype._GetDocumentEditables","possibleInputs","dv","getElementsByTagName","arrayFromNodeList","_colon","querySelectorAll","DOMManager.prototype._SetupDocument","DOMManager.prototype._ClearDocument","DOMManager.prototype._SetTargDir","Ptarg","elDir","DOMManager.prototype._DisableControl","DOMManager.prototype._EnableControl","DOMManager.prototype.listInputs","eList","ip","xySort","e1","e2","tList","disableControl","DOMManager.prototype.disableControl","setKeyboardForControl","DOMManager.prototype.setKeyboardForControl","Pkbd","Plc","getKeyboardForControl","DOMManager.prototype.getKeyboardForControl","getLanguageForControl","DOMManager.prototype.getLanguageForControl","DOMManager.prototype.focusLastActiveElement","DOMManager.prototype.getLastActiveElement","DOMManager.prototype.clearLastActiveElement","getActiveElement","DOMManager.prototype.getActiveElement","_setActiveElement","DOMManager.prototype._setActiveElement","setActiveElement","DOMManager.prototype.setActiveElement","getElementById","initActiveElement","DOMManager.prototype.initActiveElement","DOMManager.prototype.moveToNext","bBack","activeBase","moveToElement","DOMManager.prototype.moveToElement","DOMManager.prototype._IsIEEditableIframe","PtestOn","Lvalid","parentWindow","DOMManager.prototype._IsMozillaEditableIframe","DOMManager.prototype.getBaseFont","ipInput","ipTextArea","firstInput","firstTextArea","getStyleValue","fs","fsDefault","DOMManager.prototype.initializeUI","ui","DOMManager.suppressFocusCheck","keyman_9","DOMEventTracking","Peventname","Phandler","PuseCapture","DOMEventTracking.prototype.equals","Util","linkedStylesheets","currentEvents","domEvents","embeddedFonts","_GetAbsolute","getAbsolute","selectStartHandler","this.selectStartHandler","_CancelMouse","this._CancelMouse","_CreateElement","initDevices","lgCode","Util.prototype.initDevices","Util.prototype.arrayFromNodeList","nl","Util.prototype.addEventListener","func","Util.prototype.removeEventListener","Util.prototype.callEvent","params","strExcept","Util.prototype.attachDOMEvent","Util.prototype.detachDOMEvent","getOption","Util.prototype.getOption","optionName","dflt","hasClass","Util.prototype.hasClass","setOption","Util.prototype.setOption","Util.prototype.getAbsoluteX","Util.prototype.getAbsoluteY","Util.prototype.getAbsolute","mouseDownPreventDefaultHandler","Util.prototype.mouseDownPreventDefaultHandler","Util.prototype._CreateElement","onselectstart","MozUserSelect","KhtmlUserSelect","UserSelect","WebkitUserSelect","Util.prototype.getIEVersion","getFontSizeStyle","Util.prototype.getFontSizeStyle","absolute","Util.prototype.getStyleValue","getPropertyValue","getStyleInt","Util.prototype.getStyleInt","isTouchDevice","Util.prototype.isTouchDevice","portraitView","Util.prototype.portraitView","landscapeView","Util.prototype.landscapeView","angle","getViewportScale","Util.prototype.getViewportScale","clientWidth","screenWidth","innerWidth","barHeight","Util.prototype.barHeight","_EncodeEntities","Util.prototype._EncodeEntities","P_txt","createShim","Util.prototype.createShim","showShim","Util.prototype.showShim","Pvkbd","Pframe","Phelp","hideShim","Util.prototype.hideShim","rgba","Util.prototype.rgba","bgColor","addStyleSheet","Util.prototype.addStyleSheet","_ElemStyle","_ElemHead","removeStyleSheet","Util.prototype.removeStyleSheet","linkStyleSheet","Util.prototype.linkStyleSheet","headElements","linkElement","rel","href","addFontFaceStyleSheet","Util.prototype.addFontFaceStyleSheet","fd","ttf","woff","eot","svg","fList","IE","unCached","Util.prototype.unCached","Util.prototype.loadCookie","xc","cookie","Util.prototype.saveCookie","cv","toUTCString","toNumber","Util.prototype.toNumber","toFloat","Util.prototype.toFloat","nzString","Util.prototype.nzString","Util.prototype.eventTarget","srcElement","eventType","Util.prototype.eventType","alert","Util.prototype.alert","bg","waiting","nn","dismiss","wait","Util.prototype.wait","Util.prototype.prepareWait","lb","bx","onmousedown","onclick","lb.onclick","bg.onclick","Util.prototype.shutdown","event_1","ss_1","myPath","Util.prototype.myPath","sName","scripts","src","prependProtocol","Util.prototype.prependProtocol","pattern","testString","Util.prototype.testString","fontName","checkFont","Util.prototype.checkFont","p1","p2","setAttribute","fontReady","checkFontDescriptor","Util.prototype.checkFontDescriptor","keyman_10","CloudRequestEntry","language","CloudRequestEntry.prototype.toString","kbid","KeyboardFont","fontObj","fontPath","KeyboardStub","KeyboardTag","KeyboardManager","kmw","activeStub","keyboardStubs","deferredStubs","deferredKRS","deferredKR","dfltStub","registrationResolvers","languageList","languagesPending","linkedScripts","_GetKeyboardDetail","this._GetKeyboardDetail","Lkbd","keymanweb","getActiveKeyboardName","KeyboardManager.prototype.getActiveKeyboardName","KeyboardManager.prototype.getActiveLanguage","fullName","getDetailedKeyboards","KeyboardManager.prototype.getDetailedKeyboards","Lstub","Lrn","KeyboardManager.prototype.registerDeferredStubs","addKeyboardArray","KeyboardManager.prototype.registerDeferredKeyboards","addStub","KeyboardManager.prototype.addStub","lgArg","lgList","localOptions","mergeStub","KeyboardManager.prototype.mergeStub","findStub","region","rIndex","regionCodes","regions","fonts","doKeyboardRegistered","doBeforeKeyboardChange","_SetActiveKeyboard","doKeyboardChange","KeyboardManager.prototype.findStub","kid","lgid","KeyboardManager.prototype.setDefaultKeyboard","KeyboardManager.prototype.setActiveKeyboard","KeyboardManager.prototype._SetActiveKeyboard","saveCurrentKeyboard","mustReloadKeyboard","vkbd","appendStyleSheet","_Load","Ls","asyncLoader","loadingStub","lngName","altString","msgType","msg","timer","manager","installKeyboard","KeyboardManager.prototype.installKeyboard","kbdStub","Lscript","charset","kbdFile","kbdLang","getKeyboardByID","getKeyboardPath","ex2","KeyboardManager.prototype.saveCurrentKeyboard","KeyboardManager.prototype.restoreCurrentKeyboard","stubs","getSavedKeyboard","KeyboardManager.prototype.getSavedKeyboard","kd","KeyboardManager.prototype.isCJK","KeyboardManager.prototype.getKeyboardByID","isUniqueRequest","KeyboardManager.prototype.isUniqueRequest","cloudList","tEntry","KeyboardManager.prototype.addKeyboardArray","comma","pList","lList","keymanCloudRequest","registerLanguagesForKeyboard","KeyboardManager.prototype.registerLanguagesForKeyboard","nArg","nDflt","kbId","ll","register","KeyboardManager.prototype.register","promiseid","_registerCore","CLOUD_REGISTRATION_ERROR","promiseFuncs","KeyboardManager.prototype._registerCore","badName","CLOUD_MALFORMED_OBJECT_ERR","addLanguageKeyboards","KeyboardManager.prototype.addLanguageKeyboards","languages","addAll","lgName","KeyboardManager.prototype.keymanCloudRequest","byLanguage","kbdManager","queryConfig","timeoutID","CLOUD_TIMEOUT_ERR","onload","Lscript.onload","CLOUD_STUB_REGISTRATION_ERR","onerror","Lscript.onerror","lineno","colno","serverUnavailable","KeyboardManager.prototype.serverUnavailable","warned","removeKeyboards","KeyboardManager.prototype.removeKeyboards","force","success","activeRemoved","anyRemoved","doKeyboardUnregistered","KeyboardManager.prototype._registerKeyboard","preserveID","savedActiveStub","doKeyboardLoaded","KeyboardManager.prototype._registerStub","Lk","namespaceID","KeyboardManager.prototype.doKeyboardRegistered","_internalName","_language","_keyboardName","_languageCode","_packageID","KeyboardManager.prototype.doKeyboardUnregistered","KeyboardManager.prototype.doKeyboardLoaded","KeyboardManager.prototype.doBeforeKeyboardChange","KeyboardManager.prototype.doKeyboardChange","_indirect","KeyboardManager.prototype.shutdown","script","keyman_11","Hotkey","Hotkey.prototype.matches","shiftState","HotkeyManager","hotkeys","_Process","_Lcode","_Lmodifiers","ctrlKey","addHotKey","HotkeyManager.prototype.addHotKey","removeHotkey","HotkeyManager.prototype.removeHotkey","keyman_12","UIState","pending","activated","UIManager","this.doUnload","getUIState","UIManager.prototype.getUIState","UIManager.prototype.setActivatingUI","doLoad","UIManager.prototype.doLoad","keyman_13","osk_1","LanguageMenu","scrolling","shim","constructShim","LanguageMenu.prototype.constructShim","languageMenu","hide","sX","pageX","sY","pageY","spaceBar","showBuild","show","LanguageMenu.prototype.show","kbdList","menu","m2","m3","WebkitOverflowScrolling","mx","scrollToLanguage","scrollHeight","activeLgNo","addLanguages","ms","maxWidth","adjust","scale","factor","qs","menuWidth","LanguageMenu.prototype.adjust","nKbds","maxHeight","lgKey","menuHeight","barWidth","bottom","LanguageMenu.prototype.scrollToLanguage","stopImmediatePropagation","initial","LanguageMenu.prototype.addLanguages","nStubs","langs","lgBar","kb","activeLanguageIndex","kList","scrolled","ontouchend","lgBar.ontouchend","addKeyboard","padLast","cancelTouch","LanguageMenu.prototype.addKeyboard","unique","touchStart","touchMove","yMax","touchEnd","onmspointerout","LanguageMenu.prototype.hide","highlightKey","keyman_14","_GetClickEventProperties","PreProcessor._GetClickEventProperties","clickKey","PreProcessor.clickKey","keySpec","spec","handleClick","PreProcessor.handleClick","optionKey","keyman_15","osk_2","isKey","OSKKey","getKeyFrom","KeyData","keyData","OSKKeySpec","getTextMetrics","OSKKey.getTextMetrics","emScale","getKeyEmFontSize","fontSpec","getContext","font","measureText","metrics","getIdealFontSize","OSKKey.prototype.getIdealFontSize","keyWidth","getKeyWidth","fontHeight","keyHeight","fontBoundingBoxAscent","fontBoundingBoxDescent","textHeight","Y_PADDING","xProportion","MAX_X_PROPORTION","X_PADDING","yProportion","MAX_Y_PROPORTION","proportion","OSKKey.prototype.getKeyWidth","units","objectUnits","isStatic","OSKKey.prototype.objectUnits","renameSpecialKey","OSKKey.prototype.renameSpecialKey","oldText","specialCodePUA","VisualKeyboard","specialCharacters","generateKeyText","OSKKey.prototype.generateKeyText","ts","keyText","specialText","styleSpec","OSKBaseKey","getId","OSKBaseKey.prototype.getId","elementID","generateKeyCapLabel","OSKBaseKey.prototype.generateKeyCapLabel","processSubkeys","OSKBaseKey.prototype.processSubkeys","btn","bsn","bsk","skIcon","OSKBaseKey.prototype.construct","rowStyle","isDesktop","kDiv","ks","objectGeometry","originalPercent","btnEle","setButtonClass","keyCap","onmouseover","mouseOverMouseDownHandler","onmouseup","onmouseout","mouseUpMouseOutHandler","percent","OSKBaseKey.prototype.objectGeometry","unit","OSKSubKey","OSKSubKey.prototype.getId","OSKSubKey.prototype.construct","topMargin","tKey","getDefaultKeyObject","bs","popupPending","ddOSK","popupDelay","layerChangeHandler","newValue","keyTarget","currentTarget","cancelDelete","popupVisible","touchCount","findNearestKey","touchPending","keyPending","touchProbabilities","deleteKey","deleting","repeatDelete","clearPopup","touchHold","release","popupBaseKey","beyondEdge","tc","elementFromPoint","moveOver","key0","key1","highlightSubKeys","keyman_17","kbdDiv","yMin","showKeyTip","currentKey","divLayerContainer","deviceDependentLayout","kbdHelpDiv","_width","loadSizeFromCookie","_height","VisualKeyboard.prototype.loadSizeFromCookie","newWidth","newHeight","setSize","VisualKeyboard.prototype.setSize","defaultFontSize","VisualKeyboard.prototype.defaultFontSize","refit","VisualKeyboard.prototype.refit","VisualKeyboard.prototype.getDefaultKeyObject","VisualKeyboard.prototype.deviceDependentLayout","oskManager","rowsPercent","lDiv","ls","totalHeight","getHeight","getKeyboardHeight","layoutFS","objectWidth","getWidth","precalibrated","gDiv","rDiv","rs","keyTuple","keyGenerator","getTouchCoordinatesOnKeyboard","VisualKeyboard.prototype.getTouchCoordinatesOnKeyboard","kbdCoords","offsetCoords","layerGroup","VisualKeyboard.prototype.getTouchProbabilities","mayCorrect","touchKbdPos","baseKeyProbabilities","baseKeyMass","popupKeyMass","popupKeyID","scalar","baseMass","finalArray","VisualKeyboard.prototype.keyTarget","VisualKeyboard.prototype.findNearestKey","k0","dxMax","dxMin","keySquare","childNode","x2","VisualKeyboard.prototype.cancelDelete","findKeyElement","VisualKeyboard.prototype.findKeyElement","childElementCount","_UpdateVKShiftStyle","VisualKeyboard.prototype._UpdateVKShiftStyle","layerIndex","VisualKeyboard.prototype.setButtonClass","keyTypes","VisualKeyboard.prototype.clearPopup","popupCallout","subkeyDelayTimer","showSubKeys","VisualKeyboard.prototype.showSubKeys","subKeySpec","subKeys","nKeys","nRows","ceil","nCols","needsTopMargin","nRow_1","constrainPopup","bottomY","popupHeight","addCallout","selectDefaultSubkey","VisualKeyboard.prototype.selectDefaultSubkey","subkeys","popupBase","bk","skElement","skSpec","showLanguage","VisualKeyboard.prototype.showLanguage","tParent","keyboardName","VisualKeyboard.prototype.highlightKey","classes","usePreview","keytip","excludedClasses","VisualKeyboard.prototype.getKeyEmFontSize","keySquareScale","kbdFontSize","emSizeStr","emSize","boxFontStyle","getSpecialKey","VisualKeyboard.prototype.getSpecialKey","nLayer","VisualKeyboard.prototype.show","layerElement","hkKey","adjustHeights","VisualKeyboard.prototype.adjustHeights","computedAdjustedOskHeight","adjustLayerHeights","VisualKeyboard.prototype.computedAdjustedOskHeight","kbdHeight","layerHeight","oskPaddedHeight","oskPad","VisualKeyboard.prototype.adjustLayerHeights","rowPad","nRow","adjustRowHeights","VisualKeyboard.prototype.adjustRowHeights","resizeLabels","nKey","keyElement","keyTextSpan","VisualKeyboard.prototype.appendStyleSheet","styleSheet","kfd","ofd","hideInputs","customStyle","addFontStyle","oskStyling","waitForFonts","alignInputs","VisualKeyboard.prototype.addFontStyle","ff","buildDocumentationKeyboard","VisualKeyboard.buildDocumentationKeyboard","Pstatic","argFormFactor","argLayerId","PKbd","keyboardsList","kbdObj","onHide","VisualKeyboard.prototype.onHide","VisualKeyboard.prototype.touchHold","VisualKeyboard.prototype.optionKey","showLanguageMenu","active","VisualKeyboard.prototype.highlightSubKeys","skBox","onKey","VisualKeyboard.prototype.showKeyTip","tip","popup","xLeft","xWidth","xHeight","kts","ktLabel","ktls","canvas","textAlign","px","scaleStyle","previewFontScale","xOverflow","tipHeight","drawPreview","VisualKeyboard.prototype.drawPreview","ctx","hMax","w1","w2","w3","h1","h2","hBoundedMax","h3","clearRect","fillStyle","styles","lineWidth","strokeStyle","save","beginPath","moveTo","w0","arcTo","lowerR","stroke","restore","createKeyTip","VisualKeyboard.prototype.createKeyTip","tipElement","pointerEvents","VisualKeyboard.prototype.addCallout","calloutHeight","cc","ccs","VisualKeyboard.prototype.waitForFonts","kReady","oReady","fontCheckTimer","clearInterval","VisualKeyboard.prototype.shutdown","keyman_18","ScrollState","totalLength","updateTo","ScrollState.prototype.updateTo","deltas","deltaX","HAS_SCROLLED_FUDGE_FACTOR","UITouchHandlerBase","rowClassMatch","selectedTargetMatch","findTargetFromTouch","UITouchHandlerBase.prototype.findTargetFromTouch","forMove","touchList","bestMatch","isInvalidTarget","findTargetFrom","dxRight","dxLeft","findBestTarget","UITouchHandlerBase.prototype.findBestTarget","UITouchHandlerBase.prototype.isInvalidTarget","UITouchHandlerBase.prototype.touchStart","scrollTouchState","scrollWidth","highlight","pendingTarget","select","clearHolds","hold","UITouchHandlerBase.prototype.touchEnd","isSubmenuActive","hasModalPopup","popupBaseTarget","hasScrolled","UITouchHandlerBase.prototype.touchMove","dealiasSubTarget","hasSubmenu","displaySubmenuFor","parent_1","top_1","keyman_19","Banner","BANNER_ID","BANNER_CLASS","update","Banner.prototype.update","currentHeightStyle","currentDisplayStyle","Banner.prototype.appendStyleSheet","getDiv","Banner.prototype.getDiv","activate","Banner.prototype.activate","deactivate","Banner.prototype.deactivate","DEFAULT_HEIGHT","BlankBanner","ImageBanner","imagePath","img","setImagePath","ImageBanner.prototype.setImagePath","BannerSuggestion","constructRoot","BannerSuggestion.prototype.constructRoot","BASE_ID","kbdDetails","lang","family","SuggestionBanner","MARGIN","SUGGESTION_LIMIT","_suggestion","BannerSuggestion.prototype.update","updateText","BannerSuggestion.prototype.updateText","generateSuggestionText","replaceChild","BannerSuggestion.prototype.apply","BannerSuggestion.prototype.isEmpty","BannerSuggestion.prototype.generateSuggestionText","suggestionText","orderCode","rtl","indexToInsert","separatorDiv","SuggestionManager","setupTouchHandling","SuggestionBanner.prototype.setupTouchHandling","th","SuggestionBanner.prototype.activate","invalidateSuggestions","updateSuggestions","tryAccept","tryRevert","postConfigure","SuggestionBanner.prototype.postConfigure","SuggestionBanner.prototype.deactivate","TOUCHED_CLASS","initNewContext","currentSuggestions","recentAccept","swallowPrediction","doRevert","recentRevert","selected","doAccept","showRevert","option","doUpdate","SuggestionManager.prototype.findTargetFrom","SuggestionManager.prototype.highlight","SuggestionManager.prototype.select","SuggestionManager.prototype.hold","suggestionObj","isCustom","platformHold","SuggestionManager.prototype.clearHolds","SuggestionManager.prototype.hasModalPopup","SuggestionManager.prototype.dealiasSubTarget","SuggestionManager.prototype.hasSubmenu","SuggestionManager.prototype.isSubmenuActive","SuggestionManager.prototype.displaySubmenuFor","SuggestionManager.prototype.doAccept","revertAcceptancePromise","SuggestionManager.prototype.showRevert","activateKeep","SuggestionManager.prototype.activateKeep","SuggestionManager.prototype.doUpdate","keyman_20","BannerManager","_options","constructContainer","setOptions","selectBanner","BannerManager.prototype.constructContainer","bannerContainer","getOptions","BannerManager.prototype.getOptions","retObj","BannerManager.prototype.setOptions","optionSpec","alwaysShow","activeBanner","appendStyles","BannerManager.prototype.appendStyles","setBanner","BannerManager.prototype.setBanner","banner","_activeType","_setBanner","BannerManager.prototype.selectBanner","suggestionBanner","BannerManager.prototype._setBanner","prevBanner","OSKManager","loadRetry","vpScale","noDrag","keepDefaultPosition","isVisible","dfltX","dfltY","doResizeMove","pinImg","handlePinClick","restorePosition","_VKbdMouseOver","_VKbdMouseOut","_VResizeMouseOver","_VResizeMouseOut","getRect","_VResizeMouseDown","resizing","Lposx","Lposy","_ResizeMouseX","_ResizeMouseY","onmousemove","_VResizeMouseMove","_VMoveMouseMove","_VPreviousMouseMove","_VPreviousMouseUp","_VPreviousCursor","cursor","_VPreviousMouseButton","button","_VOriginalWidth","_VOriginalHeight","_VResizeMoveMouseUp","_VMoveMouseDown","_VMoveX","_VMoveY","os","opacity","transition","msTransition","MozTransition","WebkitTransition","OSKManager.prototype.prepare","getStyleSheetPath","cancelEventFunc","OSKManager.prototype._Unload","OSKManager.prototype._Load","_TitleElement","fontScale","pixelRatio","Lhelp","_GenerateVisualKeyboard","Ldiv","_TitleBarInterior","hasHelpHTML","kbdID","innerFrame","_baseWidth","_baseHeight","OSKManager.prototype._GenerateVisualKeyboard","controlBar","resizeBar","OSKManager.prototype.controlBar","bar","title","Ltitle","Limg","closeButton","helpImg","Limg.onclick","configImg","OSKManager.prototype.resizeBar","resizeIcon","OSKManager.prototype.showBuild","OSKManager.prototype._TitleBarInterior","background","LdivButtons","Lcap","OSKManager.prototype.saveCookie","getPos","OSKManager.prototype.loadCookie","pageXOffset","setPos","OSKManager.prototype.setSize","getBannerHeight","OSKManager.prototype.getBannerHeight","OSKManager.prototype.getKeyboardHeight","oskHeightLandscapeView","availHeight","availWidth","sx","sy","OSKManager.prototype.getHeight","OSKManager.prototype.getWidth","OSKManager.prototype.doResizeMove","OSKManager.prototype.getPos","OSKManager.prototype._Show","vkbdHeight","ownerDoc","pin","Lpos","doShow","OSKManager.prototype._Hide","hiddenByUser","doHide","OSKManager.prototype.doShow","OSKManager.prototype.doHide","OSKManager.prototype.showLanguageMenu","bShow","_box","keyman_21","ModelManager","registeredModels","languageModelMap","ModelManager.prototype.init","onKeyboardChange","ModelManager.prototype.onKeyboardChange","kbdInfo","ModelManager.prototype.register","activeLanguage","mm","deregister","ModelManager.prototype.deregister","modelId","isRegistered","ModelManager.prototype.isRegistered","KeymanBase","_IE","_HotKeys","refocusTimer","isHeadless","hotkeyManager","_srcPath","_rootPath","_protocol","KeymanBase.prototype.setDefaultDeviceOptions","KeymanBase.prototype.getStyleSheetPath","KeymanBase.prototype.getKeyboardPath","KeymanBase.prototype.KC_","KeymanBase.prototype.handleRotationEvents","eleList","KeymanBase.prototype.hideInputs","KeymanBase.prototype.namespaceID","KeymanBase.prototype.preserveID","KeymanBase.prototype.setInitialized","delayedInit","KeymanBase.prototype.delayedInit","metadata","attachType","fName","KeymanBase.prototype._GetEventObject","win","KeymanBase.prototype._push","Parray","Pval","PlgCode","sPath","debug","keymanweb.debug","debugElement","overflowY","toTimeString","resetVKShift","keyman_22","RotationState","RotationState.prototype.equals","RotationManager","idlePermutationCounter","IDLE_PERMUTATION_CAP","RotationManager.prototype.resolve","oskVisible","updateTimer","rotState","initNewRotation","RotationManager.prototype.initNewRotation","RotationManager.prototype.init","rotationManager","iOSEventHandler","RotationManager.prototype.iOSEventHandler","iOSEventUpdate","UPDATE_INTERVAL","RotationManager.prototype.iOSEventUpdate","newState","keymanweb.setDefaultDeviceOptions","util.wait","keymanweb.getStyleSheetPath","ssName","keymanweb.getKeyboardPath","Lfilename","keymanweb.alignInputs","processList","touchAlias","keymanweb.hideInputs","isPositionSynthesized","keymanweb.isPositionSynthesized","keymanweb.handleRotationEvents","readyStateCheckInterval"],"sourceRoot":"/keyman/"}
